/*! For license information please see index.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,(()=>(()=>{var e={472:e=>{self,e.exports=function(){var e={3259:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"}},515:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={black:"#000",white:"#fff"}},7559:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"}},167:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"}},8768:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"}},6594:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"}},124:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"}},3165:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"}},2087:function(e,t,n){"use strict";var r=n(7462),i=n(5987),o=n(7294),a=n(6010),s=n(2543),c=n(3871),l=o.forwardRef((function(e,t){var n=e.children,s=e.classes,l=e.className,u=e.color,d=void 0===u?"inherit":u,h=e.component,p=void 0===h?"svg":h,f=e.fontSize,m=void 0===f?"medium":f,v=e.htmlColor,g=e.titleAccess,y=e.viewBox,_=void 0===y?"0 0 24 24":y,b=(0,i.Z)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return o.createElement(p,(0,r.Z)({className:(0,a.Z)(s.root,l,"inherit"!==d&&s["color".concat((0,c.Z)(d))],"default"!==m&&"medium"!==m&&s["fontSize".concat((0,c.Z)(m))]),focusable:"false",viewBox:_,color:v,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:t},b),n,g?o.createElement("title",null,g):null)}));l.muiName="SvgIcon",t.Z=(0,s.Z)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(l)},9693:function(e,t,n){"use strict";n.d(t,{$n:function(){return h},Fq:function(){return u},_4:function(){return l},_j:function(){return d},mi:function(){return s}});var r=n(288);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,r.Z)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function a(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function s(e,t){var n=c(e),r=c(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e){var t="hsl"===(e=o(e)).type?o(function(e){var t=(e=o(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},l="rgb",u=[Math.round(255*c(0)),Math.round(255*c(8)),Math.round(255*c(4))];return"hsla"===e.type&&(l+="a",u.push(t[3])),a({type:l,values:u})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return c(e)>.5?d(e,t):h(e,t)}function u(e,t){return e=o(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,a(e)}function d(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return a(e)}function h(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return a(e)}},157:function(e,t,n){"use strict";n.d(t,{X:function(){return o},Z:function(){return a}});var r=n(7462),i=n(5987),o=["xs","sm","md","lg","xl"];function a(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,a=e.unit,s=void 0===a?"px":a,c=e.step,l=void 0===c?5:c,u=(0,i.Z)(e,["values","unit","step"]);function d(e){var t="number"==typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function h(e,t){var r=o.indexOf(t);return r===o.length-1?d(e):"@media (min-width:".concat("number"==typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"==typeof n[o[r+1]]?n[o[r+1]]:t)-l/100).concat(s,")")}return(0,r.Z)({keys:o,values:n,up:d,down:function(e){var t=o.indexOf(e)+1,r=n[o[t]];return t===o.length?d("xs"):"@media (max-width:".concat(("number"==typeof r&&t>0?r:e)-l/100).concat(s,")")},between:h,only:function(e){return h(e,e)},width:function(e){return n[e]}},u)}},8225:function(e,t,n){"use strict";n.d(t,{Z:function(){return J}});var r=n(5987),i=n(5953),o=n(157),a=n(4942),s=n(7462);function c(e,t,n){var r;return(0,s.Z)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.Z)({paddingLeft:t(2),paddingRight:t(2)},n,(0,a.Z)({},e.up("sm"),(0,s.Z)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},(0,a.Z)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,a.Z)(r,e.up("sm"),{minHeight:64}),r)},n)}var l=n(288),u={black:"#000",white:"#fff"},d={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},h="#7986cb",p="#3f51b5",f="#303f9f",m="#ff4081",v="#f50057",g="#c51162",y="#e57373",_="#f44336",b="#d32f2f",S="#ffb74d",w="#ff9800",E="#f57c00",C="#64b5f6",k="#2196f3",T="#1976d2",x="#81c784",A="#4caf50",R="#388e3c",I=n(9693),O={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:u.white,default:d[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},P={text:{primary:u.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:d[800],default:"#303030"},action:{active:u.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function M(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,I.$n)(e.main,i):"dark"===t&&(e.dark=(0,I._j)(e.main,o)))}function N(e){return Math.round(1e5*e)/1e5}function L(e){return N(e)}var D={textTransform:"uppercase"},j='"Roboto", "Helvetica", "Arial", sans-serif';function F(e,t){var n="function"==typeof t?t(e):t,o=n.fontFamily,a=void 0===o?j:o,c=n.fontSize,l=void 0===c?14:c,u=n.fontWeightLight,d=void 0===u?300:u,h=n.fontWeightRegular,p=void 0===h?400:h,f=n.fontWeightMedium,m=void 0===f?500:f,v=n.fontWeightBold,g=void 0===v?700:v,y=n.htmlFontSize,_=void 0===y?16:y,b=n.allVariants,S=n.pxToRem,w=(0,r.Z)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),E=l/14,C=S||function(e){return"".concat(e/_*E,"rem")},k=function(e,t,n,r,i){return(0,s.Z)({fontFamily:a,fontWeight:e,fontSize:C(t),lineHeight:n},a===j?{letterSpacing:"".concat(N(r/t),"em")}:{},i,b)},T={h1:k(d,96,1.167,-1.5),h2:k(d,60,1.2,-.5),h3:k(p,48,1.167,0),h4:k(p,34,1.235,.25),h5:k(p,24,1.334,0),h6:k(m,20,1.6,.15),subtitle1:k(p,16,1.75,.15),subtitle2:k(m,14,1.57,.1),body1:k(p,16,1.5,.15),body2:k(p,14,1.43,.15),button:k(m,14,1.75,.4,D),caption:k(p,12,1.66,.4),overline:k(p,12,2.66,1,D)};return(0,i.Z)((0,s.Z)({htmlFontSize:_,pxToRem:C,round:L,fontFamily:a,fontSize:l,fontWeightLight:d,fontWeightRegular:p,fontWeightMedium:m,fontWeightBold:g},T),w,{clone:!1})}function B(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var U=["none",B(0,2,1,-1,0,1,1,0,0,1,3,0),B(0,3,1,-2,0,2,2,0,0,1,5,0),B(0,3,3,-2,0,3,4,0,0,1,8,0),B(0,2,4,-1,0,4,5,0,0,1,10,0),B(0,3,5,-1,0,5,8,0,0,1,14,0),B(0,3,5,-1,0,6,10,0,0,1,18,0),B(0,4,5,-2,0,7,10,1,0,2,16,1),B(0,5,5,-3,0,8,10,1,0,3,14,2),B(0,5,6,-3,0,9,12,1,0,3,16,2),B(0,6,6,-3,0,10,14,1,0,4,18,3),B(0,6,7,-4,0,11,15,1,0,4,20,3),B(0,7,8,-4,0,12,17,2,0,5,22,4),B(0,7,8,-4,0,13,19,2,0,5,24,4),B(0,7,9,-4,0,14,21,2,0,5,26,4),B(0,8,9,-5,0,15,22,2,0,6,28,5),B(0,8,10,-5,0,16,24,2,0,6,30,5),B(0,8,11,-5,0,17,26,2,0,6,32,5),B(0,9,11,-5,0,18,28,2,0,7,34,6),B(0,9,12,-6,0,19,29,2,0,7,36,6),B(0,10,13,-6,0,20,31,3,0,8,38,7),B(0,10,13,-6,0,21,33,3,0,8,40,7),B(0,10,14,-6,0,22,35,3,0,8,42,7),B(0,11,14,-7,0,23,36,3,0,9,44,8),B(0,11,15,-7,0,24,38,3,0,9,46,8)],H={borderRadius:4},V=n(8681),z=n(3366),q=n(2781),J=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,a=e.mixins,N=void 0===a?{}:a,L=e.palette,D=void 0===L?{}:L,j=e.spacing,B=e.typography,J=void 0===B?{}:B,G=(0,r.Z)(e,["breakpoints","mixins","palette","spacing","typography"]),W=function(e){var t=e.primary,n=void 0===t?{light:h,main:p,dark:f}:t,o=e.secondary,a=void 0===o?{light:m,main:v,dark:g}:o,c=e.error,N=void 0===c?{light:y,main:_,dark:b}:c,L=e.warning,D=void 0===L?{light:S,main:w,dark:E}:L,j=e.info,F=void 0===j?{light:C,main:k,dark:T}:j,B=e.success,U=void 0===B?{light:x,main:A,dark:R}:B,H=e.type,V=void 0===H?"light":H,z=e.contrastThreshold,q=void 0===z?3:z,J=e.tonalOffset,G=void 0===J?.2:J,W=(0,r.Z)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function Q(e){return(0,I.mi)(e,P.text.primary)>=q?P.text.primary:O.text.primary}var Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,s.Z)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,l.Z)(4,t));if("string"!=typeof e.main)throw new Error((0,l.Z)(5,JSON.stringify(e.main)));return M(e,"light",n,G),M(e,"dark",r,G),e.contrastText||(e.contrastText=Q(e.main)),e},$={dark:P,light:O};return(0,i.Z)((0,s.Z)({common:u,type:V,primary:Z(n),secondary:Z(a,"A400","A200","A700"),error:Z(N),warning:Z(D),info:Z(F),success:Z(U),grey:d,contrastThreshold:q,getContrastText:Q,augmentColor:Z,tonalOffset:G},$[V]),W)}(D),Q=(0,o.Z)(n),Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,V.h)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"==typeof e)return e;var n=t(e);return"number"==typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}(j),$=(0,i.Z)({breakpoints:Q,direction:"ltr",mixins:c(Q,Z,N),overrides:{},palette:W,props:{},shadows:U,typography:F(W,J),spacing:Z,shape:H,transitions:z.ZP,zIndex:q.Z},G),K=arguments.length,X=new Array(K>1?K-1:0),Y=1;Y<K;Y++)X[Y-1]=arguments[Y];return X.reduce((function(e,t){return(0,i.Z)(e,t)}),$)}},9700:function(e,t,n){"use strict";var r=(0,n(8225).Z)();t.Z=r},3366:function(e,t,n){"use strict";n.d(t,{x9:function(){return o}});var r=n(5987),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},o={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function a(e){return"".concat(Math.round(e),"ms")}t.ZP={easing:i,duration:o,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,s=void 0===n?o.standard:n,c=t.easing,l=void 0===c?i.easeInOut:c,u=t.delay,d=void 0===u?0:u;return(0,r.Z)(t,["duration","easing","delay"]),(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof s?s:a(s)," ").concat(l," ").concat("string"==typeof d?d:a(d))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},2543:function(e,t,n){"use strict";var r=n(7462),i=n(8920),o=n(9700);t.Z=function(e,t){return(0,i.Z)(e,(0,r.Z)({defaultTheme:o.Z},t))}},2781:function(e,t){"use strict";t.Z={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},3871:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(288);function i(e){if("string"!=typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},2568:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,{Z:function(){return r}})},3786:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7462),i=n(7294),o=n(2087);function a(e,t){var n=function(t,n){return i.createElement(o.Z,(0,r.Z)({ref:n},t),e)};return n.muiName=o.Z.muiName,i.memo(i.forwardRef(n))}},9437:function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=this;clearTimeout(t),t=setTimeout((function(){e.apply(a,i)}),n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,{Z:function(){return r}})},8546:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return i.Z},createSvgIcon:function(){return o.Z},debounce:function(){return a.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return c.Z},ownerDocument:function(){return l.Z},ownerWindow:function(){return u.Z},requirePropFactory:function(){return d},setRef:function(){return h.Z},unstable_useId:function(){return g.Z},unsupportedProp:function(){return p},useControlled:function(){return f.Z},useEventCallback:function(){return m.Z},useForkRef:function(){return v.Z},useIsFocusVisible:function(){return y.Z}});var r=n(3871),i=n(2568),o=n(3786),a=n(9437);function s(e,t){return function(){return null}}var c=n(3711),l=n(626),u=n(713);function d(e){return function(){return null}}var h=n(4236);function p(e,t,n,r,i){return null}var f=n(2775),m=n(5192),v=n(3834),g=n(5001),y=n(4896)},3711:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7294);function i(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},626:function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return r}})},713:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(626);function i(e){return(0,r.Z)(e).defaultView||window}},4236:function(e,t,n){"use strict";function r(e,t){"function"==typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},5001:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7294);function i(e){var t=r.useState(e),n=t[0],i=t[1],o=e||n;return r.useEffect((function(){null==n&&i("mui-".concat(Math.round(1e5*Math.random())))}),[n]),o}},2775:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7294);function i(e){var t=e.controlled,n=e.default,i=(e.name,e.state,r.useRef(void 0!==t).current),o=r.useState(n),a=o[0],s=o[1];return[i?t:a,r.useCallback((function(e){i||s(e)}),[])]}},5192:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7294),i="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function o(e){var t=r.useRef(e);return i((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},3834:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7294),i=n(4236);function o(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,i.Z)(e,n),(0,i.Z)(t,n)}}),[e,t])}},4896:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(7294),i=n(3935),o=!0,a=!1,s=null,c={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function l(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function u(){o=!1}function d(){"hidden"===this.visibilityState&&a&&(o=!0)}function h(e){var t,n,r,i=e.target;try{return i.matches(":focus-visible")}catch(e){}return o||(n=(t=i).type,!("INPUT"!==(r=t.tagName)||!c[n]||t.readOnly)||"TEXTAREA"===r&&!t.readOnly||!!t.isContentEditable)}function p(){a=!0,window.clearTimeout(s),s=window.setTimeout((function(){a=!1}),100)}function f(){return{isFocusVisible:h,onBlurVisible:p,ref:r.useCallback((function(e){var t,n=i.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",l,!0),t.addEventListener("mousedown",u,!0),t.addEventListener("pointerdown",u,!0),t.addEventListener("touchstart",u,!0),t.addEventListener("visibilitychange",d,!0))}),[])}}},9114:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexToRgb=o,t.rgbToHex=function(e){if(0===e.indexOf("#"))return e;var t=s(e).values;return"#".concat(t.map((function(e){return 1===(t=e.toString(16)).length?"0".concat(t):t;var t})).join(""))},t.hslToRgb=a,t.decomposeColor=s,t.recomposeColor=c,t.getContrastRatio=function(e,t){var n=l(e),r=l(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.getLuminance=l,t.emphasize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return l(e)>.5?d(e,t):h(e,t)},t.fade=function(e,t){return u(e,t)},t.alpha=u,t.darken=d,t.lighten=h;var r=n(5218);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}function a(e){var t=(e=s(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)},l="rgb",u=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(l+="a",u.push(t[3])),c({type:l,values:u})}function s(e){if(e.type)return e;if("#"===e.charAt(0))return s(o(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,r.formatMuiErrorMessage)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function c(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function l(e){var t="hsl"===(e=s(e)).type?s(a(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function u(e,t){return e=s(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,c(e)}function d(e,t){if(e=s(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return c(e)}function h(e,t){if(e=s(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return c(e)}},4811:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,s=void 0===r?"px":r,c=e.step,l=void 0===c?5:c,u=(0,o.default)(e,["values","unit","step"]);function d(e){var t="number"==typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function h(e,t){var r=a.indexOf(t);return r===a.length-1?d(e):"@media (min-width:".concat("number"==typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"==typeof n[a[r+1]]?n[a[r+1]]:t)-l/100).concat(s,")")}return(0,i.default)({keys:a,values:n,up:d,down:function(e){var t=a.indexOf(e)+1,r=n[a[t]];return t===a.length?d("xs"):"@media (max-width:".concat(("number"==typeof r&&t>0?r:e)-l/100).concat(s,")")},between:h,only:function(e){return h(e,e)},width:function(e){return n[e]}},u)},t.keys=void 0;var i=r(n(434)),o=r(n(215)),a=["xs","sm","md","lg","xl"];t.keys=a},226:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r;return(0,o.default)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.default)({paddingLeft:t(2),paddingRight:t(2)},n,(0,i.default)({},e.up("sm"),(0,o.default)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},(0,i.default)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,i.default)(r,e.up("sm"),{minHeight:64}),r)},n)};var i=r(n(8416)),o=r(n(434))},1091:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.primary,n=void 0===t?{light:l.default[300],main:l.default[500],dark:l.default[700]}:t,r=e.secondary,_=void 0===r?{light:u.default.A200,main:u.default.A400,dark:u.default.A700}:r,b=e.error,S=void 0===b?{light:d.default[300],main:d.default[500],dark:d.default[700]}:b,w=e.warning,E=void 0===w?{light:h.default[300],main:h.default[500],dark:h.default[700]}:w,C=e.info,k=void 0===C?{light:p.default[300],main:p.default[500],dark:p.default[700]}:C,T=e.success,x=void 0===T?{light:f.default[300],main:f.default[500],dark:f.default[700]}:T,A=e.type,R=void 0===A?"light":A,I=e.contrastThreshold,O=void 0===I?3:I,P=e.tonalOffset,M=void 0===P?.2:P,N=(0,o.default)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function L(e){return(0,m.getContrastRatio)(e,g.text.primary)>=O?g.text.primary:v.text.primary}var D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,i.default)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,a.formatMuiErrorMessage)(4,t));if("string"!=typeof e.main)throw new Error(_formatMuiErrorMessage(5,JSON.stringify(e.main)));return y(e,"light",n,M),y(e,"dark",r,M),e.contrastText||(e.contrastText=L(e.main)),e},j={dark:g,light:v};return(0,a.deepmerge)((0,i.default)({common:s.default,type:R,primary:D(n),secondary:D(_,"A400","A200","A700"),error:D(S),warning:D(E),info:D(k),success:D(x),grey:c.default,contrastThreshold:O,getContrastText:L,augmentColor:D,tonalOffset:M},j[R]),N)},t.dark=t.light=void 0;var i=r(n(434)),o=r(n(215)),a=n(5218),s=r(n(515)),c=r(n(167)),l=r(n(8768)),u=r(n(124)),d=r(n(3165)),h=r(n(6594)),p=r(n(3259)),f=r(n(7559)),m=n(9114),v={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:s.default.white,default:c.default[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}};t.light=v;var g={text:{primary:s.default.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:c.default[800],default:"#303030"},action:{active:s.default.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function y(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,m.lighten)(e.main,i):"dark"===t&&(e.dark=(0,m.darken)(e.main,o)))}t.dark=g},3498:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,r.createUnarySpacing)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"==typeof e)return e;var n=t(e);return"number"==typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n};var r=n(3312)},6002:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.createMuiTheme=function(){return m.apply(void 0,arguments)},t.default=void 0,r(n(8416));var i=r(n(215)),o=n(5218),a=r(n(4811)),s=r(n(226)),c=r(n(1091)),l=r(n(5184)),u=r(n(743)),d=r(n(9591)),h=r(n(3498)),p=r(n(5406)),f=r(n(8676));function m(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,m=void 0===r?{}:r,v=e.palette,g=void 0===v?{}:v,y=e.spacing,_=e.typography,b=void 0===_?{}:_,S=(0,i.default)(e,["breakpoints","mixins","palette","spacing","typography"]),w=(0,c.default)(g),E=(0,a.default)(n),C=(0,h.default)(y),k=(0,o.deepmerge)({breakpoints:E,direction:"ltr",mixins:(0,s.default)(E,C,m),overrides:{},palette:w,props:{},shadows:u.default,typography:(0,l.default)(w,b),spacing:C,shape:d.default,transitions:p.default,zIndex:f.default},S),T=arguments.length,x=new Array(T>1?T-1:0),A=1;A<T;A++)x[A-1]=arguments[A];return x.reduce((function(e,t){return(0,o.deepmerge)(e,t)}),k)}var v=m;t.default=v},5184:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n="function"==typeof t?t(e):t,r=n.fontFamily,d=void 0===r?u:r,h=n.fontSize,p=void 0===h?14:h,f=n.fontWeightLight,m=void 0===f?300:f,v=n.fontWeightRegular,g=void 0===v?400:v,y=n.fontWeightMedium,_=void 0===y?500:y,b=n.fontWeightBold,S=void 0===b?700:b,w=n.htmlFontSize,E=void 0===w?16:w,C=n.allVariants,k=n.pxToRem,T=(0,o.default)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),x=p/14,A=k||function(e){return"".concat(e/E*x,"rem")},R=function(e,t,n,r,o){return(0,i.default)({fontFamily:d,fontWeight:e,fontSize:A(t),lineHeight:n},d===u?{letterSpacing:"".concat(s(r/t),"em")}:{},o,C)},I={h1:R(m,96,1.167,-1.5),h2:R(m,60,1.2,-.5),h3:R(g,48,1.167,0),h4:R(g,34,1.235,.25),h5:R(g,24,1.334,0),h6:R(_,20,1.6,.15),subtitle1:R(g,16,1.75,.15),subtitle2:R(_,14,1.57,.1),body1:R(g,16,1.5,.15),body2:R(g,14,1.43,.15),button:R(_,14,1.75,.4,l),caption:R(g,12,1.66,.4),overline:R(g,12,2.66,1,l)};return(0,a.deepmerge)((0,i.default)({htmlFontSize:E,pxToRem:A,round:c,fontFamily:d,fontSize:p,fontWeightLight:m,fontWeightRegular:g,fontWeightMedium:_,fontWeightBold:S},I),T,{clone:!1})};var i=r(n(434)),o=r(n(215)),a=n(5218);function s(e){return Math.round(1e5*e)/1e5}function c(e){return s(e)}var l={textTransform:"uppercase"},u='"Roboto", "Helvetica", "Arial", sans-serif'},2719:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(0,r(n(6002)).default)();t.default=i},2427:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(434)),o=n(7652),a=r(n(2719));t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.makeStyles)(e,(0,i.default)({defaultTheme:a.default},t))}},743:function(e,t){"use strict";function n(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=["none",n(0,2,1,-1,0,1,1,0,0,1,3,0),n(0,3,1,-2,0,2,2,0,0,1,5,0),n(0,3,3,-2,0,3,4,0,0,1,8,0),n(0,2,4,-1,0,4,5,0,0,1,10,0),n(0,3,5,-1,0,5,8,0,0,1,14,0),n(0,3,5,-1,0,6,10,0,0,1,18,0),n(0,4,5,-2,0,7,10,1,0,2,16,1),n(0,5,5,-3,0,8,10,1,0,3,14,2),n(0,5,6,-3,0,9,12,1,0,3,16,2),n(0,6,6,-3,0,10,14,1,0,4,18,3),n(0,6,7,-4,0,11,15,1,0,4,20,3),n(0,7,8,-4,0,12,17,2,0,5,22,4),n(0,7,8,-4,0,13,19,2,0,5,24,4),n(0,7,9,-4,0,14,21,2,0,5,26,4),n(0,8,9,-5,0,15,22,2,0,6,28,5),n(0,8,10,-5,0,16,24,2,0,6,30,5),n(0,8,11,-5,0,17,26,2,0,6,32,5),n(0,9,11,-5,0,18,28,2,0,7,34,6),n(0,9,12,-6,0,19,29,2,0,7,36,6),n(0,10,13,-6,0,20,31,3,0,8,38,7),n(0,10,13,-6,0,21,33,3,0,8,40,7),n(0,10,14,-6,0,22,35,3,0,8,42,7),n(0,11,14,-7,0,23,36,3,0,9,44,8),n(0,11,15,-7,0,24,38,3,0,9,46,8)];t.default=r},9591:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={borderRadius:4}},5406:function(e,t,n){"use strict";var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.duration=t.easing=void 0;var i=r(n(215)),o={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"};t.easing=o;var a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function s(e){return"".concat(Math.round(e),"ms")}t.duration=a;var c={easing:o,duration:a,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?a.standard:n,c=t.easing,l=void 0===c?o.easeInOut:c,u=t.delay,d=void 0===u?0:u;return(0,i.default)(t,["duration","easing","delay"]),(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof r?r:s(r)," ").concat(l," ").concat("string"==typeof d?d:s(d))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}};t.default=c},8676:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},6220:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(7294)),a=(0,r(n(2108)).default)(o.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle");t.Z=a},5996:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(7294)),a=(0,r(n(2108)).default)(o.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.Z=a},3837:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(7294)),a=(0,r(n(2108)).default)(o.createElement("circle",{cx:"12",cy:"12",r:"8"}),"FiberManualRecord");t.Z=a},3547:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(7294)),a=(0,r(n(2108)).default)(o.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVertTwoTone");t.Z=a},1626:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(7294)),a=(0,r(n(2108)).default)(o.createElement("path",{d:"M16.5 13c-1.2 0-3.07.34-4.5 1-1.43-.67-3.3-1-4.5-1C5.33 13 1 14.08 1 16.25V19h22v-2.75c0-2.17-4.33-3.25-6.5-3.25zm-4 4.5h-10v-1.25c0-.54 2.56-1.75 5-1.75s5 1.21 5 1.75v1.25zm9 0H14v-1.25c0-.46-.2-.86-.52-1.22.88-.3 1.96-.53 3.02-.53 2.44 0 5 1.21 5 1.75v1.25zM7.5 12c1.93 0 3.5-1.57 3.5-3.5S9.43 5 7.5 5 4 6.57 4 8.5 5.57 12 7.5 12zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 5.5c1.93 0 3.5-1.57 3.5-3.5S18.43 5 16.5 5 13 6.57 13 8.5s1.57 3.5 3.5 3.5zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"}),"PeopleOutline");t.Z=a},9002:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(7294)),a=(0,r(n(2108)).default)(o.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"}),"RemoveCircle");t.Z=a},3788:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(7294)),a=(0,r(n(2108)).default)(o.createElement("path",{d:"M18 9.5V6c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-3.5l4 4v-13l-4 4zm-5 6V13H7v2.5L3.5 12 7 8.5V11h6V8.5l3.5 3.5-3.5 3.5z"}),"SwitchVideo");t.Z=a},1727:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(7294)),a=(0,r(n(2108)).default)(o.createElement("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");t.Z=a},2108:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(8546)},6975:function(e,t,n){"use strict";n.d(t,{NU:function(){return f},ZP:function(){return m},tP:function(){return h}});var r,i=n(7462),o=n(5987),a=n(7294),s=n(5034),c=n(4013),l=n(246),u=(0,c.Ue)((0,l.Z)()),d=(0,s.Z)(),h=new Map,p={disableGeneration:!1,generateClassName:d,jss:u,sheetsCache:null,sheetsManager:h,sheetsRegistry:null},f=a.createContext(p);function m(e){var t=e.children,n=e.injectFirst,s=void 0!==n&&n,u=e.disableGeneration,d=void 0!==u&&u,h=(0,o.Z)(e,["children","injectFirst","disableGeneration"]),p=a.useContext(f),m=(0,i.Z)({},p,{disableGeneration:d},h);if(!m.jss.options.insertionPoint&&s&&"undefined"!=typeof window){if(!r){var v=document.head;r=document.createComment("mui-inject-first"),v.insertBefore(r,v.firstChild)}m.jss=(0,c.Ue)({plugins:(0,l.Z)().plugins,insertionPoint:r})}return a.createElement(f.Provider,{value:m},t)}},3457:function(e,t,n){"use strict";var r=n(7462),i=n(7294),o=n(3800),a=n(159),s=n(7076);t.Z=function(e){var t=e.children,n=e.theme,c=(0,a.Z)(),l=i.useMemo((function(){var e=null===c?n:function(e,t){return"function"==typeof t?t(e):(0,r.Z)({},e,t)}(c,n);return null!=e&&(e[s.Z]=null!==c),e}),[n,c]);return i.createElement(o.Z.Provider,{value:l},t)}},7076:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for;t.Z=n?Symbol.for("mui.nested"):"__THEME_NESTED__"},5034:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7076),i=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,o=e.productionPrefix,a=void 0===o?"jss":o,s=e.seed,c=void 0===s?"":s,l=""===c?"":"".concat(c,"-"),u=0,d=function(){return u+=1};return function(e,t){var o=t.options.name;if(o&&0===o.indexOf("Mui")&&!t.options.link&&!n){if(-1!==i.indexOf(e.key))return"Mui-".concat(e.key);var s="".concat(l).concat(o,"-").concat(e.key);return t.options.theme[r.Z]&&""===c?"".concat(s,"-").concat(d()):s}return"".concat(l).concat(a).concat(d())}}},150:function(e,t,n){"use strict";function r(e){return e}n.d(t,{Z:function(){return r}})},3869:function(e,t,n){"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,o=t.props[n];for(i in o)void 0===r[i]&&(r[i]=o[i]);return r}n.d(t,{Z:function(){return r}})},7652:function(e,t,n){"use strict";n.r(t),n.d(t,{ServerStyleSheets:function(){return m},StylesContext:function(){return f.NU},StylesProvider:function(){return f.ZP},ThemeProvider:function(){return S.Z},createGenerateClassName:function(){return r.Z},createStyles:function(){return i.Z},getThemeProps:function(){return o.Z},jssPreset:function(){return a.Z},makeStyles:function(){return s.Z},mergeClasses:function(){return c.Z},sheetsManager:function(){return f.tP},styled:function(){return b},useTheme:function(){return w.Z},withStyles:function(){return E.Z},withTheme:function(){return k},withThemeCreator:function(){return C}});var r=n(5034),i=n(150),o=n(3869),a=n(246),s=n(3914),c=n(5835),l=n(7462),u=n(5671),d=n(3144),h=n(7294),p=n(4013),f=n(6975),m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.Z)(this,e),this.options=t}return(0,d.Z)(e,[{key:"collect",value:function(e){var t=new Map;this.sheetsRegistry=new p.xE;var n=(0,r.Z)();return h.createElement(f.ZP,(0,l.Z)({sheetsManager:t,serverGenerateClassName:n,sheetsRegistry:this.sheetsRegistry},this.options),e)}},{key:"toString",value:function(){return this.sheetsRegistry?this.sheetsRegistry.toString():""}},{key:"getStyleElement",value:function(e){return h.createElement("style",(0,l.Z)({id:"jss-server-side",key:"jss-server-side",dangerouslySetInnerHTML:{__html:this.toString()}},e))}}]),e}(),v=n(5987),g=n(6010),y=n(8679),_=n.n(y);function b(e){return function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.name,o=(0,v.Z)(r,["name"]),a=i,c="function"==typeof t?function(e){return{root:function(n){return t((0,l.Z)({theme:e},n))}}}:{root:t},u=(0,s.Z)(c,(0,l.Z)({Component:e,name:i||e.displayName,classNamePrefix:a},o));t.filterProps&&(n=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var d=h.forwardRef((function(t,r){var i,o,a,s=t.children,c=t.className,d=t.clone,p=t.component,f=(0,v.Z)(t,["children","className","clone","component"]),m=u(t),y=(0,g.Z)(m.root,c),_=f;if(n&&(i=_,o=n,a={},Object.keys(i).forEach((function(e){-1===o.indexOf(e)&&(a[e]=i[e])})),_=a),d)return h.cloneElement(s,(0,l.Z)({className:(0,g.Z)(s.props.className,y)},_));if("function"==typeof s)return s((0,l.Z)({className:y},_));var b=p||e;return h.createElement(b,(0,l.Z)({ref:r,className:y},_),s)}));return _()(d,e),d}}var S=n(3457),w=n(159),E=n(8920);function C(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).defaultTheme;return function(t){var n=h.forwardRef((function(n,r){var i=n.innerRef,o=(0,v.Z)(n,["innerRef"]),a=(0,w.Z)()||e;return h.createElement(t,(0,l.Z)({theme:a,ref:i||r},o))}));return _()(n,t),n}}var k=C()},246:function(e,t,n){"use strict";n.d(t,{Z:function(){return Ne}});var r=n(4013),i=Date.now(),o="fnValues"+i,a="fnStyle"+ ++i,s=function(){return{onCreateRule:function(e,t,n){if("function"!=typeof t)return null;var i=(0,r.JH)(e,{},n);return i[a]=t,i},onProcessStyle:function(e,t){if(o in t||a in t)return e;var n={};for(var r in e){var i=e[r];"function"==typeof i&&(delete e[r],n[r]=i)}return t[o]=n,e},onUpdate:function(e,t,n,r){var i=t,s=i[a];s&&(i.style=s(e)||{});var c=i[o];if(c)for(var l in c)i.prop(l,c[l](e),r)}}},c=n(7462),l="@global",u=function(){function e(e,t,n){for(var i in this.type="global",this.at=l,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new r.RB((0,c.Z)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),d=function(){function e(e,t,n){this.type="global",this.at=l,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(8);this.rule=n.jss.createRule(r,t,(0,c.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),h=/\s*,\s*/g;function p(e,t){for(var n=e.split(h),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var f=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===l)return new u(e,t,n);if("@"===e[0]&&"@global "===e.substr(0,8))return new d(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[l]:null;if(i){for(var o in i)t.addRule(o,i[o],(0,c.Z)({},n,{selector:p(o,e.selector)}));delete r[l]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,7)===l){var o=p(i.substr(7),e.selector);t.addRule(o,r[i],(0,c.Z)({},n,{selector:o})),delete r[i]}}(e,t))}}},m=/\s*,\s*/g,v=/&/g,g=/\$([\w-]+)/g,y=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(m),r=e.split(m),i="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<r.length;s++){var c=r[s];i&&(i+=", "),i+=-1!==c.indexOf("&")?c.replace(v,a):a+" "+c}return i}function n(e,t,n){if(n)return(0,c.Z)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=(0,c.Z)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,o){if("style"!==i.type)return r;var a,s,l=i,u=l.options.parent;for(var d in r){var h=-1!==d.indexOf("&"),p="@"===d[0];if(h||p){if(a=n(l,u,a),h){var f=t(d,l.selector);s||(s=e(u,o)),f=f.replace(g,s);var m=l.key+"-"+d;"replaceRule"in u?u.replaceRule(m,r[d],(0,c.Z)({},a,{selector:f})):u.addRule(m,r[d],(0,c.Z)({},a,{selector:f}))}else p&&u.addRule(d,{},a).addRule(l.key,r[d],{selector:l.selector});delete r[d]}}return r}}},_=/[A-Z]/g,b=/^ms-/,S={};function w(e){return"-"+e.toLowerCase()}var E=function(e){if(S.hasOwnProperty(e))return S[e];var t=e.replace(_,w);return S[e]=b.test(t)?"-"+t:t};function C(e){var t={};for(var n in e)t[0===n.indexOf("--")?n:E(n)]=e[n];return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(C):t.fallbacks=C(e.fallbacks)),t}var k=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=C(e[t]);return e}return C(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=E(t);return t===r?e:(n.prop(r,e),null)}}},T=r.HZ&&CSS?CSS.px:"px",x=r.HZ&&CSS?CSS.ms:"ms",A=r.HZ&&CSS?CSS.percent:"%";function R(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var I=R({"animation-delay":x,"animation-duration":x,"background-position":T,"background-position-x":T,"background-position-y":T,"background-size":T,border:T,"border-bottom":T,"border-bottom-left-radius":T,"border-bottom-right-radius":T,"border-bottom-width":T,"border-left":T,"border-left-width":T,"border-radius":T,"border-right":T,"border-right-width":T,"border-top":T,"border-top-left-radius":T,"border-top-right-radius":T,"border-top-width":T,"border-width":T,"border-block":T,"border-block-end":T,"border-block-end-width":T,"border-block-start":T,"border-block-start-width":T,"border-block-width":T,"border-inline":T,"border-inline-end":T,"border-inline-end-width":T,"border-inline-start":T,"border-inline-start-width":T,"border-inline-width":T,"border-start-start-radius":T,"border-start-end-radius":T,"border-end-start-radius":T,"border-end-end-radius":T,margin:T,"margin-bottom":T,"margin-left":T,"margin-right":T,"margin-top":T,"margin-block":T,"margin-block-end":T,"margin-block-start":T,"margin-inline":T,"margin-inline-end":T,"margin-inline-start":T,padding:T,"padding-bottom":T,"padding-left":T,"padding-right":T,"padding-top":T,"padding-block":T,"padding-block-end":T,"padding-block-start":T,"padding-inline":T,"padding-inline-end":T,"padding-inline-start":T,"mask-position-x":T,"mask-position-y":T,"mask-size":T,height:T,width:T,"min-height":T,"max-height":T,"min-width":T,"max-width":T,bottom:T,left:T,top:T,right:T,inset:T,"inset-block":T,"inset-block-end":T,"inset-block-start":T,"inset-inline":T,"inset-inline-end":T,"inset-inline-start":T,"box-shadow":T,"text-shadow":T,"column-gap":T,"column-rule":T,"column-rule-width":T,"column-width":T,"font-size":T,"font-size-delta":T,"letter-spacing":T,"text-decoration-thickness":T,"text-indent":T,"text-stroke":T,"text-stroke-width":T,"word-spacing":T,motion:T,"motion-offset":T,outline:T,"outline-offset":T,"outline-width":T,perspective:T,"perspective-origin-x":A,"perspective-origin-y":A,"transform-origin":A,"transform-origin-x":A,"transform-origin-y":A,"transform-origin-z":A,"transition-delay":x,"transition-duration":x,"vertical-align":T,"flex-basis":T,"shape-margin":T,size:T,gap:T,grid:T,"grid-gap":T,"row-gap":T,"grid-row-gap":T,"grid-column-gap":T,"grid-template-rows":T,"grid-template-columns":T,"grid-auto-rows":T,"grid-auto-columns":T,"box-shadow-x":T,"box-shadow-y":T,"box-shadow-blur":T,"box-shadow-spread":T,"font-line-height":T,"text-shadow-x":T,"text-shadow-y":T,"text-shadow-blur":T});function O(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=O(e,t[r],n);else if("object"==typeof t)if("fallbacks"===e)for(var i in t)t[i]=O(i,t[i],n);else for(var o in t)t[o]=O(e+"-"+o,t[o],n);else if("number"==typeof t&&!1===isNaN(t)){var a=n[e]||I[e];return!a||0===t&&a===T?t.toString():"function"==typeof a?a(t).toString():""+t+a}return t}var P=function(e){void 0===e&&(e={});var t=R(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=O(r,e[r],t);return e},onChangeValue:function(e,n){return O(n,e,t)}}},M=n(3827),N=n(2982),L="",D="",j="",F="",B=M.Z&&"ontouchstart"in document.documentElement;if(M.Z){var U={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},H=document.createElement("p").style;for(var V in U)if(V+"Transform"in H){L=V,D=U[V];break}"Webkit"===L&&"msHyphens"in H&&(L="ms",D=U.ms,F="edge"),"Webkit"===L&&"-apple-trailing-word"in H&&(j="apple")}var z=L,q=D,J=j,G=F,W=B,Q={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===z?"-webkit-"+e:q+e)}},Z={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===z?q+"print-"+e:e)}},$=/[-\s]+(.)?/g;function K(e,t){return t?t.toUpperCase():""}function X(e){return e.replace($,K)}function Y(e){return X("-"+e)}var ee,te={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===z){var n="mask-image";if(X(n)in t)return e;if(z+Y(n)in t)return q+e}return e}},ne={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==J||W?e:q+e)}},re={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:q+e)}},ie={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:q+e)}},oe={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===z||"ms"===z&&"edge"!==G?q+e:e)}},ae={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===z||"ms"===z||"apple"===J?q+e:e)}},se={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===z?"WebkitColumn"+Y(e)in t&&q+"column-"+e:"Moz"===z&&"page"+Y(e)in t&&"page-"+e)}},ce={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===z)return e;var n=e.replace("-inline","");return z+Y(n)in t&&q+n}},le={supportedProperty:function(e,t){return X(e)in t&&e}},ue={supportedProperty:function(e,t){var n=Y(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:z+n in t?q+e:"Webkit"!==z&&"Webkit"+n in t&&"-webkit-"+e}},de={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===z?""+q+e:e)}},he={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===z?q+"scroll-chaining":e)}},pe={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},fe={supportedProperty:function(e,t){var n=pe[e];return!!n&&z+Y(n)in t&&q+n}},me={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},ve=Object.keys(me),ge=function(e){return q+e},ye={supportedProperty:function(e,t,n){var r=n.multiple;if(ve.indexOf(e)>-1){var i=me[e];if(!Array.isArray(i))return z+Y(i)in t&&q+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(z+Y(i[0])in t))return!1;return i.map(ge)}return!1}},_e=[Q,Z,te,ne,re,ie,oe,ae,se,ce,le,ue,de,he,fe,ye],be=_e.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Se=_e.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,N.Z)(t.noPrefill)),e}),[]),we={};if(M.Z){ee=document.createElement("p");var Ee=window.getComputedStyle(document.documentElement,"");for(var Ce in Ee)isNaN(Ce)||(we[Ee[Ce]]=Ee[Ce]);Se.forEach((function(e){return delete we[e]}))}function ke(e,t){if(void 0===t&&(t={}),!ee)return e;if(null!=we[e])return we[e];"transition"!==e&&"transform"!==e||(t[e]=e in ee.style);for(var n=0;n<be.length&&(we[e]=be[n](e,ee.style,t),!we[e]);n++);try{ee.style[e]=""}catch(e){return!1}return we[e]}var Te,xe={},Ae={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Re=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Ie(e,t,n){return"var"===t?"var":"all"===t?"all":"all"===n?", all":(t?ke(t):", "+ke(n))||t||n}function Oe(e,t){var n=t;if(!Te||"content"===e)return t;if("string"!=typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=xe[r])return xe[r];try{Te.style[e]=n}catch(e){return xe[r]=!1,!1}if(Ae[e])n=n.replace(Re,Ie);else if(""===Te.style[e]&&("-ms-flex"===(n=q+n)&&(Te.style[e]="-ms-flexbox"),Te.style[e]=n,""===Te.style[e]))return xe[r]=!1,!1;return Te.style[e]="",xe[r]=n,xe[r]}M.Z&&(Te=document.createElement("p"));var Pe=function(){function e(t){for(var n in t){var i=t[n];if("fallbacks"===n&&Array.isArray(i))t[n]=i.map(e);else{var o=!1,a=ke(n);a&&a!==n&&(o=!0);var s=!1,c=Oe(a,(0,r.EK)(i));c&&c!==i&&(s=!0),(o||s)&&(o&&delete t[n],t[a||n]=c||i)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===z?e:"@"+q+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Oe(t,(0,r.EK)(e))||e}}},Me=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),o=0;o<i.length;o++)r[i[o]]=t[i[o]];return r}}};function Ne(){return{plugins:[s(),f(),y(),k(),P(),"undefined"==typeof window?null:Pe(),Me()]}}},3914:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(5987),i=n(7462),o=n(7294),a=n(4013),s=n(5835),c={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},l=n(159),u=n(6975),d=-1e9,h=n(5953),p={};function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,f=t.classNamePrefix,m=t.Component,v=t.defaultTheme,g=void 0===v?p:v,y=(0,r.Z)(t,["name","classNamePrefix","Component","defaultTheme"]),_=function(e){var t="function"==typeof e;return{create:function(n,r){var o;try{o=t?e(n):e}catch(e){throw e}if(!r||!n.overrides||!n.overrides[r])return o;var a=n.overrides[r],s=(0,i.Z)({},o);return Object.keys(a).forEach((function(e){s[e]=(0,h.Z)(s[e],a[e])})),s},options:{}}}(e),b=n||f||"makeStyles";return _.options={index:d+=1,name:n,meta:b,classNamePrefix:b},function(){var e,t,r,d,h,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=(0,l.Z)()||g,v=(0,i.Z)({},o.useContext(u.NU),y),b=o.useRef(),S=o.useRef();e=function(){var e={name:n,state:{},stylesCreator:_,stylesOptions:v,theme:f};return function(e,t){var n=e.state,r=e.theme,o=e.stylesOptions,l=e.stylesCreator,u=e.name;if(!o.disableGeneration){var d=c.get(o.sheetsManager,l,r);d||(d={refs:0,staticSheet:null,dynamicStyles:null},c.set(o.sheetsManager,l,r,d));var h=(0,i.Z)({},l.options,o,{theme:r,flip:"boolean"==typeof o.flip?o.flip:"rtl"===r.direction});h.generateId=h.serverGenerateClassName||h.generateClassName;var p=o.sheetsRegistry;if(0===d.refs){var f;o.sheetsCache&&(f=c.get(o.sheetsCache,l,r));var m=l.create(r,u);f||((f=o.jss.createStyleSheet(m,(0,i.Z)({link:!1},h))).attach(),o.sheetsCache&&c.set(o.sheetsCache,l,r,f)),p&&p.add(f),d.staticSheet=f,d.dynamicStyles=(0,a._$)(m)}if(d.dynamicStyles){var v=o.jss.createStyleSheet(d.dynamicStyles,(0,i.Z)({link:!0},h));v.update(t),v.attach(),n.dynamicSheet=v,n.classes=(0,s.Z)({baseClasses:d.staticSheet.classes,newClasses:v.classes}),p&&p.add(v)}else n.classes=d.staticSheet.classes;d.refs+=1}}(e,p),S.current=!1,b.current=e,function(){!function(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var o=c.get(r.sheetsManager,i,n);o.refs-=1;var a=r.sheetsRegistry;0===o.refs&&(c.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}(e)}},t=[f,_],d=o.useRef([]),h=o.useMemo((function(){return{}}),t),d.current!==h&&(d.current=h,r=e()),o.useEffect((function(){return function(){r&&r()}}),[h]),o.useEffect((function(){S.current&&function(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}(b.current,p),S.current=!0}));var w=function(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=(0,s.Z)({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}(b.current,p.classes,m);return w}}},5835:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7462);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;if(e.Component,!n)return t;var i=(0,r.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}},3800:function(e,t,n){"use strict";var r=n(7294).createContext(null);t.Z=r},159:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7294),i=n(3800);function o(){return r.useContext(i.Z)}},8920:function(e,t,n){"use strict";var r=n(7462),i=n(5987),o=n(7294),a=n(8679),s=n.n(a),c=n(3914),l=n(3869),u=n(159);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var a=t.defaultTheme,d=t.withTheme,h=void 0!==d&&d,p=t.name,f=(0,i.Z)(t,["defaultTheme","withTheme","name"]),m=p,v=(0,c.Z)(e,(0,r.Z)({defaultTheme:a,Component:n,name:p||n.displayName,classNamePrefix:m},f)),g=o.forwardRef((function(e,t){e.classes;var s,c=e.innerRef,d=(0,i.Z)(e,["classes","innerRef"]),f=v((0,r.Z)({},n.defaultProps,e)),m=d;return("string"==typeof p||h)&&(s=(0,u.Z)()||a,p&&(m=(0,l.Z)({theme:s,name:p,props:d})),h&&!m.theme&&(m.theme=s)),o.createElement(n,(0,r.Z)({ref:c||t,classes:f},m))}));return s()(g,n),g}}},1410:function(e,t,n){"use strict";n.d(t,{k:function(){return l}});var r=n(2982),i=n(7462),o=n(1002),a=n(9668),s={xs:0,sm:600,md:960,lg:1280,xl:1920},c={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(s[e],"px)")}};function l(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||c;return t.reduce((function(e,i,o){return e[r.up(r.keys[o])]=n(t[o]),e}),{})}if("object"===(0,o.Z)(t)){var i=e.theme.breakpoints||c;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}t.Z=function(e){var t=function(t){var n=e(t),r=t.theme.breakpoints||c,o=r.keys.reduce((function(n,o){return t[o]&&((n=n||{})[r.up(o)]=e((0,i.Z)({theme:t.theme},t[o]))),n}),null);return(0,a.Z)(n,o)};return t.propTypes={},t.filterProps=["xs","sm","md","lg","xl"].concat((0,r.Z)(e.filterProps)),t}},3312:function(e,t,n){"use strict";n.r(t),n.d(t,{alignContent:function(){return D},alignItems:function(){return L},alignSelf:function(){return H},bgcolor:function(){return oe},border:function(){return u},borderBottom:function(){return p},borderColor:function(){return m},borderLeft:function(){return f},borderRadius:function(){return v},borderRight:function(){return h},borderTop:function(){return d},borders:function(){return g},bottom:function(){return de},boxSizing:function(){return Ce},breakpoints:function(){return i.Z},color:function(){return ie},compose:function(){return c},createUnarySpacing:function(){return Te.h},css:function(){return w},display:function(){return I},flex:function(){return F},flexBasis:function(){return O},flexDirection:function(){return P},flexGrow:function(){return B},flexShrink:function(){return U},flexWrap:function(){return M},flexbox:function(){return q},fontFamily:function(){return xe},fontSize:function(){return Ae},fontStyle:function(){return Re},fontWeight:function(){return Ie},grid:function(){return re},gridArea:function(){return ne},gridAutoColumns:function(){return K},gridAutoFlow:function(){return $},gridAutoRows:function(){return X},gridColumn:function(){return Q},gridColumnGap:function(){return G},gridGap:function(){return J},gridRow:function(){return Z},gridRowGap:function(){return W},gridTemplateAreas:function(){return te},gridTemplateColumns:function(){return Y},gridTemplateRows:function(){return ee},height:function(){return _e},justifyContent:function(){return N},justifyItems:function(){return V},justifySelf:function(){return z},left:function(){return he},letterSpacing:function(){return Oe},lineHeight:function(){return Pe},maxHeight:function(){return be},maxWidth:function(){return ge},minHeight:function(){return Se},minWidth:function(){return ye},order:function(){return j},palette:function(){return ae},position:function(){return se},positions:function(){return pe},right:function(){return ue},shadows:function(){return fe},sizeHeight:function(){return Ee},sizeWidth:function(){return we},sizing:function(){return ke},spacing:function(){return Te.Z},style:function(){return a},styleFunctionSx:function(){return E},textAlign:function(){return Me},top:function(){return le},typography:function(){return Ne},width:function(){return ve},zIndex:function(){return ce}});var r=n(4942),i=n(1410);function o(e,t){return t&&"string"==typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var a=function(e){var t=e.prop,n=e.cssProperty,a=void 0===n?e.prop:n,s=e.themeKey,c=e.transform,l=function(e){if(null==e[t])return null;var n=e[t],l=o(e.theme,s)||{};return(0,i.k)(e,n,(function(e){var t;return"function"==typeof l?t=l(e):Array.isArray(l)?t=l[e]||e:(t=o(l,e)||e,c&&(t=c(t))),!1===a?t:(0,r.Z)({},a,t)}))};return l.propTypes={},l.filterProps=[t],l},s=n(9668),c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?(0,s.Z)(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r};function l(e){return"number"!=typeof e?e:"".concat(e,"px solid")}var u=a({prop:"border",themeKey:"borders",transform:l}),d=a({prop:"borderTop",themeKey:"borders",transform:l}),h=a({prop:"borderRight",themeKey:"borders",transform:l}),p=a({prop:"borderBottom",themeKey:"borders",transform:l}),f=a({prop:"borderLeft",themeKey:"borders",transform:l}),m=a({prop:"borderColor",themeKey:"palette"}),v=a({prop:"borderRadius",themeKey:"shape"}),g=c(u,d,h,p,f,m,v),y=n(2982),_=n(7462);function b(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}function S(e){var t=function(t){var n=e(t);return t.css?(0,_.Z)({},(0,s.Z)(n,e((0,_.Z)({theme:t.theme},t.css))),b(t.css,[e.filterProps])):t.sx?(0,_.Z)({},(0,s.Z)(n,e((0,_.Z)({theme:t.theme},t.sx))),b(t.sx,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css","sx"].concat((0,y.Z)(e.filterProps)),t}function w(e){return S(e)}var E=S,C=a({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),k=a({prop:"display"}),T=a({prop:"overflow"}),x=a({prop:"textOverflow"}),A=a({prop:"visibility"}),R=a({prop:"whiteSpace"}),I=c(C,k,T,x,A,R),O=a({prop:"flexBasis"}),P=a({prop:"flexDirection"}),M=a({prop:"flexWrap"}),N=a({prop:"justifyContent"}),L=a({prop:"alignItems"}),D=a({prop:"alignContent"}),j=a({prop:"order"}),F=a({prop:"flex"}),B=a({prop:"flexGrow"}),U=a({prop:"flexShrink"}),H=a({prop:"alignSelf"}),V=a({prop:"justifyItems"}),z=a({prop:"justifySelf"}),q=c(O,P,M,N,L,D,j,F,B,U,H,V,z),J=a({prop:"gridGap"}),G=a({prop:"gridColumnGap"}),W=a({prop:"gridRowGap"}),Q=a({prop:"gridColumn"}),Z=a({prop:"gridRow"}),$=a({prop:"gridAutoFlow"}),K=a({prop:"gridAutoColumns"}),X=a({prop:"gridAutoRows"}),Y=a({prop:"gridTemplateColumns"}),ee=a({prop:"gridTemplateRows"}),te=a({prop:"gridTemplateAreas"}),ne=a({prop:"gridArea"}),re=c(J,G,W,Q,Z,$,K,X,Y,ee,te,ne),ie=a({prop:"color",themeKey:"palette"}),oe=a({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),ae=c(ie,oe),se=a({prop:"position"}),ce=a({prop:"zIndex",themeKey:"zIndex"}),le=a({prop:"top"}),ue=a({prop:"right"}),de=a({prop:"bottom"}),he=a({prop:"left"}),pe=c(se,ce,le,ue,de,he),fe=a({prop:"boxShadow",themeKey:"shadows"});function me(e){return e<=1?"".concat(100*e,"%"):e}var ve=a({prop:"width",transform:me}),ge=a({prop:"maxWidth",transform:me}),ye=a({prop:"minWidth",transform:me}),_e=a({prop:"height",transform:me}),be=a({prop:"maxHeight",transform:me}),Se=a({prop:"minHeight",transform:me}),we=a({prop:"size",cssProperty:"width",transform:me}),Ee=a({prop:"size",cssProperty:"height",transform:me}),Ce=a({prop:"boxSizing"}),ke=c(ve,ge,ye,_e,be,Se,Ce),Te=n(8681),xe=a({prop:"fontFamily",themeKey:"typography"}),Ae=a({prop:"fontSize",themeKey:"typography"}),Re=a({prop:"fontStyle",themeKey:"typography"}),Ie=a({prop:"fontWeight",themeKey:"typography"}),Oe=a({prop:"letterSpacing"}),Pe=a({prop:"lineHeight"}),Me=a({prop:"textAlign"}),Ne=c(xe,Ae,Re,Ie,Oe,Pe,Me)},9668:function(e,t,n){"use strict";var r=n(5953);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},8681:function(e,t,n){"use strict";n.d(t,{h:function(){return p},Z:function(){return m}});var r,i,o=n(885),a=n(1410),s=n(9668),c={m:"margin",p:"padding"},l={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},u={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},d=(r=function(e){if(e.length>2){if(!u[e])return[e];e=u[e]}var t=e.split(""),n=(0,o.Z)(t,2),r=n[0],i=n[1],a=c[r],s=l[i]||"";return Array.isArray(s)?s.map((function(e){return a+e})):[a+s]},i={},function(e){return void 0===i[e]&&(i[e]=r(e)),i[e]}),h=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function p(e){var t=e.spacing||8;return"number"==typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"==typeof t?t:function(){}}function f(e){var t=p(e.theme);return Object.keys(e).map((function(n){if(-1===h.indexOf(n))return null;var r=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"==typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"==typeof n?-n:"-".concat(n)}(t,n),e}),{})}}(d(n),t),i=e[n];return(0,a.k)(e,i,r)})).reduce(s.Z,{})}f.propTypes={},f.filterProps=h;var m=f},5953:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7462),i=n(1002);function o(e){return e&&"object"===(0,i.Z)(e)&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?(0,r.Z)({},e):e;return o(e)&&o(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(o(t[r])&&r in e?i[r]=a(e[r],t[r],n):i[r]=t[r])})),i}},288:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},5218:function(e,t,n){"use strict";function r(e,t){return function(){return null}}n.r(t),n.d(t,{HTMLElementType:function(){return y},chainPropTypes:function(){return r},deepmerge:function(){return i.Z},elementAcceptingRef:function(){return c},elementTypeAcceptingRef:function(){return l},exactProp:function(){return u},formatMuiErrorMessage:function(){return d.Z},getDisplayName:function(){return g},ponyfillGlobal:function(){return _},refType:function(){return b}});var i=n(5953),o=n(5697),a=n.n(o),s=(a().element,function(){return null});s.isRequired=(a().element.isRequired,function(){return null});var c=s,l=(o.elementType,function(){return null});function u(e){return e}n(4942),n(7462);var d=n(288),h=n(1002),p=n(9864),f=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function m(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||(t="".concat(e).match(f))&&t[1]||n}function v(e,t,n){var r=m(t);return e.displayName||(""!==r?"".concat(n,"(").concat(r,")"):n)}function g(e){if(null!=e){if("string"==typeof e)return e;if("function"==typeof e)return m(e,"Component");if("object"===(0,h.Z)(e))switch(e.$$typeof){case p.ForwardRef:return v(e,e.render,"ForwardRef");case p.Memo:return v(e,e.type,"memo");default:return}}}function y(e,t,n,r,i){return null}var _="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),b=a().oneOfType([a().func,a().object])},6010:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.Z=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},3762:function(e,t,n){"use strict";n.r(t);var r=n(3645),i=n.n(r)()(!1);i.push([e.id,".awssld--cubeAnimation {\n  --cube-animation-duration: 675ms;\n  --cube-animation-perspective: 1800px;\n  --cube-animation-ease-in: cubic-bezier(0.8, 0, 1, 0.8);\n  --cube-animation-ease-out: cubic-bezier(0, 0.2, 0.2, 1);\n  --cube-translateZ-distance: -225px; }\n  .awssld--cubeAnimation .awssld__container {\n    -webkit-perspective: var(--cube-animation-perspective);\n            perspective: var(--cube-animation-perspective); }\n  .awssld--cubeAnimation .awssld--moveRight {\n    -webkit-transform-origin: 0% 50%;\n            transform-origin: 0% 50%;\n    -webkit-animation: cubeLeftIn var(--cube-animation-duration) both var(--cube-animation-ease-in);\n            animation: cubeLeftIn var(--cube-animation-duration) both var(--cube-animation-ease-in); }\n  .awssld--cubeAnimation .awssld--moveLeft {\n    -webkit-transform-origin: 100% 50%;\n            transform-origin: 100% 50%;\n    -webkit-animation: cubeRightIn var(--cube-animation-duration) both var(--cube-animation-ease-in);\n            animation: cubeRightIn var(--cube-animation-duration) both var(--cube-animation-ease-in); }\n  .awssld--cubeAnimation .awssld--exit.awssld--moveLeft {\n    -webkit-transform-origin: 100% 50%;\n            transform-origin: 100% 50%;\n    -webkit-animation: cubeLeftOut var(--cube-animation-duration) both var(--cube-animation-ease-in);\n            animation: cubeLeftOut var(--cube-animation-duration) both var(--cube-animation-ease-in); }\n  .awssld--cubeAnimation .awssld--exit.awssld--moveRight {\n    -webkit-transform-origin: 0% 50%;\n            transform-origin: 0% 50%;\n    -webkit-animation: cubeRightOut var(--cube-animation-duration) both var(--cube-animation-ease-in);\n            animation: cubeRightOut var(--cube-animation-duration) both var(--cube-animation-ease-in); }\n\n@-webkit-keyframes cubeLeftOut {\n  50% {\n    -webkit-animation-timing-function: var(--cube-animation-ease-out);\n            animation-timing-function: var(--cube-animation-ease-out);\n    -webkit-transform: translateX(-50%) translateZ(var(--cube-translateZ-distance)) rotateY(-45deg);\n            transform: translateX(-50%) translateZ(var(--cube-translateZ-distance)) rotateY(-45deg); }\n  100% {\n    -webkit-transform: translateX(-100%) rotateY(-90deg);\n            transform: translateX(-100%) rotateY(-90deg); } }\n\n@keyframes cubeLeftOut {\n  50% {\n    -webkit-animation-timing-function: var(--cube-animation-ease-out);\n            animation-timing-function: var(--cube-animation-ease-out);\n    -webkit-transform: translateX(-50%) translateZ(var(--cube-translateZ-distance)) rotateY(-45deg);\n            transform: translateX(-50%) translateZ(var(--cube-translateZ-distance)) rotateY(-45deg); }\n  100% {\n    -webkit-transform: translateX(-100%) rotateY(-90deg);\n            transform: translateX(-100%) rotateY(-90deg); } }\n\n@-webkit-keyframes cubeRightOut {\n  50% {\n    -webkit-animation-timing-function: var(--cube-animation-ease-out);\n            animation-timing-function: var(--cube-animation-ease-out);\n    -webkit-transform: translateX(50%) translateZ(var(--cube-translateZ-distance)) rotateY(45deg);\n            transform: translateX(50%) translateZ(var(--cube-translateZ-distance)) rotateY(45deg); }\n  100% {\n    -webkit-transform: translateX(100%) rotateY(90deg);\n            transform: translateX(100%) rotateY(90deg); } }\n\n@keyframes cubeRightOut {\n  50% {\n    -webkit-animation-timing-function: var(--cube-animation-ease-out);\n            animation-timing-function: var(--cube-animation-ease-out);\n    -webkit-transform: translateX(50%) translateZ(var(--cube-translateZ-distance)) rotateY(45deg);\n            transform: translateX(50%) translateZ(var(--cube-translateZ-distance)) rotateY(45deg); }\n  100% {\n    -webkit-transform: translateX(100%) rotateY(90deg);\n            transform: translateX(100%) rotateY(90deg); } }\n\n@-webkit-keyframes cubeLeftIn {\n  0% {\n    -webkit-transform: translateX(100%) rotateY(90deg);\n            transform: translateX(100%) rotateY(90deg); }\n  50% {\n    -webkit-animation-timing-function: var(--cube-animation-ease-out);\n            animation-timing-function: var(--cube-animation-ease-out);\n    -webkit-transform: translateX(50%) translateZ(var(--cube-translateZ-distance)) rotateY(45deg);\n            transform: translateX(50%) translateZ(var(--cube-translateZ-distance)) rotateY(45deg); } }\n\n@keyframes cubeLeftIn {\n  0% {\n    -webkit-transform: translateX(100%) rotateY(90deg);\n            transform: translateX(100%) rotateY(90deg); }\n  50% {\n    -webkit-animation-timing-function: var(--cube-animation-ease-out);\n            animation-timing-function: var(--cube-animation-ease-out);\n    -webkit-transform: translateX(50%) translateZ(var(--cube-translateZ-distance)) rotateY(45deg);\n            transform: translateX(50%) translateZ(var(--cube-translateZ-distance)) rotateY(45deg); } }\n\n@-webkit-keyframes cubeRightIn {\n  0% {\n    -webkit-transform: translateX(-100%) rotateY(-90deg);\n            transform: translateX(-100%) rotateY(-90deg); }\n  50% {\n    -webkit-animation-timing-function: var(--cube-animation-ease-out);\n            animation-timing-function: var(--cube-animation-ease-out);\n    -webkit-transform: translateX(-50%) translateZ(var(--cube-translateZ-distance)) rotateY(-45deg);\n            transform: translateX(-50%) translateZ(var(--cube-translateZ-distance)) rotateY(-45deg); } }\n\n@keyframes cubeRightIn {\n  0% {\n    -webkit-transform: translateX(-100%) rotateY(-90deg);\n            transform: translateX(-100%) rotateY(-90deg); }\n  50% {\n    -webkit-animation-timing-function: var(--cube-animation-ease-out);\n            animation-timing-function: var(--cube-animation-ease-out);\n    -webkit-transform: translateX(-50%) translateZ(var(--cube-translateZ-distance)) rotateY(-45deg);\n            transform: translateX(-50%) translateZ(var(--cube-translateZ-distance)) rotateY(-45deg); } }\n\n",""]),t.default=i},2058:function(e,t,n){"use strict";n.r(t);var r=n(3645),i=n.n(r)()(!1);i.push([e.id,".awssld__container figure, .awssld__content, .awssld__box {\n  display: block;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0; }\n\n.awssld__controls button, .awssld__bullets button {\n  outline-color: 0;\n  outline-style: none;\n  outline-width: 0; }\n\n.awssld {\n  --organic-arrow-thickness: 4px;\n  --organic-arrow-height: 40px;\n  --slider-height-percentage: 60%;\n  --loader-bar-color: #851515;\n  --loader-bar-height: 6px;\n  --control-button-width: 10%;\n  --control-button-height: 25%;\n  --control-button-opacity: 0.5;\n  --control-button-hover-opacity: 0.75;\n  --control-button-background: transparent;\n  --transition-bezier: cubic-bezier(0.5, 0.075, 0.25, 0.95);\n  --slider-transition-duration: 575ms;\n  --organic-arrow-color: #6a6a6a;\n  --organic-arrow-border-radius: 0;\n  --control-bullet-color: #6a6a6a;\n  --control-bullet-active-color: #6a6a6a;\n  --content-background-color: #2f2f2f; }\n\n.awssld {\n  display: block;\n  position: relative;\n  width: 100%;\n  max-width: 100%; }\n  .awssld__wrapper {\n    display: block;\n    overflow: hidden;\n    position: relative;\n    height: 100%;\n    width: 100%; }\n  .awssld__container {\n    display: block;\n    width: 100%;\n    height: 0;\n    padding-bottom: var(--slider-height-percentage); }\n    @media all and (max-width: 500px) {\n      .awssld__container {\n        padding-bottom: calc(var(--slider-height-percentage) * 1.25); } }\n  .awssld__startUp {\n    background-color: red;\n    height: 100%;\n    width: 100%; }\n    .awssld__startUp > div {\n      height: 100%;\n      width: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: center; }\n    .awssld__startUp img {\n      width: 35%;\n      height: auto; }\n  .awssld__content {\n    background-color: var(--content-background-color);\n    overflow: hidden;\n    display: flex;\n    align-items: center;\n    justify-content: center; }\n    .awssld__content > img,\n    .awssld__content > video {\n      object-fit: cover;\n      width: 100%;\n      height: 100%;\n      position: absolute;\n      top: 0;\n      left: 0; }\n  .awssld__controls button {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: var(--control-button-width);\n    height: var(--control-button-height);\n    position: absolute;\n    z-index: 10;\n    top: calc(50% - (0.5 * var(--control-button-height)));\n    border: none;\n    background-color: var(--control-button-background);\n    color: #fff;\n    cursor: pointer; }\n    .awssld__controls button .awssld__controls__arrow-left,\n    .awssld__controls button .awssld__controls__arrow-right {\n      opacity: var(--control-button-opacity); }\n    .awssld__controls button:hover .awssld__controls__arrow-left,\n    .awssld__controls button:hover .awssld__controls__arrow-right {\n      opacity: var(--control-button-opacity-hover); }\n  .awssld__controls--active .awssld__controls__arrow-left {\n    opacity: var(--control-button-opacity-hover);\n    -webkit-transform: translate3d(-100%, 0, 0);\n            transform: translate3d(-100%, 0, 0); }\n  .awssld__controls--active .awssld__controls__arrow-right {\n    opacity: var(--control-button-opacity-hover);\n    -webkit-transform: translate3d(100%, 0, 0);\n            transform: translate3d(100%, 0, 0); }\n  .awssld__controls--hidden {\n    display: none; }\n  @media all and (max-width: 520px) {\n    .awssld__controls {\n      visibility: hidden; } }\n  .awssld__bar {\n    display: block;\n    width: 100%;\n    height: var(--loader-bar-height);\n    background-color: var(--loader-bar-color);\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 101;\n    transition: -webkit-transform 3000ms var(--transition-bezier);\n    transition: transform 3000ms var(--transition-bezier);\n    transition: transform 3000ms var(--transition-bezier), -webkit-transform 3000ms var(--transition-bezier);\n    -webkit-transform: translate3d(-100%, 0, 0);\n            transform: translate3d(-100%, 0, 0); }\n    .awssld__bar--active {\n      -webkit-transform: translate3d(-20%, 0, 0);\n              transform: translate3d(-20%, 0, 0); }\n    .awssld__bar--end {\n      transition-duration: 300ms;\n      -webkit-transform: translate3d(0, 0, 0);\n              transform: translate3d(0, 0, 0); }\n  .awssld__next {\n    right: 0; }\n  .awssld__prev {\n    left: 0; }\n  .awssld__box {\n    z-index: 1;\n    visibility: hidden; }\n  .awssld--animated {\n    will-change: transform;\n    visibility: visible; }\n  .awssld--animated-mobile {\n    will-change: transform;\n    transition: -webkit-transform 325ms cubic-bezier(0.15, 0.65, 0.1, 1);\n    transition: transform 325ms cubic-bezier(0.15, 0.65, 0.1, 1);\n    transition: transform 325ms cubic-bezier(0.15, 0.65, 0.1, 1), -webkit-transform 325ms cubic-bezier(0.15, 0.65, 0.1, 1); }\n  .awssld--active {\n    visibility: visible;\n    z-index: 2;\n    -webkit-transform: translate3d(0, 0, 0);\n            transform: translate3d(0, 0, 0); }\n  .awssld--moveRight, .awssld--moveLeft {\n    -webkit-backface-visibility: hidden;\n            backface-visibility: hidden; }\n  .awssld--moveRight {\n    -webkit-animation: slideFromRight var(--slider-transition-duration) both var(--transition-bezier);\n            animation: slideFromRight var(--slider-transition-duration) both var(--transition-bezier); }\n  .awssld--moveLeft {\n    -webkit-animation: slideFromLeft var(--slider-transition-duration) both var(--transition-bezier);\n            animation: slideFromLeft var(--slider-transition-duration) both var(--transition-bezier); }\n  .awssld--exit {\n    z-index: 0; }\n    .awssld--exit.awssld--moveLeft {\n      -webkit-animation: slideToLeft var(--slider-transition-duration) both var(--transition-bezier);\n              animation: slideToLeft var(--slider-transition-duration) both var(--transition-bezier); }\n    .awssld--exit.awssld--moveRight {\n      -webkit-animation: slideToRight var(--slider-transition-duration) both var(--transition-bezier);\n              animation: slideToRight var(--slider-transition-duration) both var(--transition-bezier); }\n  .awssld--first .awssld__prev {\n    visibility: hidden; }\n  .awssld--last .awssld__next {\n    visibility: hidden; }\n  .awssld--fill-parent {\n    position: absolute !important;\n    width: 100% !important;\n    height: 100% !important;\n    top: 0;\n    left: 0; }\n    .awssld--fill-parent .awssld__container {\n      height: 100%;\n      padding: 0; }\n  .awssld__bullets {\n    position: absolute;\n    bottom: -40px;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center; }\n    .awssld__bullets button {\n      padding: 0;\n      display: block;\n      width: 16px;\n      height: 16px;\n      margin: 5px;\n      border-radius: 50%;\n      background: var(--control-bullet-color);\n      text-indent: -9999px;\n      overflow: hidden;\n      cursor: pointer;\n      border: none;\n      transition: background-color 0.175s ease-out, -webkit-transform 0.225s cubic-bezier(0.8, 1.35, 0.75, 1.45);\n      transition: transform 0.225s cubic-bezier(0.8, 1.35, 0.75, 1.45), background-color 0.175s ease-out;\n      transition: transform 0.225s cubic-bezier(0.8, 1.35, 0.75, 1.45), background-color 0.175s ease-out, -webkit-transform 0.225s cubic-bezier(0.8, 1.35, 0.75, 1.45); }\n      .awssld__bullets button:hover {\n        -webkit-transform: scale(1.2);\n                transform: scale(1.2); }\n    .awssld__bullets .awssld__bullets--loading {\n      -webkit-transform: scale(1.2);\n              transform: scale(1.2); }\n    .awssld__bullets .awssld__bullets--active {\n      -webkit-transform: scale(1.5);\n              transform: scale(1.5);\n      background: var(--control-bullet-active-color); }\n      .awssld__bullets .awssld__bullets--active:hover {\n        -webkit-transform: scale(1.5);\n                transform: scale(1.5); }\n  .awssld__controls__arrow-left, .awssld__controls__arrow-right {\n    width: 100%;\n    height: var(--organic-arrow-height);\n    position: relative;\n    display: block;\n    transition: opacity 0.2s ease-out, -webkit-transform 0.2s ease-out 0.125s;\n    transition: transform 0.2s ease-out 0.125s, opacity 0.2s ease-out;\n    transition: transform 0.2s ease-out 0.125s, opacity 0.2s ease-out, -webkit-transform 0.2s ease-out 0.125s; }\n    .awssld__controls__arrow-left:before, .awssld__controls__arrow-left:after, .awssld__controls__arrow-right:before, .awssld__controls__arrow-right:after {\n      content: ' ';\n      position: absolute;\n      right: calc( 50% - ( 0.7071 * (var(--organic-arrow-height) + var(--organic-arrow-thickness)) ) / 2);\n      height: 100%;\n      border-radius: var(--organic-arrow-border-radius);\n      width: var(--organic-arrow-thickness);\n      background-color: var(--organic-arrow-color);\n      transition: background-color 0.15s ease-out, -webkit-transform 0.15s ease-out;\n      transition: transform 0.15s ease-out, background-color 0.15s ease-out;\n      transition: transform 0.15s ease-out, background-color 0.15s ease-out, -webkit-transform 0.15s ease-out; }\n    .awssld__controls__arrow-left:before, .awssld__controls__arrow-right:before {\n      -webkit-transform-origin: 100% 100% 0;\n              transform-origin: 100% 100% 0;\n      top: -50%;\n      -webkit-transform: rotate(-45deg);\n              transform: rotate(-45deg); }\n    .awssld__controls__arrow-left:after, .awssld__controls__arrow-right:after {\n      -webkit-transform-origin: 100% 0% 0;\n              transform-origin: 100% 0% 0;\n      top: 50%;\n      -webkit-transform: rotate(45deg);\n              transform: rotate(45deg); }\n  .awssld__controls__arrow-right--active {\n    -webkit-transform: translate3d(100%, 0, 0);\n            transform: translate3d(100%, 0, 0); }\n    .awssld__controls__arrow-right--active:after {\n      -webkit-transform: rotate(90deg) translate3d(50%, 0, 0) !important;\n              transform: rotate(90deg) translate3d(50%, 0, 0) !important; }\n    .awssld__controls__arrow-right--active:before {\n      -webkit-transform: rotate(-90deg) translate3d(50%, 0, 0) !important;\n              transform: rotate(-90deg) translate3d(50%, 0, 0) !important; }\n  .awssld__controls__arrow-left:before, .awssld__controls__arrow-left:after {\n    right: auto;\n    left: calc( 50% - ( 0.7071 * (var(--organic-arrow-height) + var(--organic-arrow-thickness)) ) / 2); }\n  .awssld__controls__arrow-left:before {\n    -webkit-transform-origin: 0 100% 0;\n            transform-origin: 0 100% 0;\n    top: -50%;\n    -webkit-transform: rotate(45deg);\n            transform: rotate(45deg); }\n  .awssld__controls__arrow-left:after {\n    -webkit-transform-origin: 0 0 0;\n            transform-origin: 0 0 0;\n    top: 50%;\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg); }\n  .awssld__controls__arrow-left--active {\n    -webkit-transform: translate3d(-100%, 0, 0);\n            transform: translate3d(-100%, 0, 0); }\n    .awssld__controls__arrow-left--active:after {\n      -webkit-transform: rotate(-90deg) translate3d(-50%, 0, 0) !important;\n              transform: rotate(-90deg) translate3d(-50%, 0, 0) !important; }\n    .awssld__controls__arrow-left--active:before {\n      -webkit-transform: rotate(90deg) translate3d(-50%, 0, 0) !important;\n              transform: rotate(90deg) translate3d(-50%, 0, 0) !important; }\n  .awssld__controls button:hover .awssld__controls__arrow-left:before {\n    opacity: 1;\n    -webkit-transform: rotate(30deg);\n            transform: rotate(30deg); }\n  .awssld__controls button:hover .awssld__controls__arrow-left:after {\n    opacity: 1;\n    -webkit-transform: rotate(-30deg);\n            transform: rotate(-30deg); }\n  .awssld__controls button:hover .awssld__controls__arrow-right:before {\n    opacity: 1;\n    -webkit-transform: rotate(-30deg);\n            transform: rotate(-30deg); }\n  .awssld__controls button:hover .awssld__controls__arrow-right:after {\n    opacity: 1;\n    -webkit-transform: rotate(30deg);\n            transform: rotate(30deg); }\n  .awssld__timer {\n    --timer-delay: 2000ms;\n    --timer-release: 200ms;\n    --timer-height: 4px;\n    --timer-background-color: rgba(0, 0, 0, 0.15);\n    width: 100%;\n    height: var(--timer-height);\n    background-color: var(--timer-background-color);\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 100;\n    -webkit-transform: translateX(-100%);\n            transform: translateX(-100%); }\n    .awssld__timer--animated {\n      will-change: transform;\n      transition: -webkit-transform var(--timer-delay) linear;\n      transition: transform var(--timer-delay) linear;\n      transition: transform var(--timer-delay) linear, -webkit-transform var(--timer-delay) linear; }\n    .awssld__timer--run {\n      -webkit-transform: translateX(0);\n              transform: translateX(0); }\n    .awssld__timer--fast {\n      transition: -webkit-transform calc(var(--timer-release) / 2) linear;\n      transition: transform calc(var(--timer-release) / 2) linear;\n      transition: transform calc(var(--timer-release) / 2) linear, -webkit-transform calc(var(--timer-release) / 2) linear;\n      -webkit-transform: translateX(-0.00001px);\n              transform: translateX(-0.00001px); }\n    .awssld__timer--end {\n      -webkit-transform: translateX(-0.0001px);\n              transform: translateX(-0.0001px);\n      transition: -webkit-transform var(--timer-release) linear;\n      transition: transform var(--timer-release) linear;\n      transition: transform var(--timer-release) linear, -webkit-transform var(--timer-release) linear; }\n    .awssld__timer--hidden {\n      display: none; }\n\n@-webkit-keyframes slideFromLeft {\n  from {\n    -webkit-transform: translate3d(-100%, 0, 0);\n            transform: translate3d(-100%, 0, 0); }\n  to {\n    -webkit-transform: translate3d(0, 0, 0);\n            transform: translate3d(0, 0, 0); } }\n\n@keyframes slideFromLeft {\n  from {\n    -webkit-transform: translate3d(-100%, 0, 0);\n            transform: translate3d(-100%, 0, 0); }\n  to {\n    -webkit-transform: translate3d(0, 0, 0);\n            transform: translate3d(0, 0, 0); } }\n\n@-webkit-keyframes slideFromRight {\n  from {\n    -webkit-transform: translate3d(100%, 0, 0);\n            transform: translate3d(100%, 0, 0); }\n  to {\n    -webkit-transform: translate3d(0, 0, 0);\n            transform: translate3d(0, 0, 0); } }\n\n@keyframes slideFromRight {\n  from {\n    -webkit-transform: translate3d(100%, 0, 0);\n            transform: translate3d(100%, 0, 0); }\n  to {\n    -webkit-transform: translate3d(0, 0, 0);\n            transform: translate3d(0, 0, 0); } }\n\n@-webkit-keyframes slideToLeft {\n  from {\n    -webkit-transform: translate3d(0, 0, 0);\n            transform: translate3d(0, 0, 0); }\n  to {\n    -webkit-transform: translate3d(-100%, 0, 0);\n            transform: translate3d(-100%, 0, 0); } }\n\n@keyframes slideToLeft {\n  from {\n    -webkit-transform: translate3d(0, 0, 0);\n            transform: translate3d(0, 0, 0); }\n  to {\n    -webkit-transform: translate3d(-100%, 0, 0);\n            transform: translate3d(-100%, 0, 0); } }\n\n@-webkit-keyframes slideToRight {\n  from {\n    -webkit-transform: translate3d(0, 0, 0);\n            transform: translate3d(0, 0, 0); }\n  to {\n    -webkit-transform: translate3d(100%, 0, 0);\n            transform: translate3d(100%, 0, 0); } }\n\n@keyframes slideToRight {\n  from {\n    -webkit-transform: translate3d(0, 0, 0);\n            transform: translate3d(0, 0, 0); }\n  to {\n    -webkit-transform: translate3d(100%, 0, 0);\n            transform: translate3d(100%, 0, 0); } }\n\n",""]),t.default=i},2569:function(e,t,n){"use strict";n.r(t);var r=n(3645),i=n.n(r)()(!1);i.push([e.id,'.ccccn .cc-App {\n  text-align: center;\n  height: 100%;\n  position: relative;\n}\n\n.ccccn .cc-App-header {\n  /* background-color: #282c34; */\n  justify-content: center;\n  height: 100%;\n}\n\n/* .tool {\n  cursor: help;\n  position: relative;\n  transition: all 0.65s cubic-bezier(0.84, -0.18, 0.31, 1.26) 0.2s;\n} */\n\n/*== common styles for both parts of tool tip ==*/\n/* .tool::before,\n.tool::after {\n  left: 50%;\n  position: absolute;\n  opacity: 1;\n  transform: scale(1) translateY(0);\n  z-index: 100;\n} */\n\n/*== pointer tip ==*/\n/* .tool::before {\n  border-style: solid;\n  border-width: 1em 0.75em 0 0.75em;\n  border-color: #3e474f transparent transparent transparent;\n  bottom: 100%;\n  content: "";\n  margin-left: -0.5em;\n  transition: all 0.65s cubic-bezier(0.84, -0.18, 0.31, 1.26),\n    opacity 0.65s 0.5s;\n  transform: scale(0.6) translateY(-90%);\n} */\n\n/*== speech bubble ==*/\n/* .tool::after {\n  background: #3e474f;\n  border-radius: 0.25em;\n  bottom: 180%;\n  color: #edeff0;\n  content: attr(data-tip);\n  margin-left: -8.75em;\n  padding: 1em;\n  transition: all 0.65s cubic-bezier(0.84, -0.18, 0.31, 1.26) 0.2s;\n  transform: scale(0.6) translateY(50%);\n  width: 17.5em;\n} */\n\n@media (max-width: 760px) {\n  .ccccn .tool::after {\n    font-size: 0.75em;\n    margin-left: -5em;\n    width: 10em;\n  }\n}\n\n#cc-container {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n',""]),t.default=i},3349:function(e,t,n){"use strict";n.r(t);var r=n(3645),i=n.n(r)()(!1);i.push([e.id,".ccccn .bottom-buttons-icon-color {\n  color: #fff;\n  height: 24px;\n  width: 24px;\n}\n.ccccn .bottom-buttons-icon-button {\n  border: none;\n  outline: none;\n  margin-right: 4px;\n}\n.ccccn .cc-bottom-buttons-icon-container {\n  min-height: 50px;\n  min-width: 50px;\n  height: 7vh;\n  width: 7vh;\n  background-color: #31383e;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.ccccn .cc-bottom-buttons-with-padding {\n  height: 80px;\n  /* width: 100vw; */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 80px;\n  background-image: linear-gradient(rgb(28, 34, 38), rgb(19, 23, 26));\n  padding-right: 20vh;\n}\n\n@media (max-width: 600px) {\n  .ccccn .cc-bottom-buttons-with-padding {\n    padding-right: 0px;\n  }\n}\n\n.ccccn .cc-bottom-buttons {\n  height: var(--ccccn-bottom-button-container-height);\n  /* width: 100vw; */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-image: linear-gradient(rgb(28, 34, 38), rgb(19, 23, 26));\n  position: relative;\n}\n\n.ccccn .bottom-buttons-other-options {\n  position: absolute;\n  display: flex;\n  right: 8px;\n  bottom: 8px;\n}\n\n.ccccn .dialog-form {\n  padding: 16px;\n}\n.ccccn .settings-dropdown-style {\n  min-width: 250px;\n  max-width: 250px;\n  width: 250px;\n}\n\n.ccccn .settings-icon-button {\n  border: none;\n  outline: none;\n}\n\n.ccccn .color-white {\n  color: #fff;\n}\n\n.ccccn .setting-menu-icon-container {\n  margin-right: 16px;\n}\n\n.ccccn .track-error-container {\n  position: absolute;\n  bottom: 0;\n  right: -4px;\n  background-color: #31383e;\n  border-radius: 50%;\n  aspect-ratio: 1px;\n  height: 24px;\n  width: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.ccccn .track-error-icon {\n  aspect-ratio: 1px;\n  height: 16px;\n  width: 16px;\n  color: #fff;\n}\n\n.ccccn .cc-audio-icon-container-muted {\n  background-color: #d93438;\n}\n\n.ccccn .cc-end-call-icon-container {\n  background-color: #d93438;\n}\n\n.ccccn .cc-video-icon-container-muted {\n  background-color: #d93438;\n}\n",""]),t.default=i},5252:function(e,t,n){"use strict";n.r(t);var r=n(3645),i=n.n(r),o=n(1667),a=n.n(o),s=n(5860),c=n(6988),l=n(2040),u=n(1898),d=n(221),h=n(2273),p=n(2234),f=n(3478),m=n(7443),v=n(5028),g=n(8996),y=n(5775),_=n(710),b=n(9742),S=i()(!1),w=a()(s.Z),E=a()(c.Z),C=a()(l.Z),k=a()(u.Z),T=a()(d.Z),x=a()(h.Z),A=a()(p.Z),R=a()(f.Z),I=a()(m.Z),O=a()(v.Z),P=a()(g.Z),M=a()(y.Z),N=a()(_.Z),L=a()(b.Z);S.push([e.id,".ccccn .btn-circle {\n  background-color: #4d4c4f;\n  width: 4vw;\n  height: 4vw;\n  border-radius: 50%;\n  line-height: normal;\n  margin: 5px;\n  outline: none !important;\n  border: none;\n  z-index: 5;\n}\n\n.ccccn .mob-btn {\n  width: 12vw;\n  height: 12vw;\n}\n\n.ccccn .mob-icon {\n  height: 8vw;\n  width: 8vw;\n}\n\n.ccccn .btn-circle.red {\n  background-color: #ec4c3a;\n}\n\n.ccccn button:active {\n  outline: none !important;\n  border: none;\n}\n\n.ccccn .end-call-icon {\n  margin: 0 auto;\n  background: url("+w+");\n  height: 2.5vw;\n  width: 2.5vw;\n  display: block;\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n.ccccn .audio-mute {\n  margin: 0 auto;\n  background: url("+E+");\n  height: 2vw;\n  width: 2vw;\n  display: block;\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.ccccn .audio-un-mute {\n  margin: 0 auto;\n  background: url("+C+");\n  height: 2vw;\n  width: 2vw;\n  display: block;\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.ccccn .video-un-mute {\n  margin: 0 auto;\n  background: url("+k+");\n  height: 2vw;\n  width: 2vw;\n  display: block;\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.ccccn .video-mute {\n  margin: 0 auto;\n  background: url("+T+");\n  height: 2vw;\n  width: 2vw;\n  display: block;\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.ccccn .fileShare {\n  margin: 0 auto;\n  background: url("+x+");\n  height: 3vw;\n  width: 3vw;\n  display: block;\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.ccccn .screen-share-on {\n  margin: 0 auto;\n  background: url("+A+");\n  height: 2vw;\n  width: 2vw;\n  display: block;\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.ccccn .screen-share-off {\n  margin: 0 auto;\n  background: url("+R+");\n  height: 2vw;\n  width: 2vw;\n  display: block;\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.ccccn .display-mode-change {\n  margin: 0 auto;\n  background: url("+I+");\n  height: 2vw;\n  width: 2vw;\n  display: block;\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.ccccn .recording {\n  margin: 0 auto;\n  background: url("+O+");\n  height: 1.5vw;\n  width: 1.5vw;\n  display: block;\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n.ccccn .stop-recording {\n  margin: 0 auto;\n  background: url("+P+");\n  height: 3vw;\n  width: 3vw;\n  display: block;\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.ccccn .display-mode-grid {\n  margin: 0 auto;\n  background: url("+M+");\n  height: 2vw;\n  width: 2vw;\n  display: block;\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n.ccccn .button-container {\n  position: relative;\n  display: inline-block;\n  display: flex;\n  justify-content: center;\n  padding: 0.2%;\n}\n\n.ccccn .button-background2 {\n  background-color: rgba(46, 47, 48, 0.6);\n  border-radius: 25px;\n}\n\n.ccccn .transparent {\n  opacity: 0.4;\n}\n\n.ccccn .video-source-list {\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n}\n\n.ccccn .change-source-button {\n  position: absolute;\n  bottom: 5px;\n  right: 5px;\n  height: 1.5vw;\n  width: 1.5vw;\n  border-radius: 50%;\n  background-color: rgba(255, 255, 255, 0.5);\n  z-index: 100;\n}\n\n.ccccn .dropbtn {\n  background-color: #4caf50;\n  color: white;\n  padding: 16px;\n  font-size: 16px;\n  border: none;\n}\n\n.ccccn .dropdown {\n  position: relative;\n  display: inline-block;\n}\n\n.ccccn .dropdown-content {\n  display: none;\n  position: absolute;\n  background-color: #555;\n  min-width: 180px;\n  padding: 10px;\n  box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);\n  z-index: 10000;\n  border-radius: 8px;\n}\n\n.ccccn .dropdown-content a {\n  color: black;\n  padding: 12px 16px;\n  text-decoration: none;\n  display: block;\n}\n\n.ccccn .dropdown-content a:hover {\n  background-color: #555;\n}\n\n.ccccn .dropdown:hover .dropdown-content {\n  display: block;\n}\n\n.ccccn .dropdown:hover .dropbtn {\n  background-color: #3e8e41;\n}\n\n.ccccn .more-option {\n  margin: 0 auto;\n  background: url("+N+");\n  height: 2vw;\n  width: 2vw;\n  display: block;\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n.ccccn .streaming {\n  margin: 0 auto;\n  background: url("+L+");\n  height: 1.5vw;\n  width: 1.5vw;\n  display: block;\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n.ccccn .padding-right-12 {\n  right: 12%;\n}\n.ccccn .padding-right-0 {\n  right: 0%;\n}\n",""]),t.default=S},2386:function(e,t,n){"use strict";n.r(t);var r=n(3645),i=n.n(r)()(!1);i.push([e.id,"/* Modal Overlay (Background Blur) */\n.ccccn .modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(150, 150, 150, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n/* Modal Box */\n.ccccn .modal {\n  background-color: #1a1a1a;\n  color: white;\n  padding: 16px 20px;\n  width: 372px;\n  max-width: 372px;\n  border-radius: 20px;\n  text-align: center;\n  box-shadow: 1px 1px 7px 8px rgb(0 0 0 / 25%);\n  /* box-shadow: 0px 12px 16px -4px rgba(16, 24, 40, 0.08), 0px 4px 6px -2px rgba(16, 24, 40, 0.03); */\n}\n\n/* Timer Circle */\n.ccccn .timer-circle {\n  width: 80px;\n  height: 80px;\n  background-color: #0f488e;\n  color: #fff;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 18px;\n  font-weight: 700;\n  margin: 0 auto 15px;\n  /* font-family: 'Roboto'; */\n}\n\n/* Title */\n.ccccn .modal-title {\n  font-size: 18px;\n  margin-bottom: 10px;\n  /* font-family: 'Roboto'; */\n  font-weight: 500;\n  color: #ffffff;\n}\n\n/* Description */\n.ccccn .modal-text {\n  font-size: 14px;\n  /* font-family: 'Roboto'; */\n  font-weight: 400;\n  color: #b0b0b0;\n  margin-bottom: 20px;\n}\n\n/* Buttons Container */\n.ccccn .modal-buttons {\n  display: flex;\n  justify-content: space-between;\n  grid-gap: 8px;\n  gap: 8px;\n}\n\n/* Buttons */\n.ccccn .leave-button,\n.ccccn .stay-button {\n  flex: 1 1;\n  padding: 8px 20px;\n  border: 1px solid #4c4c4c;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  text-align: center;\n  color: white;\n  outline: none;\n}\n\n/* Leave Button */\n.ccccn .leave-button {\n  /* background-color: transparent; */\n}\n\n/* Stay Button */\n.ccccn .stay-button {\n  border: 1px solid #1E79E7;\n  background-color: #1E79E7;\n}\n\n/* Hover Effects */\n.ccccn .leave-button:hover,\n.ccccn .stay-button:hover {\n  opacity: 0.8;\n}\n",""]),t.default=i},8855:function(e,t,n){"use strict";n.r(t);var r=n(3645),i=n.n(r)()(!1);i.push([e.id,'.ccccn .Main-Video {\n  min-width: 100%;\n  align-items: center;\n  justify-content: center;\n  position: fixed;\n}\n\n.ccccn .button-bar {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n}\n\n.ccccn .stack-top {\n  z-index: 9;\n  margin: 5px;\n}\n\n.ccccn .thumb-container {\n  right: 0;\n  top: 0;\n  z-index: 10;\n  margin: unset;\n  -webkit-padding-start: unset;\n          padding-inline-start: unset;\n  display: inline;\n}\n\n.ccccn .cc-video-container {\n  width: 25vh;\n  height: 25vh;\n  height: calc(100 * var(--vh));\n}\n\n.ccccn #main-video video {\n  cursor: initial;\n}\n\n.ccccn .main-video-container {\n  height: 100%;\n  width: 100%;\n  min-width: 100%;\n  min-height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  /* position: fixed; */\n  /* transform: rotateY(180deg) */\n}\n\n.ccccn .main-video-avatar {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.ccccn .main-video-avatar-center {\n  /* height: 85vh; */\n}\n\n.ccccn .Main-Video-Mob {\n  background-color: #000000;\n  height: 100%;\n  width: 100%;\n  min-width: 100%;\n  min-height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  /* position: fixed; */\n}\n\n.ccccn .thumb-video-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n\n  display: flex;\n  align-items: center;\n  border-radius: 0.7rem;\n  justify-content: center;\n}\n\n.ccccn .thumb-mobile {\n  width: 15vh;\n  height: 15vh;\n  margin-bottom: 5px;\n}\n\n.ccccn .Main-Video-Background {\n  min-width: 100%;\n  min-height: 100%;\n}\n\n.ccccn .change-mode {\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 5;\n}\n\n.ccccn .grid-container {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n\n@-webkit-keyframes slide-out-right {\n  from {\n    display: block;\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n  to {\n    display: none;\n    -webkit-transform: translate3d(100%, 0, 0);\n    transform: translate3d(100%, 0, 0);\n  }\n}\n\n@keyframes slide-out-right {\n  from {\n    display: block;\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n  to {\n    display: none;\n    -webkit-transform: translate3d(100%, 0, 0);\n    transform: translate3d(100%, 0, 0);\n  }\n}\n\n@-webkit-keyframes slide-out-left {\n  from {\n    display: none;\n    -webkit-transform: translate3d(100%, 0, 0);\n    transform: translate3d(100%, 0, 0);\n  }\n  to {\n    display: block;\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n}\n\n@keyframes slide-out-left {\n  from {\n    display: none;\n    -webkit-transform: translate3d(100%, 0, 0);\n    transform: translate3d(100%, 0, 0);\n  }\n  to {\n    display: block;\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n}\n\n.ccccn .slide-out-right {\n  -webkit-animation-name: slide-out-right;\n  animation-name: slide-out-right;\n}\n\n.ccccn .slide-out-left {\n  -webkit-animation-name: slide-out-left;\n  animation-name: slide-out-left;\n}\n\n.ccccn .animated {\n  -webkit-animation-duration: 250ms;\n  animation-duration: 250ms;\n  -webkit-animation-fill-mode: both;\n  animation-fill-mode: both;\n}\n\n@-webkit-keyframes fade-in-down {\n  from {\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    -webkit-transform: translate3d(0, 100%, 0);\n    transform: translate3d(0, 100%, 0);\n  }\n}\n\n@keyframes fade-in-down {\n  from {\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    -webkit-transform: translate3d(0, 100%, 0);\n    transform: translate3d(0, 100%, 0);\n  }\n}\n\n.ccccn .fade-in-down {\n  -webkit-animation-name: fade-in-down;\n  animation-name: fade-in-down;\n}\n\n@-webkit-keyframes fade-in-up {\n  from {\n    -webkit-transform: translate3d(0, 100%, 0);\n    transform: translate3d(0, 100%, 0);\n  }\n\n  to {\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n}\n\n@keyframes fade-in-up {\n  from {\n    -webkit-transform: translate3d(0, 100%, 0);\n    transform: translate3d(0, 100%, 0);\n  }\n\n  to {\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n}\n\n.ccccn .fade-in-up {\n  -webkit-animation-name: fade-in-up;\n  animation-name: fade-in-up;\n}\n\n.ccccn .Main-Video__bottom-user-name {\n  position: absolute;\n  z-index: 0;\n  font-size: 14px;\n  border-radius: 0.375rem;\n  text-transform: capitalize;\n  padding: 0.5rem 0.75rem;\n  margin-left: 0.3rem;\n  margin-bottom: 0.3rem;\n  top: 0;\n  right: 0;\n}\n@media (max-width: 400px) {\n  .ccccn .Main-Video__bottom-user-name {\n    left: 0px;\n    margin-bottom: 0;\n    margin-left: 0;\n  }\n  /* .local-video-stream video {\n    width: 100px;\n  } */\n  .ccccn .local-video-stream {\n    display: flex;\n    justify-content: flex-end;\n  }\n}\n\n.ccccn .local-video-stream {\n  width: 200px;\n}\n\n.ccccn .popup {\n  position: relative;\n  display: inline-block;\n  cursor: pointer;\n  -webkit-user-select: none;\n  user-select: none;\n}\n\n/* The actual popup */\n.ccccn .popup .popup-text {\n  width: 250px;\n\n  background-color: #555;\n  color: #fff;\n  /* text-align: center; */\n  border-radius: 6px;\n\n  position: absolute;\n  z-index: 1;\n  bottom: 125%;\n  left: 50%;\n  margin-left: -80px;\n}\n.ccccn .popup .popup-text::after {\n  content: "";\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  margin-left: -5px;\n  border-width: 5px;\n  border-style: solid;\n  border-color: #555 transparent transparent transparent;\n}\n\n/* Toggle this class - hide and show the popup */\n.ccccn .popup .show {\n  visibility: visible;\n  -webkit-animation: fadeIn 1s;\n  animation: fadeIn 1s;\n}\n\n/* Add animation (fade in the popup) */\n@-webkit-keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n.ccccn input[type="radio"]:after {\n  width: 15px;\n  height: 15px;\n  border-radius: 15px;\n  top: -2px;\n  left: -1px;\n  position: relative;\n  background-color: #d1d3d1;\n  content: "";\n  display: inline-block;\n  visibility: visible;\n  border: 2px solid white;\n}\n\n.ccccn input[type="radio"]:checked:after {\n  width: 15px;\n  height: 15px;\n  border-radius: 15px;\n  top: -2px;\n  left: -1px;\n  position: relative;\n  background-color: #458b00;\n  content: "";\n  display: inline-block;\n  visibility: visible;\n  border: 2px solid white;\n}\n.ccccn .grid-shadow {\n  box-shadow: 15px 0px 10px 5px rgba(0, 0, 0, 0.41);\n}\n\n.ccccn .lds-default {\n  display: inline-block;\n  position: relative;\n  width: 80px;\n  height: 80px;\n}\n.ccccn .lds-default div {\n  position: absolute;\n  width: 6px;\n  height: 6px;\n  background: #fff;\n  border-radius: 50%;\n  -webkit-animation: lds-default 1.2s linear infinite;\n          animation: lds-default 1.2s linear infinite;\n}\n.ccccn .lds-default div:nth-child(1) {\n  -webkit-animation-delay: 0s;\n          animation-delay: 0s;\n  top: 37px;\n  left: 66px;\n}\n.ccccn .lds-default div:nth-child(2) {\n  -webkit-animation-delay: -0.1s;\n          animation-delay: -0.1s;\n  top: 22px;\n  left: 62px;\n}\n.ccccn .lds-default div:nth-child(3) {\n  -webkit-animation-delay: -0.2s;\n          animation-delay: -0.2s;\n  top: 11px;\n  left: 52px;\n}\n.ccccn .lds-default div:nth-child(4) {\n  -webkit-animation-delay: -0.3s;\n          animation-delay: -0.3s;\n  top: 7px;\n  left: 37px;\n}\n.ccccn .lds-default div:nth-child(5) {\n  -webkit-animation-delay: -0.4s;\n          animation-delay: -0.4s;\n  top: 11px;\n  left: 22px;\n}\n.ccccn .lds-default div:nth-child(6) {\n  -webkit-animation-delay: -0.5s;\n          animation-delay: -0.5s;\n  top: 22px;\n  left: 11px;\n}\n.ccccn .lds-default div:nth-child(7) {\n  -webkit-animation-delay: -0.6s;\n          animation-delay: -0.6s;\n  top: 37px;\n  left: 7px;\n}\n.ccccn .lds-default div:nth-child(8) {\n  -webkit-animation-delay: -0.7s;\n          animation-delay: -0.7s;\n  top: 52px;\n  left: 11px;\n}\n.ccccn .lds-default div:nth-child(9) {\n  -webkit-animation-delay: -0.8s;\n          animation-delay: -0.8s;\n  top: 62px;\n  left: 22px;\n}\n.ccccn .lds-default div:nth-child(10) {\n  -webkit-animation-delay: -0.9s;\n          animation-delay: -0.9s;\n  top: 66px;\n  left: 37px;\n}\n.ccccn .lds-default div:nth-child(11) {\n  -webkit-animation-delay: -1s;\n          animation-delay: -1s;\n  top: 62px;\n  left: 52px;\n}\n.ccccn .lds-default div:nth-child(12) {\n  -webkit-animation-delay: -1.1s;\n          animation-delay: -1.1s;\n  top: 52px;\n  left: 62px;\n}\n@-webkit-keyframes lds-default {\n  0%,\n  20%,\n  80%,\n  100% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    -webkit-transform: scale(1.5);\n            transform: scale(1.5);\n  }\n}\n@keyframes lds-default {\n  0%,\n  20%,\n  80%,\n  100% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    -webkit-transform: scale(1.5);\n            transform: scale(1.5);\n  }\n}\n\n.ccccn .main-tile-container {\n  height: 100%;\n  display: flex;\n  flex: 1 1;\n  flex-direction: row;\n  justify-content: flex-start;\n}\n\n.ccccn .main-tile-container-portrait {\n  height: 100%;\n  display: flex;\n  flex: 1 1;\n  flex-direction: column;\n  justify-content: flex-start;\n}\n\n.ccccn .tile-main-video-container {\n  display: flex;\n  flex: 1 1;\n  height: 89%;\n  margin-top: 5px;\n  margin-left: 2%;\n  margin-right: 2%;\n  margin-bottom: 5%;\n  position: relative;\n  justify-content: center;\n  background-color: #000;\n  border-radius: 10px;\n}\n\n.ccccn .tile-main-video-container-portrait {\n  display: flex;\n  width: 90%;\n  height: 63%;\n  margin-left: 5%;\n  margin-right: 5%;\n  margin-bottom: 5%;\n  margin-top: 5%;\n  position: relative;\n  justify-content: center;\n  background-color: #000;\n  border-radius: 20;\n}\n\n.ccccn .tile-list-container-portrait {\n  width: 100vw;\n  height: 20%;\n  padding-left: 1%;\n  padding-right: 1%;\n  padding-top: 0.5%;\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  overflow-x: auto;\n}\n.ccccn .tile-list-container {\n  width: 15%;\n  padding-left: 0%;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  padding-top: 0.5%;\n  overflow-y: auto;\n}\n\n.ccccn .local-spotlight-stream-container {\n  width: 12vw;\n}\n.ccccn .grid-container {\n  position: relative;\n  display: flex;\n  height: 100%;\n  padding-left: 1px;\n  padding-right: 1px;\n  margin-left: 0.5%;\n  margin-right: 0.5%;\n\n  justify-content: center;\n  align-items: center;\n}\n.ccccn .main-video-name {\n  color: #fff;\n  position: absolute;\n  top: 5px;\n  left: 5px;\n}\n.ccccn .screen-share-text {\n  color: #fff;\n}\n\n.ccccn .aspect-ratio-1 {\n  aspect-ratio: 1;\n}\n\n/* NEW UI  */\n.ccccn .cc-main-container {\n  /* height: 100vh;\n  height: calc(100 * var(--vh));\n  width: 100vw; */\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background-color: #1c2226;\n  position: relative;\n}\n\n.ccccn .main-container-recording-icon {\n  color: red;\n  margin-right: 4px;\n}\n\n@-webkit-keyframes rec-blinker {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n@keyframes rec-blinker {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.ccccn .main-container-recording-icon {\n  text-decoration: blink;\n  -webkit-animation-name: rec-blinker;\n          animation-name: rec-blinker;\n  -webkit-animation-duration: 0.8s;\n          animation-duration: 0.8s;\n  -webkit-animation-iteration-count: infinite;\n          animation-iteration-count: infinite;\n  -webkit-animation-timing-function: ease-in-out;\n          animation-timing-function: ease-in-out;\n  -webkit-animation-direction: alternate;\n          animation-direction: alternate;\n}\n\n.ccccn .layout {\n  display: flex;\n  height: 100%;\n  width: 100%;\n  flex: 1 1;\n  position: relative;\n  flex-direction: row;\n}\n\n.ccccn .main-container-recording-text {\n  color: rgb(255, 255, 255);\n}\n\n.ccccn .loading-container {\n  display: flex;\n  flex: 1 1;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  height: 100%;\n}\n\n.ccccn .reconnect-loading {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex: 1 1;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  background-color: #000000d0;\n}\n\n.ccccn .loading-text {\n  margin-top: 8px;\n  color: rgb(255, 255, 255);\n}\n\n.ccccn .scroll::-webkit-scrollbar {\n  display: none;\n}\n\n/* Hide scrollbar for IE, Edge and Firefox */\n.ccccn .scroll {\n  -ms-overflow-style: none; /* IE and Edge */\n  scrollbar-width: none;\n\n  overflow-y: auto; /* Firefox */\n}\n\n.ccccn .mainVideoContainer {\n  /* height: calc(calc(100 * var(--vh)) - 80px); */\n  height: calc(100% - var(--ccccn-bottom-button-container-height));\n  display: flex;\n  z-index: 0;\n}\n\n.ccccn .safari-video-container {\n  min-width: 25vh;\n\n  width: 0;\n}\n\n/* for mobile specific css */\n@media (max-width: 600px) {\n  .ccccn .recording-text-container {\n    position: absolute;\n    left: 16px;\n    top: 16px;\n    bottom: auto;\n    z-index: 1;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  }\n}\n@media (min-width: 600px) {\n  .ccccn .recording-text-container {\n    position: absolute;\n    left: 16px;\n    bottom: 24px;\n    z-index: 1;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  }\n}\n\n.ccccn .cc-name-label {\n  padding: 8px;\n  border-radius: 4px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n',""]),t.default=i},4255:function(e,t,n){"use strict";n.r(t);var r=n(3645),i=n.n(r)()(!1);i.push([e.id,":root {\n  --ccccn-no-of-tiles: 4;\n}\n\n@media (hover: none) {\n  :root {\n    --ccccn-no-of-tiles: 2;\n  }\n}\n\n.ccccn .local-video-container {\n  position: fixed;\n  height: 20vh;\n  width: 15vw;\n  aspect-ratio: 3/2;\n  min-width: 150px;\n  background-color: rgb(36, 43, 48);\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  bottom: 8px;\n  bottom: var(--ccccn-bottom-button-container-height);\n  right: var(--ccccn-padding-around-video);\n  -webkit-user-select: none;\n          user-select: none;\n  cursor: grab;\n}\n\n.ccccn .cc-video-container {\n  display: flex;\n  flex: 1 1;\n  background-color: rgb(36, 43, 48);\n  justify-content: center;\n  align-items: center;\n  flex-direction: row;\n  position: relative;\n  height: 100%;\n  width: 100%;\n  transition: all 5s ease 0s;\n  border-radius: 8px;\n  box-shadow: rgba(36, 43, 48, 0.7);\n}\n\n.ccccn .video-container-user-name {\n  position: absolute;\n  flex-direction: row;\n  display: flex;\n  left: 8px;\n  top: 8px;\n  right: 30%;\n  text-align: left;\n}\n\n.ccccn .video-container-user-name-text {\n  color: rgb(255, 255, 255);\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.ccccn .side-bar {\n  display: flex;\n  flex: 1 1;\n  height: 100%;\n  width: 100%;\n  flex-direction: row;\n}\n.ccccn .side-bar-container {\n  display: flex;\n  flex: 1 1;\n  width: 100%;\n  height: 100%;\n}\n\n.ccccn .side-bar-main-user-container {\n  display: flex;\n  flex: 1 1;\n  padding-top: 8px;\n  padding-left: 8px;\n}\n\n.ccccn .side-bar-main-user-video {\n  display: flex;\n  flex: 1 1;\n  position: relative;\n}\n.ccccn .video-element {\n  /* aspect-ratio: 1; */\n}\n.ccccn .side-bar-main-user-video-pin-icon {\n  position: absolute;\n  z-index: 10;\n  color: rgb(255, 255, 255);\n  height: 5%;\n  top: 8px;\n  right: 8px;\n}\n\n.ccccn .side-bar-tile-list {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 20%;\n  max-width: 20vh;\n  min-width: 100px;\n  margin-left: 8px;\n  margin-right: 8px;\n}\n.ccccn .side-bar-tile-wrapper {\n  display: flex;\n  flex: 1 1;\n  position: relative;\n  max-height: calc(20% - 8px);\n  max-height: calc(100% / 4 - 8px);\n  max-height: calc(100% / var(--ccccn-no-of-tiles) - 8px);\n  width: 100%;\n  max-width: 20vh;\n  min-width: 100px;\n  margin-top: 8px;\n}\n\n.ccccn .side-bar-tile-container {\n  display: flex;\n  flex: 1 1;\n  background-color: rgb(36, 43, 48);\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  height: 100%;\n  flex-direction: column;\n}\n.ccccn .side-bar-tile-wrapper:hover #pin {\n  display: flex;\n}\n\n.ccccn .side-bar-tile-more-people-icon-container {\n  height: 30%;\n  aspect-ratio: 1 / 1;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.ccccn .side-bar-tile-more-people-icon-badge {\n  color: rgb(255, 255, 255);\n  margin: 4px;\n}\n.ccccn .side-bar-tile-more-text {\n  color: rgb(255, 255, 255);\n}\n.ccccn .side-bar-tile-pin-icon-container {\n  position: absolute;\n  flex: 1 1;\n  background-color: rgba(0, 0, 0, 0.2);\n  z-index: 10000;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  display: none;\n  cursor: pointer;\n}\n.ccccn .side-bar-tile-pin-icon {\n  width: 20%;\n}\n\n.ccccn .side-bar-tile-audio-icon {\n  position: absolute;\n  z-index: 10;\n  top: 8px;\n  right: 8px;\n}\n\n.ccccn .single-main-container {\n  display: flex;\n  flex: 1 1;\n  height: 100%;\n  padding: 16px;\n}\n\n.ccccn .spotlight-main-container {\n  display: flex;\n  position: relative;\n  flex: 1 1;\n  height: 100%;\n  padding-top: var(--ccccn-padding-around-video);\n  padding-left: var(--ccccn-padding-around-video);\n  padding-right: var(--ccccn-padding-around-video);\n}\n\n.ccccn .tile-main-container {\n  flex: 1 1;\n  display: flex;\n  height: 100%;\n  background-color: #1c2226;\n}\n.ccccn .tile-more-people-icon-container {\n  height: 30%;\n  aspect-ratio: 1 / 1;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.ccccn .tile-more-people-badge {\n  color: rgb(255, 255, 255);\n  margin: 4px;\n}\n.ccccn .tile-more-people-text {\n  color: rgb(255, 255, 255);\n}\n.ccccn .tile-list-wrapper {\n  height: 100%;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  padding-left: 4px;\n}\n\n.ccccn .tile-wrapper {\n  display: flex;\n  flex: 1 1;\n  background-color: rgb(36, 43, 48);\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  height: 100%;\n  flex-direction: column;\n}\n\n.ccccn .tile-pinned-ui-main-container {\n  display: flex;\n  flex: 1 1;\n  flex-direction: column;\n  max-height: 88vh;\n}\n\n.ccccn .tile-pinned-ui-main-video-container {\n  flex: 1 1;\n  display: flex;\n  position: relative;\n  max-height: 65%;\n  margin: 8px;\n}\n\n.ccccn .tile-pinned-ui-un-pin-icon {\n  z-index: 1000;\n  color: rgb(255, 255, 255);\n}\n\n.ccccn .tile-pinned-ui-other-user-container {\n  height: 30%;\n  display: flex;\n  width: 100%;\n  padding-left: 4px;\n}\n.ccccn .tile-pinned-ui-more-user-container {\n  max-width: 25%;\n  flex: 1 1;\n  display: flex;\n  margin-right: 8px;\n}\n.ccccn .tile-pinned-ui-more-user-wrapper {\n  display: flex;\n  flex: 1 1;\n  background-color: rgb(36, 43, 48);\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  height: 100%;\n}\n\n.ccccn .tile-pinned-ui-remaining-user {\n  max-width: 25%;\n  flex: 1 1;\n  display: flex;\n  position: relative;\n  margin-right: 4px;\n}\n\n.ccccn .show-border {\n  border-width: 2px;\n}\n.ccccn .pin-image {\n  height: 20px;\n  cursor: pointer;\n}\n\n.ccccn .grid-row {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  flex: 1 1;\n  width: 100%;\n  padding-top: 0.5%;\n  margin-bottom: 0.5%;\n}\n\n@media (max-width: 600px) {\n  .ccccn .side-bar-container {\n    flex-direction: column;\n  }\n  .ccccn .side-bar-main-user-container {\n    padding-right: 8px;\n    height: 80%;\n  }\n  .ccccn .side-bar-tile-list {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    height: 20%;\n    width: 100vw;\n    max-width: none;\n    margin-left: 0px;\n    margin-right: 0px;\n    padding-left: 8px;\n    padding-right: 8px;\n    grid-gap: 8px;\n    gap: 8px;\n  }\n  .ccccn .side-bar-tile-wrapper {\n    max-width: 32vw;\n    width: auto;\n    aspect-ratio: 1 / 1;\n    max-height: 100%;\n  }\n}\n\n.ccccn .pin-option {\n  display: none;\n  position: absolute;\n  top: 9px;\n  border-radius: 50%;\n  padding: 5px;\n  height: 30px;\n  width: 30px;\n  aspect-ratio: 1px;\n  right: 8px;\n  z-index: 10;\n  justify-content: center;\n  align-items: center;\n  background-color: #707070;\n  cursor: pointer;\n}\n.ccccn .grid-box {\n  display: flex;\n  flex: 1 1;\n  border-width: 2px;\n  margin-right: 5px;\n  border-color: transparent;\n  border-radius: 8px;\n  position: relative;\n}\n.ccccn .grid-box:hover .pin-option {\n  display: flex;\n}\n\n.ccccn .grid-main-container {\n  flex: 1 1;\n  display: flex;\n}\n\n.ccccn .show-border {\n  border-width: 2px;\n  border-color: #1e79e7;\n}\n\n.ccccn .grid-row {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  flex: 1 1;\n  width: 100%;\n  padding-top: 0.5%;\n  margin-bottom: 0.5%;\n}\n\n.ccccn .red {\n  color: red;\n}\n\n.ccccn .flipped-video {\n  -webkit-transform: scaleX(-1);\n  transform: scaleX(-1);\n}\n\n.ccccn .paginated-pinned-view {\n  display: flex;\n  height: 100%;\n  width: 100%;\n}\n\n.ccccn .paginated-pinned-view-text {\n  justify-content: center;\n  align-items: center;\n  background-color: #000;\n}\n\n@media all and (max-width: 520px) {\n  .ccccn .awssld__controls {\n    visibility: visible !important;\n  }\n}\n.ccccn .awssld__controls button:focus {\n  outline: none;\n}\n\n.ccccn .awssld__bullets {\n  position: absolute;\n  bottom: 10px !important;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2;\n}\n\n.ccccn .awssld__bullets button {\n  height: 8px !important;\n  width: 8px !important;\n  outline: none !important;\n}\n\n.ccccn .awssld__bullets--active {\n  background-color: #1e79e7 !important;\n}\n\n.ccccn .awssld__next {\n  width: 7% !important;\n}\n\n.ccccn .awssld__prev {\n  width: 7% !important;\n}\n\n.ccccn .awssld__controls__arrow-right {\n  height: 20% !important;\n}\n.ccccn .awssld__controls__arrow-left:before,\n.ccccn .awssld__controls__arrow-left:after,\n.ccccn .awssld__controls__arrow-right:before,\n.ccccn .awssld__controls__arrow-right:after {\n  background-color: rgb(49, 56, 62) !important;\n}\n.ccccn .awssld__controls__arrow-left {\n  height: 20% !important;\n}\n\n.ccccn .paginated-container {\n  display: flex;\n  flex: 1 1;\n  padding: 8;\n}\n\n.ccccn .absolute-top-left {\n  display: flex;\n  align-items: center;\n  grid-gap: 8px;\n  gap: 8px;\n  position: absolute;\n  top: 8px;\n  left: 8px;\n}\n\n.ccccn .absolute-top-right {\n  display: flex;\n  align-items: center;\n  grid-gap: 8px;\n  gap: 8px;\n  position: absolute;\n  top: 8px;\n  right: 8px;\n}\n\n.ccccn .absolute-bottom-left {\n  display: flex;\n  align-items: center;\n  grid-gap: 8px;\n  gap: 8px;\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n}\n\n.ccccn .absolute-bottom-right {\n  display: flex;\n  align-items: center;\n  grid-gap: 8px;\n  gap: 8px;\n  position: absolute;\n  bottom: 8px;\n  right: 8px;\n}\n\n.ccccn .awssld__bullets {\n  width: 50% !important;\n  margin-left: 25%;\n  margin-right: 25%;\n}\n",""]),t.default=i},7690:function(e,t,n){"use strict";n.r(t);var r=n(3645),i=n.n(r)()(!1);i.push([e.id,'.ccccn .main-video-container video {\n  height: 100%;\n  width: 100%;\n  min-width: 100%;\n  min-height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  object-fit: contain;\n}\n\n.ccccn .Main-Video-Mob video {\n  height: 100%;\n  width: 100%;\n  min-width: 100%;\n  min-height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 4px 11px 18px -4px rgba(0, 0, 0, 0.75);\n}\n\n.ccccn .thumb-video-container video {\n  height: 100%;\n  width: 100%;\n  min-width: 100%;\n  min-height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  object-fit: cover;\n}\n\n.ccccn .rotate-180 {\n  transform: rotateY(180deg);\n  -webkit-transform: rotateY(180deg);\n  -moz-transform: rotateY(180deg);\n  -moz-transform: rotateY(180deg);\n}\n\n.ccccn .Main-Video-Background video {\n  height: 100%;\n  width: 100%;\n  min-width: 100%;\n  min-height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  object-fit: cover;\n}\n\n.ccccn .grid-container video {\n  height: 100%;\n  width: 100%;\n  min-width: 100%;\n  min-height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  object-fit: cover;\n}\n\n.ccccn .video-thumb {\n  height: 300px;\n  width: 300px;\n  min-width: 300px;\n  min-height: 300px;\n}\n\n.ccccn .remote-audio {\n  min-width: 0px;\n  min-height: 0px;\n  display: none;\n}\n\n.ccccn .stream-component {\n  position: absolute;\n  padding: 10px;\n  color: #fff;\n  font-weight: bold;\n  border-bottom-right-radius: 4px;\n  opacity: 0.5;\n  z-index: 5;\n}\n\n.ccccn .user-icons {\n  right: 5px;\n  background: none;\n  opacity: 0.7;\n}\n\n.ccccn .mob-font {\n  font-size: small;\n}\n\n.ccccn .pin-wrapper {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background: #282c34;\n  z-index: 2;\n  opacity: 0.5;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.ccccn .audioindicator {\n  display: inline-block;\n  display: flex;\n  justify-content: space-around;\n  width: 24px;\n  border: none;\n}\n\n.ccccn .audiodot-top,\n.ccccn .audiodot-bottom,\n.ccccn .audiodot-middle {\n  opacity: 1;\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  display: inline-block;\n  background: rgba(9, 36, 77, 0.9);\n  margin: 1px 0 1px 0;\n  transition: opacity 0.25s ease-in-out;\n  -moz-transition: opacity 0.25s ease-in-out;\n}\n\n.ccccn span.audiodot-top,\n.ccccn span.audiodot-bottom,\n.ccccn span.audiodot-middle {\n  content: "";\n  opacity: 1;\n  display: inline-block;\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  -webkit-filter: blur(0.5px);\n  filter: blur(0.5px);\n  background: #44a5ff;\n}\n.ccccn .hide-scroll {\n  -ms-overflow-style: none; /* IE and Edge */\n  scrollbar-width: none; /* Firefox */\n}\n.ccccn .hide-scroll::-webkit-scrollbar {\n  display: none;\n}\n\n.ccccn .tile-container-mob {\n  width: 15vh;\n  position: relative;\n  margin-left: 10px;\n}\n.ccccn .tile-container {\n  width: 90%;\n  position: relative;\n  aspect-ratio: 1;\n  min-height: 10.5vw;\n  max-height: 10.5vw;\n  background-color: #000000;\n  margin-bottom: 10px;\n  border-radius: 0.7rem;\n}\n\n/* Hide scrollbar for IE, Edge and Firefox */\n',""]),t.default=i},5088:function(e,t,n){"use strict";n.r(t);var r=n(3645),i=n.n(r)()(!1);i.push([e.id,"@import url(https://fonts.googleapis.com/css?family=Inter);"]),i.push([e.id,'/* html {\n  overflow: hidden;\n}\nbody {\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu",\n    "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\ncode {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New", monospace;\n} */\n.ccccn .user-stats {\n  opacity: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  transition: opacity 250ms ease-out;\n  left: 0;\n  display: flex;\n  align-items: flex-end;\n  z-index: 1;\n}\n\n.ccccn .video-tiles:hover .user-stats {\n  opacity: 1;\n  background-color: rgb(0, 0, 0, 0.7);\n}\n\n.ccccn [data-id] {\n  text-transform: capitalize;\n}\n\n.ccccn *::-webkit-scrollbar-track {\n  box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n\n  border-radius: 10px;\n  background-color: #2d3748;\n}\n\n.ccccn *::-webkit-scrollbar {\n  width: 12px;\n  background-color: #2d3748;\n}\n\n.ccccn *::-webkit-scrollbar-thumb {\n  border-radius: 10px;\n  box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n  background-color: #1a202c;\n}\n\n@media (max-width: 991px) {\n  .ccccn .hidden-md-down {\n    display: none !important;\n  }\n}\n\n:root {\n  --ccccn-bottom-button-container-height: 80px;\n  --ccccn-padding-around-video: 8px;\n}\n.ccccn * {\n  font-family: Inter;\n}\n\n.ccccn .cc-snackbar-root-override {\n  position: absolute !important;\n}\n',""]),t.default=i},825:function(e,t,n){"use strict";n.r(t);var r=n(3645),i=n.n(r)()(!1);i.push([e.id,'.ccccn button {\n  background-color: transparent;\n  background-image: none;\n}\n\n.ccccn button:focus {\n  outline: 1px dotted;\n  outline: 5px auto -webkit-focus-ring-color;\n}\n\n.ccccn ol,\n.ccccn ul {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n.ccccn *,\n.ccccn ::before,\n.ccccn ::after {\n  box-sizing: border-box;\n  border-width: 0;\n  border-style: solid;\n  border-color: #e2e8f0;\n}\n\n.ccccn hr {\n  border-top-width: 1px;\n}\n\n.ccccn img {\n  border-style: solid;\n}\n\n.ccccn button,\n.ccccn [role="button"] {\n  cursor: pointer;\n}\n\n.ccccn button,\n.ccccn input,\n.ccccn optgroup,\n.ccccn select,\n.ccccn textarea {\n  padding: 0;\n}\n\n.ccccn pre,\n.ccccn code,\n.ccccn kbd,\n.ccccn samp {\n  font-family: Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;\n}\n\n.ccccn img,\n.ccccn svg,\n.ccccn video,\n.ccccn canvas,\n.ccccn audio,\n.ccccn iframe,\n.ccccn embed,\n.ccccn object {\n  display: block;\n}\n\n.ccccn img,\n.ccccn video {\n  max-width: 100%;\n}\n',""]),t.default=i},3645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r,i,o=e[1]||"",a=e[3];if(!a)return o;if(t&&"function"==typeof btoa){var s=(n=a,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(i," */")),c=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[o].concat(c).concat([s]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},1667:function(e){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},7443:function(e,t,n){"use strict";t.Z=n.p+"static/media/change_mode.svg"},8996:function(e,t,n){"use strict";t.Z=n.p+"static/media/cross-inside-circle.svg"},2273:function(e,t,n){"use strict";t.Z=n.p+"static/media/file_share.svg"},5775:function(e,t,n){"use strict";t.Z=n.p+"static/media/grid_mode.svg"},6988:function(e,t,n){"use strict";t.Z=n.p+"static/media/icon_audio_mute.svg"},2040:function(e,t,n){"use strict";t.Z=n.p+"static/media/icon_audio_unmute.svg"},5860:function(e,t,n){"use strict";t.Z=n.p+"static/media/icon_hangup.svg"},221:function(e,t,n){"use strict";t.Z=n.p+"static/media/icon_video_mute.svg"},1898:function(e,t,n){"use strict";t.Z=n.p+"static/media/icon_video_unmute.svg"},710:function(e,t,n){"use strict";t.Z=n.p+"static/media/record.svg"},5028:function(e,t,n){"use strict";t.Z=n.p+"static/media/recording.svg"},3478:function(e,t,n){"use strict";t.Z=n.p+"static/media/screen_share_disabled.svg"},2234:function(e,t,n){"use strict";t.Z=n.p+"static/media/screenshare-enabled.svg"},9742:function(e,t,n){"use strict";t.Z=n.p+"static/media/streaming.svg"},8679:function(e,t,n){"use strict";var r=n(9864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=c(t),m=c(n),v=0;v<a.length;++v){var g=a[v];if(!(o[g]||r&&r[g]||m&&m[g]||s&&s[g])){var y=h(n,g);try{l(t,g,y)}catch(e){}}}}return t}},3827:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i="object"===("undefined"==typeof window?"undefined":r(window))&&"object"===("undefined"==typeof document?"undefined":r(document))&&9===document.nodeType;t.Z=i},4013:function(e,t,n){"use strict";n.d(t,{EK:function(){return p},HZ:function(){return ve},JH:function(){return d},RB:function(){return Q},Ue:function(){return me},_$:function(){return ge},xE:function(){return K}});var r=n(7462),i=n(3827),o=n(3144),a=n(1721),s=n(7326),c=n(5245),l={}.constructor;function u(e){if(null==e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(u);if(e.constructor!==l)return e;var t={};for(var n in e)t[n]=u(e[n]);return t}function d(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=u(t);return r.plugins.onCreateRule(e,i,n)||(e[0],null)}var h=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},p=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=h(e[n]," ");else t=h(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function f(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function m(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function v(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;!1===n.format&&(o=-1/0);var s=f(n),c=s.linebreak,l=s.space;if(e&&o++,a)if(Array.isArray(a))for(var u=0;u<a.length;u++){var d=a[u];for(var h in d){var v=d[h];null!=v&&(r&&(r+=c),r+=m(h+":"+l+p(v)+";",o))}}else for(var g in a){var y=a[g];null!=y&&(r&&(r+=c),r+=m(g+":"+l+p(y)+";",o))}for(var _ in t){var b=t[_];null!=b&&"fallbacks"!==_&&(r&&(r+=c),r+=m(_+":"+l+p(b)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r=""+c+r+c),m(""+e+l+"{"+r,--o)+m("}",o)):r}var g=/([[\].#*$><+~=|^:(),"'`\s])/g,y="undefined"!=typeof CSS&&CSS.escape,_=function(e){return y?y(e):e.replace(g,"\\$1")},b=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var c=this.options.sheet;return c&&c.attached,this},e}(),S=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=r.selector,a=r.scoped,c=r.sheet,l=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=l((0,s.Z)((0,s.Z)(i)),c),i.selectorText="."+_(i.id)),i}(0,a.Z)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!=typeof n?e[t]=n:Array.isArray(n)&&(e[t]=p(n))}return e},n.toString=function(e){var t=this.options.sheet,n=t&&t.options.link?(0,r.Z)({},e,{allowEmpty:!0}):e;return v(this.selectorText,this.style,n)},(0,o.Z)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;n&&t&&(t.setSelector(n,e)||t.replaceRule(n,this))}},get:function(){return this.selectorText}}]),t}(b),w={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new S(e,t,n)}},E={indent:1,children:!0},C=/@([\w-]+)/,k=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var i=e.match(C);for(var o in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new Q((0,r.Z)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=E);var t=f(e).linebreak;if(null==e.indent&&(e.indent=E.indent),null==e.children&&(e.children=E.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),T=/@media|@supports\s+/,x={onCreateRule:function(e,t,n){return T.test(e)?new k(e,t,n):null}},A={indent:1,children:!0},R=/@keyframes\s+([\w-]+)/,I=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=e.match(R);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var c in this.id=!1===o?this.name:_(s(this,a)),this.rules=new Q((0,r.Z)({},n,{parent:this})),t)this.rules.add(c,t[c],(0,r.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=A);var t=f(e).linebreak;if(null==e.indent&&(e.indent=A.indent),null==e.children&&(e.children=A.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),O=/@keyframes\s+/,P=/\$([\w-]+)/g,M=function(e,t){return"string"==typeof e?e.replace(P,(function(e,n){return n in t?t[n]:e})):e},N=function(e,t,n){var r=e[t],i=M(r,n);i!==r&&(e[t]=i)},L={onCreateRule:function(e,t,n){return"string"==typeof e&&O.test(e)?new I(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&N(e,"animation-name",n.keyframes),"animation"in e&&N(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return M(e,r.keyframes);default:return e}}},D=function(e){function t(){return e.apply(this,arguments)||this}return(0,a.Z)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=t&&t.options.link?(0,r.Z)({},e,{allowEmpty:!0}):e;return v(this.key,this.style,n)},t}(b),j={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new D(e,t,n):null}},F=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=f(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=v(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return v(this.at,this.style,e)},e}(),B=/@font-face/,U={onCreateRule:function(e,t,n){return B.test(e)?new F(e,t,n):null}},H=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return v(this.key,this.style,e)},e}(),V={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new H(e,t,n):null}},z=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),q={"@charset":!0,"@import":!0,"@namespace":!0},J=[w,x,L,j,U,V,{onCreateRule:function(e,t,n){return e in q?new z(e,t,n):null}}],G={process:!0},W={force:!0,process:!0},Q=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,o=i.parent,a=i.sheet,s=i.jss,c=i.Renderer,l=i.generateId,u=i.scoped,h=(0,r.Z)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:c,generateId:l,scoped:u,name:e,keyframes:this.keyframes,selector:void 0},n),p=e;e in this.raw&&(p=e+"-d"+this.counter++),this.raw[p]=t,p in this.classes&&(h.selector="."+_(this.classes[p]));var f=d(p,t,h);if(!f)return null;this.register(f);var m=void 0===h.index?this.index.length:h.index;return this.index.splice(m,0,f),f},t.replace=function(e,t,n){var i=this.get(e),o=this.index.indexOf(i);i&&this.remove(i);var a=n;return-1!==o&&(a=(0,r.Z)({},n,{index:o})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof S?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof I&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof S?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof I&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=G);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(o.onUpdate(n,t,a,r),r.process&&s&&s!==t.style){for(var c in o.onProcessStyle(t.style,t,a),t.style){var l=t.style[c];l!==s[c]&&t.prop(c,l,W)}for(var u in s){var d=t.style[u],h=s[u];null==d&&d!==h&&t.prop(u,null,W)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=f(e).linebreak,o=0;o<this.index.length;o++){var a=this.index[o].toString(e);(a||r)&&(t&&(t+=i),t+=a)}return t},e}(),Z=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,r.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new Q(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"==typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),$=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),K=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,c.Z)(t,["attached"]),i=f(r).linebreak,o="",a=0;a<this.registry.length;a++){var s=this.registry[a];null!=n&&s.attached!==n||(o&&(o+=i),o+=s.toString(r))}return o},(0,o.Z)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),X=new K,Y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),ee="2f1acc6c3a606b082e5eef5e54414ffb";null==Y[ee]&&(Y[ee]=0);var te=Y[ee]++,ne=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+te+i+t:o+n.key+"-"+te+(i?"-"+i:"")+"-"+t}},re=function(e){var t;return function(){return t||(t=e()),t}},ie=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(e){return""}},oe=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=p(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,o=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,o,i>-1?"important":"")}}catch(e){return!1}return!0},ae=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(e){}},se=function(e,t){return e.selectorText=t,e.selectorText===t},ce=re((function(){return document.querySelector("head")})),le=re((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),ue=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(e){return!1}return e.cssRules[n]},de=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},he=function(){function e(e){this.getPropertyValue=ie,this.setProperty=oe,this.removeProperty=ae,this.setSelector=se,this.hasInsertedRules=!1,this.cssRules=[],e&&X.add(e),this.sheet=e;var t,n=this.sheet?this.sheet.options:{},r=n.media,i=n.meta,o=n.element;this.element=o||((t=document.createElement("style")).textContent="\n",t),this.element.setAttribute("data-jss",""),r&&this.element.setAttribute("media",r),i&&this.element.setAttribute("data-meta",i);var a=le();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=function(e){var t=X.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"==typeof r){var i=function(e){for(var t=ce(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"==typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else ce().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var o=de(n,t);if(!1===(i=ue(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(r.rules,i),i}var a=e.toString();if(!a)return!1;var s=de(n,t),c=ue(n,a,s);return!1!==c&&(this.hasInsertedRules=!0,this.refCssRule(e,s,c),c)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof Z&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),pe=0,fe=function(){function e(e){this.id=pe++,this.version="10.9.2",this.plugins=new $,this.options={id:{minify:!1},createGenerateId:ne,Renderer:i.Z?he:null,plugins:[]},this.generateId=ne({minify:!1});for(var t=0;t<J.length;t++)this.plugins.use(J[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,r.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!=typeof n&&(n=0===X.index?0:X.index+1);var i=new Z(e,(0,r.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),X.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"==typeof e)return this.createRule(void 0,e,t);var i=(0,r.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var o=d(e,t,i);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),me=function(e){return new fe(e)},ve="object"==typeof CSS&&null!=CSS&&"number"in CSS;function ge(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var o=ge(r);o&&(t||(t={}),t[n]=o)}}return t}me()},9483:function(e,t,n){e.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){return i(t[a][1][e]||e)}),l,l.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,r){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,a=new i(u),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var c=new e.MessageChannel;c.port1.onmessage=u,n=function(){c.port2.postMessage(0)}}var l=[];function u(){var e,t;r=!0;for(var n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}r=!1}t.exports=function(e){1!==l.push(e)||r||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var r=e(1);function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==i&&p(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r((function(){var r;try{r=t(n)}catch(t){return o.reject(e,t)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var a=f((function(){t(i,r)}));"error"===a.status&&r(a.value)}function f(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}t.exports=l,l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(i);return this.state!==c?d(n,this.state===s?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){o.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=f(h,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)p(e,r);else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},l.reject=function(e){var t=new this(i);return o.reject(t,e)},l.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,c=-1,l=new this(i);++c<n;)u(e[c],c);return l;function u(e,i){t.resolve(e).then((function(e){a[i]=e,++s!==n||r||(r=!0,o.resolve(l,a))}),(function(e){r||(r=!0,o.reject(l,e))}))}},l.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n,r=e.length,a=!1;if(!r)return this.resolve([]);for(var s=-1,c=new this(i);++s<r;)n=e[s],t.resolve(n).then((function(e){a||(a=!0,o.resolve(c,e))}),(function(e){a||(a=!0,o.reject(c,e))}));return c}},{1:1}],3:[function(e,t,r){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function o(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var a=Promise;function s(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function c(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function l(e){return"string"!=typeof e&&(e=String(e)),e}function u(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var d="local-forage-detect-blob-support",h=void 0,p={},f=Object.prototype.toString,m="readonly",v="readwrite";function g(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function y(e){return"boolean"==typeof h?a.resolve(h):function(e){return new a((function(t){var n=e.transaction(d,v),r=o([""]);n.objectStore(d).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return h=e}))}function _(e){var t=p[e.name],n={};n.promise=new a((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function b(e){var t=p[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function S(e,t){var n=p[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function w(e,t){return new a((function(n,r){if(p[e.name]=p[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);_(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var a=i.open.apply(i,o);t&&(a.onupgradeneeded=function(t){var n=a.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(d)}catch(n){if("ConstraintError"!==n.name)throw n}}),a.onerror=function(e){e.preventDefault(),r(a.error)},a.onsuccess=function(){var t=a.result;t.onversionchange=function(e){e.target.close()},n(t),b(e)}}))}function E(e){return w(e,!1)}function C(e){return w(e,!0)}function k(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version,e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function T(e){return o([g(atob(e.data))],{type:e.type})}function x(e){return e&&e.__local_forage_encoded_blob}function A(e){var t=this,n=t._initReady().then((function(){var e=p[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return c(n,e,e),n}function R(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(i){if(r>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return a.resolve().then((function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),C(e)})).then((function(){return function(e){_(e);for(var t=p[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,E(e).then((function(t){return e.db=t,k(e)?C(e):t})).then((function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(t){throw S(e,t),t}))}(e).then((function(){R(e,t,n,r-1)}))})).catch(n);n(i)}}var I={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var i=p[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},p[n.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=A);var o=[];function s(){return a.resolve()}for(var c=0;c<i.forages.length;c++){var l=i.forages[c];l!==t&&o.push(l._initReady().catch(s))}var u=i.forages.slice(0);return a.all(o).then((function(){return n.db=i.db,E(n)})).then((function(e){return n.db=e,k(n,t._defaultConfig.version)?C(n):e})).then((function(e){n.db=i.db=e,t._dbInfo=n;for(var r=0;r<u.length;r++){var o=u[r];o!==t&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!i||!i.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=new a((function(t,r){n.ready().then((function(){R(n._dbInfo,m,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;x(r)&&(r=T(r));var i=e(r,n.key,s++);void 0!==i?t(i):n.continue()}else t()},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return s(r,t),r},getItem:function(e,t){var n=this;e=l(e);var r=new a((function(t,r){n.ready().then((function(){R(n._dbInfo,m,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),x(e)&&(e=T(e)),t(e)},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return s(r,t),r},setItem:function(e,t,n){var r=this;e=l(e);var i=new a((function(n,i){var o;r.ready().then((function(){return o=r._dbInfo,"[object Blob]"===f.call(t)?y(o.db).then((function(e){return e?t:(n=t,new a((function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)})));var n})):t})).then((function(t){R(r._dbInfo,v,(function(o,a){if(o)return i(o);try{var s=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var c=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=c.error?c.error:c.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return s(i,n),i},removeItem:function(e,t){var n=this;e=l(e);var r=new a((function(t,r){n.ready().then((function(){R(n._dbInfo,v,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(a.error)},o.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return s(r,t),r},clear:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){R(t._dbInfo,v,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return s(n,e),n},length:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){R(t._dbInfo,m,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,e),n},key:function(e,t){var n=this,r=new a((function(t,r){e<0?t(null):n.ready().then((function(){R(n._dbInfo,m,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,c=a.openKeyCursor();c.onsuccess=function(){var n=c.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},c.onerror=function(){r(c.error)}}catch(e){r(e)}}))})).catch(r)}));return s(r,t),r},keys:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){R(t._dbInfo,m,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];o.onsuccess=function(){var t=o.result;t?(a.push(t.key),t.continue()):e(a)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,e),n},dropInstance:function(e,t){t=u.apply(this,arguments);var n,r=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName),e.name){var o=e.name===r.name&&this._dbInfo.db?a.resolve(this._dbInfo.db):E(e).then((function(t){var n=p[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t}));n=e.storeName?o.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;_(e);var r=p[e.name],o=r.forages;t.close();for(var s=0;s<o.length;s++){var c=o[s];c._dbInfo.db=null,c._dbInfo.version=n}var l=new a((function(t,r){var o=i.open(e.name,n);o.onerror=function(e){o.result.close(),r(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}}));return l.then((function(e){r.db=e;for(var t=0;t<o.length;t++){var n=o[t];n._dbInfo.db=e,b(n._dbInfo)}})).catch((function(t){throw(S(e,t)||a.resolve()).catch((function(){})),t}))}})):o.then((function(t){_(e);var n=p[e.name],r=n.forages;t.close();for(var o=0;o<r.length;o++)r[o]._dbInfo.db=null;var s=new a((function(t,n){var r=i.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}));return s.then((function(e){n.db=e;for(var t=0;t<r.length;t++)b(r[t]._dbInfo)})).catch((function(t){throw(S(e,t)||a.resolve()).catch((function(){})),t}))}))}else n=a.reject("Invalid arguments");return s(n,t),n}},O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=/^~~local_forage_type~([^~]+)~/,M="__lfsc__:",N="arbf",L="blob",D="si08",j="ui08",F="uic8",B="si16",U="si32",H="ur16",V="ui32",z="fl32",q="fl64",J=Object.prototype.toString;function G(e){var t,n,r,i,o,a=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var l=new ArrayBuffer(a),u=new Uint8Array(l);for(t=0;t<s;t+=4)n=O.indexOf(e[t]),r=O.indexOf(e[t+1]),i=O.indexOf(e[t+2]),o=O.indexOf(e[t+3]),u[c++]=n<<2|r>>4,u[c++]=(15&r)<<4|i>>2,u[c++]=(3&i)<<6|63&o;return l}function W(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=O[n[t]>>2],r+=O[(3&n[t])<<4|n[t+1]>>4],r+=O[(15&n[t+1])<<2|n[t+2]>>6],r+=O[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var Q={serialize:function(e,t){var n="";if(e&&(n=J.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===J.call(e.buffer))){var r,i=M;e instanceof ArrayBuffer?(r=e,i+=N):(r=e.buffer,"[object Int8Array]"===n?i+=D:"[object Uint8Array]"===n?i+=j:"[object Uint8ClampedArray]"===n?i+=F:"[object Int16Array]"===n?i+=B:"[object Uint16Array]"===n?i+=H:"[object Int32Array]"===n?i+=U:"[object Uint32Array]"===n?i+=V:"[object Float32Array]"===n?i+=z:"[object Float64Array]"===n?i+=q:t(new Error("Failed to get type for BinaryArray"))),t(i+W(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+e.type+"~"+W(this.result);t(M+L+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){t(null,n)}},deserialize:function(e){if(e.substring(0,9)!==M)return JSON.parse(e);var t,n=e.substring(13),r=e.substring(9,13);if(r===L&&P.test(n)){var i=n.match(P);t=i[1],n=n.substring(i[0].length)}var a=G(n);switch(r){case N:return a;case L:return o([a],{type:t});case D:return new Int8Array(a);case j:return new Uint8Array(a);case F:return new Uint8ClampedArray(a);case B:return new Int16Array(a);case H:return new Uint16Array(a);case U:return new Int32Array(a);case V:return new Uint32Array(a);case z:return new Float32Array(a);case q:return new Float64Array(a);default:throw new Error("Unkown type: "+r)}},stringToBuffer:G,bufferToString:W};function Z(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function $(e,t,n,r,i,o){e.executeSql(n,r,i,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?o(e,a):Z(e,t,(function(){e.executeSql(n,r,i,o)}),o)}),o):o(e,a)}),o)}function K(e,t,n,r){var i=this;e=l(e);var o=new a((function(o,a){i.ready().then((function(){void 0===t&&(t=null);var s=t,c=i._dbInfo;c.serializer.serialize(t,(function(t,l){l?a(l):c.db.transaction((function(n){$(n,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){o(s)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void o(K.apply(i,[e,s,n,r-1]));a(t)}}))}))})).catch(a)}));return s(o,n),o}var X={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new a((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(i){Z(i,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=Q,i},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new a((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){$(n,i,"SELECT * FROM "+i.storeName,[],(function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var c=o.item(s),l=c.value;if(l&&(l=i.serializer.deserialize(l)),void 0!==(l=e(l,c.key,s+1)))return void t(l)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},getItem:function(e,t){var n=this;e=l(e);var r=new a((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){$(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},setItem:function(e,t,n){return K.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=l(e);var r=new a((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){$(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},clear:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){$(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},length:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){$(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},key:function(e,t){var n=this,r=new a((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){$(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},keys:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){$(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},dropInstance:function(e,t){t=u.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;return s(r=e.name?new a((function(t){var r;r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(function(e){return new a((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}(r))})).then((function(e){return new a((function(t,n){e.db.transaction((function(r){function i(e){return new a((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var o=[],s=0,c=e.storeNames.length;s<c;s++)o.push(i(e.storeNames[s]));a.all(o).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):a.reject("Invalid arguments"),t),r}};function Y(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function ee(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0}var te={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=Y(e,this._defaultConfig),ee()?(this._dbInfo=t,t.serializer=Q,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var c=localStorage.key(s);if(0===c.indexOf(r)){var l=localStorage.getItem(c);if(l&&(l=t.serializer.deserialize(l)),void 0!==(l=e(l,c.substring(i),a++)))return l}}}));return s(r,t),r},getItem:function(e,t){var n=this;e=l(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return s(r,t),r},setItem:function(e,t,n){var r=this;e=l(e);var i=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new a((function(i,o){var a=r._dbInfo;a.serializer.serialize(t,(function(t,r){if(r)o(r);else try{localStorage.setItem(a.keyPrefix+e,t),i(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}}))}))}));return s(i,n),i},removeItem:function(e,t){var n=this;e=l(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return s(r,t),r},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return s(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return s(t,e),t},key:function(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return s(r,t),r},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r}));return s(n,e),n},dropInstance:function(e,t){if(t=u.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,i=this;return r=e.name?new a((function(t){e.storeName?t(Y(e,i._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):a.reject("Invalid arguments"),s(r,t),r}},ne=function(e,t){for(var n=e.length,r=0;r<n;){if((i=e[r])===(o=t)||"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))return!0;r++}var i,o;return!1},re=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ie={},oe={},ae={INDEXEDDB:I,WEBSQL:X,LOCALSTORAGE:te},se=[ae.INDEXEDDB._driver,ae.WEBSQL._driver,ae.LOCALSTORAGE._driver],ce=["dropInstance"],le=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ce),ue={description:"",driver:se.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function de(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function he(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(re(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var pe=function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ae)if(ae.hasOwnProperty(n)){var r=ae[n],i=r._driver;this[n]=i,ie[i]||this.defineDriver(r)}this._defaultConfig=he({},ue),this._config=he({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new a((function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var o=le.concat("_initStorage"),c=0,l=o.length;c<l;c++){var u=o[c];if((!ne(ce,u)||e[u])&&"function"!=typeof e[u])return void n(i)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=a.reject(t);return s(n,arguments[arguments.length-1]),n}},n=0,r=ce.length;n<r;n++){var i=ce[n];e[i]||(e[i]=t(i))}}();var d=function(n){ie[r],ie[r]=e,oe[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(d,n):d(!!e._support):d(!0)}catch(e){n(e)}}));return c(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=ie[e]?a.resolve(ie[e]):a.reject(new Error("Driver not found."));return c(r,t,n),r},e.prototype.getSerializer=function(e){var t=a.resolve(Q);return c(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return c(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;re(e)||(e=[e]);var i=this._getSupportedDrivers(e);function o(){r._config.driver=r.driver()}function s(e){return r._extend(e),o(),r._ready=r._initStorage(r._config),r._ready}var l=null!==this._driverSet?this._driverSet.catch((function(){return a.resolve()})):a.resolve();return this._driverSet=l.then((function(){var e=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var i=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(s).catch(n)}o();var c=new Error("No available storage method found.");return r._driverSet=a.reject(c),r._driverSet}()}}(i)}))})).catch((function(){o();var e=new Error("No available storage method found.");return r._driverSet=a.reject(e),r._driverSet})),c(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!oe[e]},e.prototype._extend=function(e){he(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=le.length;e<t;e++)de(this,le[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),fe=new pe;t.exports=fe},{3:3}]},{},[4])(4)},1296:function(e,t,n){var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,u=c||l||Function("return this")(),d=Object.prototype.toString,h=Math.max,p=Math.min,f=function(){return u.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=o.test(e);return n||a.test(e)?s(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,o,a,s,c,l=0,u=!1,d=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,o=i;return r=i=void 0,l=t,a=e.apply(o,n)}function _(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-l>=o}function b(){var e=f();if(_(e))return S(e);s=setTimeout(b,function(e){var n=t-(e-c);return d?p(n,o-(e-l)):n}(e))}function S(e){return s=void 0,g&&r?y(e):(r=i=void 0,a)}function w(){var e=f(),n=_(e);if(r=arguments,i=this,c=e,n){if(void 0===s)return function(e){return l=e,s=setTimeout(b,t),u?y(e):a}(c);if(d)return s=setTimeout(b,t),y(c)}return void 0===s&&(s=setTimeout(b,t)),a}return t=v(t)||0,m(n)&&(u=!!n.leading,o=(d="maxWait"in n)?h(v(n.maxWait)||0,t):o,g="trailing"in n?!!n.trailing:g),w.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=c=i=s=void 0},w.flush=function(){return void 0===s?a:S(f())},w}},7418:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var o,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){a=t(o);for(var u=0;u<a.length;u++)r.call(o,a[u])&&(s[a[u]]=o[a[u]])}}return s}},2024:function(e,t,n){"use strict";var r=n(5877);e.exports={generate:function(){var e=r.v1();return e.substr(14,4)+e.substr(9,4)+e.substr(0,8)+e.substr(19,4)+e.substr(24,e.length)},toBinary16:function(e){return new Buffer(e,"hex")},fromBinary16:function(e){return e.toString("hex")}}},2703:function(e,t,n){"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5697:function(e,t,n){e.exports=n(2703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4598:function(e){e.exports='function _typeof(obj){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj;}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;},_typeof(obj);}/*!\n * jQuery JavaScript Library v3.5.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2020-05-04T22:49Z\n */(function(global,factory){"use strict";if((typeof module==="undefined"?"undefined":_typeof(module))==="object"&&_typeof(module.exports)==="object"){// For CommonJS and CommonJS-like environments where a proper `window`\n// is present, execute the factory and get jQuery.\n// For environments that do not have a `window` with a `document`\n// (such as Node.js), expose a factory as module.exports.\n// This accentuates the need for the creation of a real `window`.\n// e.g. var jQuery = require("jquery")(window);\n// See ticket #14549 for more info.\nmodule.exports=global.document?factory(global,true):function(w){if(!w.document){throw new Error("jQuery requires a window with a document");}return factory(w);};}else{factory(global);}// Pass this if window is not defined yet\n})(typeof window!=="undefined"?window:this,function(window,noGlobal){// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1\n// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode\n// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common\n// enough that all such attempts are guarded in a try block.\n"use strict";var arr=[];var getProto=Object.getPrototypeOf;var _slice=arr.slice;var flat=arr.flat?function(array){return arr.flat.call(array);}:function(array){return arr.concat.apply([],array);};var push=arr.push;var indexOf=arr.indexOf;var class2type={};var toString=class2type.toString;var hasOwn=class2type.hasOwnProperty;var fnToString=hasOwn.toString;var ObjectFunctionString=fnToString.call(Object);var support={};var isFunction=function isFunction(obj){// Support: Chrome <=57, Firefox <=52\n// In some browsers, typeof returns "function" for HTML <object> elements\n// (i.e., `typeof document.createElement( "object" ) === "function"`).\n// We don\'t want to classify *any* DOM node as a function.\nreturn typeof obj==="function"&&typeof obj.nodeType!=="number";};var isWindow=function isWindow(obj){return obj!=null&&obj===obj.window;};var document=window.document;var preservedScriptAttributes={type:true,src:true,nonce:true,noModule:true};function DOMEval(code,node,doc){doc=doc||document;var i,val,script=doc.createElement("script");script.text=code;if(node){for(i in preservedScriptAttributes){// Support: Firefox 64+, Edge 18+\n// Some browsers don\'t support the "nonce" property on scripts.\n// On the other hand, just using `getAttribute` is not enough as\n// the `nonce` attribute is reset to an empty string whenever it\n// becomes browsing-context connected.\n// See https://github.com/whatwg/html/issues/2369\n// See https://html.spec.whatwg.org/#nonce-attributes\n// The `node.getAttribute` check was added for the sake of\n// `jQuery.globalEval` so that it can fake a nonce-containing node\n// via an object.\nval=node[i]||node.getAttribute&&node.getAttribute(i);if(val){script.setAttribute(i,val);}}}doc.head.appendChild(script).parentNode.removeChild(script);}function toType(obj){if(obj==null){return obj+"";}// Support: Android <=2.3 only (functionish RegExp)\nreturn _typeof(obj)==="object"||typeof obj==="function"?class2type[toString.call(obj)]||"object":_typeof(obj);}/* global Symbol */ // Defining this global in .eslintrc.json would create a danger of using the global\n// unguarded in another place, it seems safer to define global only for this module\nvar version="3.5.1",// Define a local copy of jQuery\njQuery=function jQuery(selector,context){// The jQuery object is actually just the init constructor \'enhanced\'\n// Need init if jQuery is called (just allow error to be thrown if not included)\nreturn new jQuery.fn.init(selector,context);};jQuery.fn=jQuery.prototype={// The current version of jQuery being used\njquery:version,constructor:jQuery,// The default length of a jQuery object is 0\nlength:0,toArray:function toArray(){return _slice.call(this);},// Get the Nth element in the matched element set OR\n// Get the whole matched element set as a clean array\nget:function get(num){// Return all the elements in a clean array\nif(num==null){return _slice.call(this);}// Return just the one element from the set\nreturn num<0?this[num+this.length]:this[num];},// Take an array of elements and push it onto the stack\n// (returning the new matched element set)\npushStack:function pushStack(elems){// Build a new jQuery matched element set\nvar ret=jQuery.merge(this.constructor(),elems);// Add the old object onto the stack (as a reference)\nret.prevObject=this;// Return the newly-formed element set\nreturn ret;},// Execute a callback for every element in the matched set.\neach:function each(callback){return jQuery.each(this,callback);},map:function map(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem);}));},slice:function slice(){return this.pushStack(_slice.apply(this,arguments));},first:function first(){return this.eq(0);},last:function last(){return this.eq(-1);},even:function even(){return this.pushStack(jQuery.grep(this,function(_elem,i){return(i+1)%2;}));},odd:function odd(){return this.pushStack(jQuery.grep(this,function(_elem,i){return i%2;}));},eq:function eq(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[]);},end:function end(){return this.prevObject||this.constructor();},// For internal use only.\n// Behaves like an Array\'s method, not like a jQuery method.\npush:push,sort:arr.sort,splice:arr.splice};jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;// Handle a deep copy situation\nif(typeof target==="boolean"){deep=target;// Skip the boolean and the target\ntarget=arguments[i]||{};i++;}// Handle case when target is a string or something (possible in deep copy)\nif(_typeof(target)!=="object"&&!isFunction(target)){target={};}// Extend jQuery itself if only one argument is passed\nif(i===length){target=this;i--;}for(;i<length;i++){// Only deal with non-null/undefined values\nif((options=arguments[i])!=null){// Extend the base object\nfor(name in options){copy=options[name];// Prevent Object.prototype pollution\n// Prevent never-ending loop\nif(name==="__proto__"||target===copy){continue;}// Recurse if we\'re merging plain objects or arrays\nif(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=Array.isArray(copy)))){src=target[name];// Ensure proper type for the source value\nif(copyIsArray&&!Array.isArray(src)){clone=[];}else if(!copyIsArray&&!jQuery.isPlainObject(src)){clone={};}else{clone=src;}copyIsArray=false;// Never move original objects, clone them\ntarget[name]=jQuery.extend(deep,clone,copy);// Don\'t bring in undefined values\n}else if(copy!==undefined){target[name]=copy;}}}}// Return the modified object\nreturn target;};jQuery.extend({// Unique for each copy of jQuery on the page\nexpando:"jQuery"+(version+Math.random()).replace(/\\D/g,""),// Assume jQuery is ready without the ready module\nisReady:true,error:function error(msg){throw new Error(msg);},noop:function noop(){},isPlainObject:function isPlainObject(obj){var proto,Ctor;// Detect obvious negatives\n// Use toString instead of jQuery.type to catch host objects\nif(!obj||toString.call(obj)!=="[object Object]"){return false;}proto=getProto(obj);// Objects with no prototype (e.g., `Object.create( null )`) are plain\nif(!proto){return true;}// Objects with prototype are plain iff they were constructed by a global Object function\nCtor=hasOwn.call(proto,"constructor")&&proto.constructor;return typeof Ctor==="function"&&fnToString.call(Ctor)===ObjectFunctionString;},isEmptyObject:function isEmptyObject(obj){var name;for(name in obj){return false;}return true;},// Evaluates a script in a provided context; falls back to the global one\n// if not specified.\nglobalEval:function globalEval(code,options,doc){DOMEval(code,{nonce:options&&options.nonce},doc);},each:function each(obj,callback){var length,i=0;if(isArrayLike(obj)){length=obj.length;for(;i<length;i++){if(callback.call(obj[i],i,obj[i])===false){break;}}}else{for(i in obj){if(callback.call(obj[i],i,obj[i])===false){break;}}}return obj;},// results is for internal usage only\nmakeArray:function makeArray(arr,results){var ret=results||[];if(arr!=null){if(isArrayLike(Object(arr))){jQuery.merge(ret,typeof arr==="string"?[arr]:arr);}else{push.call(ret,arr);}}return ret;},inArray:function inArray(elem,arr,i){return arr==null?-1:indexOf.call(arr,elem,i);},// Support: Android <=4.0 only, PhantomJS 1 only\n// push.apply(_, arraylike) throws on ancient WebKit\nmerge:function merge(first,second){var len=+second.length,j=0,i=first.length;for(;j<len;j++){first[i++]=second[j];}first.length=i;return first;},grep:function grep(elems,callback,invert){var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;// Go through the array, only saving the items\n// that pass the validator function\nfor(;i<length;i++){callbackInverse=!callback(elems[i],i);if(callbackInverse!==callbackExpect){matches.push(elems[i]);}}return matches;},// arg is for internal usage only\nmap:function map(elems,callback,arg){var length,value,i=0,ret=[];// Go through the array, translating each of the items to their new values\nif(isArrayLike(elems)){length=elems.length;for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret.push(value);}}// Go through every key on the object,\n}else{for(i in elems){value=callback(elems[i],i,arg);if(value!=null){ret.push(value);}}}// Flatten any nested arrays\nreturn flat(ret);},// A global GUID counter for objects\nguid:1,// jQuery.support is not used in Core but other projects attach their\n// properties to it so it needs to exist.\nsupport:support});if(typeof Symbol==="function"){jQuery.fn[Symbol.iterator]=arr[Symbol.iterator];}// Populate the class2type map\njQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(_i,name){class2type["[object "+name+"]"]=name.toLowerCase();});function isArrayLike(obj){// Support: real iOS 8.2 only (not reproducible in simulator)\n// `in` check used to prevent JIT error (gh-2145)\n// hasOwn isn\'t used here due to false negatives\n// regarding Nodelist length in IE\nvar length=!!obj&&"length"in obj&&obj.length,type=toType(obj);if(isFunction(obj)||isWindow(obj)){return false;}return type==="array"||length===0||typeof length==="number"&&length>0&&length-1 in obj;}var Sizzle=/*!\n * Sizzle CSS Selector Engine v2.3.5\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2020-03-14\n */function(window){var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,// Local document vars\nsetDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,// Instance-specific data\nexpando="sizzle"+1*new Date(),preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),nonnativeSelectorCache=createCache(),sortOrder=function sortOrder(a,b){if(a===b){hasDuplicate=true;}return 0;},// Instance methods\nhasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,pushNative=arr.push,push=arr.push,slice=arr.slice,// Use a stripped-down indexOf as it\'s faster than native\n// https://jsperf.com/thor-indexof-vs-for/5\nindexOf=function indexOf(list,elem){var i=0,len=list.length;for(;i<len;i++){if(list[i]===elem){return i;}}return-1;},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|"+"ismap|loop|multiple|open|readonly|required|scoped",// Regular expressions\n// http://www.w3.org/TR/css3-selectors/#whitespace\nwhitespace="[\\\\x20\\\\t\\\\r\\\\n\\\\f]",// https://www.w3.org/TR/css-syntax-3/#ident-token-diagram\nidentifier="(?:\\\\\\\\[\\\\da-fA-F]{1,6}"+whitespace+"?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+",// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\nattributes="\\\\["+whitespace+"*("+identifier+")(?:"+whitespace+// Operator (capture 2)\n"*([*^$|!~]?=)"+whitespace+// "Attribute values must be CSS identifiers [capture 5]\n// or strings [capture 3 or capture 4]"\n"*(?:\'((?:\\\\\\\\.|[^\\\\\\\\\'])*)\'|\\"((?:\\\\\\\\.|[^\\\\\\\\\\"])*)\\"|("+identifier+"))|)"+whitespace+"*\\\\]",pseudos=":("+identifier+")(?:\\\\(("+// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n// 1. quoted (capture 3; capture 4 or capture 5)\n"(\'((?:\\\\\\\\.|[^\\\\\\\\\'])*)\'|\\"((?:\\\\\\\\.|[^\\\\\\\\\\"])*)\\")|"+// 2. simple (capture 6)\n"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|"+attributes+")*)|"+// 3. anything else (capture 2)\n".*"+")\\\\)|)",// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\nrwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rdescend=new RegExp(whitespace+"|>"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={"ID":new RegExp("^#("+identifier+")"),"CLASS":new RegExp("^\\\\.("+identifier+")"),"TAG":new RegExp("^("+identifier+"|[*])"),"ATTR":new RegExp("^"+attributes),"PSEUDO":new RegExp("^"+pseudos),"CHILD":new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\("+whitespace+"*(even|odd|(([+-]|)(\\\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\\\d+)|))"+whitespace+"*\\\\)|)","i"),"bool":new RegExp("^(?:"+booleans+")$","i"),// For use in libraries implementing .is()\n// We use this for POS matching in `select`\n"needsContext":new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\("+whitespace+"*((?:-\\\\d)?\\\\d*)"+whitespace+"*\\\\)|)(?=[^-]|$)","i")},rhtml=/HTML$/i,rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\\d$/i,rnative=/^[^{]+\\{\\s*\\[native \\w/,// Easily-parseable/retrievable ID or TAG or CLASS selectors\nrquickExpr=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,rsibling=/[+~]/,// CSS escapes\n// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\nrunescape=new RegExp("\\\\\\\\[\\\\da-fA-F]{1,6}"+whitespace+"?|\\\\\\\\([^\\\\r\\\\n\\\\f])","g"),funescape=function funescape(escape,nonHex){var high="0x"+escape.slice(1)-0x10000;return nonHex?// Strip the backslash prefix from a non-hex escape sequence\nnonHex:// Replace a hexadecimal escape sequence with the encoded Unicode code point\n// Support: IE <=11+\n// For values outside the Basic Multilingual Plane (BMP), manually construct a\n// surrogate pair\nhigh<0?String.fromCharCode(high+0x10000):String.fromCharCode(high>>10|0xD800,high&0x3FF|0xDC00);},// CSS string/identifier serialization\n// https://drafts.csswg.org/cssom/#common-serializing-idioms\nrcssescape=/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,fcssescape=function fcssescape(ch,asCodePoint){if(asCodePoint){// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\nif(ch==="\\0"){return"\\uFFFD";}// Control characters and (dependent upon position) numbers get escaped as code points\nreturn ch.slice(0,-1)+"\\\\"+ch.charCodeAt(ch.length-1).toString(16)+" ";}// Other potentially-special ASCII characters get backslash-escaped\nreturn"\\\\"+ch;},// Used for iframes\n// See setDocument()\n// Removing the function wrapper causes a "Permission Denied"\n// error in IE\nunloadHandler=function unloadHandler(){setDocument();},inDisabledFieldset=addCombinator(function(elem){return elem.disabled===true&&elem.nodeName.toLowerCase()==="fieldset";},{dir:"parentNode",next:"legend"});// Optimize for push.apply( _, NodeList )\ntry{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes);// Support: Android<4.0\n// Detect silently failing push.apply\n// eslint-disable-next-line no-unused-expressions\narr[preferredDoc.childNodes.length].nodeType;}catch(e){push={apply:arr.length?// Leverage slice if possible\nfunction(target,els){pushNative.apply(target,slice.call(els));}:// Support: IE<9\n// Otherwise append directly\nfunction(target,els){var j=target.length,i=0;// Can\'t trust NodeList.length\nwhile(target[j++]=els[i++]){}target.length=j-1;}};}function Sizzle(selector,context,results,seed){var m,i,elem,nid,match,groups,newSelector,newContext=context&&context.ownerDocument,// nodeType defaults to 9, since context defaults to document\nnodeType=context?context.nodeType:9;results=results||[];// Return early from calls with invalid selector or context\nif(typeof selector!=="string"||!selector||nodeType!==1&&nodeType!==9&&nodeType!==11){return results;}// Try to shortcut find operations (as opposed to filters) in HTML documents\nif(!seed){setDocument(context);context=context||document;if(documentIsHTML){// If the selector is sufficiently simple, try using a "get*By*" DOM method\n// (excepting DocumentFragment context, where the methods don\'t exist)\nif(nodeType!==11&&(match=rquickExpr.exec(selector))){// ID selector\nif(m=match[1]){// Document context\nif(nodeType===9){if(elem=context.getElementById(m)){// Support: IE, Opera, Webkit\n// TODO: identify versions\n// getElementById can match elements by name instead of ID\nif(elem.id===m){results.push(elem);return results;}}else{return results;}// Element context\n}else{// Support: IE, Opera, Webkit\n// TODO: identify versions\n// getElementById can match elements by name instead of ID\nif(newContext&&(elem=newContext.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results;}}// Type selector\n}else if(match[2]){push.apply(results,context.getElementsByTagName(selector));return results;// Class selector\n}else if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName){push.apply(results,context.getElementsByClassName(m));return results;}}// Take advantage of querySelectorAll\nif(support.qsa&&!nonnativeSelectorCache[selector+" "]&&(!rbuggyQSA||!rbuggyQSA.test(selector))&&(// Support: IE 8 only\n// Exclude object elements\nnodeType!==1||context.nodeName.toLowerCase()!=="object")){newSelector=selector;newContext=context;// qSA considers elements outside a scoping root when evaluating child or\n// descendant combinators, which is not what we want.\n// In such cases, we work around the behavior by prefixing every selector in the\n// list with an ID selector referencing the scope context.\n// The technique has to be used as well when a leading combinator is used\n// as such selectors are not recognized by querySelectorAll.\n// Thanks to Andrew Dupont for this technique.\nif(nodeType===1&&(rdescend.test(selector)||rcombinators.test(selector))){// Expand context for sibling selectors\nnewContext=rsibling.test(selector)&&testContext(context.parentNode)||context;// We can use :scope instead of the ID hack if the browser\n// supports it & if we\'re not changing the context.\nif(newContext!==context||!support.scope){// Capture the context ID, setting it first if necessary\nif(nid=context.getAttribute("id")){nid=nid.replace(rcssescape,fcssescape);}else{context.setAttribute("id",nid=expando);}}// Prefix every selector in the list\ngroups=tokenize(selector);i=groups.length;while(i--){groups[i]=(nid?"#"+nid:":scope")+" "+toSelector(groups[i]);}newSelector=groups.join(",");}try{push.apply(results,newContext.querySelectorAll(newSelector));return results;}catch(qsaError){nonnativeSelectorCache(selector,true);}finally{if(nid===expando){context.removeAttribute("id");}}}}}// All others\nreturn select(selector.replace(rtrim,"$1"),context,results,seed);}/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */function createCache(){var keys=[];function cache(key,value){// Use (key + " ") to avoid collision with native prototype properties (see Issue #157)\nif(keys.push(key+" ")>Expr.cacheLength){// Only keep the most recent entries\ndelete cache[keys.shift()];}return cache[key+" "]=value;}return cache;}/**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */function markFunction(fn){fn[expando]=true;return fn;}/**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */function assert(fn){var el=document.createElement("fieldset");try{return!!fn(el);}catch(e){return false;}finally{// Remove from its parent by default\nif(el.parentNode){el.parentNode.removeChild(el);}// release memory in IE\nel=null;}}/**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */function addHandle(attrs,handler){var arr=attrs.split("|"),i=arr.length;while(i--){Expr.attrHandle[arr[i]]=handler;}}/**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */function siblingCheck(a,b){var cur=b&&a,diff=cur&&a.nodeType===1&&b.nodeType===1&&a.sourceIndex-b.sourceIndex;// Use IE sourceIndex if available on both nodes\nif(diff){return diff;}// Check if b follows a\nif(cur){while(cur=cur.nextSibling){if(cur===b){return-1;}}}return a?1:-1;}/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type;};}/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type;};}/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */function createDisabledPseudo(disabled){// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\nreturn function(elem){// Only certain elements can match :enabled or :disabled\n// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\n// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\nif("form"in elem){// Check for inherited disabledness on relevant non-disabled elements:\n// * listed form-associated elements in a disabled fieldset\n//   https://html.spec.whatwg.org/multipage/forms.html#category-listed\n//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\n// * option elements in a disabled optgroup\n//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\n// All such elements have a "form" property.\nif(elem.parentNode&&elem.disabled===false){// Option elements defer to a parent optgroup if present\nif("label"in elem){if("label"in elem.parentNode){return elem.parentNode.disabled===disabled;}else{return elem.disabled===disabled;}}// Support: IE 6 - 11\n// Use the isDisabled shortcut property to check for disabled fieldset ancestors\nreturn elem.isDisabled===disabled||// Where there is no isDisabled, check manually\n/* jshint -W018 */elem.isDisabled!==!disabled&&inDisabledFieldset(elem)===disabled;}return elem.disabled===disabled;// Try to winnow out elements that can\'t be disabled before trusting the disabled property.\n// Some victims get caught in our net (label, legend, menu, track), but it shouldn\'t\n// even exist on them, let alone have a boolean value.\n}else if("label"in elem){return elem.disabled===disabled;}// Remaining elements are neither :enabled nor :disabled\nreturn false;};}/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;// Match elements found at the specified indexes\nwhile(i--){if(seed[j=matchIndexes[i]]){seed[j]=!(matches[j]=seed[j]);}}});});}/**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */function testContext(context){return context&&typeof context.getElementsByTagName!=="undefined"&&context;}// Expose support vars for convenience\nsupport=Sizzle.support={};/**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */isXML=Sizzle.isXML=function(elem){var namespace=elem.namespaceURI,docElem=(elem.ownerDocument||elem).documentElement;// Support: IE <=8\n// Assume HTML when documentElement doesn\'t yet exist, such as inside loading iframes\n// https://bugs.jquery.com/ticket/4833\nreturn!rhtml.test(namespace||docElem&&docElem.nodeName||"HTML");};/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */setDocument=Sizzle.setDocument=function(node){var hasCompare,subWindow,doc=node?node.ownerDocument||node:preferredDoc;// Return early if doc is invalid or already selected\n// Support: IE 11+, Edge 17 - 18+\n// IE/Edge sometimes throw a "Permission denied" error when strict-comparing\n// two documents; shallow comparisons work.\n// eslint-disable-next-line eqeqeq\nif(doc==document||doc.nodeType!==9||!doc.documentElement){return document;}// Update global variables\ndocument=doc;docElem=document.documentElement;documentIsHTML=!isXML(document);// Support: IE 9 - 11+, Edge 12 - 18+\n// Accessing iframe documents after unload throws "permission denied" errors (jQuery #13936)\n// Support: IE 11+, Edge 17 - 18+\n// IE/Edge sometimes throw a "Permission denied" error when strict-comparing\n// two documents; shallow comparisons work.\n// eslint-disable-next-line eqeqeq\nif(preferredDoc!=document&&(subWindow=document.defaultView)&&subWindow.top!==subWindow){// Support: IE 11, Edge\nif(subWindow.addEventListener){subWindow.addEventListener("unload",unloadHandler,false);// Support: IE 9 - 10 only\n}else if(subWindow.attachEvent){subWindow.attachEvent("onunload",unloadHandler);}}// Support: IE 8 - 11+, Edge 12 - 18+, Chrome <=16 - 25 only, Firefox <=3.6 - 31 only,\n// Safari 4 - 5 only, Opera <=11.6 - 12.x only\n// IE/Edge & older browsers don\'t support the :scope pseudo-class.\n// Support: Safari 6.0 only\n// Safari 6.0 supports :scope but it\'s an alias of :root there.\nsupport.scope=assert(function(el){docElem.appendChild(el).appendChild(document.createElement("div"));return typeof el.querySelectorAll!=="undefined"&&!el.querySelectorAll(":scope fieldset div").length;});/* Attributes\n\t---------------------------------------------------------------------- */ // Support: IE<8\n// Verify that getAttribute really returns attributes and not properties\n// (excepting IE8 booleans)\nsupport.attributes=assert(function(el){el.className="i";return!el.getAttribute("className");});/* getElement(s)By*\n\t---------------------------------------------------------------------- */ // Check if getElementsByTagName("*") returns only elements\nsupport.getElementsByTagName=assert(function(el){el.appendChild(document.createComment(""));return!el.getElementsByTagName("*").length;});// Support: IE<9\nsupport.getElementsByClassName=rnative.test(document.getElementsByClassName);// Support: IE<10\n// Check if getElementById returns elements by name\n// The broken getElementById methods don\'t pick up programmatically-set names,\n// so use a roundabout getElementsByName test\nsupport.getById=assert(function(el){docElem.appendChild(el).id=expando;return!document.getElementsByName||!document.getElementsByName(expando).length;});// ID filter and find\nif(support.getById){Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId;};};Expr.find["ID"]=function(id,context){if(typeof context.getElementById!=="undefined"&&documentIsHTML){var elem=context.getElementById(id);return elem?[elem]:[];}};}else{Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!=="undefined"&&elem.getAttributeNode("id");return node&&node.value===attrId;};};// Support: IE 6 - 7 only\n// getElementById is not reliable as a find shortcut\nExpr.find["ID"]=function(id,context){if(typeof context.getElementById!=="undefined"&&documentIsHTML){var node,i,elems,elem=context.getElementById(id);if(elem){// Verify the id attribute\nnode=elem.getAttributeNode("id");if(node&&node.value===id){return[elem];}// Fall back on getElementsByName\nelems=context.getElementsByName(id);i=0;while(elem=elems[i++]){node=elem.getAttributeNode("id");if(node&&node.value===id){return[elem];}}}return[];}};}// Tag\nExpr.find["TAG"]=support.getElementsByTagName?function(tag,context){if(typeof context.getElementsByTagName!=="undefined"){return context.getElementsByTagName(tag);// DocumentFragment nodes don\'t have gEBTN\n}else if(support.qsa){return context.querySelectorAll(tag);}}:function(tag,context){var elem,tmp=[],i=0,// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\nresults=context.getElementsByTagName(tag);// Filter out possible comments\nif(tag==="*"){while(elem=results[i++]){if(elem.nodeType===1){tmp.push(elem);}}return tmp;}return results;};// Class\nExpr.find["CLASS"]=support.getElementsByClassName&&function(className,context){if(typeof context.getElementsByClassName!=="undefined"&&documentIsHTML){return context.getElementsByClassName(className);}};/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */ // QSA and matchesSelector support\n// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\nrbuggyMatches=[];// qSa(:focus) reports false when true (Chrome 21)\n// We allow this because of a bug in IE8/9 that throws an error\n// whenever `document.activeElement` is accessed on an iframe\n// So, we allow :focus to pass through QSA all the time to avoid the IE error\n// See https://bugs.jquery.com/ticket/13378\nrbuggyQSA=[];if(support.qsa=rnative.test(document.querySelectorAll)){// Build QSA regex\n// Regex strategy adopted from Diego Perini\nassert(function(el){var input;// Select is set to empty string on purpose\n// This is to test IE\'s treatment of not explicitly\n// setting a boolean content attribute,\n// since its presence should be enough\n// https://bugs.jquery.com/ticket/12359\ndocElem.appendChild(el).innerHTML="<a id=\'"+expando+"\'></a>"+"<select id=\'"+expando+"-\\r\\\\\' msallowcapture=\'\'>"+"<option selected=\'\'></option></select>";// Support: IE8, Opera 11-12.16\n// Nothing should be selected when empty strings follow ^= or $= or *=\n// The test attribute must be unknown in Opera but "safe" for WinRT\n// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\nif(el.querySelectorAll("[msallowcapture^=\'\']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:\'\'|\\"\\")");}// Support: IE8\n// Boolean attributes and "value" are not treated correctly\nif(!el.querySelectorAll("[selected]").length){rbuggyQSA.push("\\\\["+whitespace+"*(?:value|"+booleans+")");}// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+\nif(!el.querySelectorAll("[id~="+expando+"-]").length){rbuggyQSA.push("~=");}// Support: IE 11+, Edge 15 - 18+\n// IE 11/Edge don\'t find elements on a `[name=\'\']` query in some cases.\n// Adding a temporary attribute to the document before the selection works\n// around the issue.\n// Interestingly, IE 10 & older don\'t seem to have the issue.\ninput=document.createElement("input");input.setAttribute("name","");el.appendChild(input);if(!el.querySelectorAll("[name=\'\']").length){rbuggyQSA.push("\\\\["+whitespace+"*name"+whitespace+"*="+whitespace+"*(?:\'\'|\\"\\")");}// Webkit/Opera - :checked should return selected option elements\n// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n// IE8 throws error here and will not see later tests\nif(!el.querySelectorAll(":checked").length){rbuggyQSA.push(":checked");}// Support: Safari 8+, iOS 8+\n// https://bugs.webkit.org/show_bug.cgi?id=136851\n// In-page `selector#id sibling-combinator selector` fails\nif(!el.querySelectorAll("a#"+expando+"+*").length){rbuggyQSA.push(".#.+[+~]");}// Support: Firefox <=3.6 - 5 only\n// Old Firefox doesn\'t throw on a badly-escaped identifier.\nel.querySelectorAll("\\\\\\f");rbuggyQSA.push("[\\\\r\\\\n\\\\f]");});assert(function(el){el.innerHTML="<a href=\'\' disabled=\'disabled\'></a>"+"<select disabled=\'disabled\'><option/></select>";// Support: Windows 8 Native Apps\n// The type and name attributes are restricted during .innerHTML assignment\nvar input=document.createElement("input");input.setAttribute("type","hidden");el.appendChild(input).setAttribute("name","D");// Support: IE8\n// Enforce case-sensitivity of name attribute\nif(el.querySelectorAll("[name=d]").length){rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?=");}// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n// IE8 throws error here and will not see later tests\nif(el.querySelectorAll(":enabled").length!==2){rbuggyQSA.push(":enabled",":disabled");}// Support: IE9-11+\n// IE\'s :disabled selector does not pick up the children of disabled fieldsets\ndocElem.appendChild(el).disabled=true;if(el.querySelectorAll(":disabled").length!==2){rbuggyQSA.push(":enabled",":disabled");}// Support: Opera 10 - 11 only\n// Opera 10-11 does not throw on post-comma invalid pseudos\nel.querySelectorAll("*,:x");rbuggyQSA.push(",.*:");});}if(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector)){assert(function(el){// Check to see if it\'s possible to do matchesSelector\n// on a disconnected node (IE 9)\nsupport.disconnectedMatch=matches.call(el,"*");// This should fail with an exception\n// Gecko does not error, returns false instead\nmatches.call(el,"[s!=\'\']:x");rbuggyMatches.push("!=",pseudos);});}rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|"));rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|"));/* Contains\n\t---------------------------------------------------------------------- */hasCompare=rnative.test(docElem.compareDocumentPosition);// Element contains another\n// Purposefully self-exclusive\n// As in, an element does not contain itself\ncontains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&(adown.contains?adown.contains(bup):a.compareDocumentPosition&&a.compareDocumentPosition(bup)&16));}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return true;}}}return false;};/* Sorting\n\t---------------------------------------------------------------------- */ // Document order sorting\nsortOrder=hasCompare?function(a,b){// Flag for duplicate removal\nif(a===b){hasDuplicate=true;return 0;}// Sort on method existence if only one input has compareDocumentPosition\nvar compare=!a.compareDocumentPosition-!b.compareDocumentPosition;if(compare){return compare;}// Calculate position if both inputs belong to the same document\n// Support: IE 11+, Edge 17 - 18+\n// IE/Edge sometimes throw a "Permission denied" error when strict-comparing\n// two documents; shallow comparisons work.\n// eslint-disable-next-line eqeqeq\ncompare=(a.ownerDocument||a)==(b.ownerDocument||b)?a.compareDocumentPosition(b):// Otherwise we know they are disconnected\n1;// Disconnected nodes\nif(compare&1||!support.sortDetached&&b.compareDocumentPosition(a)===compare){// Choose the first element that is related to our preferred document\n// Support: IE 11+, Edge 17 - 18+\n// IE/Edge sometimes throw a "Permission denied" error when strict-comparing\n// two documents; shallow comparisons work.\n// eslint-disable-next-line eqeqeq\nif(a==document||a.ownerDocument==preferredDoc&&contains(preferredDoc,a)){return-1;}// Support: IE 11+, Edge 17 - 18+\n// IE/Edge sometimes throw a "Permission denied" error when strict-comparing\n// two documents; shallow comparisons work.\n// eslint-disable-next-line eqeqeq\nif(b==document||b.ownerDocument==preferredDoc&&contains(preferredDoc,b)){return 1;}// Maintain original order\nreturn sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0;}return compare&4?-1:1;}:function(a,b){// Exit early if the nodes are identical\nif(a===b){hasDuplicate=true;return 0;}var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];// Parentless nodes are either documents or disconnected\nif(!aup||!bup){// Support: IE 11+, Edge 17 - 18+\n// IE/Edge sometimes throw a "Permission denied" error when strict-comparing\n// two documents; shallow comparisons work.\n/* eslint-disable eqeqeq */return a==document?-1:b==document?1:/* eslint-enable eqeqeq */aup?-1:bup?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0;// If the nodes are siblings, we can do a quick check\n}else if(aup===bup){return siblingCheck(a,b);}// Otherwise we need full lists of their ancestors for comparison\ncur=a;while(cur=cur.parentNode){ap.unshift(cur);}cur=b;while(cur=cur.parentNode){bp.unshift(cur);}// Walk down the tree looking for a discrepancy\nwhile(ap[i]===bp[i]){i++;}return i?// Do a sibling check if the nodes have a common ancestor\nsiblingCheck(ap[i],bp[i]):// Otherwise nodes in our document sort first\n// Support: IE 11+, Edge 17 - 18+\n// IE/Edge sometimes throw a "Permission denied" error when strict-comparing\n// two documents; shallow comparisons work.\n/* eslint-disable eqeqeq */ap[i]==preferredDoc?-1:bp[i]==preferredDoc?1:/* eslint-enable eqeqeq */0;};return document;};Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements);};Sizzle.matchesSelector=function(elem,expr){setDocument(elem);if(support.matchesSelector&&documentIsHTML&&!nonnativeSelectorCache[expr+" "]&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr))){try{var ret=matches.call(elem,expr);// IE 9\'s matchesSelector returns false on disconnected nodes\nif(ret||support.disconnectedMatch||// As well, disconnected nodes are said to be in a document\n// fragment in IE 9\nelem.document&&elem.document.nodeType!==11){return ret;}}catch(e){nonnativeSelectorCache(expr,true);}}return Sizzle(expr,document,null,[elem]).length>0;};Sizzle.contains=function(context,elem){// Set document vars if needed\n// Support: IE 11+, Edge 17 - 18+\n// IE/Edge sometimes throw a "Permission denied" error when strict-comparing\n// two documents; shallow comparisons work.\n// eslint-disable-next-line eqeqeq\nif((context.ownerDocument||context)!=document){setDocument(context);}return contains(context,elem);};Sizzle.attr=function(elem,name){// Set document vars if needed\n// Support: IE 11+, Edge 17 - 18+\n// IE/Edge sometimes throw a "Permission denied" error when strict-comparing\n// two documents; shallow comparisons work.\n// eslint-disable-next-line eqeqeq\nif((elem.ownerDocument||elem)!=document){setDocument(elem);}var fn=Expr.attrHandle[name.toLowerCase()],// Don\'t get fooled by Object.prototype properties (jQuery #13807)\nval=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):undefined;return val!==undefined?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null;};Sizzle.escape=function(sel){return(sel+"").replace(rcssescape,fcssescape);};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg);};/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;// Unless we *know* we can detect duplicates, assume their presence\nhasDuplicate=!support.detectDuplicates;sortInput=!support.sortStable&&results.slice(0);results.sort(sortOrder);if(hasDuplicate){while(elem=results[i++]){if(elem===results[i]){j=duplicates.push(i);}}while(j--){results.splice(duplicates[j],1);}}// Clear input after sorting to release objects\n// See https://github.com/jquery/sizzle/pull/225\nsortInput=null;return results;};/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(!nodeType){// If no nodeType, this is expected to be an array\nwhile(node=elem[i++]){// Do not traverse comment nodes\nret+=getText(node);}}else if(nodeType===1||nodeType===9||nodeType===11){// Use textContent for elements\n// innerText usage removed for consistency of new lines (jQuery #11153)\nif(typeof elem.textContent==="string"){return elem.textContent;}else{// Traverse its children\nfor(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem);}}}else if(nodeType===3||nodeType===4){return elem.nodeValue;}// Do not include comment or processing instruction nodes\nreturn ret;};Expr=Sizzle.selectors={// Can be adjusted by the user\ncacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{"ATTR":function ATTR(match){match[1]=match[1].replace(runescape,funescape);// Move the given value to match[3] whether quoted or unquoted\nmatch[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape);if(match[2]==="~="){match[3]=" "+match[3]+" ";}return match.slice(0,4);},"CHILD":function CHILD(match){/* matches from matchExpr["CHILD"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/match[1]=match[1].toLowerCase();if(match[1].slice(0,3)==="nth"){// nth-* requires argument\nif(!match[3]){Sizzle.error(match[0]);}// numeric x and y parameters for Expr.filter.CHILD\n// remember that false/true cast respectively to 0/1\nmatch[4]=+(match[4]?match[5]+(match[6]||1):2*(match[3]==="even"||match[3]==="odd"));match[5]=+(match[7]+match[8]||match[3]==="odd");// other types prohibit arguments\n}else if(match[3]){Sizzle.error(match[0]);}return match;},"PSEUDO":function PSEUDO(match){var excess,unquoted=!match[6]&&match[2];if(matchExpr["CHILD"].test(match[0])){return null;}// Accept quoted arguments as-is\nif(match[3]){match[2]=match[4]||match[5]||"";// Strip excess characters from unquoted arguments\n}else if(unquoted&&rpseudo.test(unquoted)&&(// Get excess from tokenize (recursively)\nexcess=tokenize(unquoted,true))&&(// advance to the next closing parenthesis\nexcess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){// excess is a negative index\nmatch[0]=match[0].slice(0,excess);match[2]=unquoted.slice(0,excess);}// Return only captures needed by the pseudo filter method (type and argument)\nreturn match.slice(0,3);}},filter:{"TAG":function TAG(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return nodeNameSelector==="*"?function(){return true;}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName;};},"CLASS":function CLASS(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(typeof elem.className==="string"&&elem.className||typeof elem.getAttribute!=="undefined"&&elem.getAttribute("class")||"");});},"ATTR":function ATTR(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);if(result==null){return operator==="!=";}if(!operator){return true;}result+="";/* eslint-disable max-len */return operator==="="?result===check:operator==="!="?result!==check:operator==="^="?check&&result.indexOf(check)===0:operator==="*="?check&&result.indexOf(check)>-1:operator==="$="?check&&result.slice(-check.length)===check:operator==="~="?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:operator==="|="?result===check||result.slice(0,check.length+1)===check+"-":false;/* eslint-enable max-len */};},"CHILD":function CHILD(type,what,_argument,first,last){var simple=type.slice(0,3)!=="nth",forward=type.slice(-4)!=="last",ofType=what==="of-type";return first===1&&last===0?// Shortcut for :nth-*(n)\nfunction(elem){return!!elem.parentNode;}:function(elem,_context,xml){var cache,uniqueCache,outerCache,node,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType,diff=false;if(parent){// :(first|last|only)-(child|of-type)\nif(simple){while(dir){node=elem;while(node=node[dir]){if(ofType?node.nodeName.toLowerCase()===name:node.nodeType===1){return false;}}// Reverse direction for :only-* (if we haven\'t yet done so)\nstart=dir=type==="only"&&!start&&"nextSibling";}return true;}start=[forward?parent.firstChild:parent.lastChild];// non-xml :nth-child(...) stores cache data on `parent`\nif(forward&&useCache){// Seek `elem` from a previously-cached index\n// ...in a gzip-friendly way\nnode=parent;outerCache=node[expando]||(node[expando]={});// Support: IE <9 only\n// Defend against cloned attroperties (jQuery gh-1709)\nuniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});cache=uniqueCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=nodeIndex&&cache[2];node=nodeIndex&&parent.childNodes[nodeIndex];while(node=++nodeIndex&&node&&node[dir]||(// Fallback to seeking `elem` from the start\ndiff=nodeIndex=0)||start.pop()){// When found, cache indexes on `parent` and break\nif(node.nodeType===1&&++diff&&node===elem){uniqueCache[type]=[dirruns,nodeIndex,diff];break;}}}else{// Use previously-cached element index if available\nif(useCache){// ...in a gzip-friendly way\nnode=elem;outerCache=node[expando]||(node[expando]={});// Support: IE <9 only\n// Defend against cloned attroperties (jQuery gh-1709)\nuniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});cache=uniqueCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=nodeIndex;}// xml :nth-child(...)\n// or :nth-last-child(...) or :nth(-last)?-of-type(...)\nif(diff===false){// Use the same loop as above to seek `elem` from the start\nwhile(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop()){if((ofType?node.nodeName.toLowerCase()===name:node.nodeType===1)&&++diff){// Cache the index of each encountered element\nif(useCache){outerCache=node[expando]||(node[expando]={});// Support: IE <9 only\n// Defend against cloned attroperties (jQuery gh-1709)\nuniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});uniqueCache[type]=[dirruns,diff];}if(node===elem){break;}}}}}// Incorporate the offset, then check against cycle size\ndiff-=last;return diff===first||diff%first===0&&diff/first>=0;}};},"PSEUDO":function PSEUDO(pseudo,argument){// pseudo-class names are case-insensitive\n// http://www.w3.org/TR/selectors/#pseudo-classes\n// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n// Remember that setFilters inherits from pseudos\nvar args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);// The user may use createPseudo to indicate that\n// arguments are needed to create the filter function\n// just as Sizzle does\nif(fn[expando]){return fn(argument);}// But maintain support for old signatures\nif(fn.length>1){args=[pseudo,pseudo,"",argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i]);}}):function(elem){return fn(elem,0,args);};}return fn;}},pseudos:{// Potentially complex pseudos\n"not":markFunction(function(selector){// Trim the selector passed to compile\n// to avoid treating leading and trailing\n// spaces as combinators\nvar input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,_context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;// Match elements unmatched by `matcher`\nwhile(i--){if(elem=unmatched[i]){seed[i]=!(matches[i]=elem);}}}):function(elem,_context,xml){input[0]=elem;matcher(input,null,xml,results);// Don\'t keep the element (issue #299)\ninput[0]=null;return!results.pop();};}),"has":markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0;};}),"contains":markFunction(function(text){text=text.replace(runescape,funescape);return function(elem){return(elem.textContent||getText(elem)).indexOf(text)>-1;};}),// "Whether an element is represented by a :lang() selector\n// is based solely on the element\'s language value\n// being equal to the identifier C,\n// or beginning with the identifier C immediately followed by "-".\n// The matching of C against the element\'s language value is performed case-insensitively.\n// The identifier C does not have to be a valid language name."\n// http://www.w3.org/TR/selectors/#lang-pseudo\n"lang":markFunction(function(lang){// lang value must be a valid identifier\nif(!ridentifier.test(lang||"")){Sizzle.error("unsupported lang: "+lang);}lang=lang.replace(runescape,funescape).toLowerCase();return function(elem){var elemLang;do{if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang")){elemLang=elemLang.toLowerCase();return elemLang===lang||elemLang.indexOf(lang+"-")===0;}}while((elem=elem.parentNode)&&elem.nodeType===1);return false;};}),// Miscellaneous\n"target":function target(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id;},"root":function root(elem){return elem===docElem;},"focus":function focus(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex);},// Boolean properties\n"enabled":createDisabledPseudo(false),"disabled":createDisabledPseudo(true),"checked":function checked(elem){// In CSS3, :checked should return both checked and selected elements\n// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\nvar nodeName=elem.nodeName.toLowerCase();return nodeName==="input"&&!!elem.checked||nodeName==="option"&&!!elem.selected;},"selected":function selected(elem){// Accessing this property makes selected-by-default\n// options in Safari work properly\nif(elem.parentNode){// eslint-disable-next-line no-unused-expressions\nelem.parentNode.selectedIndex;}return elem.selected===true;},// Contents\n"empty":function empty(elem){// http://www.w3.org/TR/selectors/#empty-pseudo\n// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n//   but not by others (comment: 8; processing instruction: 7; etc.)\n// nodeType < 6 works because attributes (2) do not appear as children\nfor(elem=elem.firstChild;elem;elem=elem.nextSibling){if(elem.nodeType<6){return false;}}return true;},"parent":function parent(elem){return!Expr.pseudos["empty"](elem);},// Element/input types\n"header":function header(elem){return rheader.test(elem.nodeName);},"input":function input(elem){return rinputs.test(elem.nodeName);},"button":function button(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button";},"text":function text(elem){var attr;return elem.nodeName.toLowerCase()==="input"&&elem.type==="text"&&(// Support: IE<8\n// New HTML5 attribute values (e.g., "search") appear with elem.type === "text"\n(attr=elem.getAttribute("type"))==null||attr.toLowerCase()==="text");},// Position-in-collection\n"first":createPositionalPseudo(function(){return[0];}),"last":createPositionalPseudo(function(_matchIndexes,length){return[length-1];}),"eq":createPositionalPseudo(function(_matchIndexes,length,argument){return[argument<0?argument+length:argument];}),"even":createPositionalPseudo(function(matchIndexes,length){var i=0;for(;i<length;i+=2){matchIndexes.push(i);}return matchIndexes;}),"odd":createPositionalPseudo(function(matchIndexes,length){var i=1;for(;i<length;i+=2){matchIndexes.push(i);}return matchIndexes;}),"lt":createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument>length?length:argument;for(;--i>=0;){matchIndexes.push(i);}return matchIndexes;}),"gt":createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;++i<length;){matchIndexes.push(i);}return matchIndexes;})}};Expr.pseudos["nth"]=Expr.pseudos["eq"];// Add button/input type pseudos\nfor(i in{radio:true,checkbox:true,file:true,password:true,image:true}){Expr.pseudos[i]=createInputPseudo(i);}for(i in{submit:true,reset:true}){Expr.pseudos[i]=createButtonPseudo(i);}// Easy API for creating new setFilters\nfunction setFilters(){}setFilters.prototype=Expr.filters=Expr.pseudos;Expr.setFilters=new setFilters();tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached){return parseOnly?0:cached.slice(0);}soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){// Comma and first run\nif(!matched||(match=rcomma.exec(soFar))){if(match){// Don\'t consume trailing commas as valid\nsoFar=soFar.slice(match[0].length)||soFar;}groups.push(tokens=[]);}matched=false;// Combinators\nif(match=rcombinators.exec(soFar)){matched=match.shift();tokens.push({value:matched,// Cast descendant combinators to space\ntype:match[0].replace(rtrim," ")});soFar=soFar.slice(matched.length);}// Filters\nfor(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){matched=match.shift();tokens.push({value:matched,type:type,matches:match});soFar=soFar.slice(matched.length);}}if(!matched){break;}}// Return the length of the invalid excess\n// if we\'re just parsing\n// Otherwise, throw an error or return tokens\nreturn parseOnly?soFar.length:soFar?Sizzle.error(selector):// Cache the tokens\ntokenCache(selector,groups).slice(0);};function toSelector(tokens){var i=0,len=tokens.length,selector="";for(;i<len;i++){selector+=tokens[i].value;}return selector;}function addCombinator(matcher,combinator,base){var dir=combinator.dir,skip=combinator.next,key=skip||dir,checkNonElements=base&&key==="parentNode",doneName=done++;return combinator.first?// Check against closest ancestor/preceding element\nfunction(elem,context,xml){while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){return matcher(elem,context,xml);}}return false;}:// Check against all ancestor/preceding elements\nfunction(elem,context,xml){var oldCache,uniqueCache,outerCache,newCache=[dirruns,doneName];// We can\'t set arbitrary data on XML nodes, so they don\'t benefit from combinator caching\nif(xml){while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){if(matcher(elem,context,xml)){return true;}}}}else{while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){outerCache=elem[expando]||(elem[expando]={});// Support: IE <9 only\n// Defend against cloned attroperties (jQuery gh-1709)\nuniqueCache=outerCache[elem.uniqueID]||(outerCache[elem.uniqueID]={});if(skip&&skip===elem.nodeName.toLowerCase()){elem=elem[dir]||elem;}else if((oldCache=uniqueCache[key])&&oldCache[0]===dirruns&&oldCache[1]===doneName){// Assign to newCache so results back-propagate to previous elements\nreturn newCache[2]=oldCache[2];}else{// Reuse newcache so results back-propagate to previous elements\nuniqueCache[key]=newCache;// A match means we\'re done; a fail means we have to keep checking\nif(newCache[2]=matcher(elem,context,xml)){return true;}}}}}return false;};}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return false;}}return true;}:matchers[0];}function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results);}return results;}function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++){if(elem=unmatched[i]){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(mapped){map.push(i);}}}}return newUnmatched;}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter);}if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector);}return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,// Get initial elements from seed or context\nelems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),// Prefilter to get matcher input, preserving a map for seed-results synchronization\nmatcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\npostFinder||(seed?preFilter:preexisting||postFilter)?// ...intermediate processing is necessary\n[]:// ...otherwise use results directly\nresults:matcherIn;// Find primary matches\nif(matcher){matcher(matcherIn,matcherOut,context,xml);}// Apply postFilter\nif(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);// Un-match failing elements by moving them back to matcherIn\ni=temp.length;while(i--){if(elem=temp[i]){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem);}}}if(seed){if(postFinder||preFilter){if(postFinder){// Get the final matcherOut by condensing this intermediate into postFinder contexts\ntemp=[];i=matcherOut.length;while(i--){if(elem=matcherOut[i]){// Restore matcherIn since elem is not yet a final match\ntemp.push(matcherIn[i]=elem);}}postFinder(null,matcherOut=[],temp,xml);}// Move matched elements from seed to results to keep them synchronized\ni=matcherOut.length;while(i--){if((elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1){seed[temp]=!(results[temp]=elem);}}}// Add elements to results, through postFinder if defined\n}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml);}else{push.apply(results,matcherOut);}}});}function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,// The foundational matcher ensures that elements are reachable from top-level context(s)\nmatchContext=addCombinator(function(elem){return elem===checkContext;},implicitRelative,true),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)>-1;},implicitRelative,true),matchers=[function(elem,context,xml){var ret=!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));// Avoid hanging onto element (issue #299)\ncheckContext=null;return ret;}];for(;i<len;i++){if(matcher=Expr.relative[tokens[i].type]){matchers=[addCombinator(elementMatcher(matchers),matcher)];}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);// Return special upon seeing a positional matcher\nif(matcher[expando]){// Find the next relative operator (if any) for proper handling\nj=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break;}}return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(// If the preceding token was a descendant combinator, insert an implicit any-element `*`\ntokens.slice(0,i-1).concat({value:tokens[i-2].type===" "?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&toSelector(tokens));}matchers.push(matcher);}}return elementMatcher(matchers);}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function superMatcher(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,// We must always have either seed elements or outermost context\nelems=seed||byElement&&Expr.find["TAG"]("*",outermost),// Use integer dirruns iff this is the outermost matcher\ndirrunsUnique=dirruns+=contextBackup==null?1:Math.random()||0.1,len=elems.length;if(outermost){// Support: IE 11+, Edge 17 - 18+\n// IE/Edge sometimes throw a "Permission denied" error when strict-comparing\n// two documents; shallow comparisons work.\n// eslint-disable-next-line eqeqeq\noutermostContext=context==document||context||outermost;}// Add elements passing elementMatchers directly to results\n// Support: IE<9, Safari\n// Tolerate NodeList properties (IE: "length"; Safari: <number>) matching elements by id\nfor(;i!==len&&(elem=elems[i])!=null;i++){if(byElement&&elem){j=0;// Support: IE 11+, Edge 17 - 18+\n// IE/Edge sometimes throw a "Permission denied" error when strict-comparing\n// two documents; shallow comparisons work.\n// eslint-disable-next-line eqeqeq\nif(!context&&elem.ownerDocument!=document){setDocument(elem);xml=!documentIsHTML;}while(matcher=elementMatchers[j++]){if(matcher(elem,context||document,xml)){results.push(elem);break;}}if(outermost){dirruns=dirrunsUnique;}}// Track unmatched elements for set filters\nif(bySet){// They will have gone through all possible matchers\nif(elem=!matcher&&elem){matchedCount--;}// Lengthen the array for every element, matched or not\nif(seed){unmatched.push(elem);}}}// `i` is now the count of elements visited above, and adding it to `matchedCount`\n// makes the latter nonnegative.\nmatchedCount+=i;// Apply set filters to unmatched elements\n// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n// equals `i`), unless we didn\'t visit _any_ elements in the above loop because we have\n// no element matchers and no seed.\n// Incrementing an initially-string "0" `i` allows `i` to remain a string only in that\n// case, which will result in a "00" `matchedCount` that differs from `i` but is also\n// numerically zero.\nif(bySet&&i!==matchedCount){j=0;while(matcher=setMatchers[j++]){matcher(unmatched,setMatched,context,xml);}if(seed){// Reintegrate element matches to eliminate the need for sorting\nif(matchedCount>0){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results);}}}// Discard index placeholder values to get only actual matches\nsetMatched=condense(setMatched);}// Add matches to results\npush.apply(results,setMatched);// Seedless set matches succeeding multiple successful matchers stipulate sorting\nif(outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1){Sizzle.uniqueSort(results);}}// Override manipulation of globals by nested matchers\nif(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup;}return unmatched;};return bySet?markFunction(superMatcher):superMatcher;}compile=Sizzle.compile=function(selector,match/* Internal Use Only */){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){// Generate a function of recursive functions that can be used to check each element\nif(!match){match=tokenize(selector);}i=match.length;while(i--){cached=matcherFromTokens(match[i]);if(cached[expando]){setMatchers.push(cached);}else{elementMatchers.push(cached);}}// Cache the compiled function\ncached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers));// Save selector and tokenization\ncached.selector=selector;}return cached;};/**\n * A low-level selection function that works with Sizzle\'s compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled=typeof selector==="function"&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);results=results||[];// Try to minimize operations if there is only one selector in the list and no seed\n// (the latter of which guarantees us context)\nif(match.length===1){// Reduce context if the leading compound selector is an ID\ntokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==="ID"&&context.nodeType===9&&documentIsHTML&&Expr.relative[tokens[1].type]){context=(Expr.find["ID"](token.matches[0].replace(runescape,funescape),context)||[])[0];if(!context){return results;// Precompiled matchers will still verify ancestry, so step up a level\n}else if(compiled){context=context.parentNode;}selector=selector.slice(tokens.shift().value.length);}// Fetch a seed set for right-to-left matching\ni=matchExpr["needsContext"].test(selector)?0:tokens.length;while(i--){token=tokens[i];// Abort if we hit a combinator\nif(Expr.relative[type=token.type]){break;}if(find=Expr.find[type]){// Search, expanding context for leading sibling combinators\nif(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context)){// If seed is empty or no tokens remain, we can return early\ntokens.splice(i,1);selector=seed.length&&toSelector(tokens);if(!selector){push.apply(results,seed);return results;}break;}}}}// Compile and execute a filtering function if one is not provided\n// Provide `match` to avoid retokenization if we modified the selector above\n(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,!context||rsibling.test(selector)&&testContext(context.parentNode)||context);return results;};// One-time assignments\n// Sort stability\nsupport.sortStable=expando.split("").sort(sortOrder).join("")===expando;// Support: Chrome 14-35+\n// Always assume duplicates if they aren\'t passed to the comparison function\nsupport.detectDuplicates=!!hasDuplicate;// Initialize against the default document\nsetDocument();// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached=assert(function(el){// Should return 1, but returns 4 (following)\nreturn el.compareDocumentPosition(document.createElement("fieldset"))&1;});// Support: IE<8\n// Prevent attribute/property "interpolation"\n// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif(!assert(function(el){el.innerHTML="<a href=\'#\'></a>";return el.firstChild.getAttribute("href")==="#";})){addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML){return elem.getAttribute(name,name.toLowerCase()==="type"?1:2);}});}// Support: IE<9\n// Use defaultValue in place of getAttribute("value")\nif(!support.attributes||!assert(function(el){el.innerHTML="<input/>";el.firstChild.setAttribute("value","");return el.firstChild.getAttribute("value")==="";})){addHandle("value",function(elem,_name,isXML){if(!isXML&&elem.nodeName.toLowerCase()==="input"){return elem.defaultValue;}});}// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\nif(!assert(function(el){return el.getAttribute("disabled")==null;})){addHandle(booleans,function(elem,name,isXML){var val;if(!isXML){return elem[name]===true?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null;}});}return Sizzle;}(window);jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;// Deprecated\njQuery.expr[":"]=jQuery.expr.pseudos;jQuery.uniqueSort=jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains;jQuery.escapeSelector=Sizzle.escape;var dir=function dir(elem,_dir,until){var matched=[],truncate=until!==undefined;while((elem=elem[_dir])&&elem.nodeType!==9){if(elem.nodeType===1){if(truncate&&jQuery(elem).is(until)){break;}matched.push(elem);}}return matched;};var _siblings=function siblings(n,elem){var matched=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){matched.push(n);}}return matched;};var rneedsContext=jQuery.expr.match.needsContext;function nodeName(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase();};var rsingleTag=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;// Implement the identical functionality for filter and not\nfunction winnow(elements,qualifier,not){if(isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not;});}// Single element\nif(qualifier.nodeType){return jQuery.grep(elements,function(elem){return elem===qualifier!==not;});}// Arraylike of elements (jQuery, arguments, Array)\nif(typeof qualifier!=="string"){return jQuery.grep(elements,function(elem){return indexOf.call(qualifier,elem)>-1!==not;});}// Filtered directly for both simple and complex selectors\nreturn jQuery.filter(qualifier,elements,not);}jQuery.filter=function(expr,elems,not){var elem=elems[0];if(not){expr=":not("+expr+")";}if(elems.length===1&&elem.nodeType===1){return jQuery.find.matchesSelector(elem,expr)?[elem]:[];}return jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return elem.nodeType===1;}));};jQuery.fn.extend({find:function find(selector){var i,ret,len=this.length,self=this;if(typeof selector!=="string"){return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++){if(jQuery.contains(self[i],this)){return true;}}}));}ret=this.pushStack([]);for(i=0;i<len;i++){jQuery.find(selector,self[i],ret);}return len>1?jQuery.uniqueSort(ret):ret;},filter:function filter(selector){return this.pushStack(winnow(this,selector||[],false));},not:function not(selector){return this.pushStack(winnow(this,selector||[],true));},is:function is(selector){return!!winnow(this,// If this is a positional/relative selector, check membership in the returned set\n// so $("p:first").is("p:last") won\'t return true for a doc with two "p".\ntypeof selector==="string"&&rneedsContext.test(selector)?jQuery(selector):selector||[],false).length;}});// Initialize a jQuery object\n// A central reference to the root jQuery(document)\nvar rootjQuery,// A simple way to check for HTML strings\n// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n// Strict HTML recognition (#11290: must start with <)\n// Shortcut simple #id case for speed\nrquickExpr=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/,init=jQuery.fn.init=function(selector,context,root){var match,elem;// HANDLE: $(""), $(null), $(undefined), $(false)\nif(!selector){return this;}// Method init() accepts an alternate rootjQuery\n// so migrate can support jQuery.sub (gh-2101)\nroot=root||rootjQuery;// Handle HTML strings\nif(typeof selector==="string"){if(selector[0]==="<"&&selector[selector.length-1]===">"&&selector.length>=3){// Assume that strings that start and end with <> are HTML and skip the regex check\nmatch=[null,selector,null];}else{match=rquickExpr.exec(selector);}// Match html or make sure no context is specified for #id\nif(match&&(match[1]||!context)){// HANDLE: $(html) -> $(array)\nif(match[1]){context=context instanceof jQuery?context[0]:context;// Option to run scripts is true for back-compat\n// Intentionally let the error be thrown if parseHTML is not present\njQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,true));// HANDLE: $(html, props)\nif(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){for(match in context){// Properties of context are called as methods if possible\nif(isFunction(this[match])){this[match](context[match]);// ...and otherwise set as attributes\n}else{this.attr(match,context[match]);}}}return this;// HANDLE: $(#id)\n}else{elem=document.getElementById(match[2]);if(elem){// Inject the element directly into the jQuery object\nthis[0]=elem;this.length=1;}return this;}// HANDLE: $(expr, $(...))\n}else if(!context||context.jquery){return(context||root).find(selector);// HANDLE: $(expr, context)\n// (which is just equivalent to: $(context).find(expr)\n}else{return this.constructor(context).find(selector);}// HANDLE: $(DOMElement)\n}else if(selector.nodeType){this[0]=selector;this.length=1;return this;// HANDLE: $(function)\n// Shortcut for document ready\n}else if(isFunction(selector)){return root.ready!==undefined?root.ready(selector):// Execute immediately if ready is not present\nselector(jQuery);}return jQuery.makeArray(selector,this);};// Give the init function the jQuery prototype for later instantiation\ninit.prototype=jQuery.fn;// Initialize central reference\nrootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,// Methods guaranteed to produce a unique set when starting from a unique set\nguaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.fn.extend({has:function has(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){var i=0;for(;i<l;i++){if(jQuery.contains(this,targets[i])){return true;}}});},closest:function closest(selectors,context){var cur,i=0,l=this.length,matched=[],targets=typeof selectors!=="string"&&jQuery(selectors);// Positional selectors never match, since there\'s no _selection_ context\nif(!rneedsContext.test(selectors)){for(;i<l;i++){for(cur=this[i];cur&&cur!==context;cur=cur.parentNode){// Always skip document fragments\nif(cur.nodeType<11&&(targets?targets.index(cur)>-1:// Don\'t pass non-elements to Sizzle\ncur.nodeType===1&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break;}}}}return this.pushStack(matched.length>1?jQuery.uniqueSort(matched):matched);},// Determine the position of an element within the set\nindex:function index(elem){// No argument, return index in parent\nif(!elem){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1;}// Index in selector\nif(typeof elem==="string"){return indexOf.call(jQuery(elem),this[0]);}// Locate the position of the desired element\nreturn indexOf.call(this,// If it receives a jQuery object, the first element is used\nelem.jquery?elem[0]:elem);},add:function add(selector,context){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(selector,context))));},addBack:function addBack(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));}});function sibling(cur,dir){while((cur=cur[dir])&&cur.nodeType!==1){}return cur;}jQuery.each({parent:function parent(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null;},parents:function parents(elem){return dir(elem,"parentNode");},parentsUntil:function parentsUntil(elem,_i,until){return dir(elem,"parentNode",until);},next:function next(elem){return sibling(elem,"nextSibling");},prev:function prev(elem){return sibling(elem,"previousSibling");},nextAll:function nextAll(elem){return dir(elem,"nextSibling");},prevAll:function prevAll(elem){return dir(elem,"previousSibling");},nextUntil:function nextUntil(elem,_i,until){return dir(elem,"nextSibling",until);},prevUntil:function prevUntil(elem,_i,until){return dir(elem,"previousSibling",until);},siblings:function siblings(elem){return _siblings((elem.parentNode||{}).firstChild,elem);},children:function children(elem){return _siblings(elem.firstChild);},contents:function contents(elem){if(elem.contentDocument!=null&&// Support: IE 11+\n// <object> elements with no `data` attribute has an object\n// `contentDocument` with a `null` prototype.\ngetProto(elem.contentDocument)){return elem.contentDocument;}// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only\n// Treat the template element as a regular one in browsers that\n// don\'t support it.\nif(nodeName(elem,"template")){elem=elem.content||elem;}return jQuery.merge([],elem.childNodes);}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);if(name.slice(-5)!=="Until"){selector=until;}if(selector&&typeof selector==="string"){matched=jQuery.filter(selector,matched);}if(this.length>1){// Remove duplicates\nif(!guaranteedUnique[name]){jQuery.uniqueSort(matched);}// Reverse order for parents* and prev-derivatives\nif(rparentsprev.test(name)){matched.reverse();}}return this.pushStack(matched);};});var rnothtmlwhite=/[^\\x20\\t\\r\\n\\f]+/g;// Convert String-formatted options into Object-formatted ones\nfunction createOptions(options){var object={};jQuery.each(options.match(rnothtmlwhite)||[],function(_,flag){object[flag]=true;});return object;}/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * "fired" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest "memorized"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */jQuery.Callbacks=function(options){// Convert options from String-formatted to Object-formatted if needed\n// (we check in cache first)\noptions=typeof options==="string"?createOptions(options):jQuery.extend({},options);var// Flag to know if list is currently firing\nfiring,// Last fire value for non-forgettable lists\nmemory,// Flag to know if list was already fired\n_fired,// Flag to prevent firing\n_locked,// Actual callback list\nlist=[],// Queue of execution data for repeatable lists\nqueue=[],// Index of currently firing callback (modified by add/remove as needed)\nfiringIndex=-1,// Fire callbacks\nfire=function fire(){// Enforce single-firing\n_locked=_locked||options.once;// Execute callbacks for all pending executions,\n// respecting firingIndex overrides and runtime changes\n_fired=firing=true;for(;queue.length;firingIndex=-1){memory=queue.shift();while(++firingIndex<list.length){// Run callback and check for early termination\nif(list[firingIndex].apply(memory[0],memory[1])===false&&options.stopOnFalse){// Jump to end and forget the data so .add doesn\'t re-fire\nfiringIndex=list.length;memory=false;}}}// Forget the data if we\'re done with it\nif(!options.memory){memory=false;}firing=false;// Clean up if we\'re done firing for good\nif(_locked){// Keep an empty list if we have data for future add calls\nif(memory){list=[];// Otherwise, this object is spent\n}else{list="";}}},// Actual Callbacks object\nself={// Add a callback or a collection of callbacks to the list\nadd:function add(){if(list){// If we have memory from a past run, we should fire after adding\nif(memory&&!firing){firingIndex=list.length-1;queue.push(memory);}(function add(args){jQuery.each(args,function(_,arg){if(isFunction(arg)){if(!options.unique||!self.has(arg)){list.push(arg);}}else if(arg&&arg.length&&toType(arg)!=="string"){// Inspect recursively\nadd(arg);}});})(arguments);if(memory&&!firing){fire();}}return this;},// Remove a callback from the list\nremove:function remove(){jQuery.each(arguments,function(_,arg){var index;while((index=jQuery.inArray(arg,list,index))>-1){list.splice(index,1);// Handle firing indexes\nif(index<=firingIndex){firingIndex--;}}});return this;},// Check if a given callback is in the list.\n// If no argument is given, return whether or not list has callbacks attached.\nhas:function has(fn){return fn?jQuery.inArray(fn,list)>-1:list.length>0;},// Remove all callbacks from the list\nempty:function empty(){if(list){list=[];}return this;},// Disable .fire and .add\n// Abort any current/pending executions\n// Clear all callbacks and values\ndisable:function disable(){_locked=queue=[];list=memory="";return this;},disabled:function disabled(){return!list;},// Disable .fire\n// Also disable .add unless we have memory (since it would have no effect)\n// Abort any pending executions\nlock:function lock(){_locked=queue=[];if(!memory&&!firing){list=memory="";}return this;},locked:function locked(){return!!_locked;},// Call all callbacks with the given context and arguments\nfireWith:function fireWith(context,args){if(!_locked){args=args||[];args=[context,args.slice?args.slice():args];queue.push(args);if(!firing){fire();}}return this;},// Call all the callbacks with the given arguments\nfire:function fire(){self.fireWith(this,arguments);return this;},// To know if the callbacks have already been called at least once\nfired:function fired(){return!!_fired;}};return self;};function Identity(v){return v;}function Thrower(ex){throw ex;}function adoptValue(value,resolve,reject,noValue){var method;try{// Check for promise aspect first to privilege synchronous behavior\nif(value&&isFunction(method=value.promise)){method.call(value).done(resolve).fail(reject);// Other thenables\n}else if(value&&isFunction(method=value.then)){method.call(value,resolve,reject);// Other non-thenables\n}else{// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:\n// * false: [ value ].slice( 0 ) => resolve( value )\n// * true: [ value ].slice( 1 ) => resolve()\nresolve.apply(undefined,[value].slice(noValue));}// For Promises/A+, convert exceptions into rejections\n// Since jQuery.when doesn\'t unwrap thenables, we can skip the extra checks appearing in\n// Deferred#then to conditionally suppress rejection.\n}catch(value){// Support: Android 4.0 only\n// Strict mode functions invoked without .call/.apply get global-object context\nreject.apply(undefined,[value]);}}jQuery.extend({Deferred:function Deferred(func){var tuples=[// action, add listener, callbacks,\n// ... .then handlers, argument index, [final state]\n["notify","progress",jQuery.Callbacks("memory"),jQuery.Callbacks("memory"),2],["resolve","done",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),0,"resolved"],["reject","fail",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),1,"rejected"]],_state="pending",_promise={state:function state(){return _state;},always:function always(){deferred.done(arguments).fail(arguments);return this;},"catch":function _catch(fn){return _promise.then(null,fn);},// Keep pipe for back-compat\npipe:function pipe(/* fnDone, fnFail, fnProgress */){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(_i,tuple){// Map tuples (progress, done, fail) to arguments (done, fail, progress)\nvar fn=isFunction(fns[tuple[4]])&&fns[tuple[4]];// deferred.progress(function() { bind to newDefer or newDefer.notify })\n// deferred.done(function() { bind to newDefer or newDefer.resolve })\n// deferred.fail(function() { bind to newDefer or newDefer.reject })\ndeferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);if(returned&&isFunction(returned.promise)){returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject);}else{newDefer[tuple[0]+"With"](this,fn?[returned]:arguments);}});});fns=null;}).promise();},then:function then(onFulfilled,onRejected,onProgress){var maxDepth=0;function resolve(depth,deferred,handler,special){return function(){var that=this,args=arguments,mightThrow=function mightThrow(){var returned,then;// Support: Promises/A+ section 2.3.3.3.3\n// https://promisesaplus.com/#point-59\n// Ignore double-resolution attempts\nif(depth<maxDepth){return;}returned=handler.apply(that,args);// Support: Promises/A+ section 2.3.1\n// https://promisesaplus.com/#point-48\nif(returned===deferred.promise()){throw new TypeError("Thenable self-resolution");}// Support: Promises/A+ sections 2.3.3.1, 3.5\n// https://promisesaplus.com/#point-54\n// https://promisesaplus.com/#point-75\n// Retrieve `then` only once\nthen=returned&&(// Support: Promises/A+ section 2.3.4\n// https://promisesaplus.com/#point-64\n// Only check objects and functions for thenability\n_typeof(returned)==="object"||typeof returned==="function")&&returned.then;// Handle a returned thenable\nif(isFunction(then)){// Special processors (notify) just wait for resolution\nif(special){then.call(returned,resolve(maxDepth,deferred,Identity,special),resolve(maxDepth,deferred,Thrower,special));// Normal processors (resolve) also hook into progress\n}else{// ...and disregard older resolution values\nmaxDepth++;then.call(returned,resolve(maxDepth,deferred,Identity,special),resolve(maxDepth,deferred,Thrower,special),resolve(maxDepth,deferred,Identity,deferred.notifyWith));}// Handle all other returned values\n}else{// Only substitute handlers pass on context\n// and multiple values (non-spec behavior)\nif(handler!==Identity){that=undefined;args=[returned];}// Process the value(s)\n// Default process is resolve\n(special||deferred.resolveWith)(that,args);}},// Only normal processors (resolve) catch and reject exceptions\nprocess=special?mightThrow:function(){try{mightThrow();}catch(e){if(jQuery.Deferred.exceptionHook){jQuery.Deferred.exceptionHook(e,process.stackTrace);}// Support: Promises/A+ section 2.3.3.3.4.1\n// https://promisesaplus.com/#point-61\n// Ignore post-resolution exceptions\nif(depth+1>=maxDepth){// Only substitute handlers pass on context\n// and multiple values (non-spec behavior)\nif(handler!==Thrower){that=undefined;args=[e];}deferred.rejectWith(that,args);}}};// Support: Promises/A+ section 2.3.3.3.1\n// https://promisesaplus.com/#point-57\n// Re-resolve promises immediately to dodge false rejection from\n// subsequent errors\nif(depth){process();}else{// Call an optional hook to record the stack, in case of exception\n// since it\'s otherwise lost when execution goes async\nif(jQuery.Deferred.getStackHook){process.stackTrace=jQuery.Deferred.getStackHook();}window.setTimeout(process);}};}return jQuery.Deferred(function(newDefer){// progress_handlers.add( ... )\ntuples[0][3].add(resolve(0,newDefer,isFunction(onProgress)?onProgress:Identity,newDefer.notifyWith));// fulfilled_handlers.add( ... )\ntuples[1][3].add(resolve(0,newDefer,isFunction(onFulfilled)?onFulfilled:Identity));// rejected_handlers.add( ... )\ntuples[2][3].add(resolve(0,newDefer,isFunction(onRejected)?onRejected:Thrower));}).promise();},// Get a promise for this deferred\n// If obj is provided, the promise aspect is added to the object\npromise:function promise(obj){return obj!=null?jQuery.extend(obj,_promise):_promise;}},deferred={};// Add list-specific methods\njQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[5];// promise.progress = list.add\n// promise.done = list.add\n// promise.fail = list.add\n_promise[tuple[1]]=list.add;// Handle state\nif(stateString){list.add(function(){// state = "resolved" (i.e., fulfilled)\n// state = "rejected"\n_state=stateString;},// rejected_callbacks.disable\n// fulfilled_callbacks.disable\ntuples[3-i][2].disable,// rejected_handlers.disable\n// fulfilled_handlers.disable\ntuples[3-i][3].disable,// progress_callbacks.lock\ntuples[0][2].lock,// progress_handlers.lock\ntuples[0][3].lock);}// progress_handlers.fire\n// fulfilled_handlers.fire\n// rejected_handlers.fire\nlist.add(tuple[3].fire);// deferred.notify = function() { deferred.notifyWith(...) }\n// deferred.resolve = function() { deferred.resolveWith(...) }\n// deferred.reject = function() { deferred.rejectWith(...) }\ndeferred[tuple[0]]=function(){deferred[tuple[0]+"With"](this===deferred?undefined:this,arguments);return this;};// deferred.notifyWith = list.fireWith\n// deferred.resolveWith = list.fireWith\n// deferred.rejectWith = list.fireWith\ndeferred[tuple[0]+"With"]=list.fireWith;});// Make the deferred a promise\n_promise.promise(deferred);// Call given func if any\nif(func){func.call(deferred,deferred);}// All done!\nreturn deferred;},// Deferred helper\nwhen:function when(singleValue){var// count of uncompleted subordinates\nremaining=arguments.length,// count of unprocessed arguments\ni=remaining,// subordinate fulfillment data\nresolveContexts=Array(i),resolveValues=_slice.call(arguments),// the master Deferred\nmaster=jQuery.Deferred(),// subordinate callback factory\nupdateFunc=function updateFunc(i){return function(value){resolveContexts[i]=this;resolveValues[i]=arguments.length>1?_slice.call(arguments):value;if(! --remaining){master.resolveWith(resolveContexts,resolveValues);}};};// Single- and empty arguments are adopted like Promise.resolve\nif(remaining<=1){adoptValue(singleValue,master.done(updateFunc(i)).resolve,master.reject,!remaining);// Use .then() to unwrap secondary thenables (cf. gh-3000)\nif(master.state()==="pending"||isFunction(resolveValues[i]&&resolveValues[i].then)){return master.then();}}// Multiple arguments are aggregated like Promise.all array elements\nwhile(i--){adoptValue(resolveValues[i],updateFunc(i),master.reject);}return master.promise();}});// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nvar rerrorNames=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;jQuery.Deferred.exceptionHook=function(error,stack){// Support: IE 8 - 9 only\n// Console exists when dev tools are open, which can happen at any time\nif(window.console&&window.console.warn&&error&&rerrorNames.test(error.name)){window.console.warn("jQuery.Deferred exception: "+error.message,error.stack,stack);}};jQuery.readyException=function(error){window.setTimeout(function(){throw error;});};// The deferred used on DOM ready\nvar readyList=jQuery.Deferred();jQuery.fn.ready=function(fn){readyList.then(fn)// Wrap jQuery.readyException in a function so that the lookup\n// happens at the time of error handling instead of callback\n// registration.\n.catch(function(error){jQuery.readyException(error);});return this;};jQuery.extend({// Is the DOM ready to be used? Set to true once it occurs.\nisReady:false,// A counter to track how many items to wait for before\n// the ready event fires. See #6781\nreadyWait:1,// Handle when the DOM is ready\nready:function ready(wait){// Abort if there are pending holds or we\'re already ready\nif(wait===true?--jQuery.readyWait:jQuery.isReady){return;}// Remember that the DOM is ready\njQuery.isReady=true;// If a normal DOM Ready event fired, decrement, and wait if need be\nif(wait!==true&&--jQuery.readyWait>0){return;}// If there are functions bound, to execute\nreadyList.resolveWith(document,[jQuery]);}});jQuery.ready.then=readyList.then;// The ready event handler and self cleanup method\nfunction completed(){document.removeEventListener("DOMContentLoaded",completed);window.removeEventListener("load",completed);jQuery.ready();}// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals "interactive" too soon\nif(document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll){// Handle it asynchronously to allow scripts the opportunity to delay ready\nwindow.setTimeout(jQuery.ready);}else{// Use the handy event callback\ndocument.addEventListener("DOMContentLoaded",completed);// A fallback to window.onload, that will always work\nwindow.addEventListener("load",completed);}// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it\'s a function\nvar access=function access(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=key==null;// Sets many values\nif(toType(key)==="object"){chainable=true;for(i in key){access(elems,fn,i,key[i],true,emptyGet,raw);}// Sets one value\n}else if(value!==undefined){chainable=true;if(!isFunction(value)){raw=true;}if(bulk){// Bulk operations run against the entire set\nif(raw){fn.call(elems,value);fn=null;// ...except when executing function values\n}else{bulk=fn;fn=function fn(elem,_key,value){return bulk.call(jQuery(elem),value);};}}if(fn){for(;i<len;i++){fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));}}}if(chainable){return elems;}// Gets\nif(bulk){return fn.call(elems);}return len?fn(elems[0],key):emptyGet;};// Matches dashed string for camelizing\nvar rmsPrefix=/^-ms-/,rdashAlpha=/-([a-z])/g;// Used by camelCase as callback to replace()\nfunction fcamelCase(_all,letter){return letter.toUpperCase();}// Convert dashed to camelCase; used by the css and data modules\n// Support: IE <=9 - 11, Edge 12 - 15\n// Microsoft forgot to hump their vendor prefix (#9572)\nfunction camelCase(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase);}var acceptData=function acceptData(owner){// Accepts only:\n//  - Node\n//    - Node.ELEMENT_NODE\n//    - Node.DOCUMENT_NODE\n//  - Object\n//    - Any\nreturn owner.nodeType===1||owner.nodeType===9||!+owner.nodeType;};function Data(){this.expando=jQuery.expando+Data.uid++;}Data.uid=1;Data.prototype={cache:function cache(owner){// Check if the owner object already has a cache\nvar value=owner[this.expando];// If not, create one\nif(!value){value={};// We can accept data for non-element nodes in modern browsers,\n// but we should not, see #8335.\n// Always return an empty object.\nif(acceptData(owner)){// If it is a node unlikely to be stringify-ed or looped over\n// use plain assignment\nif(owner.nodeType){owner[this.expando]=value;// Otherwise secure it in a non-enumerable property\n// configurable must be true to allow the property to be\n// deleted when data is removed\n}else{Object.defineProperty(owner,this.expando,{value:value,configurable:true});}}}return value;},set:function set(owner,data,value){var prop,cache=this.cache(owner);// Handle: [ owner, key, value ] args\n// Always use camelCase key (gh-2257)\nif(typeof data==="string"){cache[camelCase(data)]=value;// Handle: [ owner, { properties } ] args\n}else{// Copy the properties one-by-one to the cache object\nfor(prop in data){cache[camelCase(prop)]=data[prop];}}return cache;},get:function get(owner,key){return key===undefined?this.cache(owner):// Always use camelCase key (gh-2257)\nowner[this.expando]&&owner[this.expando][camelCase(key)];},access:function access(owner,key,value){// In cases where either:\n//\n//   1. No key was specified\n//   2. A string key was specified, but no value provided\n//\n// Take the "read" path and allow the get method to determine\n// which value to return, respectively either:\n//\n//   1. The entire cache object\n//   2. The data stored at the key\n//\nif(key===undefined||key&&typeof key==="string"&&value===undefined){return this.get(owner,key);}// When the key is not a string, or both a key and value\n// are specified, set or extend (existing objects) with either:\n//\n//   1. An object of properties\n//   2. A key and value\n//\nthis.set(owner,key,value);// Since the "set" path can have two possible entry points\n// return the expected data based on which path was taken[*]\nreturn value!==undefined?value:key;},remove:function remove(owner,key){var i,cache=owner[this.expando];if(cache===undefined){return;}if(key!==undefined){// Support array or space separated string of keys\nif(Array.isArray(key)){// If key is an array of keys...\n// We always set camelCase keys, so remove that.\nkey=key.map(camelCase);}else{key=camelCase(key);// If a key with the spaces exists, use it.\n// Otherwise, create an array by matching non-whitespace\nkey=key in cache?[key]:key.match(rnothtmlwhite)||[];}i=key.length;while(i--){delete cache[key[i]];}}// Remove the expando if there\'s no more data\nif(key===undefined||jQuery.isEmptyObject(cache)){// Support: Chrome <=35 - 45\n// Webkit & Blink performance suffers when deleting properties\n// from DOM nodes, so set to undefined instead\n// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\nif(owner.nodeType){owner[this.expando]=undefined;}else{delete owner[this.expando];}}},hasData:function hasData(owner){var cache=owner[this.expando];return cache!==undefined&&!jQuery.isEmptyObject(cache);}};var dataPriv=new Data();var dataUser=new Data();//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module\'s maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support "private" and "user" data.\n//\t4. _Never_ expose "private" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\nvar rbrace=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,rmultiDash=/[A-Z]/g;function getData(data){if(data==="true"){return true;}if(data==="false"){return false;}if(data==="null"){return null;}// Only convert to a number if it doesn\'t change the string\nif(data===+data+""){return+data;}if(rbrace.test(data)){return JSON.parse(data);}return data;}function dataAttr(elem,key,data){var name;// If nothing was found internally, try to fetch any\n// data from the HTML5 data-* attribute\nif(data===undefined&&elem.nodeType===1){name="data-"+key.replace(rmultiDash,"-$&").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=getData(data);}catch(e){}// Make sure we set the data so it isn\'t changed later\ndataUser.set(elem,key,data);}else{data=undefined;}}return data;}jQuery.extend({hasData:function hasData(elem){return dataUser.hasData(elem)||dataPriv.hasData(elem);},data:function data(elem,name,_data){return dataUser.access(elem,name,_data);},removeData:function removeData(elem,name){dataUser.remove(elem,name);},// TODO: Now that all calls to _data and _removeData have been replaced\n// with direct calls to dataPriv methods, these can be deprecated.\n_data:function _data(elem,name,data){return dataPriv.access(elem,name,data);},_removeData:function _removeData(elem,name){dataPriv.remove(elem,name);}});jQuery.fn.extend({data:function data(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;// Gets all values\nif(key===undefined){if(this.length){data=dataUser.get(elem);if(elem.nodeType===1&&!dataPriv.get(elem,"hasDataAttrs")){i=attrs.length;while(i--){// Support: IE 11 only\n// The attrs elements can be null (#14894)\nif(attrs[i]){name=attrs[i].name;if(name.indexOf("data-")===0){name=camelCase(name.slice(5));dataAttr(elem,name,data[name]);}}}dataPriv.set(elem,"hasDataAttrs",true);}}return data;}// Sets multiple values\nif(_typeof(key)==="object"){return this.each(function(){dataUser.set(this,key);});}return access(this,function(value){var data;// The calling jQuery object (element matches) is not empty\n// (and therefore has an element appears at this[ 0 ]) and the\n// `value` parameter was not undefined. An empty jQuery object\n// will result in `undefined` for elem = this[ 0 ] which will\n// throw an exception if an attempt to read a data cache is made.\nif(elem&&value===undefined){// Attempt to get data from the cache\n// The key will always be camelCased in Data\ndata=dataUser.get(elem,key);if(data!==undefined){return data;}// Attempt to "discover" the data in\n// HTML5 custom data-* attrs\ndata=dataAttr(elem,key);if(data!==undefined){return data;}// We tried really hard, but the data doesn\'t exist.\nreturn;}// Set the data...\nthis.each(function(){// We always store the camelCased key\ndataUser.set(this,key,value);});},null,value,arguments.length>1,null,true);},removeData:function removeData(key){return this.each(function(){dataUser.remove(this,key);});}});jQuery.extend({queue:function queue(elem,type,data){var queue;if(elem){type=(type||"fx")+"queue";queue=dataPriv.get(elem,type);// Speed up dequeue by getting out quickly if this is just a lookup\nif(data){if(!queue||Array.isArray(data)){queue=dataPriv.access(elem,type,jQuery.makeArray(data));}else{queue.push(data);}}return queue||[];}},dequeue:function dequeue(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function next(){jQuery.dequeue(elem,type);};// If the fx queue is dequeued, always remove the progress sentinel\nif(fn==="inprogress"){fn=queue.shift();startLength--;}if(fn){// Add a progress sentinel to prevent the fx queue from being\n// automatically dequeued\nif(type==="fx"){queue.unshift("inprogress");}// Clear up the last queue stop function\ndelete hooks.stop;fn.call(elem,next,hooks);}if(!startLength&&hooks){hooks.empty.fire();}},// Not public - generate a queueHooks object, or return the current one\n_queueHooks:function _queueHooks(elem,type){var key=type+"queueHooks";return dataPriv.get(elem,key)||dataPriv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){dataPriv.remove(elem,[type+"queue",key]);})});}});jQuery.fn.extend({queue:function queue(type,data){var setter=2;if(typeof type!=="string"){data=type;type="fx";setter--;}if(arguments.length<setter){return jQuery.queue(this[0],type);}return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);// Ensure a hooks for this queue\njQuery._queueHooks(this,type);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type);}});},dequeue:function dequeue(type){return this.each(function(){jQuery.dequeue(this,type);});},clearQueue:function clearQueue(type){return this.queue(type||"fx",[]);},// Get a promise resolved when queues of a certain type\n// are emptied (fx is the type by default)\npromise:function promise(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function resolve(){if(! --count){defer.resolveWith(elements,[elements]);}};if(typeof type!=="string"){obj=type;type=undefined;}type=type||"fx";while(i--){tmp=dataPriv.get(elements[i],type+"queueHooks");if(tmp&&tmp.empty){count++;tmp.empty.add(resolve);}}resolve();return defer.promise(obj);}});var pnum=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source;var rcssNum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i");var cssExpand=["Top","Right","Bottom","Left"];var documentElement=document.documentElement;var isAttached=function isAttached(elem){return jQuery.contains(elem.ownerDocument,elem);},composed={composed:true};// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only\n// Check attachment across shadow DOM boundaries when possible (gh-3504)\n// Support: iOS 10.0-10.2 only\n// Early iOS 10 versions support `attachShadow` but not `getRootNode`,\n// leading to errors. We need to check for `getRootNode`.\nif(documentElement.getRootNode){isAttached=function isAttached(elem){return jQuery.contains(elem.ownerDocument,elem)||elem.getRootNode(composed)===elem.ownerDocument;};}var isHiddenWithinTree=function isHiddenWithinTree(elem,el){// isHiddenWithinTree might be called from jQuery#filter function;\n// in that case, element will be second argument\nelem=el||elem;// Inline style trumps all\nreturn elem.style.display==="none"||elem.style.display===""&&// Otherwise, check computed style\n// Support: Firefox <=43 - 45\n// Disconnected elements can have computed display: none, so first confirm that elem is\n// in the document.\nisAttached(elem)&&jQuery.css(elem,"display")==="none";};function adjustCSS(elem,prop,valueParts,tween){var adjusted,scale,maxIterations=20,currentValue=tween?function(){return tween.cur();}:function(){return jQuery.css(elem,prop,"");},initial=currentValue(),unit=valueParts&&valueParts[3]||(jQuery.cssNumber[prop]?"":"px"),// Starting value computation is required for potential unit mismatches\ninitialInUnit=elem.nodeType&&(jQuery.cssNumber[prop]||unit!=="px"&&+initial)&&rcssNum.exec(jQuery.css(elem,prop));if(initialInUnit&&initialInUnit[3]!==unit){// Support: Firefox <=54\n// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)\ninitial=initial/2;// Trust units reported by jQuery.css\nunit=unit||initialInUnit[3];// Iteratively approximate from a nonzero starting point\ninitialInUnit=+initial||1;while(maxIterations--){// Evaluate and update our best guess (doubling guesses that zero out).\n// Finish if the scale equals or crosses 1 (making the old*new product non-positive).\njQuery.style(elem,prop,initialInUnit+unit);if((1-scale)*(1-(scale=currentValue()/initial||0.5))<=0){maxIterations=0;}initialInUnit=initialInUnit/scale;}initialInUnit=initialInUnit*2;jQuery.style(elem,prop,initialInUnit+unit);// Make sure we update the tween properties later on\nvalueParts=valueParts||[];}if(valueParts){initialInUnit=+initialInUnit||+initial||0;// Apply relative offset (+=/-=) if specified\nadjusted=valueParts[1]?initialInUnit+(valueParts[1]+1)*valueParts[2]:+valueParts[2];if(tween){tween.unit=unit;tween.start=initialInUnit;tween.end=adjusted;}}return adjusted;}var defaultDisplayMap={};function getDefaultDisplay(elem){var temp,doc=elem.ownerDocument,nodeName=elem.nodeName,display=defaultDisplayMap[nodeName];if(display){return display;}temp=doc.body.appendChild(doc.createElement(nodeName));display=jQuery.css(temp,"display");temp.parentNode.removeChild(temp);if(display==="none"){display="block";}defaultDisplayMap[nodeName]=display;return display;}function showHide(elements,show){var display,elem,values=[],index=0,length=elements.length;// Determine new display value for elements that need to change\nfor(;index<length;index++){elem=elements[index];if(!elem.style){continue;}display=elem.style.display;if(show){// Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n// check is required in this first loop unless we have a nonempty display value (either\n// inline or about-to-be-restored)\nif(display==="none"){values[index]=dataPriv.get(elem,"display")||null;if(!values[index]){elem.style.display="";}}if(elem.style.display===""&&isHiddenWithinTree(elem)){values[index]=getDefaultDisplay(elem);}}else{if(display!=="none"){values[index]="none";// Remember what we\'re overwriting\ndataPriv.set(elem,"display",display);}}}// Set the display of the elements in a second loop to avoid constant reflow\nfor(index=0;index<length;index++){if(values[index]!=null){elements[index].style.display=values[index];}}return elements;}jQuery.fn.extend({show:function show(){return showHide(this,true);},hide:function hide(){return showHide(this);},toggle:function toggle(state){if(typeof state==="boolean"){return state?this.show():this.hide();}return this.each(function(){if(isHiddenWithinTree(this)){jQuery(this).show();}else{jQuery(this).hide();}});}});var rcheckableType=/^(?:checkbox|radio)$/i;var rtagName=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i;var rscriptType=/^$|^module$|\\/(?:java|ecma)script/i;(function(){var fragment=document.createDocumentFragment(),div=fragment.appendChild(document.createElement("div")),input=document.createElement("input");// Support: Android 4.0 - 4.3 only\n// Check state lost if the name is set (#11217)\n// Support: Windows Web Apps (WWA)\n// `name` and `type` must use .setAttribute for WWA (#14901)\ninput.setAttribute("type","radio");input.setAttribute("checked","checked");input.setAttribute("name","t");div.appendChild(input);// Support: Android <=4.1 only\n// Older WebKit doesn\'t clone checked state correctly in fragments\nsupport.checkClone=div.cloneNode(true).cloneNode(true).lastChild.checked;// Support: IE <=11 only\n// Make sure textarea (and checkbox) defaultValue is properly cloned\ndiv.innerHTML="<textarea>x</textarea>";support.noCloneChecked=!!div.cloneNode(true).lastChild.defaultValue;// Support: IE <=9 only\n// IE <=9 replaces <option> tags with their contents when inserted outside of\n// the select element.\ndiv.innerHTML="<option></option>";support.option=!!div.lastChild;})();// We have to close these tags to support XHTML (#13200)\nvar wrapMap={// XHTML parsers do not magically insert elements in the\n// same way that tag soup parsers do. So we cannot shorten\n// this by omitting <tbody> or other required elements.\nthead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;// Support: IE <=9 only\nif(!support.option){wrapMap.optgroup=wrapMap.option=[1,"<select multiple=\'multiple\'>","</select>"];}function getAll(context,tag){// Support: IE <=9 - 11 only\n// Use typeof to avoid zero-argument method invocation on host objects (#15151)\nvar ret;if(typeof context.getElementsByTagName!=="undefined"){ret=context.getElementsByTagName(tag||"*");}else if(typeof context.querySelectorAll!=="undefined"){ret=context.querySelectorAll(tag||"*");}else{ret=[];}if(tag===undefined||tag&&nodeName(context,tag)){return jQuery.merge([context],ret);}return ret;}// Mark scripts as having already been evaluated\nfunction setGlobalEval(elems,refElements){var i=0,l=elems.length;for(;i<l;i++){dataPriv.set(elems[i],"globalEval",!refElements||dataPriv.get(refElements[i],"globalEval"));}}var rhtml=/<|&#?\\w+;/;function buildFragment(elems,context,scripts,selection,ignored){var elem,tmp,tag,wrap,attached,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;for(;i<l;i++){elem=elems[i];if(elem||elem===0){// Add nodes directly\nif(toType(elem)==="object"){// Support: Android <=4.0 only, PhantomJS 1 only\n// push.apply(_, arraylike) throws on ancient WebKit\njQuery.merge(nodes,elem.nodeType?[elem]:elem);// Convert non-html into a text node\n}else if(!rhtml.test(elem)){nodes.push(context.createTextNode(elem));// Convert html into DOM nodes\n}else{tmp=tmp||fragment.appendChild(context.createElement("div"));// Deserialize a standard representation\ntag=(rtagName.exec(elem)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+jQuery.htmlPrefilter(elem)+wrap[2];// Descend through wrappers to the right content\nj=wrap[0];while(j--){tmp=tmp.lastChild;}// Support: Android <=4.0 only, PhantomJS 1 only\n// push.apply(_, arraylike) throws on ancient WebKit\njQuery.merge(nodes,tmp.childNodes);// Remember the top-level container\ntmp=fragment.firstChild;// Ensure the created nodes are orphaned (#12392)\ntmp.textContent="";}}}// Remove wrapper from fragment\nfragment.textContent="";i=0;while(elem=nodes[i++]){// Skip elements already in the context collection (trac-4087)\nif(selection&&jQuery.inArray(elem,selection)>-1){if(ignored){ignored.push(elem);}continue;}attached=isAttached(elem);// Append to fragment\ntmp=getAll(fragment.appendChild(elem),"script");// Preserve script evaluation history\nif(attached){setGlobalEval(tmp);}// Capture executables\nif(scripts){j=0;while(elem=tmp[j++]){if(rscriptType.test(elem.type||"")){scripts.push(elem);}}}}return fragment;}var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rtypenamespace=/^([^.]*)(?:\\.(.+)|)/;function returnTrue(){return true;}function returnFalse(){return false;}// Support: IE <=9 - 11+\n// focus() and blur() are asynchronous, except when they are no-op.\n// So expect focus to be synchronous when the element is already active,\n// and blur to be synchronous when the element is not already active.\n// (focus and blur are always synchronous in other supported browsers,\n// this just defines when we can count on it).\nfunction expectSync(elem,type){return elem===safeActiveElement()===(type==="focus");}// Support: IE <=9 only\n// Accessing document.activeElement can throw unexpectedly\n// https://bugs.jquery.com/ticket/13393\nfunction safeActiveElement(){try{return document.activeElement;}catch(err){}}function _on(elem,types,selector,data,fn,one){var origFn,type;// Types can be a map of types/handlers\nif(_typeof(types)==="object"){// ( types-Object, selector, data )\nif(typeof selector!=="string"){// ( types-Object, data )\ndata=data||selector;selector=undefined;}for(type in types){_on(elem,type,selector,data,types[type],one);}return elem;}if(data==null&&fn==null){// ( types, fn )\nfn=selector;data=selector=undefined;}else if(fn==null){if(typeof selector==="string"){// ( types, selector, fn )\nfn=data;data=undefined;}else{// ( types, data, fn )\nfn=data;data=selector;selector=undefined;}}if(fn===false){fn=returnFalse;}else if(!fn){return elem;}if(one===1){origFn=fn;fn=function fn(event){// Can use an empty set, since event contains the info\njQuery().off(event);return origFn.apply(this,arguments);};// Use same guid so caller can remove using origFn\nfn.guid=origFn.guid||(origFn.guid=jQuery.guid++);}return elem.each(function(){jQuery.event.add(this,types,fn,data,selector);});}/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards\' addEvent library for many of the ideas.\n */jQuery.event={global:{},add:function add(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.get(elem);// Only attach events to objects that accept data\nif(!acceptData(elem)){return;}// Caller can pass in an object of custom data in lieu of the handler\nif(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector;}// Ensure that invalid selectors throw exceptions at attach time\n// Evaluate against documentElement in case elem is a non-element node (e.g., document)\nif(selector){jQuery.find.matchesSelector(documentElement,selector);}// Make sure that the handler has a unique ID, used to find/remove it later\nif(!handler.guid){handler.guid=jQuery.guid++;}// Init the element\'s event structure and main handler, if this is the first\nif(!(events=elemData.events)){events=elemData.events=Object.create(null);}if(!(eventHandle=elemData.handle)){eventHandle=elemData.handle=function(e){// Discard the second event of a jQuery.event.trigger() and\n// when an event is called after a page has unloaded\nreturn typeof jQuery!=="undefined"&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):undefined;};}// Handle multiple events separated by a space\ntypes=(types||"").match(rnothtmlwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();// There *must* be a type, no attaching namespace-only handlers\nif(!type){continue;}// If event changes its type, use the special event handlers for the changed type\nspecial=jQuery.event.special[type]||{};// If selector defined, determine special event api type, otherwise given type\ntype=(selector?special.delegateType:special.bindType)||type;// Update special based on newly reset type\nspecial=jQuery.event.special[type]||{};// handleObj is passed to all event handlers\nhandleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn);// Init the event handler queue if we\'re the first\nif(!(handlers=events[type])){handlers=events[type]=[];handlers.delegateCount=0;// Only use addEventListener if the special events handler returns false\nif(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle);}}}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid;}}// Add to the element\'s handler list, delegates in front\nif(selector){handlers.splice(handlers.delegateCount++,0,handleObj);}else{handlers.push(handleObj);}// Keep track of which events have ever been used, for event optimization\njQuery.event.global[type]=true;}},// Detach an event or set of events from an element\nremove:function remove(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.hasData(elem)&&dataPriv.get(elem);if(!elemData||!(events=elemData.events)){return;}// Once for each type.namespace in types; type may be omitted\ntypes=(types||"").match(rnothtmlwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();// Unbind all events (on this namespace, if provided) for the element\nif(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true);}continue;}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;handlers=events[type]||[];tmp=tmp[2]&&new RegExp("(^|\\\\.)"+namespaces.join("\\\\.(?:.*\\\\.|)")+"(\\\\.|$)");// Remove matching events\norigCount=j=handlers.length;while(j--){handleObj=handlers[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!tmp||tmp.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){handlers.splice(j,1);if(handleObj.selector){handlers.delegateCount--;}if(special.remove){special.remove.call(elem,handleObj);}}}// Remove generic event handler if we removed something and no more handlers exist\n// (avoids potential for endless recursion during removal of special event handlers)\nif(origCount&&!handlers.length){if(!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===false){jQuery.removeEvent(elem,type,elemData.handle);}delete events[type];}}// Remove data and the expando if it\'s no longer used\nif(jQuery.isEmptyObject(events)){dataPriv.remove(elem,"handle events");}},dispatch:function dispatch(nativeEvent){var i,j,ret,matched,handleObj,handlerQueue,args=new Array(arguments.length),// Make a writable jQuery.Event from the native event object\nevent=jQuery.event.fix(nativeEvent),handlers=(dataPriv.get(this,"events")||Object.create(null))[event.type]||[],special=jQuery.event.special[event.type]||{};// Use the fix-ed jQuery.Event rather than the (read-only) native event\nargs[0]=event;for(i=1;i<arguments.length;i++){args[i]=arguments[i];}event.delegateTarget=this;// Call the preDispatch hook for the mapped type, and let it bail if desired\nif(special.preDispatch&&special.preDispatch.call(this,event)===false){return;}// Determine handlers\nhandlerQueue=jQuery.event.handlers.call(this,event,handlers);// Run delegates first; they may want to stop propagation beneath us\ni=0;while((matched=handlerQueue[i++])&&!event.isPropagationStopped()){event.currentTarget=matched.elem;j=0;while((handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped()){// If the event is namespaced, then each handler is only invoked if it is\n// specially universal or its namespaces are a superset of the event\'s.\nif(!event.rnamespace||handleObj.namespace===false||event.rnamespace.test(handleObj.namespace)){event.handleObj=handleObj;event.data=handleObj.data;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){if((event.result=ret)===false){event.preventDefault();event.stopPropagation();}}}}}// Call the postDispatch hook for the mapped type\nif(special.postDispatch){special.postDispatch.call(this,event);}return event.result;},handlers:function handlers(event,_handlers){var i,handleObj,sel,matchedHandlers,matchedSelectors,handlerQueue=[],delegateCount=_handlers.delegateCount,cur=event.target;// Find delegate handlers\nif(delegateCount&&// Support: IE <=9\n// Black-hole SVG <use> instance trees (trac-13180)\ncur.nodeType&&// Support: Firefox <=42\n// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)\n// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click\n// Support: IE 11 only\n// ...but not arrow key "clicks" of radio inputs, which can have `button` -1 (gh-2343)\n!(event.type==="click"&&event.button>=1)){for(;cur!==this;cur=cur.parentNode||this){// Don\'t check non-elements (#13208)\n// Don\'t process clicks on disabled elements (#6911, #8165, #11382, #11764)\nif(cur.nodeType===1&&!(event.type==="click"&&cur.disabled===true)){matchedHandlers=[];matchedSelectors={};for(i=0;i<delegateCount;i++){handleObj=_handlers[i];// Don\'t conflict with Object.prototype properties (#13203)\nsel=handleObj.selector+" ";if(matchedSelectors[sel]===undefined){matchedSelectors[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>-1:jQuery.find(sel,this,null,[cur]).length;}if(matchedSelectors[sel]){matchedHandlers.push(handleObj);}}if(matchedHandlers.length){handlerQueue.push({elem:cur,handlers:matchedHandlers});}}}}// Add the remaining (directly-bound) handlers\ncur=this;if(delegateCount<_handlers.length){handlerQueue.push({elem:cur,handlers:_handlers.slice(delegateCount)});}return handlerQueue;},addProp:function addProp(name,hook){Object.defineProperty(jQuery.Event.prototype,name,{enumerable:true,configurable:true,get:isFunction(hook)?function(){if(this.originalEvent){return hook(this.originalEvent);}}:function(){if(this.originalEvent){return this.originalEvent[name];}},set:function set(value){Object.defineProperty(this,name,{enumerable:true,configurable:true,writable:true,value:value});}});},fix:function fix(originalEvent){return originalEvent[jQuery.expando]?originalEvent:new jQuery.Event(originalEvent);},special:{load:{// Prevent triggered image.load events from bubbling to window.load\nnoBubble:true},click:{// Utilize native event to ensure correct state for checkable inputs\nsetup:function setup(data){// For mutual compressibility with _default, replace `this` access with a local var.\n// `|| data` is dead code meant only to preserve the variable through minification.\nvar el=this||data;// Claim the first handler\nif(rcheckableType.test(el.type)&&el.click&&nodeName(el,"input")){// dataPriv.set( el, "click", ... )\nleverageNative(el,"click",returnTrue);}// Return false to allow normal processing in the caller\nreturn false;},trigger:function trigger(data){// For mutual compressibility with _default, replace `this` access with a local var.\n// `|| data` is dead code meant only to preserve the variable through minification.\nvar el=this||data;// Force setup before triggering a click\nif(rcheckableType.test(el.type)&&el.click&&nodeName(el,"input")){leverageNative(el,"click");}// Return non-false to allow normal event-path propagation\nreturn true;},// For cross-browser consistency, suppress native .click() on links\n// Also prevent it if we\'re currently inside a leveraged native-event stack\n_default:function _default(event){var target=event.target;return rcheckableType.test(target.type)&&target.click&&nodeName(target,"input")&&dataPriv.get(target,"click")||nodeName(target,"a");}},beforeunload:{postDispatch:function postDispatch(event){// Support: Firefox 20+\n// Firefox doesn\'t alert if the returnValue field is not set.\nif(event.result!==undefined&&event.originalEvent){event.originalEvent.returnValue=event.result;}}}}};// Ensure the presence of an event listener that handles manually-triggered\n// synthetic events by interrupting progress until reinvoked in response to\n// *native* events that it fires directly, ensuring that state changes have\n// already occurred before other listeners are invoked.\nfunction leverageNative(el,type,expectSync){// Missing expectSync indicates a trigger call, which must force setup through jQuery.event.add\nif(!expectSync){if(dataPriv.get(el,type)===undefined){jQuery.event.add(el,type,returnTrue);}return;}// Register the controller as a special universal handler for all event namespaces\ndataPriv.set(el,type,false);jQuery.event.add(el,type,{namespace:false,handler:function handler(event){var notAsync,result,saved=dataPriv.get(this,type);if(event.isTrigger&1&&this[type]){// Interrupt processing of the outer synthetic .trigger()ed event\n// Saved data should be false in such cases, but might be a leftover capture object\n// from an async native handler (gh-4350)\nif(!saved.length){// Store arguments for use when handling the inner native event\n// There will always be at least one argument (an event object), so this array\n// will not be confused with a leftover capture object.\nsaved=_slice.call(arguments);dataPriv.set(this,type,saved);// Trigger the native event and capture its result\n// Support: IE <=9 - 11+\n// focus() and blur() are asynchronous\nnotAsync=expectSync(this,type);this[type]();result=dataPriv.get(this,type);if(saved!==result||notAsync){dataPriv.set(this,type,false);}else{result={};}if(saved!==result){// Cancel the outer synthetic event\nevent.stopImmediatePropagation();event.preventDefault();return result.value;}// If this is an inner synthetic event for an event with a bubbling surrogate\n// (focus or blur), assume that the surrogate already propagated from triggering the\n// native event and prevent that from happening again here.\n// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the\n// bubbling surrogate propagates *after* the non-bubbling base), but that seems\n// less bad than duplication.\n}else if((jQuery.event.special[type]||{}).delegateType){event.stopPropagation();}// If this is a native event triggered above, everything is now in order\n// Fire an inner synthetic event with the original arguments\n}else if(saved.length){// ...and capture the result\ndataPriv.set(this,type,{value:jQuery.event.trigger(// Support: IE <=9 - 11+\n// Extend with the prototype to reset the above stopImmediatePropagation()\njQuery.extend(saved[0],jQuery.Event.prototype),saved.slice(1),this)});// Abort handling of the native event\nevent.stopImmediatePropagation();}}});}jQuery.removeEvent=function(elem,type,handle){// This "if" is needed for plain objects\nif(elem.removeEventListener){elem.removeEventListener(type,handle);}};jQuery.Event=function(src,props){// Allow instantiation without the \'new\' keyword\nif(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props);}// Event object\nif(src&&src.type){this.originalEvent=src;this.type=src.type;// Events bubbling up the document may have been marked as prevented\n// by a handler lower down the tree; reflect the correct value.\nthis.isDefaultPrevented=src.defaultPrevented||src.defaultPrevented===undefined&&// Support: Android <=2.3 only\nsrc.returnValue===false?returnTrue:returnFalse;// Create target properties\n// Support: Safari <=6 - 7 only\n// Target should not be a text node (#504, #13143)\nthis.target=src.target&&src.target.nodeType===3?src.target.parentNode:src.target;this.currentTarget=src.currentTarget;this.relatedTarget=src.relatedTarget;// Event type\n}else{this.type=src;}// Put explicitly provided properties onto the event object\nif(props){jQuery.extend(this,props);}// Create a timestamp if incoming event doesn\'t have one\nthis.timeStamp=src&&src.timeStamp||Date.now();// Mark it as fixed\nthis[jQuery.expando]=true;};// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:false,preventDefault:function preventDefault(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue;if(e&&!this.isSimulated){e.preventDefault();}},stopPropagation:function stopPropagation(){var e=this.originalEvent;this.isPropagationStopped=returnTrue;if(e&&!this.isSimulated){e.stopPropagation();}},stopImmediatePropagation:function stopImmediatePropagation(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue;if(e&&!this.isSimulated){e.stopImmediatePropagation();}this.stopPropagation();}};// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each({altKey:true,bubbles:true,cancelable:true,changedTouches:true,ctrlKey:true,detail:true,eventPhase:true,metaKey:true,pageX:true,pageY:true,shiftKey:true,view:true,"char":true,code:true,charCode:true,key:true,keyCode:true,button:true,buttons:true,clientX:true,clientY:true,offsetX:true,offsetY:true,pointerId:true,pointerType:true,screenX:true,screenY:true,targetTouches:true,toElement:true,touches:true,which:function which(event){var button=event.button;// Add which for key events\nif(event.which==null&&rkeyEvent.test(event.type)){return event.charCode!=null?event.charCode:event.keyCode;}// Add which for click: 1 === left; 2 === middle; 3 === right\nif(!event.which&&button!==undefined&&rmouseEvent.test(event.type)){if(button&1){return 1;}if(button&2){return 3;}if(button&4){return 2;}return 0;}return event.which;}},jQuery.event.addProp);jQuery.each({focus:"focusin",blur:"focusout"},function(type,delegateType){jQuery.event.special[type]={// Utilize native event if possible so blur/focus sequence is correct\nsetup:function setup(){// Claim the first handler\n// dataPriv.set( this, "focus", ... )\n// dataPriv.set( this, "blur", ... )\nleverageNative(this,type,expectSync);// Return false to allow normal processing in the caller\nreturn false;},trigger:function trigger(){// Force setup before trigger\nleverageNative(this,type);// Return non-false to allow normal event-path propagation\nreturn true;},delegateType:delegateType};});// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function handle(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;// For mouseenter/leave call the handler if related is outside the target.\n// NB: No relatedTarget if the mouse left/entered the browser window\nif(!related||related!==target&&!jQuery.contains(target,related)){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix;}return ret;}};});jQuery.fn.extend({on:function on(types,selector,data,fn){return _on(this,types,selector,data,fn);},one:function one(types,selector,data,fn){return _on(this,types,selector,data,fn,1);},off:function off(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){// ( event )  dispatched jQuery.Event\nhandleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this;}if(_typeof(types)==="object"){// ( types-object [, selector] )\nfor(type in types){this.off(type,selector,types[type]);}return this;}if(selector===false||typeof selector==="function"){// ( types [, fn] )\nfn=selector;selector=undefined;}if(fn===false){fn=returnFalse;}return this.each(function(){jQuery.event.remove(this,types,fn,selector);});}});var// Support: IE <=10 - 11, Edge 12 - 13 only\n// In IE/Edge using regex groups here causes severe slowdowns.\n// See https://connect.microsoft.com/IE/feedback/details/1736512/\nrnoInnerhtml=/<script|<style|<link/i,// checked="checked" or checked\nrchecked=/checked\\s*(?:[^=]|=\\s*.checked.)/i,rcleanScript=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;// Prefer a tbody over its parent table for containing new rows\nfunction manipulationTarget(elem,content){if(nodeName(elem,"table")&&nodeName(content.nodeType!==11?content:content.firstChild,"tr")){return jQuery(elem).children("tbody")[0]||elem;}return elem;}// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript(elem){elem.type=(elem.getAttribute("type")!==null)+"/"+elem.type;return elem;}function restoreScript(elem){if((elem.type||"").slice(0,5)==="true/"){elem.type=elem.type.slice(5);}else{elem.removeAttribute("type");}return elem;}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,udataOld,udataCur,events;if(dest.nodeType!==1){return;}// 1. Copy private data: events, handlers, etc.\nif(dataPriv.hasData(src)){pdataOld=dataPriv.get(src);events=pdataOld.events;if(events){dataPriv.remove(dest,"handle events");for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i]);}}}}// 2. Copy user data\nif(dataUser.hasData(src)){udataOld=dataUser.access(src);udataCur=jQuery.extend({},udataOld);dataUser.set(dest,udataCur);}}// Fix IE bugs, see support tests\nfunction fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();// Fails to persist the checked state of a cloned checkbox or radio button.\nif(nodeName==="input"&&rcheckableType.test(src.type)){dest.checked=src.checked;// Fails to return the selected option to the default selected state when cloning options\n}else if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue;}}function domManip(collection,args,callback,ignored){// Flatten any nested arrays\nargs=flat(args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=collection.length,iNoClone=l-1,value=args[0],valueIsFunction=isFunction(value);// We can\'t cloneNode fragments that contain checked, in WebKit\nif(valueIsFunction||l>1&&typeof value==="string"&&!support.checkClone&&rchecked.test(value)){return collection.each(function(index){var self=collection.eq(index);if(valueIsFunction){args[0]=value.call(this,index,self.html());}domManip(self,args,callback,ignored);});}if(l){fragment=buildFragment(args,collection[0].ownerDocument,false,collection,ignored);first=fragment.firstChild;if(fragment.childNodes.length===1){fragment=first;}// Require either new content or an interest in ignored elements to invoke the callback\nif(first||ignored){scripts=jQuery.map(getAll(fragment,"script"),disableScript);hasScripts=scripts.length;// Use the original fragment for the last item\n// instead of the first because it can end up\n// being emptied incorrectly in certain situations (#8070).\nfor(;i<l;i++){node=fragment;if(i!==iNoClone){node=jQuery.clone(node,true,true);// Keep references to cloned scripts for later restoration\nif(hasScripts){// Support: Android <=4.0 only, PhantomJS 1 only\n// push.apply(_, arraylike) throws on ancient WebKit\njQuery.merge(scripts,getAll(node,"script"));}}callback.call(collection[i],node,i);}if(hasScripts){doc=scripts[scripts.length-1].ownerDocument;// Reenable scripts\njQuery.map(scripts,restoreScript);// Evaluate executable scripts on first document insertion\nfor(i=0;i<hasScripts;i++){node=scripts[i];if(rscriptType.test(node.type||"")&&!dataPriv.access(node,"globalEval")&&jQuery.contains(doc,node)){if(node.src&&(node.type||"").toLowerCase()!=="module"){// Optional AJAX dependency, but won\'t run scripts if not present\nif(jQuery._evalUrl&&!node.noModule){jQuery._evalUrl(node.src,{nonce:node.nonce||node.getAttribute("nonce")},doc);}}else{DOMEval(node.textContent.replace(rcleanScript,""),node,doc);}}}}}}return collection;}function _remove(elem,selector,keepData){var node,nodes=selector?jQuery.filter(selector,elem):elem,i=0;for(;(node=nodes[i])!=null;i++){if(!keepData&&node.nodeType===1){jQuery.cleanData(getAll(node));}if(node.parentNode){if(keepData&&isAttached(node)){setGlobalEval(getAll(node,"script"));}node.parentNode.removeChild(node);}}return elem;}jQuery.extend({htmlPrefilter:function htmlPrefilter(html){return html;},clone:function clone(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(true),inPage=isAttached(elem);// Fix IE cloning issues\nif(!support.noCloneChecked&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2\ndestElements=getAll(clone);srcElements=getAll(elem);for(i=0,l=srcElements.length;i<l;i++){fixInput(srcElements[i],destElements[i]);}}// Copy the events from the original to the clone\nif(dataAndEvents){if(deepDataAndEvents){srcElements=srcElements||getAll(elem);destElements=destElements||getAll(clone);for(i=0,l=srcElements.length;i<l;i++){cloneCopyEvent(srcElements[i],destElements[i]);}}else{cloneCopyEvent(elem,clone);}}// Preserve script evaluation history\ndestElements=getAll(clone,"script");if(destElements.length>0){setGlobalEval(destElements,!inPage&&getAll(elem,"script"));}// Return the cloned set\nreturn clone;},cleanData:function cleanData(elems){var data,elem,type,special=jQuery.event.special,i=0;for(;(elem=elems[i])!==undefined;i++){if(acceptData(elem)){if(data=elem[dataPriv.expando]){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type);// This is a shortcut to avoid jQuery.event.remove\'s overhead\n}else{jQuery.removeEvent(elem,type,data.handle);}}}// Support: Chrome <=35 - 45+\n// Assign undefined instead of using delete, see Data#remove\nelem[dataPriv.expando]=undefined;}if(elem[dataUser.expando]){// Support: Chrome <=35 - 45+\n// Assign undefined instead of using delete, see Data#remove\nelem[dataUser.expando]=undefined;}}}}});jQuery.fn.extend({detach:function detach(selector){return _remove(this,selector,true);},remove:function remove(selector){return _remove(this,selector);},text:function text(value){return access(this,function(value){return value===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=value;}});},null,value,arguments.length);},append:function append(){return domManip(this,arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.appendChild(elem);}});},prepend:function prepend(){return domManip(this,arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild);}});},before:function before(){return domManip(this,arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this);}});},after:function after(){return domManip(this,arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this.nextSibling);}});},empty:function empty(){var elem,i=0;for(;(elem=this[i])!=null;i++){if(elem.nodeType===1){// Prevent memory leaks\njQuery.cleanData(getAll(elem,false));// Remove any remaining nodes\nelem.textContent="";}}return this;},clone:function clone(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents);});},html:function html(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined&&elem.nodeType===1){return elem.innerHTML;}// See if we can take a shortcut and just use innerHTML\nif(typeof value==="string"&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=jQuery.htmlPrefilter(value);try{for(;i<l;i++){elem=this[i]||{};// Remove element nodes and prevent memory leaks\nif(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.innerHTML=value;}}elem=0;// If using innerHTML throws an exception, use the fallback method\n}catch(e){}}if(elem){this.empty().append(value);}},null,value,arguments.length);},replaceWith:function replaceWith(){var ignored=[];// Make the changes, replacing each non-ignored context element with the new content\nreturn domManip(this,arguments,function(elem){var parent=this.parentNode;if(jQuery.inArray(this,ignored)<0){jQuery.cleanData(getAll(this));if(parent){parent.replaceChild(elem,this);}}// Force callback invocation\n},ignored);}});jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;for(;i<=last;i++){elems=i===last?this:this.clone(true);jQuery(insert[i])[original](elems);// Support: Android <=4.0 only, PhantomJS 1 only\n// .get() because push.apply(_, arraylike) throws on ancient WebKit\npush.apply(ret,elems.get());}return this.pushStack(ret);};});var rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i");var getStyles=function getStyles(elem){// Support: IE <=11 only, Firefox <=30 (#15098, #14150)\n// IE throws on elements created in popups\n// FF meanwhile throws on frame elements through "defaultView.getComputedStyle"\nvar view=elem.ownerDocument.defaultView;if(!view||!view.opener){view=window;}return view.getComputedStyle(elem);};var swap=function swap(elem,options,callback){var ret,name,old={};// Remember the old values, and insert the new ones\nfor(name in options){old[name]=elem.style[name];elem.style[name]=options[name];}ret=callback.call(elem);// Revert the old values\nfor(name in options){elem.style[name]=old[name];}return ret;};var rboxStyle=new RegExp(cssExpand.join("|"),"i");(function(){// Executing both pixelPosition & boxSizingReliable tests require only one layout\n// so they\'re executed at the same time to save the second computation.\nfunction computeStyleTests(){// This is a singleton, we need to execute it only once\nif(!div){return;}container.style.cssText="position:absolute;left:-11111px;width:60px;"+"margin-top:1px;padding:0;border:0";div.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;"+"margin:auto;border:1px;padding:1px;"+"width:60%;top:1%";documentElement.appendChild(container).appendChild(div);var divStyle=window.getComputedStyle(div);pixelPositionVal=divStyle.top!=="1%";// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\nreliableMarginLeftVal=roundPixelMeasures(divStyle.marginLeft)===12;// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3\n// Some styles come back with percentage values, even though they shouldn\'t\ndiv.style.right="60%";pixelBoxStylesVal=roundPixelMeasures(divStyle.right)===36;// Support: IE 9 - 11 only\n// Detect misreporting of content dimensions for box-sizing:border-box elements\nboxSizingReliableVal=roundPixelMeasures(divStyle.width)===36;// Support: IE 9 only\n// Detect overflow:scroll screwiness (gh-3699)\n// Support: Chrome <=64\n// Don\'t get tricked when zoom affects offsetWidth (gh-4029)\ndiv.style.position="absolute";scrollboxSizeVal=roundPixelMeasures(div.offsetWidth/3)===12;documentElement.removeChild(container);// Nullify the div so it wouldn\'t be stored in the memory and\n// it will also be a sign that checks already performed\ndiv=null;}function roundPixelMeasures(measure){return Math.round(parseFloat(measure));}var pixelPositionVal,boxSizingReliableVal,scrollboxSizeVal,pixelBoxStylesVal,reliableTrDimensionsVal,reliableMarginLeftVal,container=document.createElement("div"),div=document.createElement("div");// Finish early in limited (non-browser) environments\nif(!div.style){return;}// Support: IE <=9 - 11 only\n// Style of cloned element affects source element cloned (#8908)\ndiv.style.backgroundClip="content-box";div.cloneNode(true).style.backgroundClip="";support.clearCloneStyle=div.style.backgroundClip==="content-box";jQuery.extend(support,{boxSizingReliable:function boxSizingReliable(){computeStyleTests();return boxSizingReliableVal;},pixelBoxStyles:function pixelBoxStyles(){computeStyleTests();return pixelBoxStylesVal;},pixelPosition:function pixelPosition(){computeStyleTests();return pixelPositionVal;},reliableMarginLeft:function reliableMarginLeft(){computeStyleTests();return reliableMarginLeftVal;},scrollboxSize:function scrollboxSize(){computeStyleTests();return scrollboxSizeVal;},// Support: IE 9 - 11+, Edge 15 - 18+\n// IE/Edge misreport `getComputedStyle` of table rows with width/height\n// set in CSS while `offset*` properties report correct values.\n// Behavior in IE 9 is more subtle than in newer versions & it passes\n// some versions of this test; make sure not to make it pass there!\nreliableTrDimensions:function reliableTrDimensions(){var table,tr,trChild,trStyle;if(reliableTrDimensionsVal==null){table=document.createElement("table");tr=document.createElement("tr");trChild=document.createElement("div");table.style.cssText="position:absolute;left:-11111px";tr.style.height="1px";trChild.style.height="9px";documentElement.appendChild(table).appendChild(tr).appendChild(trChild);trStyle=window.getComputedStyle(tr);reliableTrDimensionsVal=parseInt(trStyle.height)>3;documentElement.removeChild(table);}return reliableTrDimensionsVal;}});})();function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,// Support: Firefox 51+\n// Retrieving style before computed somehow\n// fixes an issue with getting wrong values\n// on detached elements\nstyle=elem.style;computed=computed||getStyles(elem);// getPropertyValue is needed for:\n//   .css(\'filter\') (IE 9 only, #12537)\n//   .css(\'--customProperty) (#3144)\nif(computed){ret=computed.getPropertyValue(name)||computed[name];if(ret===""&&!isAttached(elem)){ret=jQuery.style(elem,name);}// A tribute to the "awesome hack by Dean Edwards"\n// Android Browser returns percentage for some values,\n// but width seems to be reliably pixels.\n// This is against the CSSOM draft spec:\n// https://drafts.csswg.org/cssom/#resolved-values\nif(!support.pixelBoxStyles()&&rnumnonpx.test(ret)&&rboxStyle.test(name)){// Remember the original values\nwidth=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;// Put in the new values to get a computed value out\nstyle.minWidth=style.maxWidth=style.width=ret;ret=computed.width;// Revert the changed values\nstyle.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth;}}return ret!==undefined?// Support: IE <=9 - 11 only\n// IE returns zIndex value as an integer.\nret+"":ret;}function addGetHookIf(conditionFn,hookFn){// Define the hook, we\'ll check on the first run if it\'s really needed.\nreturn{get:function get(){if(conditionFn()){// Hook not needed (or it\'s not possible to use it due\n// to missing dependency), remove it.\ndelete this.get;return;}// Hook needed; redefine it so that the support test is not executed again.\nreturn(this.get=hookFn).apply(this,arguments);}};}var cssPrefixes=["Webkit","Moz","ms"],emptyStyle=document.createElement("div").style,vendorProps={};// Return a vendor-prefixed property or undefined\nfunction vendorPropName(name){// Check for vendor prefixed names\nvar capName=name[0].toUpperCase()+name.slice(1),i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in emptyStyle){return name;}}}// Return a potentially-mapped jQuery.cssProps or vendor prefixed property\nfunction finalPropName(name){var final=jQuery.cssProps[name]||vendorProps[name];if(final){return final;}if(name in emptyStyle){return name;}return vendorProps[name]=vendorPropName(name)||name;}var// Swappable if display is none or starts with table\n// except "table", "table-cell", or "table-caption"\n// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\nrdisplayswap=/^(none|table(?!-c[ea]).+)/,rcustomProp=/^--/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"};function setPositiveNumber(_elem,value,subtract){// Any relative (+/-) values have already been\n// normalized at this point\nvar matches=rcssNum.exec(value);return matches?// Guard against undefined "subtract", e.g., when used as in cssHooks\nMath.max(0,matches[2]-(subtract||0))+(matches[3]||"px"):value;}function boxModelAdjustment(elem,dimension,box,isBorderBox,styles,computedVal){var i=dimension==="width"?1:0,extra=0,delta=0;// Adjustment may not be necessary\nif(box===(isBorderBox?"border":"content")){return 0;}for(;i<4;i+=2){// Both box models exclude margin\nif(box==="margin"){delta+=jQuery.css(elem,box+cssExpand[i],true,styles);}// If we get here with a content-box, we\'re seeking "padding" or "border" or "margin"\nif(!isBorderBox){// Add padding\ndelta+=jQuery.css(elem,"padding"+cssExpand[i],true,styles);// For "border" or "margin", add border\nif(box!=="padding"){delta+=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles);// But still keep track of it otherwise\n}else{extra+=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles);}// If we get here with a border-box (content + padding + border), we\'re seeking "content" or\n// "padding" or "margin"\n}else{// For "content", subtract padding\nif(box==="content"){delta-=jQuery.css(elem,"padding"+cssExpand[i],true,styles);}// For "content" or "padding", subtract border\nif(box!=="margin"){delta-=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles);}}}// Account for positive content-box scroll gutter when requested by providing computedVal\nif(!isBorderBox&&computedVal>=0){// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border\n// Assuming integer scroll gutter, subtract the rest and round down\ndelta+=Math.max(0,Math.ceil(elem["offset"+dimension[0].toUpperCase()+dimension.slice(1)]-computedVal-delta-extra-0.5// If offsetWidth/offsetHeight is unknown, then we can\'t determine content-box scroll gutter\n// Use an explicit zero to avoid NaN (gh-3964)\n))||0;}return delta;}function getWidthOrHeight(elem,dimension,extra){// Start with computed style\nvar styles=getStyles(elem),// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).\n// Fake content-box until we know it\'s needed to know the true value.\nboxSizingNeeded=!support.boxSizingReliable()||extra,isBorderBox=boxSizingNeeded&&jQuery.css(elem,"boxSizing",false,styles)==="border-box",valueIsBorderBox=isBorderBox,val=curCSS(elem,dimension,styles),offsetProp="offset"+dimension[0].toUpperCase()+dimension.slice(1);// Support: Firefox <=54\n// Return a confounding non-pixel value or feign ignorance, as appropriate.\nif(rnumnonpx.test(val)){if(!extra){return val;}val="auto";}// Support: IE 9 - 11 only\n// Use offsetWidth/offsetHeight for when box sizing is unreliable.\n// In those cases, the computed value can be trusted to be border-box.\nif((!support.boxSizingReliable()&&isBorderBox||// Support: IE 10 - 11+, Edge 15 - 18+\n// IE/Edge misreport `getComputedStyle` of table rows with width/height\n// set in CSS while `offset*` properties report correct values.\n// Interestingly, in some cases IE 9 doesn\'t suffer from this issue.\n!support.reliableTrDimensions()&&nodeName(elem,"tr")||// Fall back to offsetWidth/offsetHeight when value is "auto"\n// This happens for inline elements with no explicit setting (gh-3571)\nval==="auto"||// Support: Android <=4.1 - 4.3 only\n// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)\n!parseFloat(val)&&jQuery.css(elem,"display",false,styles)==="inline")&&// Make sure the element is visible & connected\nelem.getClientRects().length){isBorderBox=jQuery.css(elem,"boxSizing",false,styles)==="border-box";// Where available, offsetWidth/offsetHeight approximate border box dimensions.\n// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the\n// retrieved value as a content box dimension.\nvalueIsBorderBox=offsetProp in elem;if(valueIsBorderBox){val=elem[offsetProp];}}// Normalize "" and auto\nval=parseFloat(val)||0;// Adjust for the element\'s box model\nreturn val+boxModelAdjustment(elem,dimension,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles,// Provide the current computed size to request scroll gutter calculation (gh-3589)\nval)+"px";}jQuery.extend({// Add in style property hooks for overriding the default\n// behavior of getting and setting a style property\ncssHooks:{opacity:{get:function get(elem,computed){if(computed){// We should always get a number back from opacity\nvar ret=curCSS(elem,"opacity");return ret===""?"1":ret;}}}},// Don\'t automatically add "px" to these possibly-unitless properties\ncssNumber:{"animationIterationCount":true,"columnCount":true,"fillOpacity":true,"flexGrow":true,"flexShrink":true,"fontWeight":true,"gridArea":true,"gridColumn":true,"gridColumnEnd":true,"gridColumnStart":true,"gridRow":true,"gridRowEnd":true,"gridRowStart":true,"lineHeight":true,"opacity":true,"order":true,"orphans":true,"widows":true,"zIndex":true,"zoom":true},// Add in properties whose names you wish to fix before\n// setting or getting the value\ncssProps:{},// Get and set the style property on a DOM Node\nstyle:function style(elem,name,value,extra){// Don\'t set styles on text and comment nodes\nif(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return;}// Make sure that we\'re working with the right name\nvar ret,type,hooks,origName=camelCase(name),isCustomProp=rcustomProp.test(name),style=elem.style;// Make sure that we\'re working with the right name. We don\'t\n// want to query the value if it is a CSS custom property\n// since they are user-defined.\nif(!isCustomProp){name=finalPropName(origName);}// Gets hook for the prefixed version, then unprefixed version\nhooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];// Check if we\'re setting a value\nif(value!==undefined){type=_typeof(value);// Convert "+=" or "-=" to relative numbers (#7345)\nif(type==="string"&&(ret=rcssNum.exec(value))&&ret[1]){value=adjustCSS(elem,name,ret);// Fixes bug #9237\ntype="number";}// Make sure that null and NaN values aren\'t set (#7116)\nif(value==null||value!==value){return;}// If a number was passed in, add the unit (except for certain CSS properties)\n// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append\n// "px" to a few hardcoded values.\nif(type==="number"&&!isCustomProp){value+=ret&&ret[3]||(jQuery.cssNumber[origName]?"":"px");}// background-* props affect original clone\'s values\nif(!support.clearCloneStyle&&value===""&&name.indexOf("background")===0){style[name]="inherit";}// If a hook was provided, use that value, otherwise just set the specified value\nif(!hooks||!("set"in hooks)||(value=hooks.set(elem,value,extra))!==undefined){if(isCustomProp){style.setProperty(name,value);}else{style[name]=value;}}}else{// If a hook was provided get the non-computed value from there\nif(hooks&&"get"in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret;}// Otherwise just get the value from the style object\nreturn style[name];}},css:function css(elem,name,extra,styles){var val,num,hooks,origName=camelCase(name),isCustomProp=rcustomProp.test(name);// Make sure that we\'re working with the right name. We don\'t\n// want to modify the value if it is a CSS custom property\n// since they are user-defined.\nif(!isCustomProp){name=finalPropName(origName);}// Try prefixed name followed by the unprefixed name\nhooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];// If a hook was provided get the computed value from there\nif(hooks&&"get"in hooks){val=hooks.get(elem,true,extra);}// Otherwise, if a way to get the computed value exists, use that\nif(val===undefined){val=curCSS(elem,name,styles);}// Convert "normal" to computed value\nif(val==="normal"&&name in cssNormalTransform){val=cssNormalTransform[name];}// Make numeric if forced or a qualifier was provided and val looks numeric\nif(extra===""||extra){num=parseFloat(val);return extra===true||isFinite(num)?num||0:val;}return val;}});jQuery.each(["height","width"],function(_i,dimension){jQuery.cssHooks[dimension]={get:function get(elem,computed,extra){if(computed){// Certain elements can have dimension info if we invisibly show them\n// but it must have a current display style that would benefit\nreturn rdisplayswap.test(jQuery.css(elem,"display"))&&(// Support: Safari 8+\n// Table columns in Safari have non-zero offsetWidth & zero\n// getBoundingClientRect().width unless display is changed.\n// Support: IE <=11 only\n// Running getBoundingClientRect on a disconnected node\n// in IE throws an error.\n!elem.getClientRects().length||!elem.getBoundingClientRect().width)?swap(elem,cssShow,function(){return getWidthOrHeight(elem,dimension,extra);}):getWidthOrHeight(elem,dimension,extra);}},set:function set(elem,value,extra){var matches,styles=getStyles(elem),// Only read styles.position if the test has a chance to fail\n// to avoid forcing a reflow.\nscrollboxSizeBuggy=!support.scrollboxSize()&&styles.position==="absolute",// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)\nboxSizingNeeded=scrollboxSizeBuggy||extra,isBorderBox=boxSizingNeeded&&jQuery.css(elem,"boxSizing",false,styles)==="border-box",subtract=extra?boxModelAdjustment(elem,dimension,extra,isBorderBox,styles):0;// Account for unreliable border-box dimensions by comparing offset* to computed and\n// faking a content-box to get border and padding (gh-3699)\nif(isBorderBox&&scrollboxSizeBuggy){subtract-=Math.ceil(elem["offset"+dimension[0].toUpperCase()+dimension.slice(1)]-parseFloat(styles[dimension])-boxModelAdjustment(elem,dimension,"border",false,styles)-0.5);}// Convert to pixels if value adjustment is needed\nif(subtract&&(matches=rcssNum.exec(value))&&(matches[3]||"px")!=="px"){elem.style[dimension]=value;value=jQuery.css(elem,dimension);}return setPositiveNumber(elem,value,subtract);}};});jQuery.cssHooks.marginLeft=addGetHookIf(support.reliableMarginLeft,function(elem,computed){if(computed){return(parseFloat(curCSS(elem,"marginLeft"))||elem.getBoundingClientRect().left-swap(elem,{marginLeft:0},function(){return elem.getBoundingClientRect().left;}))+"px";}});// These hooks are used by animate to expand properties\njQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function expand(value){var i=0,expanded={},// Assumes a single number if not a string\nparts=typeof value==="string"?value.split(" "):[value];for(;i<4;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];}return expanded;}};if(prefix!=="margin"){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber;}});jQuery.fn.extend({css:function css(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(Array.isArray(name)){styles=getStyles(elem);len=name.length;for(;i<len;i++){map[name[i]]=jQuery.css(elem,name[i],false,styles);}return map;}return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name);},name,value,arguments.length>1);}});function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing);}jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function init(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||jQuery.easing._default;this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?"":"px");},cur:function cur(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this);},run:function run(percent){var eased,hooks=Tween.propHooks[this.prop];if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration);}else{this.pos=eased=percent;}this.now=(this.end-this.start)*eased+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this);}if(hooks&&hooks.set){hooks.set(this);}else{Tween.propHooks._default.set(this);}return this;}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function get(tween){var result;// Use a property on the element directly when it is not a DOM element,\n// or when there is no matching style property that exists.\nif(tween.elem.nodeType!==1||tween.elem[tween.prop]!=null&&tween.elem.style[tween.prop]==null){return tween.elem[tween.prop];}// Passing an empty string as a 3rd parameter to .css will automatically\n// attempt a parseFloat and fallback to a string if the parse fails.\n// Simple values such as "10px" are parsed to Float;\n// complex values such as "rotate(1rad)" are returned as-is.\nresult=jQuery.css(tween.elem,tween.prop,"");// Empty strings, null, undefined and "auto" are converted to 0.\nreturn!result||result==="auto"?0:result;},set:function set(tween){// Use step hook for back compat.\n// Use cssHook if its there.\n// Use .style if available and use plain properties where available.\nif(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween);}else if(tween.elem.nodeType===1&&(jQuery.cssHooks[tween.prop]||tween.elem.style[finalPropName(tween.prop)]!=null)){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit);}else{tween.elem[tween.prop]=tween.now;}}}};// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function set(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now;}}};jQuery.easing={linear:function linear(p){return p;},swing:function swing(p){return 0.5-Math.cos(p*Math.PI)/2;},_default:"swing"};jQuery.fx=Tween.prototype.init;// Back compat <1.8 extension point\njQuery.fx.step={};var fxNow,inProgress,rfxtypes=/^(?:toggle|show|hide)$/,rrun=/queueHooks$/;function schedule(){if(inProgress){if(document.hidden===false&&window.requestAnimationFrame){window.requestAnimationFrame(schedule);}else{window.setTimeout(schedule,jQuery.fx.interval);}jQuery.fx.tick();}}// Animations created synchronously will run synchronously\nfunction createFxNow(){window.setTimeout(function(){fxNow=undefined;});return fxNow=Date.now();}// Generate parameters to create a standard animation\nfunction genFx(type,includeWidth){var which,i=0,attrs={height:type};// If we include width, step value is 1 to do all cssExpand values,\n// otherwise step value is 2 to skip over Left and Right\nincludeWidth=includeWidth?1:0;for(;i<4;i+=2-includeWidth){which=cssExpand[i];attrs["margin"+which]=attrs["padding"+which]=type;}if(includeWidth){attrs.opacity=attrs.width=type;}return attrs;}function createTween(value,prop,animation){var tween,collection=(Animation.tweeners[prop]||[]).concat(Animation.tweeners["*"]),index=0,length=collection.length;for(;index<length;index++){if(tween=collection[index].call(animation,prop,value)){// We\'re done with this property\nreturn tween;}}}function defaultPrefilter(elem,props,opts){var prop,value,toggle,hooks,oldfire,propTween,restoreDisplay,display,isBox="width"in props||"height"in props,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHiddenWithinTree(elem),dataShow=dataPriv.get(elem,"fxshow");// Queue-skipping animations hijack the fx hooks\nif(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");if(hooks.unqueued==null){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued){oldfire();}};}hooks.unqueued++;anim.always(function(){// Ensure the complete handler is called before this completes\nanim.always(function(){hooks.unqueued--;if(!jQuery.queue(elem,"fx").length){hooks.empty.fire();}});});}// Detect show/hide animations\nfor(prop in props){value=props[prop];if(rfxtypes.test(value)){delete props[prop];toggle=toggle||value==="toggle";if(value===(hidden?"hide":"show")){// Pretend to be hidden if this is a "show" and\n// there is still data from a stopped show/hide\nif(value==="show"&&dataShow&&dataShow[prop]!==undefined){hidden=true;// Ignore all other no-op show/hide data\n}else{continue;}}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop);}}// Bail out if this is a no-op like .hide().hide()\npropTween=!jQuery.isEmptyObject(props);if(!propTween&&jQuery.isEmptyObject(orig)){return;}// Restrict "overflow" and "display" styles during box animations\nif(isBox&&elem.nodeType===1){// Support: IE <=9 - 11, Edge 12 - 15\n// Record all 3 overflow attributes because IE does not infer the shorthand\n// from identically-valued overflowX and overflowY and Edge just mirrors\n// the overflowX value there.\nopts.overflow=[style.overflow,style.overflowX,style.overflowY];// Identify a display type, preferring old show/hide data over the CSS cascade\nrestoreDisplay=dataShow&&dataShow.display;if(restoreDisplay==null){restoreDisplay=dataPriv.get(elem,"display");}display=jQuery.css(elem,"display");if(display==="none"){if(restoreDisplay){display=restoreDisplay;}else{// Get nonempty value(s) by temporarily forcing visibility\nshowHide([elem],true);restoreDisplay=elem.style.display||restoreDisplay;display=jQuery.css(elem,"display");showHide([elem]);}}// Animate inline elements as inline-block\nif(display==="inline"||display==="inline-block"&&restoreDisplay!=null){if(jQuery.css(elem,"float")==="none"){// Restore the original display value at the end of pure show/hide animations\nif(!propTween){anim.done(function(){style.display=restoreDisplay;});if(restoreDisplay==null){display=style.display;restoreDisplay=display==="none"?"":display;}}style.display="inline-block";}}}if(opts.overflow){style.overflow="hidden";anim.always(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2];});}// Implement show/hide animations\npropTween=false;for(prop in orig){// General show/hide setup for this element animation\nif(!propTween){if(dataShow){if("hidden"in dataShow){hidden=dataShow.hidden;}}else{dataShow=dataPriv.access(elem,"fxshow",{display:restoreDisplay});}// Store hidden/visible for toggle so `.stop().toggle()` "reverses"\nif(toggle){dataShow.hidden=!hidden;}// Show elements before animating them\nif(hidden){showHide([elem],true);}/* eslint-disable no-loop-func */anim.done(function(){/* eslint-enable no-loop-func */ // The final step of a "hide" animation is actually hiding the element\nif(!hidden){showHide([elem]);}dataPriv.remove(elem,"fxshow");for(prop in orig){jQuery.style(elem,prop,orig[prop]);}});}// Per-property setup\npropTween=createTween(hidden?dataShow[prop]:0,prop,anim);if(!(prop in dataShow)){dataShow[prop]=propTween.start;if(hidden){propTween.end=propTween.start;propTween.start=0;}}}}function propFilter(props,specialEasing){var index,name,easing,value,hooks;// camelCase, specialEasing and expand cssHook pass\nfor(index in props){name=camelCase(index);easing=specialEasing[name];value=props[index];if(Array.isArray(value)){easing=value[1];value=props[index]=value[0];}if(index!==name){props[name]=value;delete props[index];}hooks=jQuery.cssHooks[name];if(hooks&&"expand"in hooks){value=hooks.expand(value);delete props[name];// Not quite $.extend, this won\'t overwrite existing keys.\n// Reusing \'index\' because we have the correct "name"\nfor(index in value){if(!(index in props)){props[index]=value[index];specialEasing[index]=easing;}}}else{specialEasing[name]=easing;}}}function Animation(elem,properties,options){var result,stopped,index=0,length=Animation.prefilters.length,deferred=jQuery.Deferred().always(function(){// Don\'t match elem in the :animated selector\ndelete tick.elem;}),tick=function tick(){if(stopped){return false;}var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),// Support: Android 2.3 only\n// Archaic crash bug won\'t allow us to use `1 - ( 0.5 || 0 )` (#12497)\ntemp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++){animation.tweens[index].run(percent);}deferred.notifyWith(elem,[animation,percent,remaining]);// If there\'s more to do, yield\nif(percent<1&&length){return remaining;}// If this was an empty animation, synthesize a final progress notification\nif(!length){deferred.notifyWith(elem,[animation,1,0]);}// Resolve the animation and report its conclusion\ndeferred.resolveWith(elem,[animation]);return false;},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(true,{specialEasing:{},easing:jQuery.easing._default},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function createTween(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween;},stop:function stop(gotoEnd){var index=0,// If we are going to the end, we want to run all the tweens\n// otherwise we skip this part\nlength=gotoEnd?animation.tweens.length:0;if(stopped){return this;}stopped=true;for(;index<length;index++){animation.tweens[index].run(1);}// Resolve when we played the last frame; otherwise, reject\nif(gotoEnd){deferred.notifyWith(elem,[animation,1,0]);deferred.resolveWith(elem,[animation,gotoEnd]);}else{deferred.rejectWith(elem,[animation,gotoEnd]);}return this;}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=Animation.prefilters[index].call(animation,elem,props,animation.opts);if(result){if(isFunction(result.stop)){jQuery._queueHooks(animation.elem,animation.opts.queue).stop=result.stop.bind(result);}return result;}}jQuery.map(props,createTween,animation);if(isFunction(animation.opts.start)){animation.opts.start.call(elem,animation);}// Attach callbacks from options\nanimation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always);jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue}));return animation;}jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(prop,value){var tween=this.createTween(prop,value);adjustCSS(tween.elem,prop,rcssNum.exec(value),tween);return tween;}]},tweener:function tweener(props,callback){if(isFunction(props)){callback=props;props=["*"];}else{props=props.match(rnothtmlwhite);}var prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];Animation.tweeners[prop]=Animation.tweeners[prop]||[];Animation.tweeners[prop].unshift(callback);}},prefilters:[defaultPrefilter],prefilter:function prefilter(callback,prepend){if(prepend){Animation.prefilters.unshift(callback);}else{Animation.prefilters.push(callback);}}});jQuery.speed=function(speed,easing,fn){var opt=speed&&_typeof(speed)==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!isFunction(easing)&&easing};// Go to the end state if fx are off\nif(jQuery.fx.off){opt.duration=0;}else{if(typeof opt.duration!=="number"){if(opt.duration in jQuery.fx.speeds){opt.duration=jQuery.fx.speeds[opt.duration];}else{opt.duration=jQuery.fx.speeds._default;}}}// Normalize opt.queue - true/undefined/null -> "fx"\nif(opt.queue==null||opt.queue===true){opt.queue="fx";}// Queueing\nopt.old=opt.complete;opt.complete=function(){if(isFunction(opt.old)){opt.old.call(this);}if(opt.queue){jQuery.dequeue(this,opt.queue);}};return opt;};jQuery.fn.extend({fadeTo:function fadeTo(speed,to,easing,callback){// Show any hidden elements after setting opacity to 0\nreturn this.filter(isHiddenWithinTree).css("opacity",0).show()// Animate to the value specified\n.end().animate({opacity:to},speed,easing,callback);},animate:function animate(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function doAnimation(){// Operate on a copy of prop so per-property easing won\'t be lost\nvar anim=Animation(this,jQuery.extend({},prop),optall);// Empty animations, or finishing resolves immediately\nif(empty||dataPriv.get(this,"finish")){anim.stop(true);}};doAnimation.finish=doAnimation;return empty||optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation);},stop:function stop(type,clearQueue,gotoEnd){var stopQueue=function stopQueue(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd);};if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined;}if(clearQueue){this.queue(type||"fx",[]);}return this.each(function(){var dequeue=true,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=dataPriv.get(this);if(index){if(data[index]&&data[index].stop){stopQueue(data[index]);}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index]);}}}for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=false;timers.splice(index,1);}}// Start the next in the queue if the last step wasn\'t forced.\n// Timers currently will call their complete callbacks, which\n// will dequeue but only if they were gotoEnd.\nif(dequeue||!gotoEnd){jQuery.dequeue(this,type);}});},finish:function finish(type){if(type!==false){type=type||"fx";}return this.each(function(){var index,data=dataPriv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;// Enable finishing flag on private data\ndata.finish=true;// Empty the queue first\njQuery.queue(this,type,[]);if(hooks&&hooks.stop){hooks.stop.call(this,true);}// Look for any active animations, and finish them\nfor(index=timers.length;index--;){if(timers[index].elem===this&&timers[index].queue===type){timers[index].anim.stop(true);timers.splice(index,1);}}// Look for any animations in the old queue and finish them\nfor(index=0;index<length;index++){if(queue[index]&&queue[index].finish){queue[index].finish.call(this);}}// Turn off finishing flag\ndelete data.finish;});}});jQuery.each(["toggle","show","hide"],function(_i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed==="boolean"?cssFn.apply(this,arguments):this.animate(genFx(name,true),speed,easing,callback);};});// Generate shortcuts for custom animations\njQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback);};});jQuery.timers=[];jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;fxNow=Date.now();for(;i<timers.length;i++){timer=timers[i];// Run the timer and safely remove it when done (allowing for external removal)\nif(!timer()&&timers[i]===timer){timers.splice(i--,1);}}if(!timers.length){jQuery.fx.stop();}fxNow=undefined;};jQuery.fx.timer=function(timer){jQuery.timers.push(timer);jQuery.fx.start();};jQuery.fx.interval=13;jQuery.fx.start=function(){if(inProgress){return;}inProgress=true;schedule();};jQuery.fx.stop=function(){inProgress=null;};jQuery.fx.speeds={slow:600,fast:200,// Default speed\n_default:400};// Based off of the plugin by Clint Helfers, with permission.\n// https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/\njQuery.fn.delay=function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=window.setTimeout(next,time);hooks.stop=function(){window.clearTimeout(timeout);};});};(function(){var input=document.createElement("input"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));input.type="checkbox";// Support: Android <=4.3 only\n// Default value for a checkbox should be "on"\nsupport.checkOn=input.value!=="";// Support: IE <=11 only\n// Must access selectedIndex to make default options select\nsupport.optSelected=opt.selected;// Support: IE <=11 only\n// An input loses its value after becoming a radio\ninput=document.createElement("input");input.value="t";input.type="radio";support.radioValue=input.value==="t";})();var boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function attr(name,value){return access(this,jQuery.attr,name,value,arguments.length>1);},removeAttr:function removeAttr(name){return this.each(function(){jQuery.removeAttr(this,name);});}});jQuery.extend({attr:function attr(elem,name,value){var ret,hooks,nType=elem.nodeType;// Don\'t get/set attributes on text, comment and attribute nodes\nif(nType===3||nType===8||nType===2){return;}// Fallback to prop when attributes are not supported\nif(typeof elem.getAttribute==="undefined"){return jQuery.prop(elem,name,value);}// Attribute hooks are determined by the lowercase version\n// Grab necessary hook if one is defined\nif(nType!==1||!jQuery.isXMLDoc(elem)){hooks=jQuery.attrHooks[name.toLowerCase()]||(jQuery.expr.match.bool.test(name)?boolHook:undefined);}if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name);return;}if(hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret;}elem.setAttribute(name,value+"");return value;}if(hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null){return ret;}ret=jQuery.find.attr(elem,name);// Non-existent attributes return null, we normalize to undefined\nreturn ret==null?undefined:ret;},attrHooks:{type:{set:function set(elem,value){if(!support.radioValue&&value==="radio"&&nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val){elem.value=val;}return value;}}}},removeAttr:function removeAttr(elem,value){var name,i=0,// Attribute names can contain non-HTML whitespace characters\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\nattrNames=value&&value.match(rnothtmlwhite);if(attrNames&&elem.nodeType===1){while(name=attrNames[i++]){elem.removeAttribute(name);}}}});// Hooks for boolean attributes\nboolHook={set:function set(elem,value,name){if(value===false){// Remove boolean attributes when set to false\njQuery.removeAttr(elem,name);}else{elem.setAttribute(name,name);}return name;}};jQuery.each(jQuery.expr.match.bool.source.match(/\\w+/g),function(_i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle,lowercaseName=name.toLowerCase();if(!isXML){// Avoid an infinite loop by temporarily removing this function from the getter\nhandle=attrHandle[lowercaseName];attrHandle[lowercaseName]=ret;ret=getter(elem,name,isXML)!=null?lowercaseName:null;attrHandle[lowercaseName]=handle;}return ret;};});var rfocusable=/^(?:input|select|textarea|button)$/i,rclickable=/^(?:a|area)$/i;jQuery.fn.extend({prop:function prop(name,value){return access(this,jQuery.prop,name,value,arguments.length>1);},removeProp:function removeProp(name){return this.each(function(){delete this[jQuery.propFix[name]||name];});}});jQuery.extend({prop:function prop(elem,name,value){var ret,hooks,nType=elem.nodeType;// Don\'t get/set properties on text, comment and attribute nodes\nif(nType===3||nType===8||nType===2){return;}if(nType!==1||!jQuery.isXMLDoc(elem)){// Fix name and attach hooks\nname=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name];}if(value!==undefined){if(hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret;}return elem[name]=value;}if(hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null){return ret;}return elem[name];},propHooks:{tabIndex:{get:function get(elem){// Support: IE <=9 - 11 only\n// elem.tabIndex doesn\'t always return the\n// correct value when it hasn\'t been explicitly set\n// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n// Use proper attribute retrieval(#12072)\nvar tabindex=jQuery.find.attr(elem,"tabindex");if(tabindex){return parseInt(tabindex,10);}if(rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href){return 0;}return-1;}}},propFix:{"for":"htmlFor","class":"className"}});// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n// eslint rule "no-unused-expressions" is disabled for this code\n// since it considers such accessions noop\nif(!support.optSelected){jQuery.propHooks.selected={get:function get(elem){/* eslint no-unused-expressions: "off" */var parent=elem.parentNode;if(parent&&parent.parentNode){parent.parentNode.selectedIndex;}return null;},set:function set(elem){/* eslint no-unused-expressions: "off" */var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex;}}}};}jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this;});// Strip and collapse whitespace according to HTML spec\n// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace\nfunction stripAndCollapse(value){var tokens=value.match(rnothtmlwhite)||[];return tokens.join(" ");}function getClass(elem){return elem.getAttribute&&elem.getAttribute("class")||"";}function classesToArray(value){if(Array.isArray(value)){return value;}if(typeof value==="string"){return value.match(rnothtmlwhite)||[];}return[];}jQuery.fn.extend({addClass:function addClass(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,getClass(this)));});}classes=classesToArray(value);if(classes.length){while(elem=this[i++]){curValue=getClass(elem);cur=elem.nodeType===1&&" "+stripAndCollapse(curValue)+" ";if(cur){j=0;while(clazz=classes[j++]){if(cur.indexOf(" "+clazz+" ")<0){cur+=clazz+" ";}}// Only assign if different to avoid unneeded rendering.\nfinalValue=stripAndCollapse(cur);if(curValue!==finalValue){elem.setAttribute("class",finalValue);}}}}return this;},removeClass:function removeClass(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,getClass(this)));});}if(!arguments.length){return this.attr("class","");}classes=classesToArray(value);if(classes.length){while(elem=this[i++]){curValue=getClass(elem);// This expression is here for better compressibility (see addClass)\ncur=elem.nodeType===1&&" "+stripAndCollapse(curValue)+" ";if(cur){j=0;while(clazz=classes[j++]){// Remove *all* instances\nwhile(cur.indexOf(" "+clazz+" ")>-1){cur=cur.replace(" "+clazz+" "," ");}}// Only assign if different to avoid unneeded rendering.\nfinalValue=stripAndCollapse(cur);if(curValue!==finalValue){elem.setAttribute("class",finalValue);}}}}return this;},toggleClass:function toggleClass(value,stateVal){var type=_typeof(value),isValidValue=type==="string"||Array.isArray(value);if(typeof stateVal==="boolean"&&isValidValue){return stateVal?this.addClass(value):this.removeClass(value);}if(isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,getClass(this),stateVal),stateVal);});}return this.each(function(){var className,i,self,classNames;if(isValidValue){// Toggle individual class names\ni=0;self=jQuery(this);classNames=classesToArray(value);while(className=classNames[i++]){// Check each className given, space separated list\nif(self.hasClass(className)){self.removeClass(className);}else{self.addClass(className);}}// Toggle whole class name\n}else if(value===undefined||type==="boolean"){className=getClass(this);if(className){// Store className if set\ndataPriv.set(this,"__className__",className);}// If the element has a class name or if we\'re passed `false`,\n// then remove the whole classname (if there was one, the above saved it).\n// Otherwise bring back whatever was previously saved (if anything),\n// falling back to the empty string if nothing was stored.\nif(this.setAttribute){this.setAttribute("class",className||value===false?"":dataPriv.get(this,"__className__")||"");}}});},hasClass:function hasClass(selector){var className,elem,i=0;className=" "+selector+" ";while(elem=this[i++]){if(elem.nodeType===1&&(" "+stripAndCollapse(getClass(elem))+" ").indexOf(className)>-1){return true;}}return false;}});var rreturn=/\\r/g;jQuery.fn.extend({val:function val(value){var hooks,ret,valueIsFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret;}ret=elem.value;// Handle most common string cases\nif(typeof ret==="string"){return ret.replace(rreturn,"");}// Handle cases where value is null/undef or number\nreturn ret==null?"":ret;}return;}valueIsFunction=isFunction(value);return this.each(function(i){var val;if(this.nodeType!==1){return;}if(valueIsFunction){val=value.call(this,i,jQuery(this).val());}else{val=value;}// Treat null/undefined as ""; convert numbers to string\nif(val==null){val="";}else if(typeof val==="number"){val+="";}else if(Array.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+"";});}hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];// If set returns undefined, fall back to normal setting\nif(!hooks||!("set"in hooks)||hooks.set(this,val,"value")===undefined){this.value=val;}});}});jQuery.extend({valHooks:{option:{get:function get(elem){var val=jQuery.find.attr(elem,"value");return val!=null?val:// Support: IE <=10 - 11 only\n// option.text throws exceptions (#14686, #14858)\n// Strip and collapse whitespace\n// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\nstripAndCollapse(jQuery.text(elem));}},select:{get:function get(elem){var value,option,i,options=elem.options,index=elem.selectedIndex,one=elem.type==="select-one",values=one?null:[],max=one?index+1:options.length;if(index<0){i=max;}else{i=one?index:0;}// Loop through all the selected options\nfor(;i<max;i++){option=options[i];// Support: IE <=9 only\n// IE8-9 doesn\'t update selected after form reset (#2551)\nif((option.selected||i===index)&&// Don\'t return options that are disabled or in a disabled optgroup\n!option.disabled&&(!option.parentNode.disabled||!nodeName(option.parentNode,"optgroup"))){// Get the specific value for the option\nvalue=jQuery(option).val();// We don\'t need an array for one selects\nif(one){return value;}// Multi-Selects return an array\nvalues.push(value);}}return values;},set:function set(elem,value){var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;while(i--){option=options[i];/* eslint-disable no-cond-assign */if(option.selected=jQuery.inArray(jQuery.valHooks.option.get(option),values)>-1){optionSet=true;}/* eslint-enable no-cond-assign */}// Force browsers to behave consistently when non-matching value is set\nif(!optionSet){elem.selectedIndex=-1;}return values;}}}});// Radios and checkboxes getter/setter\njQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function set(elem,value){if(Array.isArray(value)){return elem.checked=jQuery.inArray(jQuery(elem).val(),value)>-1;}}};if(!support.checkOn){jQuery.valHooks[this].get=function(elem){return elem.getAttribute("value")===null?"on":elem.value;};}});// Return jQuery for attributes-only inclusion\nsupport.focusin="onfocusin"in window;var rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,stopPropagationCallback=function stopPropagationCallback(e){e.stopPropagation();};jQuery.extend(jQuery.event,{trigger:function trigger(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,lastElement,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];cur=lastElement=tmp=elem=elem||document;// Don\'t do events on text and comment nodes\nif(elem.nodeType===3||elem.nodeType===8){return;}// focus/blur morphs to focusin/out; ensure we\'re not firing them right now\nif(rfocusMorph.test(type+jQuery.event.triggered)){return;}if(type.indexOf(".")>-1){// Namespaced trigger; create a regexp to match event type in handle()\nnamespaces=type.split(".");type=namespaces.shift();namespaces.sort();}ontype=type.indexOf(":")<0&&"on"+type;// Caller can pass in a jQuery.Event object, Object, or just an event type string\nevent=event[jQuery.expando]?event:new jQuery.Event(type,_typeof(event)==="object"&&event);// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\nevent.isTrigger=onlyHandlers?2:3;event.namespace=namespaces.join(".");event.rnamespace=event.namespace?new RegExp("(^|\\\\.)"+namespaces.join("\\\\.(?:.*\\\\.|)")+"(\\\\.|$)"):null;// Clean up the event in case it is being reused\nevent.result=undefined;if(!event.target){event.target=elem;}// Clone any incoming data and prepend the event, creating the handler arg list\ndata=data==null?[event]:jQuery.makeArray(data,[event]);// Allow special events to draw outside the lines\nspecial=jQuery.event.special[type]||{};if(!onlyHandlers&&special.trigger&&special.trigger.apply(elem,data)===false){return;}// Determine event propagation path in advance, per W3C events spec (#9951)\n// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\nif(!onlyHandlers&&!special.noBubble&&!isWindow(elem)){bubbleType=special.delegateType||type;if(!rfocusMorph.test(bubbleType+type)){cur=cur.parentNode;}for(;cur;cur=cur.parentNode){eventPath.push(cur);tmp=cur;}// Only add window if we got to document (e.g., not plain obj or detached DOM)\nif(tmp===(elem.ownerDocument||document)){eventPath.push(tmp.defaultView||tmp.parentWindow||window);}}// Fire handlers on the event path\ni=0;while((cur=eventPath[i++])&&!event.isPropagationStopped()){lastElement=cur;event.type=i>1?bubbleType:special.bindType||type;// jQuery handler\nhandle=(dataPriv.get(cur,"events")||Object.create(null))[event.type]&&dataPriv.get(cur,"handle");if(handle){handle.apply(cur,data);}// Native handler\nhandle=ontype&&cur[ontype];if(handle&&handle.apply&&acceptData(cur)){event.result=handle.apply(cur,data);if(event.result===false){event.preventDefault();}}}event.type=type;// If nobody prevented the default action, do it now\nif(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(eventPath.pop(),data)===false)&&acceptData(elem)){// Call a native DOM method on the target with the same name as the event.\n// Don\'t do default actions on window, that\'s where global variables be (#6170)\nif(ontype&&isFunction(elem[type])&&!isWindow(elem)){// Don\'t re-trigger an onFOO event when we call its FOO() method\ntmp=elem[ontype];if(tmp){elem[ontype]=null;}// Prevent re-triggering of the same event, since we already bubbled it above\njQuery.event.triggered=type;if(event.isPropagationStopped()){lastElement.addEventListener(type,stopPropagationCallback);}elem[type]();if(event.isPropagationStopped()){lastElement.removeEventListener(type,stopPropagationCallback);}jQuery.event.triggered=undefined;if(tmp){elem[ontype]=tmp;}}}}return event.result;},// Piggyback on a donor event to simulate a different one\n// Used only for `focus(in | out)` events\nsimulate:function simulate(type,elem,event){var e=jQuery.extend(new jQuery.Event(),event,{type:type,isSimulated:true});jQuery.event.trigger(e,null,elem);}});jQuery.fn.extend({trigger:function trigger(type,data){return this.each(function(){jQuery.event.trigger(type,data,this);});},triggerHandler:function triggerHandler(type,data){var elem=this[0];if(elem){return jQuery.event.trigger(type,data,elem,true);}}});// Support: Firefox <=44\n// Firefox doesn\'t have focus(in | out) events\n// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n//\n// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n// focus(in | out) events fire after focus & blur events,\n// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\nif(!support.focusin){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){// Attach a single capturing handler on the document while someone wants focusin/focusout\nvar handler=function handler(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event));};jQuery.event.special[fix]={setup:function setup(){// Handle: regular nodes (via `this.ownerDocument`), window\n// (via `this.document`) & document (via `this`).\nvar doc=this.ownerDocument||this.document||this,attaches=dataPriv.access(doc,fix);if(!attaches){doc.addEventListener(orig,handler,true);}dataPriv.access(doc,fix,(attaches||0)+1);},teardown:function teardown(){var doc=this.ownerDocument||this.document||this,attaches=dataPriv.access(doc,fix)-1;if(!attaches){doc.removeEventListener(orig,handler,true);dataPriv.remove(doc,fix);}else{dataPriv.access(doc,fix,attaches);}}};});}var location=window.location;var nonce={guid:Date.now()};var rquery=/\\?/;// Cross-browser xml parsing\njQuery.parseXML=function(data){var xml;if(!data||typeof data!=="string"){return null;}// Support: IE 9 - 11 only\n// IE throws on parseFromString with invalid input.\ntry{xml=new window.DOMParser().parseFromString(data,"text/xml");}catch(e){xml=undefined;}if(!xml||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data);}return xml;};var rbracket=/\\[\\]$/,rCRLF=/\\r?\\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;function buildParams(prefix,obj,traditional,add){var name;if(Array.isArray(obj)){// Serialize array item.\njQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){// Treat each array item as a scalar.\nadd(prefix,v);}else{// Item is non-scalar (array or object), encode its numeric index.\nbuildParams(prefix+"["+(_typeof(v)==="object"&&v!=null?i:"")+"]",v,traditional,add);}});}else if(!traditional&&toType(obj)==="object"){// Serialize object item.\nfor(name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add);}}else{// Serialize scalar item.\nadd(prefix,obj);}}// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param=function(a,traditional){var prefix,s=[],add=function add(key,valueOrFunction){// If value is a function, invoke it and use its return value\nvar value=isFunction(valueOrFunction)?valueOrFunction():valueOrFunction;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value==null?"":value);};if(a==null){return"";}// If an array was passed in, assume that it is an array of form elements.\nif(Array.isArray(a)||a.jquery&&!jQuery.isPlainObject(a)){// Serialize the form elements\njQuery.each(a,function(){add(this.name,this.value);});}else{// If traditional, encode the "old" way (the way 1.3.2 or older\n// did it), otherwise encode params recursively.\nfor(prefix in a){buildParams(prefix,a[prefix],traditional,add);}}// Return the resulting serialization\nreturn s.join("&");};jQuery.fn.extend({serialize:function serialize(){return jQuery.param(this.serializeArray());},serializeArray:function serializeArray(){return this.map(function(){// Can add propHook for "elements" to filter or add form elements\nvar elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this;}).filter(function(){var type=this.type;// Use .is( ":disabled" ) so that fieldset[disabled] works\nreturn this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type));}).map(function(_i,elem){var val=jQuery(this).val();if(val==null){return null;}if(Array.isArray(val)){return jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\\r\\n")};});}return{name:elem.name,value:val.replace(rCRLF,"\\r\\n")};}).get();}});var r20=/%20/g,rhash=/#.*$/,rantiCache=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \\t]*([^\\r\\n]*)$/mg,// #7653, #8125, #8152: local protocol detection\nrlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\\/\\//,/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol "*" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to "*" if needed\n\t */prefilters={},/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol "*" can be used\n\t * 3) selection will start with transport dataType and THEN go to "*" if needed\n\t */transports={},// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\nallTypes="*/".concat("*"),// Anchor tag for parsing the document origin\noriginAnchor=document.createElement("a");originAnchor.href=location.href;// Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports(structure){// dataTypeExpression is optional and defaults to "*"\nreturn function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*";}var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnothtmlwhite)||[];if(isFunction(func)){// For each dataType in the dataTypeExpression\nwhile(dataType=dataTypes[i++]){// Prepend if requested\nif(dataType[0]==="+"){dataType=dataType.slice(1)||"*";(structure[dataType]=structure[dataType]||[]).unshift(func);// Otherwise append\n}else{(structure[dataType]=structure[dataType]||[]).push(func);}}}};}// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=structure===transports;function inspect(dataType){var selected;inspected[dataType]=true;jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);if(typeof dataTypeOrTransport==="string"&&!seekingTransport&&!inspected[dataTypeOrTransport]){options.dataTypes.unshift(dataTypeOrTransport);inspect(dataTypeOrTransport);return false;}else if(seekingTransport){return!(selected=dataTypeOrTransport);}});return selected;}return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*");}// A special extend for ajax options\n// that takes "flat" options (not to be deep extended)\n// Fixes #9887\nfunction ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:deep||(deep={}))[key]=src[key];}}if(deep){jQuery.extend(true,target,deep);}return target;}/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */function ajaxHandleResponses(s,jqXHR,responses){var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;// Remove auto dataType and get content-type in the process\nwhile(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("Content-Type");}}// Check if we\'re dealing with a known content-type\nif(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break;}}}// Check to see if we have a response for the expected dataType\nif(dataTypes[0]in responses){finalDataType=dataTypes[0];}else{// Try convertible dataTypes\nfor(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break;}if(!firstDataType){firstDataType=type;}}// Or just use first one\nfinalDataType=finalDataType||firstDataType;}// If we found a dataType\n// We add the dataType to the list if needed\n// and return the corresponding response\nif(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType);}return responses[finalDataType];}}/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},// Work with a copy of dataTypes in case we need to modify it for conversion\ndataTypes=s.dataTypes.slice();// Create converters map with lowercased keys\nif(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv];}}current=dataTypes.shift();// Convert to each sequential dataType\nwhile(current){if(s.responseFields[current]){jqXHR[s.responseFields[current]]=response;}// Apply the dataFilter if provided\nif(!prev&&isSuccess&&s.dataFilter){response=s.dataFilter(response,s.dataType);}prev=current;current=dataTypes.shift();if(current){// There\'s only work to do if current dataType is non-auto\nif(current==="*"){current=prev;// Convert response if prev dataType is non-auto and differs from current\n}else if(prev!=="*"&&prev!==current){// Seek a direct converter\nconv=converters[prev+" "+current]||converters["* "+current];// If none found, seek a pair\nif(!conv){for(conv2 in converters){// If conv2 outputs current\ntmp=conv2.split(" ");if(tmp[1]===current){// If prev can be converted to accepted input\nconv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){// Condense equivalence converters\nif(conv===true){conv=converters[conv2];// Otherwise, insert the intermediate dataType\n}else if(converters[conv2]!==true){current=tmp[0];dataTypes.unshift(tmp[1]);}break;}}}}// Apply converter (if not an equivalence)\nif(conv!==true){// Unless errors are allowed to bubble, catch and return them\nif(conv&&s.throws){response=conv(response);}else{try{response=conv(response);}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current};}}}}}}return{state:"success",data:response};}jQuery.extend({// Counter for holding the number of active queries\nactive:0,// Last-Modified header cache for next request\nlastModified:{},etag:{},ajaxSettings:{url:location.href,type:"GET",isLocal:rlocalProtocol.test(location.protocol),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},// Data converters\n// Keys separate source (or catchall "*") and destination types with a single space\nconverters:{// Convert anything to text\n"* text":String,// Text to html (true = no transformation)\n"text html":true,// Evaluate text as a json expression\n"text json":JSON.parse,// Parse text as xml\n"text xml":jQuery.parseXML},// For options that shouldn\'t be deep extended:\n// you can add your own custom options here if\n// and when you create one that shouldn\'t be\n// deep extended (see ajaxExtend)\nflatOptions:{url:true,context:true}},// Creates a full fledged settings object into target\n// with both ajaxSettings and settings fields.\n// If target is omitted, writes into ajaxSettings.\najaxSetup:function ajaxSetup(target,settings){return settings?// Building a settings object\najaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):// Extending ajaxSettings\najaxExtend(jQuery.ajaxSettings,target);},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),// Main method\najax:function ajax(url,options){// If url is an object, simulate pre-1.5 signature\nif(_typeof(url)==="object"){options=url;url=undefined;}// Force options to be an object\noptions=options||{};var transport,// URL without anti-cache param\ncacheURL,// Response headers\nresponseHeadersString,responseHeaders,// timeout handle\ntimeoutTimer,// Url cleanup var\nurlAnchor,// Request state (becomes false upon send and true upon completion)\ncompleted,// To know if global events are to be dispatched\nfireGlobals,// Loop variable\ni,// uncached part of the url\nuncached,// Create the final options object\ns=jQuery.ajaxSetup({},options),// Callbacks context\ncallbackContext=s.context||s,// Context for global events is callbackContext if it is a DOM node or jQuery collection\nglobalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,// Deferreds\ndeferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),// Status-dependent callbacks\n_statusCode=s.statusCode||{},// Headers (they are sent all at once)\nrequestHeaders={},requestHeadersNames={},// Default abort message\nstrAbort="canceled",// Fake xhr\njqXHR={readyState:0,// Builds headers hashtable if needed\ngetResponseHeader:function getResponseHeader(key){var match;if(completed){if(!responseHeaders){responseHeaders={};while(match=rheaders.exec(responseHeadersString)){responseHeaders[match[1].toLowerCase()+" "]=(responseHeaders[match[1].toLowerCase()+" "]||[]).concat(match[2]);}}match=responseHeaders[key.toLowerCase()+" "];}return match==null?null:match.join(", ");},// Raw string\ngetAllResponseHeaders:function getAllResponseHeaders(){return completed?responseHeadersString:null;},// Caches the header\nsetRequestHeader:function setRequestHeader(name,value){if(completed==null){name=requestHeadersNames[name.toLowerCase()]=requestHeadersNames[name.toLowerCase()]||name;requestHeaders[name]=value;}return this;},// Overrides response content-type header\noverrideMimeType:function overrideMimeType(type){if(completed==null){s.mimeType=type;}return this;},// Status-dependent callbacks\nstatusCode:function statusCode(map){var code;if(map){if(completed){// Execute the appropriate callbacks\njqXHR.always(map[jqXHR.status]);}else{// Lazy-add the new callbacks in a way that preserves old ones\nfor(code in map){_statusCode[code]=[_statusCode[code],map[code]];}}}return this;},// Cancel the request\nabort:function abort(statusText){var finalText=statusText||strAbort;if(transport){transport.abort(finalText);}done(0,finalText);return this;}};// Attach deferreds\ndeferred.promise(jqXHR);// Add protocol if not provided (prefilters might expect it)\n// Handle falsy url in the settings object (#10093: consistency with old signature)\n// We also use the url parameter if available\ns.url=((url||s.url||location.href)+"").replace(rprotocol,location.protocol+"//");// Alias method option to type as per ticket #12004\ns.type=options.method||options.type||s.method||s.type;// Extract dataTypes list\ns.dataTypes=(s.dataType||"*").toLowerCase().match(rnothtmlwhite)||[""];// A cross-domain request is in order when the origin doesn\'t match the current origin.\nif(s.crossDomain==null){urlAnchor=document.createElement("a");// Support: IE <=8 - 11, Edge 12 - 15\n// IE throws exception on accessing the href property if url is malformed,\n// e.g. http://example.com:80x/\ntry{urlAnchor.href=s.url;// Support: IE <=8 - 11 only\n// Anchor\'s host property isn\'t correctly set when s.url is relative\nurlAnchor.href=urlAnchor.href;s.crossDomain=originAnchor.protocol+"//"+originAnchor.host!==urlAnchor.protocol+"//"+urlAnchor.host;}catch(e){// If there is an error parsing the URL, assume it is crossDomain,\n// it can be rejected by the transport if it is invalid\ns.crossDomain=true;}}// Convert data if not already a string\nif(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional);}// Apply prefilters\ninspectPrefiltersOrTransports(prefilters,s,options,jqXHR);// If request was aborted inside a prefilter, stop there\nif(completed){return jqXHR;}// We can fire global events as of now if asked to\n// Don\'t fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)\nfireGlobals=jQuery.event&&s.global;// Watch for a new set of requests\nif(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart");}// Uppercase the type\ns.type=s.type.toUpperCase();// Determine if request has content\ns.hasContent=!rnoContent.test(s.type);// Save the URL in case we\'re toying with the If-Modified-Since\n// and/or If-None-Match header later on\n// Remove hash to simplify url manipulation\ncacheURL=s.url.replace(rhash,"");// More options handling for requests with no content\nif(!s.hasContent){// Remember the hash so we can put it back\nuncached=s.url.slice(cacheURL.length);// If data is available and should be processed, append data to url\nif(s.data&&(s.processData||typeof s.data==="string")){cacheURL+=(rquery.test(cacheURL)?"&":"?")+s.data;// #9682: remove data so that it\'s not used in an eventual retry\ndelete s.data;}// Add or update anti-cache param if needed\nif(s.cache===false){cacheURL=cacheURL.replace(rantiCache,"$1");uncached=(rquery.test(cacheURL)?"&":"?")+"_="+nonce.guid++ +uncached;}// Put hash and anti-cache on the URL that will be requested (gh-1732)\ns.url=cacheURL+uncached;// Change \'%20\' to \'+\' if this is encoded form body content (gh-2658)\n}else if(s.data&&s.processData&&(s.contentType||"").indexOf("application/x-www-form-urlencoded")===0){s.data=s.data.replace(r20,"+");}// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\nif(s.ifModified){if(jQuery.lastModified[cacheURL]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]);}if(jQuery.etag[cacheURL]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL]);}}// Set the correct header, if data is being sent\nif(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType);}// Set the Accepts header for the server, depending on the dataType\njqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);// Check for headers option\nfor(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i]);}// Allow custom headers/mimetypes and early abort\nif(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||completed)){// Abort if not done already and return\nreturn jqXHR.abort();}// Aborting is no longer a cancellation\nstrAbort="abort";// Install callbacks on deferreds\ncompleteDeferred.add(s.complete);jqXHR.done(s.success);jqXHR.fail(s.error);// Get transport\ntransport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);// If no transport, we auto-abort\nif(!transport){done(-1,"No Transport");}else{jqXHR.readyState=1;// Send global event\nif(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s]);}// If request was aborted inside ajaxSend, stop there\nif(completed){return jqXHR;}// Timeout\nif(s.async&&s.timeout>0){timeoutTimer=window.setTimeout(function(){jqXHR.abort("timeout");},s.timeout);}try{completed=false;transport.send(requestHeaders,done);}catch(e){// Rethrow post-completion exceptions\nif(completed){throw e;}// Propagate others as results\ndone(-1,e);}}// Callback for when everything is done\nfunction done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;// Ignore repeat invocations\nif(completed){return;}completed=true;// Clear timeout if it exists\nif(timeoutTimer){window.clearTimeout(timeoutTimer);}// Dereference transport for early garbage collection\n// (no matter how long the jqXHR object will be used)\ntransport=undefined;// Cache response headers\nresponseHeadersString=headers||"";// Set readyState\njqXHR.readyState=status>0?4:0;// Determine if successful\nisSuccess=status>=200&&status<300||status===304;// Get response data\nif(responses){response=ajaxHandleResponses(s,jqXHR,responses);}// Use a noop converter for missing script\nif(!isSuccess&&jQuery.inArray("script",s.dataTypes)>-1){s.converters["text script"]=function(){};}// Convert no matter what (that way responseXXX fields are always set)\nresponse=ajaxConvert(s,response,jqXHR,isSuccess);// If successful, handle type chaining\nif(isSuccess){// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\nif(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");if(modified){jQuery.lastModified[cacheURL]=modified;}modified=jqXHR.getResponseHeader("etag");if(modified){jQuery.etag[cacheURL]=modified;}}// if no content\nif(status===204||s.type==="HEAD"){statusText="nocontent";// if not modified\n}else if(status===304){statusText="notmodified";// If we have data, let\'s convert it\n}else{statusText=response.state;success=response.data;error=response.error;isSuccess=!error;}}else{// Extract error from statusText and normalize for non-aborts\nerror=statusText;if(status||!statusText){statusText="error";if(status<0){status=0;}}}// Set data for the fake xhr object\njqXHR.status=status;jqXHR.statusText=(nativeStatusText||statusText)+"";// Success/Error\nif(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR]);}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error]);}// Status-dependent callbacks\njqXHR.statusCode(_statusCode);_statusCode=undefined;if(fireGlobals){globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]);}// Complete\ncompleteDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);// Handle the global AJAX counter\nif(! --jQuery.active){jQuery.event.trigger("ajaxStop");}}}return jqXHR;},getJSON:function getJSON(url,data,callback){return jQuery.get(url,data,callback,"json");},getScript:function getScript(url,callback){return jQuery.get(url,undefined,callback,"script");}});jQuery.each(["get","post"],function(_i,method){jQuery[method]=function(url,data,callback,type){// Shift arguments if data argument was omitted\nif(isFunction(data)){type=type||callback;callback=data;data=undefined;}// The url can be an options object (which then must have .url)\nreturn jQuery.ajax(jQuery.extend({url:url,type:method,dataType:type,data:data,success:callback},jQuery.isPlainObject(url)&&url));};});jQuery.ajaxPrefilter(function(s){var i;for(i in s.headers){if(i.toLowerCase()==="content-type"){s.contentType=s.headers[i]||"";}}});jQuery._evalUrl=function(url,options,doc){return jQuery.ajax({url:url,// Make this explicit, since user can override this through ajaxSetup (#11264)\ntype:"GET",dataType:"script",cache:true,async:false,global:false,// Only evaluate the response if it is successful (gh-4126)\n// dataFilter is not invoked for failure responses, so using it instead\n// of the default converter is kludgy but it works.\nconverters:{"text script":function textScript(){}},dataFilter:function dataFilter(response){jQuery.globalEval(response,options,doc);}});};jQuery.fn.extend({wrapAll:function wrapAll(html){var wrap;if(this[0]){if(isFunction(html)){html=html.call(this[0]);}// The elements to wrap the target around\nwrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0]);}wrap.map(function(){var elem=this;while(elem.firstElementChild){elem=elem.firstElementChild;}return elem;}).append(this);}return this;},wrapInner:function wrapInner(html){if(isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i));});}return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html);}else{self.append(html);}});},wrap:function wrap(html){var htmlIsFunction=isFunction(html);return this.each(function(i){jQuery(this).wrapAll(htmlIsFunction?html.call(this,i):html);});},unwrap:function unwrap(selector){this.parent(selector).not("body").each(function(){jQuery(this).replaceWith(this.childNodes);});return this;}});jQuery.expr.pseudos.hidden=function(elem){return!jQuery.expr.pseudos.visible(elem);};jQuery.expr.pseudos.visible=function(elem){return!!(elem.offsetWidth||elem.offsetHeight||elem.getClientRects().length);};jQuery.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest();}catch(e){}};var xhrSuccessStatus={// File protocol always yields status code 0, assume 200\n0:200,// Support: IE <=9 only\n// #1450: sometimes IE returns 1223 when it should be 204\n1223:204},xhrSupported=jQuery.ajaxSettings.xhr();support.cors=!!xhrSupported&&"withCredentials"in xhrSupported;support.ajax=xhrSupported=!!xhrSupported;jQuery.ajaxTransport(function(options){var _callback,errorCallback;// Cross domain only allowed if supported through XMLHttpRequest\nif(support.cors||xhrSupported&&!options.crossDomain){return{send:function send(headers,complete){var i,xhr=options.xhr();xhr.open(options.type,options.url,options.async,options.username,options.password);// Apply custom fields if provided\nif(options.xhrFields){for(i in options.xhrFields){xhr[i]=options.xhrFields[i];}}// Override mime type if needed\nif(options.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(options.mimeType);}// X-Requested-With header\n// For cross-domain requests, seeing as conditions for a preflight are\n// akin to a jigsaw puzzle, we simply never set it to be sure.\n// (it can always be set on a per-request basis or even using ajaxSetup)\n// For same-domain requests, won\'t change header if already provided.\nif(!options.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest";}// Set headers\nfor(i in headers){xhr.setRequestHeader(i,headers[i]);}// Callback\n_callback=function callback(type){return function(){if(_callback){_callback=errorCallback=xhr.onload=xhr.onerror=xhr.onabort=xhr.ontimeout=xhr.onreadystatechange=null;if(type==="abort"){xhr.abort();}else if(type==="error"){// Support: IE <=9 only\n// On a manual native abort, IE9 throws\n// errors on any property access that is not readyState\nif(typeof xhr.status!=="number"){complete(0,"error");}else{complete(// File: protocol always yields status 0; see #8605, #14207\nxhr.status,xhr.statusText);}}else{complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,// Support: IE <=9 only\n// IE9 has no XHR2 but throws on binary (trac-11426)\n// For XHR2 non-text, let the caller handle it (gh-2498)\n(xhr.responseType||"text")!=="text"||typeof xhr.responseText!=="string"?{binary:xhr.response}:{text:xhr.responseText},xhr.getAllResponseHeaders());}}};};// Listen to events\nxhr.onload=_callback();errorCallback=xhr.onerror=xhr.ontimeout=_callback("error");// Support: IE 9 only\n// Use onreadystatechange to replace onabort\n// to handle uncaught aborts\nif(xhr.onabort!==undefined){xhr.onabort=errorCallback;}else{xhr.onreadystatechange=function(){// Check readyState before timeout as it changes\nif(xhr.readyState===4){// Allow onerror to be called first,\n// but that will not handle a native abort\n// Also, save errorCallback to a variable\n// as xhr.onerror cannot be accessed\nwindow.setTimeout(function(){if(_callback){errorCallback();}});}};}// Create the abort callback\n_callback=_callback("abort");try{// Do send the request (this may raise an exception)\nxhr.send(options.hasContent&&options.data||null);}catch(e){// #14683: Only rethrow if this hasn\'t been notified as an error yet\nif(_callback){throw e;}}},abort:function abort(){if(_callback){_callback();}}};}});// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter(function(s){if(s.crossDomain){s.contents.script=false;}});// Install script dataType\njQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, "+"application/ecmascript, application/x-ecmascript"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{"text script":function textScript(text){jQuery.globalEval(text);return text;}}});// Handle cache\'s special case and crossDomain\njQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false;}if(s.crossDomain){s.type="GET";}});// Bind script tag hack transport\njQuery.ajaxTransport("script",function(s){// This transport only deals with cross domain or forced-by-attrs requests\nif(s.crossDomain||s.scriptAttrs){var script,_callback2;return{send:function send(_,complete){script=jQuery("<script>").attr(s.scriptAttrs||{}).prop({charset:s.scriptCharset,src:s.url}).on("load error",_callback2=function callback(evt){script.remove();_callback2=null;if(evt){complete(evt.type==="error"?404:200,evt.type);}});// Use native DOM manipulation to avoid our domManip AJAX trickery\ndocument.head.appendChild(script[0]);},abort:function abort(){if(_callback2){_callback2();}}};}});var oldCallbacks=[],rjsonp=/(=)\\?(?=&|$)|\\?\\?/;// Default jsonp settings\njQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function jsonpCallback(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce.guid++;this[callback]=true;return callback;}});// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==false&&(rjsonp.test(s.url)?"url":typeof s.data==="string"&&(s.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&rjsonp.test(s.data)&&"data");// Handle iff the expected data type is "jsonp" or we have a parameter to set\nif(jsonProp||s.dataTypes[0]==="jsonp"){// Get callback name, remembering preexisting value associated with it\ncallbackName=s.jsonpCallback=isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;// Insert callback into url or form data\nif(jsonProp){s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName);}else if(s.jsonp!==false){s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName;}// Use data converter to retrieve json after script execution\ns.converters["script json"]=function(){if(!responseContainer){jQuery.error(callbackName+" was not called");}return responseContainer[0];};// Force json dataType\ns.dataTypes[0]="json";// Install callback\noverwritten=window[callbackName];window[callbackName]=function(){responseContainer=arguments;};// Clean-up function (fires after converters)\njqXHR.always(function(){// If previous value didn\'t exist - remove it\nif(overwritten===undefined){jQuery(window).removeProp(callbackName);// Otherwise restore preexisting value\n}else{window[callbackName]=overwritten;}// Save back as free\nif(s[callbackName]){// Make sure that re-using the options doesn\'t screw things around\ns.jsonpCallback=originalSettings.jsonpCallback;// Save the callback name for future use\noldCallbacks.push(callbackName);}// Call if it was a function and we have a response\nif(responseContainer&&isFunction(overwritten)){overwritten(responseContainer[0]);}responseContainer=overwritten=undefined;});// Delegate to script\nreturn"script";}});// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument=function(){var body=document.implementation.createHTMLDocument("").body;body.innerHTML="<form></form><form></form>";return body.childNodes.length===2;}();// Argument "data" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML=function(data,context,keepScripts){if(typeof data!=="string"){return[];}if(typeof context==="boolean"){keepScripts=context;context=false;}var base,parsed,scripts;if(!context){// Stop scripts or inline event handlers from being executed immediately\n// by using document.implementation\nif(support.createHTMLDocument){context=document.implementation.createHTMLDocument("");// Set the base href for the created document\n// so any parsed elements with URLs\n// are based on the document\'s URL (gh-2965)\nbase=context.createElement("base");base.href=document.location.href;context.head.appendChild(base);}else{context=document;}}parsed=rsingleTag.exec(data);scripts=!keepScripts&&[];// Single tag\nif(parsed){return[context.createElement(parsed[1])];}parsed=buildFragment([data],context,scripts);if(scripts&&scripts.length){jQuery(scripts).remove();}return jQuery.merge([],parsed.childNodes);};/**\n * Load a url into a page\n */jQuery.fn.load=function(url,params,callback){var selector,type,response,self=this,off=url.indexOf(" ");if(off>-1){selector=stripAndCollapse(url.slice(off));url=url.slice(0,off);}// If it\'s a function\nif(isFunction(params)){// We assume that it\'s the callback\ncallback=params;params=undefined;// Otherwise, build a param string\n}else if(params&&_typeof(params)==="object"){type="POST";}// If we have elements to modify, make the request\nif(self.length>0){jQuery.ajax({url:url,// If "type" variable is undefined, then "GET" method will be used.\n// Make value of this field explicit since\n// user can override it through ajaxSetup method\ntype:type||"GET",dataType:"html",data:params}).done(function(responseText){// Save response for use in complete callback\nresponse=arguments;self.html(selector?// If a selector was specified, locate the right elements in a dummy div\n// Exclude scripts to avoid IE \'Permission Denied\' errors\njQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):// Otherwise use the full result\nresponseText);// If the request succeeds, this function gets "data", "status", "jqXHR"\n// but they are ignored because response was set above.\n// If it fails, this function gets "jqXHR", "status", "error"\n}).always(callback&&function(jqXHR,status){self.each(function(){callback.apply(this,response||[jqXHR.responseText,status,jqXHR]);});});}return this;};jQuery.expr.pseudos.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem;}).length;};jQuery.offset={setOffset:function setOffset(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};// Set position first, in-case top/left are set even on static elem\nif(position==="static"){elem.style.position="relative";}curOffset=curElem.offset();curCSSTop=jQuery.css(elem,"top");curCSSLeft=jQuery.css(elem,"left");calculatePosition=(position==="absolute"||position==="fixed")&&(curCSSTop+curCSSLeft).indexOf("auto")>-1;// Need to be able to calculate position if either\n// top or left is auto and position is either absolute or fixed\nif(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left;}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0;}if(isFunction(options)){// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\noptions=options.call(elem,i,jQuery.extend({},curOffset));}if(options.top!=null){props.top=options.top-curOffset.top+curTop;}if(options.left!=null){props.left=options.left-curOffset.left+curLeft;}if("using"in options){options.using.call(elem,props);}else{if(typeof props.top==="number"){props.top+="px";}if(typeof props.left==="number"){props.left+="px";}curElem.css(props);}}};jQuery.fn.extend({// offset() relates an element\'s border box to the document origin\noffset:function offset(options){// Preserve chaining for setter\nif(arguments.length){return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i);});}var rect,win,elem=this[0];if(!elem){return;}// Return zeros for disconnected and hidden (display: none) elements (gh-2310)\n// Support: IE <=11 only\n// Running getBoundingClientRect on a\n// disconnected node in IE throws an error\nif(!elem.getClientRects().length){return{top:0,left:0};}// Get document-relative position by adding viewport scroll to viewport-relative gBCR\nrect=elem.getBoundingClientRect();win=elem.ownerDocument.defaultView;return{top:rect.top+win.pageYOffset,left:rect.left+win.pageXOffset};},// position() relates an element\'s margin box to its offset parent\'s padding box\n// This corresponds to the behavior of CSS absolute positioning\nposition:function position(){if(!this[0]){return;}var offsetParent,offset,doc,elem=this[0],parentOffset={top:0,left:0};// position:fixed elements are offset from the viewport, which itself always has zero offset\nif(jQuery.css(elem,"position")==="fixed"){// Assume position:fixed implies availability of getBoundingClientRect\noffset=elem.getBoundingClientRect();}else{offset=this.offset();// Account for the *real* offset parent, which can be the document or its root element\n// when a statically positioned element is identified\ndoc=elem.ownerDocument;offsetParent=elem.offsetParent||doc.documentElement;while(offsetParent&&(offsetParent===doc.body||offsetParent===doc.documentElement)&&jQuery.css(offsetParent,"position")==="static"){offsetParent=offsetParent.parentNode;}if(offsetParent&&offsetParent!==elem&&offsetParent.nodeType===1){// Incorporate borders into its offset, since they are outside its content origin\nparentOffset=jQuery(offsetParent).offset();parentOffset.top+=jQuery.css(offsetParent,"borderTopWidth",true);parentOffset.left+=jQuery.css(offsetParent,"borderLeftWidth",true);}}// Subtract parent offsets and element margins\nreturn{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",true),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",true)};},// This method will return documentElement in the following cases:\n// 1) For the element inside the iframe without offsetParent, this method will return\n//    documentElement of the parent window\n// 2) For the hidden or detached element\n// 3) For body or html element, i.e. in case of the html node - it will return itself\n//\n// but those exceptions were never presented as a real life use-cases\n// and might be considered as more preferable results.\n//\n// This logic, however, is not guaranteed and can change at any point in the future\noffsetParent:function offsetParent(){return this.map(function(){var offsetParent=this.offsetParent;while(offsetParent&&jQuery.css(offsetParent,"position")==="static"){offsetParent=offsetParent.offsetParent;}return offsetParent||documentElement;});}});// Create scrollLeft and scrollTop methods\njQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){// Coalesce documents and windows\nvar win;if(isWindow(elem)){win=elem;}else if(elem.nodeType===9){win=elem.defaultView;}if(val===undefined){return win?win[prop]:elem[method];}if(win){win.scrollTo(!top?val:win.pageXOffset,top?val:win.pageYOffset);}else{elem[method]=val;}},method,val,arguments.length);};});// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each(["top","left"],function(_i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed){computed=curCSS(elem,prop);// If curCSS returns percentage, fallback to offset\nreturn rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed;}});});// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){// Margin is only for outerHeight, outerWidth\njQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!=="boolean"),extra=defaultExtra||(margin===true||value===true?"margin":"border");return access(this,function(elem,type,value){var doc;if(isWindow(elem)){// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\nreturn funcName.indexOf("outer")===0?elem["inner"+name]:elem.document.documentElement["client"+name];}// Get document width or height\nif(elem.nodeType===9){doc=elem.documentElement;// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n// whichever is greatest\nreturn Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name]);}return value===undefined?// Get width or height on the element, requesting but not forcing parseFloat\njQuery.css(elem,type,extra):// Set width or height on the element\njQuery.style(elem,type,value,extra);},type,chainable?margin:undefined,chainable);};});});jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(_i,type){jQuery.fn[type]=function(fn){return this.on(type,fn);};});jQuery.fn.extend({bind:function bind(types,data,fn){return this.on(types,null,data,fn);},unbind:function unbind(types,fn){return this.off(types,null,fn);},delegate:function delegate(selector,types,data,fn){return this.on(types,selector,data,fn);},undelegate:function undelegate(selector,types,fn){// ( namespace ) or ( selector, types [, fn] )\nreturn arguments.length===1?this.off(selector,"**"):this.off(types,selector||"**",fn);},hover:function hover(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver);}});jQuery.each(("blur focus focusin focusout resize scroll click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup contextmenu").split(" "),function(_i,name){// Handle event binding\njQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name);};});// Support: Android <=4.0 only\n// Make sure we trim BOM and NBSP\nvar rtrim=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;// Bind a function to a context, optionally partially applying any\n// arguments.\n// jQuery.proxy is deprecated to promote standards (specifically Function#bind)\n// However, it is not slated for removal any time soon\njQuery.proxy=function(fn,context){var tmp,args,proxy;if(typeof context==="string"){tmp=fn[context];context=fn;fn=tmp;}// Quick check to determine if target is callable, in the spec\n// this throws a TypeError, but we will just return undefined.\nif(!isFunction(fn)){return undefined;}// Simulated bind\nargs=_slice.call(arguments,2);proxy=function proxy(){return fn.apply(context||this,args.concat(_slice.call(arguments)));};// Set the guid of unique handler to the same of original handler, so it can be removed\nproxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy;};jQuery.holdReady=function(hold){if(hold){jQuery.readyWait++;}else{jQuery.ready(true);}};jQuery.isArray=Array.isArray;jQuery.parseJSON=JSON.parse;jQuery.nodeName=nodeName;jQuery.isFunction=isFunction;jQuery.isWindow=isWindow;jQuery.camelCase=camelCase;jQuery.type=toType;jQuery.now=Date.now;jQuery.isNumeric=function(obj){// As of jQuery 3.0, isNumeric is limited to\n// strings and numbers (primitives or objects)\n// that can be coerced to finite numbers (gh-2662)\nvar type=jQuery.type(obj);return(type==="number"||type==="string")&&// parseFloat NaNs numeric-cast false positives ("")\n// ...but misinterprets leading-number strings, particularly hex literals ("0x...")\n// subtraction forces infinities to NaN\n!isNaN(obj-parseFloat(obj));};jQuery.trim=function(text){return text==null?"":(text+"").replace(rtrim,"");};// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\nif(typeof define==="function"&&define.amd){define("jquery",[],function(){return jQuery;});}var// Map over jQuery in case of overwrite\n_jQuery=window.jQuery,// Map over the $ in case of overwrite\n_$=window.$;jQuery.noConflict=function(deep){if(window.$===jQuery){window.$CC=_$;}if(deep&&window.jQuery===jQuery){window.jQueryCC=_jQuery;}return jQuery;};// Expose jQuery and $ identifiers, even in AMD\n// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (#13566)\nif(typeof noGlobal==="undefined"){window.jQueryCC=window.$CC=jQuery;}return jQuery;});'},8275:function(e){e.exports='var _excluded=["timeout"],_excluded2=["jitsiConnection"],_excluded3=["firePermissionPromptIsShownEvent","fireSlowPromiseEvent"];function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _get(){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get.bind();}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(arguments.length<3?target:receiver);}return desc.value;};}return _get.apply(this,arguments);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _regeneratorRuntime(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return exports;};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value;},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key];}try{define({},"");}catch(err){define=function define(obj,key,value){return obj[key]=value;};}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator;}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)};}catch(err){return{type:"throw",arg:err};}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,function(){return this;});var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){define(prototype,method,function(arg){return this._invoke(method,arg);});});}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==_typeof(value)&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject);},function(err){invoke("throw",err,resolve,reject);}):PromiseImpl.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result);},function(error){return invoke("throw",error,resolve,reject);});}reject(record.arg);}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl(function(resolve,reject){invoke(method,arg,resolve,reject);});}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg();}});}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult();}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult;}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg);}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done};}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg);}};}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(undefined===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a \'"+methodName+"\' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel);}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry);}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record;}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0);}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next;};return next.next=next;}}return{next:doneResult};}function doneResult(){return{value:undefined,done:!0};}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name));},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun;},exports.awrap=function(arg){return{__await:arg};},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,function(){return this;}),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next();});},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,function(){return this;}),define(Gp,"toString",function(){return"[object Generator]";}),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next;}return next.done=!0,next;};},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined);},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval;},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught;}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc);}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc);}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break;}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record);},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel;},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel;}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry);}return thrown;}}throw new Error("illegal catch attempt");},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel;}},exports;}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);});};}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1;}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err;}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return;}finally{if(_d)throw _e;}}return _arr;}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e232){throw _e232;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e233){didErr=true;err=_e233;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});Object.defineProperty(subClass,"prototype",{writable:false});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}else if(call!==void 0){throw new TypeError("Derived constructors may only return object or undefined");}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return _typeof(key)==="symbol"?key:String(key);}function _toPrimitive(input,hint){if(_typeof(input)!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(_typeof(res)!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}function _typeof(obj){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj;}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;},_typeof(obj);}/*! For license information please see lib-jitsi-meet.min.js.LICENSE.txt */!function(e,t){"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))&&"object"==(typeof module==="undefined"?"undefined":_typeof(module))?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?exports.JitsiMeetJS=t():e.JitsiMeetJS=t();}(self,function(){return function(){var __webpack_modules__={9458:function _(e,t,n){var i=n(8959);function s(e,t){this.logStorage=e,this.stringifyObjects=!(!t||!t.stringifyObjects)&&t.stringifyObjects,this.storeInterval=t&&t.storeInterval?t.storeInterval:3e4,this.maxEntryLength=t&&t.maxEntryLength?t.maxEntryLength:1e4,Object.keys(i.levels).forEach(function(e){this[i.levels[e]]=function(){this._log.apply(this,arguments);}.bind(this,e);}.bind(this)),this.storeLogsIntervalID=null,this.queue=[],this.totalLen=0,this.outputCache=[];}s.prototype.stringify=function(e){try{return JSON.stringify(e);}catch(e){return"[object with circular refs?]";}},s.prototype.formatLogMessage=function(e){for(var t="",n=1,s=arguments.length;n<s;n++){var r=arguments[n];!this.stringifyObjects&&e!==i.levels.ERROR||"object"!=_typeof(r)||(r=this.stringify(r)),t+=r,n!==s-1&&(t+=" ");}return t.length?t:null;},s.prototype._log=function(){var e=arguments[1],t=this.formatLogMessage.apply(this,arguments);if(t){var n=this.queue[this.queue.length-1],i=n&&n.text;i===t?n.count+=1:(this.queue.push({text:t,timestamp:e,count:1}),this.totalLen+=t.length);}this.totalLen>=this.maxEntryLength&&this._flush(!0,!0);},s.prototype.start=function(){this._reschedulePublishInterval();},s.prototype._reschedulePublishInterval=function(){this.storeLogsIntervalID&&(window.clearTimeout(this.storeLogsIntervalID),this.storeLogsIntervalID=null),this.storeLogsIntervalID=window.setTimeout(this._flush.bind(this,!1,!0),this.storeInterval);},s.prototype.flush=function(){this._flush(!1,!0);},s.prototype._flush=function(e,t){this.totalLen>0&&(this.logStorage.isReady()||e)&&(this.logStorage.isReady()?(this.outputCache.length&&(this.outputCache.forEach(function(e){this.logStorage.storeLogs(e);}.bind(this)),this.outputCache=[]),this.logStorage.storeLogs(this.queue)):this.outputCache.push(this.queue),this.queue=[],this.totalLen=0),t&&this._reschedulePublishInterval();},s.prototype.stop=function(){this._flush(!1,!1);},e.exports=s;},8959:function _(e){var t={trace:0,debug:1,info:2,log:3,warn:4,error:5};o.consoleTransport=console;var n=[o.consoleTransport];o.addGlobalTransport=function(e){-1===n.indexOf(e)&&n.push(e);},o.removeGlobalTransport=function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1);};var i={};function s(){var e={methodName:"",fileLocation:"",line:null,column:null},t=new Error(),n=t.stack?t.stack.split("\\n"):[];if(!n||n.length<3)return e;var i=null;return n[3]&&(i=n[3].match(/\\s*at\\s*(.+?)\\s*\\((\\S*)\\s*:(\\d*)\\s*:(\\d*)\\)/)),!i||i.length<=4?(0===n[2].indexOf("log@")?e.methodName=n[3].substr(0,n[3].indexOf("@")):e.methodName=n[2].substr(0,n[2].indexOf("@")),e):(e.methodName=i[1],e.fileLocation=i[2],e.line=i[3],e.column=i[4],e);}function r(){var e=arguments[0],r=arguments[1],o=Array.prototype.slice.call(arguments,2);if(!(t[r]<e.level))for(var a=!(e.options.disableCallerInfo||i.disableCallerInfo)&&s(),c=n.concat(e.transports),d=0;d<c.length;d++){var l=c[d],h=l[r];if(h&&"function"==typeof h){var u=[];u.push(new Date().toISOString()),e.id&&u.push("["+e.id+"]"),a&&a.methodName.length>1&&u.push("<"+a.methodName+">: ");var p=u.concat(o);h.bind(l).apply(l,p);}}}function o(e,n,i,s){this.id=n,this.options=s||{},this.transports=i,this.transports||(this.transports=[]),this.level=t[e];for(var o=Object.keys(t),a=0;a<o.length;a++)this[o[a]]=r.bind(null,this,o[a]);}o.setGlobalOptions=function(e){i=e||{};},o.prototype.setLevel=function(e){this.level=t[e];},e.exports=o,o.levels={TRACE:"trace",DEBUG:"debug",INFO:"info",LOG:"log",WARN:"warn",ERROR:"error"};},9077:function _(e,t,n){var i=n(8959),s=n(9458),r={},o=[],a=i.levels.TRACE;e.exports={addGlobalTransport:function addGlobalTransport(e){i.addGlobalTransport(e);},removeGlobalTransport:function removeGlobalTransport(e){i.removeGlobalTransport(e);},setGlobalOptions:function setGlobalOptions(e){i.setGlobalOptions(e);},getLogger:function getLogger(e,t,n){var s=new i(a,e,t,n);return e?(r[e]=r[e]||[],r[e].push(s)):o.push(s),s;},setLogLevelById:function setLogLevelById(e,t){for(var n=t?r[t]||[]:o,i=0;i<n.length;i++)n[i].setLevel(e);},setLogLevel:function setLogLevel(e){a=e;for(var t=0;t<o.length;t++)o[t].setLevel(e);for(var n in r){var i=r[n]||[];for(t=0;t<i.length;t++)i[t].setLevel(e);}},levels:i.levels,LogCollector:s};},1751:function _(e){var t=e.exports={v:[{name:"version",reg:/^(\\d*)$/}],o:[{name:"origin",reg:/^(\\S*) (\\d*) (\\d*) (\\S*) IP(\\d) (\\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\\d*) (\\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\\d) (\\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\\w*) (\\d*) ([\\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\\d*) ([\\w\\-.]*)(?:\\s*\\/(\\d*)(?:\\s*\\/(\\S*))?)?/,names:["payload","codec","rate","encoding"],format:function format(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s";}},{push:"fmtp",reg:/^fmtp:(\\d*) ([\\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\\d*)(?: (\\S*) IP(\\d) (\\S*))?/,names:["port","netType","ipVer","address"],format:function format(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d";}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\\*|\\d*) trr-int (\\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\\*|\\d*) ([\\w-_]*)(?: ([\\w-_]*))?/,names:["payload","type","subtype"],format:function format(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s";}},{push:"ext",reg:/^extmap:(\\d+)(?:\\/(\\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\\S*)(?: (\\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function format(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"");}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\\d*) ([\\w_]*) (\\S*)(?: (\\S*))?/,names:["id","suite","config","sessionConfig"],format:function format(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s";}},{name:"setup",reg:/^setup:(\\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\\d*(?:\\.\\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\\d*(?:\\.\\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\\S*) (\\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\\S*) (\\d*) (\\S*) (\\d*) (\\S*) (\\d*) typ (\\S*)(?: raddr (\\S*) rport (\\d*))?(?: tcptype (\\S*))?(?: generation (\\d*))?(?: network-id (\\d*))?(?: network-cost (\\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function format(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),(t+=null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v");}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\\d*) ([\\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function format(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t;}},{push:"ssrcGroups",reg:/^ssrc-group:([\\x21\\x23\\x24\\x25\\x26\\x27\\x2A\\x2B\\x2D\\x2E\\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\\s?(\\w*) (\\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\\w_/]*) (\\S*)(?: (\\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function format(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s";}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\\d\\w]+) (\\w+)(?: ([\\S| ]*))?/,names:["id","direction","params"],format:function format(e){return e.params?"rid:%s %s %s":"rid:%s %s";}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\\\d+|\\\\*)[\\\\s\\\\t]+(send|recv)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*)(?:[\\\\s\\\\t]+(recv|send)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function format(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"");}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\\\-_~;,]+)(?:\\\\s?(send|recv) ([a-zA-Z0-9\\\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function format(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"");}},{name:"simulcast_03",reg:/^simulcast:[\\s\\t]+([\\S+\\s\\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\\d+(?:$|\\.\\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\\S*) (IP4|IP6|\\*) (\\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\\s=]*)(?:=(\\S*))?/,names:["clksrc","clksrcExt"],format:function format(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"");}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\\S*))? *([^\\s=]*)(?:=(\\S*))?(?: *rate=(\\d+)\\/(\\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function format(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",(t+=null!=e.rateNumerator?" rate=%s":"")+(null!=e.rateDenominator?"/%s":"");}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach(function(e){t[e].forEach(function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s");});});},2342:function _(e,t,n){var i=n(3755),s=n(6594);t.write=s,t.parse=i.parse,t.parseParams=i.parseParams,t.parseFmtpConfig=i.parseFmtpConfig,t.parsePayloads=i.parsePayloads,t.parseRemoteCandidates=i.parseRemoteCandidates,t.parseImageAttributes=i.parseImageAttributes,t.parseSimulcastStreamList=i.parseSimulcastStreamList;},3755:function _(e,t,n){var i=function i(e){return String(Number(e))===e?Number(e):e;},s=function s(e,t,n){var s=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:s&&!t[e.name]&&(t[e.name]={});var r=e.push?{}:s?t[e.name]:t;!function(e,t,n,s){if(s&&!n)t[s]=i(e[1]);else for(var r=0;r<n.length;r+=1)null!=e[r+1]&&(t[n[r]]=i(e[r+1]));}(n.match(e.reg),r,e.names,e.name),e.push&&t[e.push].push(r);},r=n(1751),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},n=[],i=t;return e.split(/(\\r\\n|\\r|\\n)/).filter(o).forEach(function(e){var t=e[0],o=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),i=n[n.length-1]);for(var a=0;a<(r[t]||[]).length;a+=1){var c=r[t][a];if(c.reg.test(o))return s(c,i,o);}}),t.media=n,t;};var a=function a(e,t){var n=t.split(/=(.+)/,2);return 2===n.length?e[n[0]]=i(n[1]):1===n.length&&t.length>1&&(e[n[0]]=void 0),e;};t.parseParams=function(e){return e.split(/;\\s?/).reduce(a,{});},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number);},t.parseRemoteCandidates=function(e){for(var t=[],n=e.split(" ").map(i),s=0;s<n.length;s+=3)t.push({component:n[s],ip:n[s+1],port:n[s+2]});return t;},t.parseImageAttributes=function(e){return e.split(" ").map(function(e){return e.substring(1,e.length-1).split(",").reduce(a,{});});},t.parseSimulcastStreamList=function(e){return e.split(";").map(function(e){return e.split(",").map(function(e){var t,n=!1;return"~"!==e[0]?t=i(e):(t=i(e.substring(1,e.length)),n=!0),{scid:t,paused:n};});});};},6594:function _(e,t,n){var i=n(1751),s=/%[sdv%]/g,r=function r(e){var t=1,n=arguments,i=n.length;return e.replace(s,function(e){if(t>=i)return e;var s=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(s);case"%d":return Number(s);case"%v":return"";}});},o=function o(e,t,n){var i=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var s=0;s<t.names.length;s+=1){var o=t.names[s];t.name?i.push(n[t.name][o]):i.push(n[t.names[s]]);}else i.push(n[t.name]);return r.apply(null,i);},a=["v","o","s","i","u","e","p","c","b","t","r","z","a"],c=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach(function(e){null==e.payloads&&(e.payloads="");});var n=t.outerOrder||a,s=t.innerOrder||c,r=[];return n.forEach(function(t){i[t].forEach(function(n){n.name in e&&null!=e[n.name]?r.push(o(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach(function(e){r.push(o(t,n,e));});});}),e.media.forEach(function(e){r.push(o("m",i.m[0],e)),s.forEach(function(t){i[t].forEach(function(n){n.name in e&&null!=e[n.name]?r.push(o(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach(function(e){r.push(o(t,n,e));});});});}),r.join("\\r\\n")+"\\r\\n";};},2636:function _(e,t,n){var i=n(766),s=n(9776),r=s.parseSsrcs,o=s.writeSsrcs;function a(e,t,n){return e.ssrcs.filter(function(e){return e.id===t;}).filter(function(e){return e.attribute===n;}).map(function(e){return e.value;})[0];}function c(e){this.options=e||{},this.options.numOfLayers||(this.options.numOfLayers=3),console.log("SdpSimulcast: using "+this.options.numOfLayers+" layers"),this.ssrcCache=[];}function d(e,t){null!=e&&Array.isArray(e.media)&&e.media.forEach(function(e){"video"===e.type&&t(e);});}function l(e){return e&&null!=e&&e.type&&""!=e.type&&e.sdp&&""!=e.sdp;}c.prototype.clearSsrcCache=function(){this.ssrcCache=[];},c.prototype.setSsrcCache=function(e){this.ssrcCache=e;},c.prototype._parseSimLayers=function(e){var t=e.ssrcGroups&&e.ssrcGroups.find(function(e){return"SIM"===e.semantics;});return t?t.ssrcs.split(" ").map(function(e){return parseInt(e);}):[e.ssrcs[0].id];},c.prototype._buildNewToOldSsrcMap=function(e,t){for(var n={},i=0;i<e.length;++i){var s=e[i],r=t[i]||null;n[s]=r;}return n;},c.prototype._fillInSourceDataFromCache=function(e){console.log("SdpSimulcast restoring from cache: ",this.ssrcCache);var t=this._parseSimLayers(e);console.log("SdpSimulcast Parsed new sim ssrcs: ",t);var n=a(e,t[0],"msid"),i=a(e,t[0],"cname"),s=this._buildNewToOldSsrcMap(t,this.ssrcCache);console.log("SdpSimulcast built replacement map: ",s);var r=this.ssrcCache.filter(function(e){return-1===Object.values(s).indexOf(e);});return console.log("SdpSimulcast built ssrcs to add: ",r),e.ssrcs.forEach(function(e){s[e.id]&&(e.id=s[e.id]);}),r.forEach(function(t){e.ssrcs.push({id:t,attribute:"msid",value:n}),e.ssrcs.push({id:t,attribute:"cname",value:i});}),e.ssrcGroups=e.ssrcGroups||[],e.ssrcGroups.push({semantics:"SIM",ssrcs:this.ssrcCache.join(" ")}),e;},c.prototype._generateSourceData=function(e,t){var n=function n(e,t){e.ssrcs.push({id:t,attribute:"cname",value:s}),e.ssrcs.push({id:t,attribute:"msid",value:i});},i=a(e,t,"msid"),s=a(e,t,"cname");this.options.usesUnifiedPlan&&!i&&(i=e.msid,e.ssrcs.forEach(function(t){e.ssrcs.push({id:t.id,attribute:"msid",value:i});}));for(var r=[],o=0;o<this.options.numOfLayers-1;++o){var c=Math.floor(4294967295*Math.random())+0;n(e,c),r.push(c);}return e.ssrcGroups=e.ssrcGroups||[],e.ssrcGroups.push({semantics:"SIM",ssrcs:t+" "+r.join(" ")}),e;},c.prototype._restoreSimulcast=function(e){var t,n=e.ssrcs&&e.ssrcs.map(function(e){return e.id;}).filter(function(e,t,n){return n.indexOf(e)===t;}).length||0,i=e.ssrcGroups&&e.ssrcGroups.length||0;if(0===n||n>2)return e;if(2==n&&0===i)return e;if(1===n)t=e.ssrcs[0].id;else{var s=e.ssrcGroups.filter(function(e){return"FID"===e.semantics;})[0];if(!s)return e;t=parseInt(s.ssrcs.split(" ")[0]);}return console.log("SdpSimulcast: current ssrc cache: ",this.ssrcCache),console.log("SdpSimulcast: parsed primary ssrc "+t),-1!==this.ssrcCache.indexOf(t)?(console.log("SdpSimulcast: Have seen primary ssrc before, filling in data from cache"),e=this._fillInSourceDataFromCache(e)):(console.log("SdpSimulcast: Have not seen primary ssrc before, generating source data"),e=this._generateSourceData(e,t)),this.ssrcCache=this._parseSimLayers(e),e;},c.prototype.mungeRemoteDescription=function(e,t){if(!l(e))return e;var n=i.parse(e.sdp),s=this;return d(n,function(e){s.options.explodeRemoteSimulcast?function(e){if(e&&Array.isArray(e.ssrcGroups))for(var t=r(e),n=[],i=e.ssrcGroups.length;i--;)if("SIM"===e.ssrcGroups[i].semantics){for(var s=e.ssrcGroups[i].ssrcs.split(" "),a=0;a<s.length;a++){var c=s[a];n.push(c);var d=t[c].msid.split(" ");t[c].msid=[d[0],"/",a," ",d[1],"/",a].join(""),t[c].cname=[t[c].cname,"/",a].join(""),e.ssrcGroups.forEach(function(e){if("SIM"!==e.semantics){var i=e.ssrcs.split(" ");-1!==i.indexOf(c)&&i.forEach(function(e){t[e].msid=t[c].msid,t[e].cname=t[c].cname,e!==c&&n.push(e);});}});}e.ssrcs=o(t,n),e.ssrcGroups.splice(i,1);}}(e):function(e){if(e&&Array.isArray(e.ssrcGroups)){var t=r(e);e.ssrcGroups.forEach(function(n){if("SIM"===n.semantics){console.info("Imploding SIM group: "+n.ssrcs),n.nuke=!0;for(var i=n.ssrcs.split(" "),s=1;s<i.length;s++){var r=i[s];delete t[r],e.ssrcGroups.forEach(function(e){if("SIM"!==e.semantics){var n=e.ssrcs.split(" ");-1!==n.indexOf(r)&&(n.forEach(function(e){delete t[e];}),e.nuke=!0);}});}}}),e.ssrcs=o(t);for(var n=e.ssrcGroups.length;n--;)e.ssrcGroups[n].nuke&&e.ssrcGroups.splice(n,1);}else console.info("Halt: There are no SSRC groups in the remote description.");}(e),!s.options.usesUnifiedPlan&&t?function(e){e&&(Array.isArray(e.invalid)||(e.invalid=[]),e.invalid.some(function(e){return"x-google-flag:conference"===e.value;})||e.invalid.push({value:"x-google-flag:conference"}));}(e):function(e){e&&void 0!==e.xGoogleFlag&&(e.xGoogleFlag=void 0);}(e);}),new RTCSessionDescription({type:e.type,sdp:i.write(n)});},c.prototype.mungeLocalDescription=function(e){if(!l(e))return e;var t=i.parse(e.sdp),n=this;return d(t,function(e){"recvonly"!=e.direction&&"inactive"!=e.direction&&n._restoreSimulcast(e);}),new RTCSessionDescription({type:e.type,sdp:i.write(t)});},e.exports=c;},9776:function _(e,t){t.writeSsrcs=function(e,t){var n=[];if(void 0!==e&&0!==Object.keys(e).length){Array.isArray(t)||(t=[]);for(var i=0;i<t.length;i++){var s=t[i],r=e[s];Object.keys(r).forEach(function(e){n.push({id:s,attribute:e,value:r[e]});});}Object.keys(e).forEach(function(i){if(i=parseInt(i),!(t.indexOf(i)>=0)){var s=e[i];Object.keys(s).forEach(function(e){n.push({id:i,attribute:e,value:s[e]});});}});}return n;},t.parseSsrcs=function(e){var t={};return void 0!==e.ssrcs&&Array.isArray(e.ssrcs)&&e.ssrcs.forEach(function(e){t[e.id]||(t[e.id]={}),t[e.id][e.attribute]=e.value;}),t;};},8223:function _(e,t){var n;!function(){var i,s,r={};function o(e){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,e.apply(i,arguments);};}null!=(i=this)&&(s=i.async),r.noConflict=function(){return i.async=s,r;};var a=Object.prototype.toString,c=Array.isArray||function(e){return"[object Array]"===a.call(e);},d=function d(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n+=1)t(e[n],n,e);},l=function l(e,t){if(e.map)return e.map(t);var n=[];return d(e,function(e,i,s){n.push(t(e,i,s));}),n;},h=function h(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t;};"undefined"!=typeof process&&process.nextTick?(r.nextTick=process.nextTick,"undefined"!=typeof setImmediate?r.setImmediate=function(e){setImmediate(e);}:r.setImmediate=r.nextTick):"function"==typeof setImmediate?(r.nextTick=function(e){setImmediate(e);},r.setImmediate=r.nextTick):(r.nextTick=function(e){setTimeout(e,0);},r.setImmediate=r.nextTick),r.each=function(e,t,n){if(n=n||function(){},!e.length)return n();var i=0;function s(t){t?(n(t),n=function n(){}):(i+=1)>=e.length&&n();}d(e,function(e){t(e,o(s));});},r.forEach=r.each,r.eachSeries=function(e,t,n){if(n=n||function(){},!e.length)return n();var i=0,s=function s(){t(e[i],function(t){t?(n(t),n=function n(){}):(i+=1)>=e.length?n():s();});};s();},r.forEachSeries=r.eachSeries,r.eachLimit=function(e,t,n,i){u(t).apply(null,[e,n,i]);},r.forEachLimit=r.eachLimit;var u=function u(e){return function(t,n,i){if(i=i||function(){},!t.length||e<=0)return i();var s=0,r=0,o=0;!function a(){if(s>=t.length)return i();for(;o<e&&r<t.length;)o+=1,n(t[(r+=1)-1],function(e){e?(i(e),i=function i(){}):(o-=1,(s+=1)>=t.length?i():a());});}();};},p=function p(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[r.each].concat(t));};},m=function m(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[r.eachSeries].concat(t));};},f=function f(e,t,n,i){if(t=l(t,function(e,t){return{index:t,value:e};}),i){var s=[];e(t,function(e,t){n(e.value,function(n,i){s[e.index]=i,t(n);});},function(e){i(e,s);});}else e(t,function(e,t){n(e.value,function(e){t(e);});});};r.map=p(f),r.mapSeries=m(f),r.mapLimit=function(e,t,n,i){return g(t)(e,n,i);};var g=function g(e){return function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[u(e)].concat(n));};}(e,f);};r.reduce=function(e,t,n,i){r.eachSeries(e,function(e,i){n(t,e,function(e,n){t=n,i(e);});},function(e){i(e,t);});},r.inject=r.reduce,r.foldl=r.reduce,r.reduceRight=function(e,t,n,i){var s=l(e,function(e){return e;}).reverse();r.reduce(s,t,n,i);},r.foldr=r.reduceRight;var _=function _(e,t,n,i){var s=[];e(t=l(t,function(e,t){return{index:t,value:e};}),function(e,t){n(e.value,function(n){n&&s.push(e),t();});},function(e){i(l(s.sort(function(e,t){return e.index-t.index;}),function(e){return e.value;}));});};r.filter=p(_),r.filterSeries=m(_),r.select=r.filter,r.selectSeries=r.filterSeries;var v=function v(e,t,n,i){var s=[];e(t=l(t,function(e,t){return{index:t,value:e};}),function(e,t){n(e.value,function(n){n||s.push(e),t();});},function(e){i(l(s.sort(function(e,t){return e.index-t.index;}),function(e){return e.value;}));});};r.reject=p(v),r.rejectSeries=m(v);var S=function S(e,t,n,i){e(t,function(e,t){n(e,function(n){n?(i(e),i=function i(){}):t();});},function(e){i();});};r.detect=p(S),r.detectSeries=m(S),r.some=function(e,t,n){r.each(e,function(e,i){t(e,function(e){e&&(n(!0),n=function n(){}),i();});},function(e){n(!1);});},r.any=r.some,r.every=function(e,t,n){r.each(e,function(e,i){t(e,function(e){e||(n(!1),n=function n(){}),i();});},function(e){n(!0);});},r.all=r.every,r.sortBy=function(e,t,n){r.map(e,function(e,n){t(e,function(t,i){t?n(t):n(null,{value:e,criteria:i});});},function(e,t){if(e)return n(e);n(null,l(t.sort(function(e,t){var n=e.criteria,i=t.criteria;return n<i?-1:n>i?1:0;}),function(e){return e.value;}));});},r.auto=function(e,t){t=t||function(){};var n=h(e),i=n.length;if(!i)return t();var s={},o=[],a=function a(e){o.unshift(e);},l=function l(){i--,d(o.slice(0),function(e){e();});};a(function(){if(!i){var e=t;t=function t(){},e(null,s);}}),d(n,function(n){var i=c(e[n])?e[n]:[e[n]],u=function u(e){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),e){var o={};d(h(s),function(e){o[e]=s[e];}),o[n]=i,t(e,o),t=function t(){};}else s[n]=i,r.setImmediate(l);},p=i.slice(0,Math.abs(i.length-1))||[],m=function m(){return t=function t(e,_t2){return e&&s.hasOwnProperty(_t2);},i=!0,((e=p).reduce?e.reduce(t,i):(d(e,function(e,n,s){i=t(i,e);}),i))&&!s.hasOwnProperty(n);var e,t,i;};if(m())i[i.length-1](u,s);else{var f=function f(){m()&&(function(e){for(var t=0;t<o.length;t+=1)if(o[t]===e)return void o.splice(t,1);}(f),i[i.length-1](u,s));};a(f);}});},r.retry=function(e,t,n){var i=[];"function"==typeof e&&(n=t,t=e,e=5),e=parseInt(e,10)||5;var s=function s(_s2,o){for(var a=function a(e,t){return function(n){e(function(e,i){n(!e||t,{err:e,result:i});},o);};};e;)i.push(a(t,!(e-=1)));r.series(i,function(e,t){t=t[t.length-1],(_s2||n)(t.err,t.result);});};return n?s():s;},r.waterfall=function(e,t){if(t=t||function(){},!c(e)){var n=new Error("First argument to waterfall must be an array of functions");return t(n);}if(!e.length)return t();var i=function i(e){return function(n){if(n)t.apply(null,arguments),t=function t(){};else{var s=Array.prototype.slice.call(arguments,1),o=e.next();o?s.push(i(o)):s.push(t),r.setImmediate(function(){e.apply(null,s);});}};};i(r.iterator(e))();};var y=function y(e,t,n){if(n=n||function(){},c(t))e.map(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n);});},n);else{var i={};e.each(h(t),function(e,n){t[e](function(t){var s=Array.prototype.slice.call(arguments,1);s.length<=1&&(s=s[0]),i[e]=s,n(t);});},function(e){n(e,i);});}};r.parallel=function(e,t){y({map:r.map,each:r.each},e,t);},r.parallelLimit=function(e,t,n){y({map:g(t),each:u(t)},e,n);},r.series=function(e,t){if(t=t||function(){},c(e))r.mapSeries(e,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n);});},t);else{var n={};r.eachSeries(h(e),function(t,i){e[t](function(e){var s=Array.prototype.slice.call(arguments,1);s.length<=1&&(s=s[0]),n[t]=s,i(e);});},function(e){t(e,n);});}},r.iterator=function(e){var t=function t(n){var i=function i(){return e.length&&e[n].apply(null,arguments),i.next();};return i.next=function(){return n<e.length-1?t(n+1):null;},i;};return t(0);},r.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)));};};var E=function E(e,t,n,i){var s=[];e(t,function(e,t){n(e,function(e,n){s=s.concat(n||[]),t(e);});},function(e){i(e,s);});};r.concat=p(E),r.concatSeries=m(E),r.whilst=function(e,t,n){e()?t(function(i){if(i)return n(i);r.whilst(e,t,n);}):n();},r.doWhilst=function(e,t,n){e(function(i){if(i)return n(i);var s=Array.prototype.slice.call(arguments,1);t.apply(null,s)?r.doWhilst(e,t,n):n();});},r.until=function(e,t,n){e()?n():t(function(i){if(i)return n(i);r.until(e,t,n);});},r.doUntil=function(e,t,n){e(function(i){if(i)return n(i);var s=Array.prototype.slice.call(arguments,1);t.apply(null,s)?n():r.doUntil(e,t,n);});},r.queue=function(e,t){function n(e,t,n,i){if(e.started||(e.started=!0),c(t)||(t=[t]),0==t.length)return r.setImmediate(function(){e.drain&&e.drain();});d(t,function(t){var s={data:t,callback:"function"==typeof i?i:null};n?e.tasks.unshift(s):e.tasks.push(s),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),r.setImmediate(e.process);});}void 0===t&&(t=1);var i=0,s={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function push(e,t){n(s,e,!1,t);},kill:function kill(){s.drain=null,s.tasks=[];},unshift:function unshift(e,t){n(s,e,!0,t);},process:function process(){if(!s.paused&&i<s.concurrency&&s.tasks.length){var t=s.tasks.shift();s.empty&&0===s.tasks.length&&s.empty(),i+=1;var n=o(function(){i-=1,t.callback&&t.callback.apply(t,arguments),s.drain&&s.tasks.length+i===0&&s.drain(),s.process();});e(t.data,n);}},length:function length(){return s.tasks.length;},running:function running(){return i;},idle:function idle(){return s.tasks.length+i===0;},pause:function pause(){!0!==s.paused&&(s.paused=!0,s.process());},resume:function resume(){!1!==s.paused&&(s.paused=!1,s.process());}};return s;},r.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority;}var i=r.queue(e,t);return i.push=function(e,t,s){!function(e,t,i,s){if(e.started||(e.started=!0),c(t)||(t=[t]),0==t.length)return r.setImmediate(function(){e.drain&&e.drain();});d(t,function(t){var o={data:t,priority:i,callback:"function"==typeof s?s:null};e.tasks.splice(function(e,t,n){for(var i=-1,s=e.length-1;i<s;){var r=i+(s-i+1>>>1);n(t,e[r])>=0?i=r:s=r-1;}return i;}(e.tasks,o,n)+1,0,o),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),r.setImmediate(e.process);});}(i,e,t,s);},delete i.unshift,i;},r.cargo=function(e,t){var n=!1,i=[],s={tasks:i,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function push(e,n){c(e)||(e=[e]),d(e,function(e){i.push({data:e,callback:"function"==typeof n?n:null}),s.drained=!1,s.saturated&&i.length===t&&s.saturated();}),r.setImmediate(s.process);},process:function r(){if(!n){if(0===i.length)return s.drain&&!s.drained&&s.drain(),void(s.drained=!0);var o="number"==typeof t?i.splice(0,t):i.splice(0,i.length),a=l(o,function(e){return e.data;});s.empty&&s.empty(),n=!0,e(a,function(){n=!1;var e=arguments;d(o,function(t){t.callback&&t.callback.apply(null,e);}),r();});}},length:function length(){return i.length;},running:function running(){return n;}};return s;};var C=function C(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&d(n,function(t){console[e](t);}));}]));};};r.log=C("log"),r.dir=C("dir"),r.memoize=function(e,t){var n={},i={};t=t||function(e){return e;};var s=function s(){var s=Array.prototype.slice.call(arguments),o=s.pop(),a=t.apply(null,s);a in n?r.nextTick(function(){o.apply(null,n[a]);}):a in i?i[a].push(o):(i[a]=[o],e.apply(null,s.concat([function(){n[a]=arguments;var e=i[a];delete i[a];for(var t=0,s=e.length;t<s;t++)e[t].apply(null,arguments);}])));};return s.memo=n,s.unmemoized=e,s;},r.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments);};},r.times=function(e,t,n){for(var i=[],s=0;s<e;s++)i.push(s);return r.map(i,t,n);},r.timesSeries=function(e,t,n){for(var i=[],s=0;s<e;s++)i.push(s);return r.mapSeries(i,t,n);},r.seq=function(){var e=arguments;return function(){var t=this,n=Array.prototype.slice.call(arguments),i=n.pop();r.reduce(e,n,function(e,n,i){n.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);i(e,t);}]));},function(e,n){i.apply(t,[e].concat(n));});};},r.compose=function(){return r.seq.apply(null,Array.prototype.reverse.call(arguments));};var b=function b(e,t){var n=function n(){var n=this,i=Array.prototype.slice.call(arguments),s=i.pop();return e(t,function(e,t){e.apply(n,i.concat([t]));},s);};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return n.apply(this,i);}return n;};r.applyEach=p(b),r.applyEachSeries=m(b),r.forever=function(e,t){!function n(i){if(i){if(t)return t(i);throw i;}e(n);}();},e.exports?e.exports=r:void 0===(n=function(){return r;}.apply(t,[]))||(e.exports=n);}();},4449:function _(e,t,n){e.exports=n(6295).default;},2444:function _(e){e.exports=/*#__PURE__*/function(){function _class(e,t,n){_classCallCheck(this,_class);this._userId=e,this.setDisplayName(t),this._isLocalStats=n||!1,this.setDominantSpeaker(!1),this.totalDominantSpeakerTime=0,this._dominantSpeakerStart=0,this._hasLeft=!1,this._facialExpressions={happy:0,neutral:0,surprised:0,angry:0,fearful:0,disgusted:0,sad:0};}_createClass(_class,[{key:"getUserId",value:function getUserId(){return this._userId;}},{key:"getDisplayName",value:function getDisplayName(){return this.displayName;}},{key:"setDisplayName",value:function setDisplayName(e){this.displayName=e;}},{key:"isLocalStats",value:function isLocalStats(){return this._isLocalStats;}},{key:"isDominantSpeaker",value:function isDominantSpeaker(){return this._dominantSpeakerStart>0;}},{key:"setDominantSpeaker",value:function setDominantSpeaker(e){if(!this.isDominantSpeaker()&&e)this._dominantSpeakerStart=Date.now();else if(this.isDominantSpeaker()&&!e){var _e2=Date.now()-this._dominantSpeakerStart;this.totalDominantSpeakerTime+=_e2,this._dominantSpeakerStart=0;}}},{key:"getTotalDominantSpeakerTime",value:function getTotalDominantSpeakerTime(){var e=this.totalDominantSpeakerTime;return this.isDominantSpeaker()&&(e+=Date.now()-this._dominantSpeakerStart),e;}},{key:"hasLeft",value:function hasLeft(){return this._hasLeft;}},{key:"markAsHasLeft",value:function markAsHasLeft(){this._hasLeft=!0,this.setDominantSpeaker(!1);}},{key:"getFacialExpressions",value:function getFacialExpressions(){return this._facialExpressions;}},{key:"setFacialExpressions",value:function setFacialExpressions(e){this._facialExpressions=e;}},{key:"addFacialExpression",value:function addFacialExpression(e,t){this._facialExpressions[e]+=t;}}]);return _class;}();},4424:function _(e){e.exports={getTokenAuthUrl:function getTokenAuthUrl(e,t,n){return"string"!=typeof e?null:e.replace("{room}",t).replace("{roleUpgrade}",!0===n);}};},4832:function _(e){function t(e,t){if(!e||!t||"function"!=typeof e.addListener||"function"!=typeof t.emit)throw new Error("Invalid arguments passed to EventEmitterForwarder");this.src=e,this.dest=t;}t.prototype.forward=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0];t[0]=this.dest,this.src.addListener(i,Function.prototype.bind.apply(this.dest.emit,t));},e.exports=t;},1023:function _(e){var t=[],n=window.onerror,i=window.onunhandledrejection;window.onerror=function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];t.forEach(function(e){return e.apply(void 0,i);}),n&&n.apply(void 0,i);},window.onunhandledrejection=function(e){t.forEach(function(t){return t(null,null,null,null,e.reason);}),i&&i(e);};var s={addHandler:function addHandler(e){t.push(e);},callErrorHandler:function callErrorHandler(e){var t=window.onerror;t&&t(null,null,null,null,e);},callUnhandledRejectionHandler:function callUnhandledRejectionHandler(e){var t=window.onunhandledrejection;t&&t(e);}};e.exports=s;},5399:function _(e){function t(e,t){return Math.floor(Math.random()*(t-e+1))+e;}function n(e){return e[t(0,e.length-1)];}var i={randomHexDigit:function randomHexDigit(){return n("0123456789abcdef");},randomHexString:function randomHexString(e){var t="";for(;e--;)t+=this.randomHexDigit();return t;},randomElement:n,randomAlphanumStr:function randomAlphanumStr(e){var t="";for(var _i2=0;_i2<e;_i2+=1)t+=n("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");return t;},randomInt:t};e.exports=i;},549:function _(e,t,n){var i=n(667),s={loadScript:function loadScript(e,t,n,s,r,o){var a=document,c="script",d=a.createElement(c),l=a.getElementsByTagName(c)[0];if(d.async=t,s){var _t3=i();if(_t3){var _n2=_t3.src,_i3=_n2.substring(0,_n2.lastIndexOf("/")+1);_n2&&_i3&&(e=_i3+e);}}r&&(d.onload=r),o&&(d.onerror=o),d.src=e,n?l.parentNode.insertBefore(d,l):l.parentNode.appendChild(d);}};e.exports=s;},2593:function _(e){e.exports={integerHash:function integerHash(e){if(!e)return 0;var t,n,i=0;for(n=0;n<e.length;n++)t=e.charCodeAt(n),i+=t*Math.pow(31,e.length-1-n),i=Math.abs(0|i);return i;}};},6667:function _(e,t,n){var i=n(5399),s=["Aaliyah","Aaron","Abagail","Abbey","Abbie","Abbigail","Abby","Abdiel","Abdul","Abdullah","Abe","Abel","Abelardo","Abigail","Abigale","Abigayle","Abner","Abraham","Ada","Adah","Adalberto","Adaline","Adam","Adan","Addie","Addison","Adela","Adelbert","Adele","Adelia","Adeline","Adell","Adella","Adelle","Aditya","Adolf","Adolfo","Adolph","Adolphus","Adonis","Adrain","Adrian","Adriana","Adrianna","Adriel","Adrien","Adrienne","Afton","Aglae","Agnes","Agustin","Agustina","Ahmad","Ahmed","Aida","Aidan","Aiden","Aileen","Aisha","Aiyana","Akeem","Al","Alaina","Alan","Alana","Alanis","Alanna","Alayna","Alba","Albert","Alberta","Albertha","Alberto","Albin","Albina","Alda","Alden","Alec","Aleen","Alejandra","Alejandrin","Alek","Alena","Alene","Alessandra","Alessandro","Alessia","Aletha","Alex","Alexa","Alexander","Alexandra","Alexandre","Alexandrea","Alexandria","Alexandrine","Alexandro","Alexane","Alexanne","Alexie","Alexis","Alexys","Alexzander","Alf","Alfonso","Alfonzo","Alford","Alfred","Alfreda","Alfredo","Ali","Alia","Alice","Alicia","Alisa","Alisha","Alison","Alivia","Aliya","Aliyah","Aliza","Alize","Allan","Allen","Allene","Allie","Allison","Ally","Alphonso","Alta","Althea","Alva","Alvah","Alvena","Alvera","Alverta","Alvina","Alvis","Alyce","Alycia","Alysa","Alysha","Alyson","Alysson","Amalia","Amanda","Amani","Amara","Amari","Amaya","Amber","Ambrose","Amelia","Amelie","Amely","America","Americo","Amie","Amina","Amir","Amira","Amiya","Amos","Amparo","Amy","Amya","Ana","Anabel","Anabelle","Anahi","Anais","Anastacio","Anastasia","Anderson","Andre","Andreane","Andreanne","Andres","Andrew","Andy","Angel","Angela","Angelica","Angelina","Angeline","Angelita","Angelo","Angie","Angus","Anibal","Anika","Anissa","Anita","Aniya","Aniyah","Anjali","Anna","Annabel","Annabell","Annabelle","Annalise","Annamae","Annamarie","Anne","Annetta","Annette","Annie","Ansel","Ansley","Anthony","Antoinette","Antone","Antonetta","Antonette","Antonia","Antonietta","Antonina","Antonio","Antwan","Antwon","Anya","April","Ara","Araceli","Aracely","Arch","Archibald","Ardella","Arden","Ardith","Arely","Ari","Ariane","Arianna","Aric","Ariel","Arielle","Arjun","Arlene","Arlie","Arlo","Armand","Armando","Armani","Arnaldo","Arne","Arno","Arnold","Arnoldo","Arnulfo","Aron","Art","Arthur","Arturo","Arvel","Arvid","Arvilla","Aryanna","Asa","Asha","Ashlee","Ashleigh","Ashley","Ashly","Ashlynn","Ashton","Ashtyn","Asia","Assunta","Astrid","Athena","Aubree","Aubrey","Audie","Audra","Audreanne","Audrey","August","Augusta","Augustine","Augustus","Aurelia","Aurelie","Aurelio","Aurore","Austen","Austin","Austyn","Autumn","Ava","Avery","Avis","Axel","Ayana","Ayden","Ayla","Aylin","Baby","Bailee","Bailey","Barbara","Barney","Baron","Barrett","Barry","Bart","Bartholome","Barton","Baylee","Beatrice","Beau","Beaulah","Bell","Bella","Belle","Ben","Benedict","Benjamin","Bennett","Bennie","Benny","Benton","Berenice","Bernadette","Bernadine","Bernard","Bernardo","Berneice","Bernhard","Bernice","Bernie","Berniece","Bernita","Berry","Bert","Berta","Bertha","Bertram","Bertrand","Beryl","Bessie","Beth","Bethany","Bethel","Betsy","Bette","Bettie","Betty","Bettye","Beulah","Beverly","Bianka","Bill","Billie","Billy","Birdie","Blair","Blaise","Blake","Blanca","Blanche","Blaze","Bo","Bobbie","Bobby","Bonita","Bonnie","Boris","Boyd","Brad","Braden","Bradford","Bradley","Bradly","Brady","Braeden","Brain","Brandi","Brando","Brandon","Brandt","Brandy","Brandyn","Brannon","Branson","Brant","Braulio","Braxton","Brayan","Breana","Breanna","Breanne","Brenda","Brendan","Brenden","Brendon","Brenna","Brennan","Brennon","Brent","Bret","Brett","Bria","Brian","Briana","Brianne","Brice","Bridget","Bridgette","Bridie","Brielle","Brigitte","Brionna","Brisa","Britney","Brittany","Brock","Broderick","Brody","Brook","Brooke","Brooklyn","Brooks","Brown","Bruce","Bryana","Bryce","Brycen","Bryon","Buck","Bud","Buddy","Buford","Bulah","Burdette","Burley","Burnice","Buster","Cade","Caden","Caesar","Caitlyn","Cale","Caleb","Caleigh","Cali","Calista","Callie","Camden","Cameron","Camila","Camilla","Camille","Camren","Camron","Camryn","Camylle","Candace","Candelario","Candice","Candida","Candido","Cara","Carey","Carissa","Carlee","Carleton","Carley","Carli","Carlie","Carlo","Carlos","Carlotta","Carmel","Carmela","Carmella","Carmelo","Carmen","Carmine","Carol","Carolanne","Carole","Carolina","Caroline","Carolyn","Carolyne","Carrie","Carroll","Carson","Carter","Cary","Casandra","Casey","Casimer","Casimir","Casper","Cassandra","Cassandre","Cassidy","Cassie","Catalina","Caterina","Catharine","Catherine","Cathrine","Cathryn","Cathy","Cayla","Ceasar","Cecelia","Cecil","Cecile","Cecilia","Cedrick","Celestine","Celestino","Celia","Celine","Cesar","Chad","Chadd","Chadrick","Chaim","Chance","Chandler","Chanel","Chanelle","Charity","Charlene","Charles","Charley","Charlie","Charlotte","Chase","Chasity","Chauncey","Chaya","Chaz","Chelsea","Chelsey","Chelsie","Chesley","Chester","Chet","Cheyanne","Cheyenne","Chloe","Chris","Christ","Christa","Christelle","Christian","Christiana","Christina","Christine","Christop","Christophe","Christopher","Christy","Chyna","Ciara","Cicero","Cielo","Cierra","Cindy","Citlalli","Clair","Claire","Clara","Clarabelle","Clare","Clarissa","Clark","Claud","Claude","Claudia","Claudie","Claudine","Clay","Clemens","Clement","Clementina","Clementine","Clemmie","Cleo","Cleora","Cleta","Cletus","Cleve","Cleveland","Clifford","Clifton","Clint","Clinton","Clotilde","Clovis","Cloyd","Clyde","Coby","Cody","Colby","Cole","Coleman","Colin","Colleen","Collin","Colt","Colten","Colton","Columbus","Concepcion","Conner","Connie","Connor","Conor","Conrad","Constance","Constantin","Consuelo","Cooper","Cora","Coralie","Corbin","Cordelia","Cordell","Cordia","Cordie","Corene","Corine","Cornelius","Cornell","Corrine","Cortez","Cortney","Cory","Coty","Courtney","Coy","Craig","Crawford","Creola","Cristal","Cristian","Cristina","Cristobal","Cristopher","Cruz","Crystal","Crystel","Cullen","Curt","Curtis","Cydney","Cynthia","Cyril","Cyrus","Dagmar","Dahlia","Daija","Daisha","Daisy","Dakota","Dale","Dallas","Dallin","Dalton","Damaris","Dameon","Damian","Damien","Damion","Damon","Dan","Dana","Dandre","Dane","D\'angelo","Dangelo","Danial","Daniela","Daniella","Danielle","Danika","Dannie","Danny","Dante","Danyka","Daphne","Daphnee","Daphney","Darby","Daren","Darian","Dariana","Darien","Dario","Darion","Darius","Darlene","Daron","Darrel","Darrell","Darren","Darrick","Darrin","Darrion","Darron","Darryl","Darwin","Daryl","Dashawn","Dasia","Dave","David","Davin","Davion","Davon","Davonte","Dawn","Dawson","Dax","Dayana","Dayna","Dayne","Dayton","Dean","Deangelo","Deanna","Deborah","Declan","Dedric","Dedrick","Dee","Deion","Deja","Dejah","Dejon","Dejuan","Delaney","Delbert","Delfina","Delia","Delilah","Dell","Della","Delmer","Delores","Delpha","Delphia","Delphine","Delta","Demarco","Demarcus","Demario","Demetris","Demetrius","Demond","Dena","Denis","Dennis","Deon","Deondre","Deontae","Deonte","Dereck","Derek","Derick","Deron","Derrick","Deshaun","Deshawn","Desiree","Desmond","Dessie","Destany","Destin","Destinee","Destiney","Destini","Destiny","Devan","Devante","Deven","Devin","Devon","Devonte","Devyn","Dewayne","Dewitt","Dexter","Diamond","Diana","Dianna","Diego","Dillan","Dillon","Dimitri","Dina","Dino","Dion","Dixie","Dock","Dolly","Dolores","Domenic","Domenica","Domenick","Domenico","Domingo","Dominic","Dominique","Don","Donald","Donato","Donavon","Donna","Donnell","Donnie","Donny","Dora","Dorcas","Dorian","Doris","Dorothea","Dorothy","Dorris","Dortha","Dorthy","Doug","Douglas","Dovie","Doyle","Drake","Drew","Duane","Dudley","Dulce","Duncan","Durward","Dustin","Dusty","Dwight","Dylan","Earl","Earlene","Earline","Earnest","Earnestine","Easter","Easton","Ebba","Ebony","Ed","Eda","Edd","Eddie","Eden","Edgar","Edgardo","Edison","Edmond","Edmund","Edna","Eduardo","Edward","Edwardo","Edwin","Edwina","Edyth","Edythe","Effie","Efrain","Efren","Eileen","Einar","Eino","Eladio","Elaina","Elbert","Elda","Eldon","Eldora","Eldred","Eldridge","Eleanora","Eleanore","Eleazar","Electa","Elena","Elenor","Elenora","Eleonore","Elfrieda","Eli","Elian","Eliane","Elias","Eliezer","Elijah","Elinor","Elinore","Elisa","Elisabeth","Elise","Eliseo","Elisha","Elissa","Eliza","Elizabeth","Ella","Ellen","Ellie","Elliot","Elliott","Ellis","Ellsworth","Elmer","Elmira","Elmo","Elmore","Elna","Elnora","Elody","Eloisa","Eloise","Elouise","Eloy","Elroy","Elsa","Else","Elsie","Elta","Elton","Elva","Elvera","Elvie","Elvis","Elwin","Elwyn","Elyse","Elyssa","Elza","Emanuel","Emelia","Emelie","Emely","Emerald","Emerson","Emery","Emie","Emil","Emile","Emilia","Emiliano","Emilie","Emilio","Emily","Emma","Emmalee","Emmanuel","Emmanuelle","Emmet","Emmett","Emmie","Emmitt","Emmy","Emory","Ena","Enid","Enoch","Enola","Enos","Enrico","Enrique","Ephraim","Era","Eriberto","Eric","Erica","Erich","Erick","Ericka","Erik","Erika","Erin","Erling","Erna","Ernest","Ernestina","Ernestine","Ernesto","Ernie","Ervin","Erwin","Eryn","Esmeralda","Esperanza","Esta","Esteban","Estefania","Estel","Estell","Estella","Estelle","Estevan","Esther","Estrella","Etha","Ethan","Ethel","Ethelyn","Ethyl","Ettie","Eudora","Eugene","Eugenia","Eula","Eulah","Eulalia","Euna","Eunice","Eusebio","Eva","Evalyn","Evan","Evangeline","Evans","Eve","Eveline","Evelyn","Everardo","Everett","Everette","Evert","Evie","Ewald","Ewell","Ezekiel","Ezequiel","Ezra","Fabian","Fabiola","Fae","Fannie","Fanny","Fatima","Faustino","Fausto","Favian","Fay","Faye","Federico","Felicia","Felicita","Felicity","Felipa","Felipe","Felix","Felton","Fermin","Fern","Fernando","Ferne","Fidel","Filiberto","Filomena","Finn","Fiona","Flavie","Flavio","Fleta","Fletcher","Flo","Florence","Florencio","Florian","Florida","Florine","Flossie","Floy","Floyd","Ford","Forest","Forrest","Foster","Frances","Francesca","Francesco","Francis","Francisca","Francisco","Franco","Frank","Frankie","Franz","Fred","Freda","Freddie","Freddy","Frederic","Frederick","Frederik","Frederique","Fredrick","Fredy","Freeda","Freeman","Freida","Frida","Frieda","Friedrich","Fritz","Furman","Gabe","Gabriel","Gabriella","Gabrielle","Gaetano","Gage","Gail","Gardner","Garett","Garfield","Garland","Garnet","Garnett","Garret","Garrett","Garrick","Garrison","Garry","Garth","Gaston","Gavin","Gay","Gayle","Gaylord","Gene","General","Genesis","Genevieve","Gennaro","Genoveva","Geo","Geoffrey","George","Georgette","Georgiana","Georgianna","Geovanni","Geovanny","Geovany","Gerald","Geraldine","Gerard","Gerardo","Gerda","Gerhard","Germaine","German","Gerry","Gerson","Gertrude","Gia","Gianni","Gideon","Gilbert","Gilberto","Gilda","Giles","Gillian","Gina","Gino","Giovani","Giovanna","Giovanni","Giovanny","Gisselle","Giuseppe","Gladyce","Gladys","Glen","Glenda","Glenna","Glennie","Gloria","Godfrey","Golda","Golden","Gonzalo","Gordon","Grace","Gracie","Graciela","Grady","Graham","Grant","Granville","Grayce","Grayson","Green","Greg","Gregg","Gregoria","Gregorio","Gregory","Greta","Gretchen","Greyson","Griffin","Grover","Guadalupe","Gudrun","Guido","Guillermo","Guiseppe","Gunnar","Gunner","Gus","Gussie","Gust","Gustave","Guy","Gwen","Gwendolyn","Hadley","Hailee","Hailey","Hailie","Hal","Haleigh","Haley","Halie","Halle","Hallie","Hank","Hanna","Hannah","Hans","Hardy","Harley","Harmon","Harmony","Harold","Harrison","Harry","Harvey","Haskell","Hassan","Hassie","Hattie","Haven","Hayden","Haylee","Hayley","Haylie","Hazel","Hazle","Heath","Heather","Heaven","Heber","Hector","Heidi","Helen","Helena","Helene","Helga","Hellen","Helmer","Heloise","Henderson","Henri","Henriette","Henry","Herbert","Herman","Hermann","Hermina","Herminia","Herminio","Hershel","Herta","Hertha","Hester","Hettie","Hilario","Hilbert","Hilda","Hildegard","Hillard","Hillary","Hilma","Hilton","Hipolito","Hiram","Hobart","Holden","Hollie","Hollis","Holly","Hope","Horace","Horacio","Hortense","Hosea","Houston","Howard","Howell","Hoyt","Hubert","Hudson","Hugh","Hulda","Humberto","Hunter","Hyman","Ian","Ibrahim","Icie","Ida","Idell","Idella","Ignacio","Ignatius","Ike","Ila","Ilene","Iliana","Ima","Imani","Imelda","Immanuel","Imogene","Ines","Irma","Irving","Irwin","Isaac","Isabel","Isabell","Isabella","Isabelle","Isac","Isadore","Isai","Isaiah","Isaias","Isidro","Ismael","Isobel","Isom","Israel","Issac","Itzel","Iva","Ivah","Ivory","Ivy","Izabella","Izaiah","Jabari","Jace","Jacey","Jacinthe","Jacinto","Jack","Jackeline","Jackie","Jacklyn","Jackson","Jacky","Jaclyn","Jacquelyn","Jacques","Jacynthe","Jada","Jade","Jaden","Jadon","Jadyn","Jaeden","Jaida","Jaiden","Jailyn","Jaime","Jairo","Jakayla","Jake","Jakob","Jaleel","Jalen","Jalon","Jalyn","Jamaal","Jamal","Jamar","Jamarcus","Jamel","Jameson","Jamey","Jamie","Jamil","Jamir","Jamison","Jammie","Jan","Jana","Janae","Jane","Janelle","Janessa","Janet","Janice","Janick","Janie","Janis","Janiya","Jannie","Jany","Jaquan","Jaquelin","Jaqueline","Jared","Jaren","Jarod","Jaron","Jarred","Jarrell","Jarret","Jarrett","Jarrod","Jarvis","Jasen","Jasmin","Jason","Jasper","Jaunita","Javier","Javon","Javonte","Jay","Jayce","Jaycee","Jayda","Jayde","Jayden","Jaydon","Jaylan","Jaylen","Jaylin","Jaylon","Jayme","Jayne","Jayson","Jazlyn","Jazmin","Jazmyn","Jazmyne","Jean","Jeanette","Jeanie","Jeanne","Jed","Jedediah","Jedidiah","Jeff","Jefferey","Jeffery","Jeffrey","Jeffry","Jena","Jenifer","Jennie","Jennifer","Jennings","Jennyfer","Jensen","Jerad","Jerald","Jeramie","Jeramy","Jerel","Jeremie","Jeremy","Jermain","Jermaine","Jermey","Jerod","Jerome","Jeromy","Jerrell","Jerrod","Jerrold","Jerry","Jess","Jesse","Jessica","Jessie","Jessika","Jessy","Jessyca","Jesus","Jett","Jettie","Jevon","Jewel","Jewell","Jillian","Jimmie","Jimmy","Jo","Joan","Joana","Joanie","Joanne","Joannie","Joanny","Joany","Joaquin","Jocelyn","Jodie","Jody","Joe","Joel","Joelle","Joesph","Joey","Johan","Johann","Johanna","Johathan","John","Johnathan","Johnathon","Johnnie","Johnny","Johnpaul","Johnson","Jolie","Jon","Jonas","Jonatan","Jonathan","Jonathon","Jordan","Jordane","Jordi","Jordon","Jordy","Jordyn","Jorge","Jose","Josefa","Josefina","Joseph","Josephine","Josh","Joshua","Joshuah","Josiah","Josiane","Josianne","Josie","Josue","Jovan","Jovani","Jovanny","Jovany","Joy","Joyce","Juana","Juanita","Judah","Judd","Jude","Judge","Judson","Judy","Jules","Julia","Julian","Juliana","Julianne","Julie","Julien","Juliet","Julio","Julius","June","Junior","Junius","Justen","Justice","Justina","Justine","Juston","Justus","Justyn","Juvenal","Juwan","Kacey","Kaci","Kacie","Kade","Kaden","Kadin","Kaela","Kaelyn","Kaia","Kailee","Kailey","Kailyn","Kaitlin","Kaitlyn","Kale","Kaleb","Kaleigh","Kaley","Kali","Kallie","Kameron","Kamille","Kamren","Kamron","Kamryn","Kane","Kara","Kareem","Karelle","Karen","Kari","Kariane","Karianne","Karina","Karine","Karl","Karlee","Karley","Karli","Karlie","Karolann","Karson","Kasandra","Kasey","Kassandra","Katarina","Katelin","Katelyn","Katelynn","Katharina","Katherine","Katheryn","Kathleen","Kathlyn","Kathryn","Kathryne","Katlyn","Katlynn","Katrina","Katrine","Kattie","Kavon","Kay","Kaya","Kaycee","Kayden","Kayla","Kaylah","Kaylee","Kayleigh","Kayley","Kayli","Kaylie","Kaylin","Keagan","Keanu","Keara","Keaton","Keegan","Keeley","Keely","Keenan","Keira","Keith","Kellen","Kelley","Kelli","Kellie","Kelly","Kelsi","Kelsie","Kelton","Kelvin","Ken","Kendall","Kendra","Kendrick","Kenna","Kennedi","Kennedy","Kenneth","Kennith","Kenny","Kenton","Kenya","Kenyatta","Kenyon","Keon","Keshaun","Keshawn","Keven","Kevin","Kevon","Keyon","Keyshawn","Khalid","Khalil","Kian","Kiana","Kianna","Kiara","Kiarra","Kiel","Kiera","Kieran","Kiley","Kim","Kimberly","King","Kip","Kira","Kirk","Kirsten","Kirstin","Kitty","Kobe","Koby","Kody","Kolby","Kole","Korbin","Korey","Kory","Kraig","Kris","Krista","Kristian","Kristin","Kristina","Kristofer","Kristoffer","Kristopher","Kristy","Krystal","Krystel","Krystina","Kurt","Kurtis","Kyla","Kyle","Kylee","Kyleigh","Kyler","Kylie","Kyra","Lacey","Lacy","Ladarius","Lafayette","Laila","Laisha","Lamar","Lambert","Lamont","Lance","Landen","Lane","Laney","Larissa","Laron","Larry","Larue","Laura","Laurel","Lauren","Laurence","Lauretta","Lauriane","Laurianne","Laurie","Laurine","Laury","Lauryn","Lavada","Lavern","Laverna","Laverne","Lavina","Lavinia","Lavon","Lavonne","Lawrence","Lawson","Layla","Layne","Lazaro","Lea","Leann","Leanna","Leanne","Leatha","Leda","Lee","Leif","Leila","Leilani","Lela","Lelah","Leland","Lelia","Lempi","Lemuel","Lenna","Lennie","Lenny","Lenora","Lenore","Leo","Leola","Leon","Leonard","Leonardo","Leone","Leonel","Leonie","Leonor","Leonora","Leopold","Leopoldo","Leora","Lera","Lesley","Leslie","Lesly","Lessie","Lester","Leta","Letha","Letitia","Levi","Lew","Lewis","Lexi","Lexie","Lexus","Lia","Liam","Liana","Libbie","Libby","Lila","Lilian","Liliana","Liliane","Lilla","Lillian","Lilliana","Lillie","Lilly","Lily","Lilyan","Lina","Lincoln","Linda","Lindsay","Lindsey","Linnea","Linnie","Linwood","Lionel","Lisa","Lisandro","Lisette","Litzy","Liza","Lizeth","Lizzie","Llewellyn","Lloyd","Logan","Lois","Lola","Lolita","Loma","Lon","London","Lonie","Lonnie","Lonny","Lonzo","Lora","Loraine","Loren","Lorena","Lorenz","Lorenza","Lorenzo","Lori","Lorine","Lorna","Lottie","Lou","Louie","Louisa","Lourdes","Louvenia","Lowell","Loy","Loyal","Loyce","Lucas","Luciano","Lucie","Lucienne","Lucile","Lucinda","Lucio","Lucious","Lucius","Lucy","Ludie","Ludwig","Lue","Luella","Luigi","Luis","Luisa","Lukas","Lula","Lulu","Luna","Lupe","Lura","Lurline","Luther","Luz","Lyda","Lydia","Lyla","Lynn","Lyric","Lysanne","Mabel","Mabelle","Mable","Mac","Macey","Maci","Macie","Mack","Mackenzie","Macy","Madaline","Madalyn","Maddison","Madeline","Madelyn","Madelynn","Madge","Madie","Madilyn","Madisen","Madison","Madisyn","Madonna","Madyson","Mae","Maegan","Maeve","Mafalda","Magali","Magdalen","Magdalena","Maggie","Magnolia","Magnus","Maia","Maida","Maiya","Major","Makayla","Makenna","Makenzie","Malachi","Malcolm","Malika","Malinda","Mallie","Mallory","Malvina","Mandy","Manley","Manuel","Manuela","Mara","Marc","Marcel","Marcelina","Marcelino","Marcella","Marcelle","Marcellus","Marcelo","Marcia","Marco","Marcos","Marcus","Margaret","Margarete","Margarett","Margaretta","Margarette","Margarita","Marge","Margie","Margot","Margret","Marguerite","Maria","Mariah","Mariam","Marian","Mariana","Mariane","Marianna","Marianne","Mariano","Maribel","Marie","Mariela","Marielle","Marietta","Marilie","Marilou","Marilyne","Marina","Mario","Marion","Marisa","Marisol","Maritza","Marjolaine","Marjorie","Marjory","Mark","Markus","Marlee","Marlen","Marlene","Marley","Marlin","Marlon","Marques","Marquis","Marquise","Marshall","Marta","Martin","Martina","Martine","Marty","Marvin","Mary","Maryam","Maryjane","Maryse","Mason","Mateo","Mathew","Mathias","Mathilde","Matilda","Matilde","Matt","Matteo","Mattie","Maud","Maude","Maudie","Maureen","Maurice","Mauricio","Maurine","Maverick","Mavis","Max","Maxie","Maxime","Maximilian","Maximillia","Maximillian","Maximo","Maximus","Maxine","Maxwell","May","Maya","Maybell","Maybelle","Maye","Maymie","Maynard","Mayra","Mazie","Mckayla","Mckenna","Mckenzie","Meagan","Meaghan","Meda","Megane","Meggie","Meghan","Mekhi","Melany","Melba","Melisa","Melissa","Mellie","Melody","Melvin","Melvina","Melyna","Melyssa","Mercedes","Meredith","Merl","Merle","Merlin","Merritt","Mertie","Mervin","Meta","Mia","Micaela","Micah","Michael","Michaela","Michale","Micheal","Michel","Michele","Michelle","Miguel","Mikayla","Mike","Mikel","Milan","Miles","Milford","Miller","Millie","Milo","Milton","Mina","Minerva","Minnie","Miracle","Mireille","Mireya","Misael","Missouri","Misty","Mitchel","Mitchell","Mittie","Modesta","Modesto","Mohamed","Mohammad","Mohammed","Moises","Mollie","Molly","Mona","Monica","Monique","Monroe","Monserrat","Monserrate","Montana","Monte","Monty","Morgan","Moriah","Morris","Mortimer","Morton","Mose","Moses","Moshe","Mossie","Mozell","Mozelle","Muhammad","Muriel","Murl","Murphy","Murray","Mustafa","Mya","Myah","Mylene","Myles","Myra","Myriam","Myrl","Myrna","Myron","Myrtice","Myrtie","Myrtis","Myrtle","Nadia","Nakia","Name","Nannie","Naomi","Naomie","Napoleon","Narciso","Nash","Nasir","Nat","Natalia","Natalie","Natasha","Nathan","Nathanael","Nathanial","Nathaniel","Nathen","Nayeli","Neal","Ned","Nedra","Neha","Neil","Nelda","Nella","Nelle","Nellie","Nels","Nelson","Neoma","Nestor","Nettie","Neva","Newell","Newton","Nia","Nicholas","Nicholaus","Nichole","Nick","Nicklaus","Nickolas","Nico","Nicola","Nicolas","Nicole","Nicolette","Nigel","Nikita","Nikki","Nikko","Niko","Nikolas","Nils","Nina","Noah","Noble","Noe","Noel","Noelia","Noemi","Noemie","Noemy","Nola","Nolan","Nona","Nora","Norbert","Norberto","Norene","Norma","Norris","Norval","Norwood","Nova","Novella","Nya","Nyah","Nyasia","Obie","Oceane","Ocie","Octavia","Oda","Odell","Odessa","Odie","Ofelia","Okey","Ola","Olaf","Ole","Olen","Oleta","Olga","Olin","Oliver","Ollie","Oma","Omari","Omer","Ona","Onie","Opal","Ophelia","Ora","Oral","Oran","Oren","Orie","Orin","Orion","Orland","Orlando","Orlo","Orpha","Orrin","Orval","Orville","Osbaldo","Osborne","Oscar","Osvaldo","Oswald","Oswaldo","Otha","Otho","Otilia","Otis","Ottilie","Ottis","Otto","Ova","Owen","Ozella","Pablo","Paige","Palma","Pamela","Pansy","Paolo","Paris","Parker","Pascale","Pasquale","Pat","Patience","Patricia","Patrick","Patsy","Pattie","Paul","Paula","Pauline","Paxton","Payton","Pearl","Pearlie","Pearline","Pedro","Peggie","Penelope","Percival","Percy","Perry","Pete","Peter","Petra","Peyton","Philip","Phoebe","Phyllis","Pierce","Pierre","Pietro","Pink","Pinkie","Piper","Polly","Porter","Precious","Presley","Preston","Price","Prince","Princess","Priscilla","Providenci","Prudence","Queen","Queenie","Quentin","Quincy","Quinn","Quinten","Quinton","Rachael","Rachel","Rachelle","Rae","Raegan","Rafael","Rafaela","Raheem","Rahsaan","Rahul","Raina","Raleigh","Ralph","Ramiro","Ramon","Ramona","Randal","Randall","Randi","Randy","Ransom","Raoul","Raphael","Raphaelle","Raquel","Rashad","Rashawn","Rasheed","Raul","Raven","Ray","Raymond","Raymundo","Reagan","Reanna","Reba","Rebeca","Rebecca","Rebeka","Rebekah","Reece","Reed","Reese","Regan","Reggie","Reginald","Reid","Reilly","Reina","Reinhold","Remington","Rene","Renee","Ressie","Reta","Retha","Retta","Reuben","Reva","Rex","Rey","Reyes","Reymundo","Reyna","Reynold","Rhea","Rhett","Rhianna","Rhiannon","Rhoda","Ricardo","Richard","Richie","Richmond","Rick","Rickey","Rickie","Ricky","Rico","Rigoberto","Riley","Rita","River","Robb","Robbie","Robert","Roberta","Roberto","Robin","Robyn","Rocio","Rocky","Rod","Roderick","Rodger","Rodolfo","Rodrick","Rodrigo","Roel","Rogelio","Roger","Rogers","Rolando","Rollin","Roma","Romaine","Roman","Ron","Ronaldo","Ronny","Roosevelt","Rory","Rosa","Rosalee","Rosalia","Rosalind","Rosalinda","Rosalyn","Rosamond","Rosanna","Rosario","Roscoe","Rose","Rosella","Roselyn","Rosemarie","Rosemary","Rosendo","Rosetta","Rosie","Rosina","Roslyn","Ross","Rossie","Rowan","Rowena","Rowland","Roxane","Roxanne","Roy","Royal","Royce","Rozella","Ruben","Rubie","Ruby","Rubye","Rudolph","Rudy","Rupert","Russ","Russel","Russell","Rusty","Ruth","Ruthe","Ruthie","Ryan","Ryann","Ryder","Rylan","Rylee","Ryleigh","Ryley","Sabina","Sabrina","Sabryna","Sadie","Sadye","Sage","Saige","Sallie","Sally","Salma","Salvador","Salvatore","Sam","Samanta","Samantha","Samara","Samir","Sammie","Sammy","Samson","Sandra","Sandrine","Sandy","Sanford","Santa","Santiago","Santina","Santino","Santos","Sarah","Sarai","Sarina","Sasha","Saul","Savanah","Savanna","Savannah","Savion","Scarlett","Schuyler","Scot","Scottie","Scotty","Seamus","Sean","Sebastian","Sedrick","Selena","Selina","Selmer","Serena","Serenity","Seth","Shad","Shaina","Shakira","Shana","Shane","Shanel","Shanelle","Shania","Shanie","Shaniya","Shanna","Shannon","Shanny","Shanon","Shany","Sharon","Shaun","Shawn","Shawna","Shaylee","Shayna","Shayne","Shea","Sheila","Sheldon","Shemar","Sheridan","Sherman","Sherwood","Shirley","Shyann","Shyanne","Sibyl","Sid","Sidney","Sienna","Sierra","Sigmund","Sigrid","Sigurd","Silas","Sim","Simeon","Simone","Sincere","Sister","Skye","Skyla","Skylar","Sofia","Soledad","Solon","Sonia","Sonny","Sonya","Sophia","Sophie","Spencer","Stacey","Stacy","Stan","Stanford","Stanley","Stanton","Stefan","Stefanie","Stella","Stephan","Stephania","Stephanie","Stephany","Stephen","Stephon","Sterling","Steve","Stevie","Stewart","Stone","Stuart","Summer","Sunny","Susan","Susana","Susanna","Susie","Suzanne","Sven","Syble","Sydnee","Sydney","Sydni","Sydnie","Sylvan","Sylvester","Sylvia","Tabitha","Tad","Talia","Talon","Tamara","Tamia","Tania","Tanner","Tanya","Tara","Taryn","Tate","Tatum","Tatyana","Taurean","Tavares","Taya","Taylor","Teagan","Ted","Telly","Terence","Teresa","Terrance","Terrell","Terrence","Terrill","Terry","Tess","Tessie","Tevin","Thad","Thaddeus","Thalia","Thea","Thelma","Theo","Theodora","Theodore","Theresa","Therese","Theresia","Theron","Thomas","Thora","Thurman","Tia","Tiana","Tianna","Tiara","Tierra","Tiffany","Tillman","Timmothy","Timmy","Timothy","Tina","Tito","Titus","Tobin","Toby","Tod","Tom","Tomas","Tomasa","Tommie","Toney","Toni","Tony","Torey","Torrance","Torrey","Toy","Trace","Tracey","Tracy","Travis","Travon","Tre","Tremaine","Tremayne","Trent","Trenton","Tressa","Tressie","Treva","Trever","Trevion","Trevor","Trey","Trinity","Trisha","Tristian","Tristin","Triston","Troy","Trudie","Trycia","Trystan","Turner","Twila","Tyler","Tyra","Tyree","Tyreek","Tyrel","Tyrell","Tyrese","Tyrique","Tyshawn","Tyson","Ubaldo","Ulices","Ulises","Una","Unique","Urban","Uriah","Uriel","Ursula","Vada","Valentin","Valentina","Valentine","Valerie","Vallie","Van","Vance","Vanessa","Vaughn","Veda","Velda","Vella","Velma","Velva","Vena","Verda","Verdie","Vergie","Verla","Verlie","Vern","Verna","Verner","Vernice","Vernie","Vernon","Verona","Veronica","Vesta","Vicenta","Vicente","Vickie","Vicky","Victor","Victoria","Vida","Vidal","Vilma","Vince","Vincent","Vincenza","Vincenzo","Vinnie","Viola","Violet","Violette","Virgie","Virgil","Virginia","Virginie","Vita","Vito","Viva","Vivian","Viviane","Vivianne","Vivien","Vivienne","Vladimir","Wade","Waino","Waldo","Walker","Wallace","Walter","Walton","Wanda","Ward","Warren","Watson","Wava","Waylon","Wayne","Webster","Weldon","Wellington","Wendell","Wendy","Werner","Westley","Weston","Whitney","Wilber","Wilbert","Wilburn","Wiley","Wilford","Wilfred","Wilfredo","Wilfrid","Wilhelm","Wilhelmine","Will","Willa","Willard","William","Willie","Willis","Willow","Willy","Wilma","Wilmer","Wilson","Wilton","Winfield","Winifred","Winnifred","Winona","Winston","Woodrow","Wyatt","Wyman","Xander","Xavier","Xzavier","Yadira","Yasmeen","Yasmin","Yasmine","Yazmin","Yesenia","Yessenia","Yolanda","Yoshiko","Yvette","Yvonne","Zachariah","Zachary","Zachery","Zack","Zackary","Zackery","Zakary","Zander","Zane","Zaria","Zechariah","Zelda","Zella","Zelma","Zena","Zetta","Zion","Zita","Zoe","Zoey","Zoie","Zoila","Zola","Zora","Zula"];e.exports={generateUsername:function generateUsername(){return"".concat(i.randomElement(s),"-").concat(i.randomAlphanumStr(3));}};},7318:function _(e){e.exports={CAMERA:"camera",DESKTOP:"desktop",DESKTOP_HIGH_FPS:"desktop_high_fps",NONE:"none"};},4940:function _(e){e.exports={ENVIRONMENT:"environment",USER:"user"};},4391:function _(e){e.exports={H264:"h264",OPUS:"opus",ULPFEC:"ulpfec",VP8:"vp8",VP9:"vp9"};},8043:function _(e){e.exports={INACTIVE:"inactive",RECVONLY:"recvonly",SENDONLY:"sendonly",SENDRECV:"sendrecv"};},1645:function _(e){e.exports={CREATE_ANSWER_FAILED:"rtc.create_answer_failed",CREATE_OFFER_FAILED:"rtc.create_offer_failed",DATA_CHANNEL_OPEN:"rtc.data_channel_open",ENDPOINT_CONN_STATUS_CHANGED:"rtc.endpoint_conn_status_changed",DOMINANT_SPEAKER_CHANGED:"rtc.dominant_speaker_changed",LASTN_ENDPOINT_CHANGED:"rtc.lastn_endpoint_changed",PERMISSIONS_CHANGED:"rtc.permissions_changed",SENDER_VIDEO_CONSTRAINTS_CHANGED:"rtc.sender_video_constraints_changed",LASTN_VALUE_CHANGED:"rtc.lastn_value_changed",LOCAL_TRACK_SSRC_UPDATED:"rtc.local_track_ssrc_updated",LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED:"rtc.local_track_max_enabled_resolution_changed",TRACK_ATTACHED:"rtc.track_attached",REMOTE_TRACK_ADDED:"rtc.remote_track_added",REMOTE_TRACK_MUTE:"rtc.remote_track_mute",REMOTE_TRACK_REMOVED:"rtc.remote_track_removed",REMOTE_TRACK_UNMUTE:"rtc.remote_track_unmute",SET_LOCAL_DESCRIPTION_FAILED:"rtc.set_local_description_failed",SET_REMOTE_DESCRIPTION_FAILED:"rtc.set_remote_description_failed",AUDIO_OUTPUT_DEVICE_CHANGED:"rtc.audio_output_device_changed",DEVICE_LIST_CHANGED:"rtc.device_list_changed",DEVICE_LIST_WILL_CHANGE:"rtc.device_list_will_change",DEVICE_LIST_AVAILABLE:"rtc.device_list_available",ENDPOINT_MESSAGE_RECEIVED:"rtc.endpoint_message_received",ENDPOINT_STATS_RECEIVED:"rtc.endpoint_stats_received",LOCAL_UFRAG_CHANGED:"rtc.local_ufrag_changed",REMOTE_UFRAG_CHANGED:"rtc.remote_ufrag_changed"};},6125:function _(e){e.exports={2160:{width:3840,height:2160},"4k":{width:3840,height:2160},1080:{width:1920,height:1080},fullhd:{width:1920,height:1080},720:{width:1280,height:720},hd:{width:1280,height:720},540:{width:960,height:540},qhd:{width:960,height:540},480:{width:640,height:480},vga:{width:640,height:480},360:{width:640,height:360},240:{width:320,height:240},180:{width:320,height:180}};},1122:function _(e){e.exports={CAMERA:"camera",DESKTOP:"desktop"};},3514:function _(e){e.exports={IDENTITY_UPDATED:"authentication.identity_updated"};},4806:function _(e){e.exports={LOCAL_JID:"local"};},4188:function _(e){e.exports={ADD_ICE_CANDIDATE_FAILED:"xmpp.add_ice_candidate_failed",AUDIO_MUTED_BY_FOCUS:"xmpp.audio_muted_by_focus",VIDEO_MUTED_BY_FOCUS:"xmpp.video_muted_by_focus",AUTHENTICATION_REQUIRED:"xmpp.authentication_required",BRIDGE_DOWN:"xmpp.bridge_down",CALL_ACCEPTED:"xmpp.callaccepted.jingle",CALL_INCOMING:"xmpp.callincoming.jingle",CALL_ENDED:"xmpp.callended.jingle",CHAT_ERROR_RECEIVED:"xmpp.chat_error_received",SETTINGS_ERROR_RECEIVED:"xmpp.settings_error_received",CONFERENCE_PROPERTIES_CHANGED:"xmpp.conference_properties_changed",CONNECTION_ESTABLISHED:"xmpp.connection.connected",CONNECTION_FAILED:"xmpp.connection.failed",CONNECTION_INTERRUPTED:"xmpp.connection.interrupted",CONNECTION_RESTORED:"xmpp.connection.restored",CONNECTION_ICE_FAILED:"xmpp.connection.ice.failed",CONNECTION_RESTARTED:"xmpp.connection.restart",CONNECTION_STATUS_CHANGED:"xmpp.connection.status.changed",DISPLAY_NAME_CHANGED:"xmpp.display_name_changed",EMUC_ROOM_ADDED:"xmpp.emuc_room_added",EMUC_ROOM_REMOVED:"xmpp.emuc_room_removed",ETHERPAD:"xmpp.etherpad",FOCUS_DISCONNECTED:"xmpp.focus_disconnected",FOCUS_LEFT:"xmpp.focus_left",GRACEFUL_SHUTDOWN:"xmpp.graceful_shutdown",ICE_RESTARTING:"rtc.ice_restarting",ICE_RESTART_SUCCESS:"rtc.ice_restart_success",KICKED:"xmpp.kicked",LOCAL_ROLE_CHANGED:"xmpp.localrole_changed",MEETING_ID_SET:"xmpp.meeting_id_set",MESSAGE_RECEIVED:"xmpp.message_received",INVITE_MESSAGE_RECEIVED:"xmpp.invite_message_received",PRIVATE_MESSAGE_RECEIVED:"xmpp.private_message_received",MUC_MEMBER_BOT_TYPE_CHANGED:"xmpp.muc_member_bot_type_changed",MUC_DESTROYED:"xmpp.muc_destroyed",MUC_JOIN_IN_PROGRESS:"xmpp.muc_join_in_progress",MUC_JOINED:"xmpp.muc_joined",MUC_MEMBER_JOINED:"xmpp.muc_member_joined",MUC_MEMBER_LEFT:"xmpp.muc_member_left",MUC_LOBBY_MEMBER_JOINED:"xmpp.muc_lobby_member_joined",MUC_LOBBY_MEMBER_UPDATED:"xmpp.muc_lobby_member_updated",MUC_LOBBY_MEMBER_LEFT:"xmpp.muc_lobby_member_left",MUC_DENIED_ACCESS:"xmpp.muc_denied access",MUC_LEFT:"xmpp.muc_left",MUC_ROLE_CHANGED:"xmpp.muc_role_changed",MUC_LOCK_CHANGED:"xmpp.muc_lock_changed",MUC_MEMBERS_ONLY_CHANGED:"xmpp.muc_members_only_changed",PARTICIPANT_AUDIO_MUTED:"xmpp.audio_muted",PARTICIPANT_VIDEO_MUTED:"xmpp.video_muted",PARTICIPANT_VIDEO_TYPE_CHANGED:"xmpp.video_type",PARTICIPANT_FEATURES_CHANGED:"xmpp.participant_features_changed",PASSWORD_REQUIRED:"xmpp.password_required",PHONE_NUMBER_CHANGED:"conference.phoneNumberChanged",PRESENCE_RECEIVED:"xmpp.presence_received",PRESENCE_STATUS:"xmpp.presence_status",PROMPT_FOR_LOGIN:"xmpp.prompt_for_login",READY_TO_JOIN:"xmpp.ready_to_join",RECORDER_STATE_CHANGED:"xmpp.recorderStateChanged",REMOTE_STATS:"xmpp.remote_stats",RENEGOTIATION_FAILED:"xmpp.renegotiation_failed",RESERVATION_ERROR:"xmpp.room_reservation_error",ROOM_CONNECT_ERROR:"xmpp.room_connect_error",ROOM_CONNECT_NOT_ALLOWED_ERROR:"xmpp.room_connect_error.not_allowed",ROOM_JOIN_ERROR:"xmpp.room_join_error",ROOM_CONNECT_MEMBERS_ONLY_ERROR:"xmpp.room_connect_error.members_only",ROOM_MAX_USERS_ERROR:"xmpp.room_max_users_error",SENDING_CHAT_MESSAGE:"xmpp.sending_chat_message",SENDING_PRIVATE_CHAT_MESSAGE:"xmpp.sending_private_chat_message",SESSION_ACCEPT:"xmpp.session_accept",SESSION_ACCEPT_ERROR:"xmpp.session_accept_error",SESSION_ACCEPT_TIMEOUT:"xmpp.session_accept_timeout",SOURCE_ADD:"xmpp.source_add",SOURCE_ADD_ERROR:"xmpp.source_add_error",SOURCE_REMOVE:"xmpp.source_remove",SOURCE_REMOVE_ERROR:"xmpp.source_remove_error",SPEAKER_STATS_RECEIVED:"xmpp.speaker_stats_received",CONFERENCE_TIMESTAMP_RECEIVED:"xmpp.conference_timestamp_received",AV_MODERATION_APPROVED:"xmpp.av_moderation.approved",AV_MODERATION_REJECTED:"xmpp.av_moderation.rejected",AV_MODERATION_RECEIVED:"xmpp.av_moderation.received",AV_MODERATION_CHANGED:"xmpp.av_moderation.changed",AV_MODERATION_PARTICIPANT_APPROVED:"xmpp.av_moderation.participant.approved",AV_MODERATION_PARTICIPANT_REJECTED:"xmpp.av_moderation.participant.rejected",BREAKOUT_ROOMS_MOVE_TO_ROOM:"xmpp.breakout-rooms.move-to-room",BREAKOUT_ROOMS_EVENT:"xmpp.breakout-rooms.event",BREAKOUT_ROOMS_UPDATED:"xmpp.breakout-rooms.updated",START_MUTED_FROM_FOCUS:"xmpp.start_muted_from_focus",SUBJECT_CHANGED:"xmpp.subject_changed",SUSPEND_DETECTED:"xmpp.suspend_detected",TRANSCRIPTION_STATUS_CHANGED:"xmpp.transcription_status_changed",TRANSPORT_INFO:"xmpp.transportinfo.jingle",VIDEO_SIP_GW_AVAILABILITY_CHANGED:"xmpp.videoSIPGWAvailabilityChanged",VIDEO_SIP_GW_SESSION_STATE_CHANGED:"xmpp.videoSIPGWSessionStateChanged",ICE_CONNECTION_STATE_CHANGED:"xmpp.ice_connection_state_changed",JSON_MESSAGE_RECEIVED:"xmmp.json_message_received"};},9742:function _(e,t){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],i=t[1];return 3*(n+i)/4-i;},t.toByteArray=function(e){var t,n,r=c(e),o=r[0],a=r[1],d=new s(function(e,t,n){return 3*(t+n)/4-n;}(0,o,a)),l=0,h=a>0?o-4:o;for(n=0;n<h;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],d[l++]=t>>16&255,d[l++]=t>>8&255,d[l++]=255&t;return 2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,d[l++]=255&t),1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,d[l++]=t>>8&255,d[l++]=255&t),d;},t.fromByteArray=function(e){for(var t,i=e.length,s=i%3,r=[],o=16383,a=0,c=i-s;a<c;a+=o)r.push(d(e,a,a+o>c?c:a+o));return 1===s?(t=e[i-1],r.push(n[t>>2]+n[t<<4&63]+"==")):2===s&&(t=(e[i-2]<<8)+e[i-1],r.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),r.join("");};for(var n=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=r.length;o<a;++o)n[o]=r[o],i[r.charCodeAt(o)]=o;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4];}function d(e,t,i){for(var s,r,o=[],a=t;a<i;a+=3)s=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(n[(r=s)>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r]);return o.join("");}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63;},1206:function _(e){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports;}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i});},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0});},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==_typeof(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t];}.bind(null,s));return i;},n.n=function(e){var t=e&&e.__esModule?function(){return e.default;}:function(){return e;};return n.d(t,"a",t),t;},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t);},n.p="",n(n.s=90);}({17:function _(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=n(18),s=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||"";},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||"";},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n;},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return;}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0;});if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return;}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0;});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0;},e.getVersionPrecision=function(e){return e.split(".").length;},e.compareVersions=function(t,n,i){void 0===i&&(i=!1);var s=e.getVersionPrecision(t),r=e.getVersionPrecision(n),o=Math.max(s,r),a=0,c=e.map([t,n],function(t){var n=o-e.getVersionPrecision(t),i=t+new Array(n+1).join(".0");return e.map(i.split("."),function(e){return new Array(20-e.length).join("0")+e;}).reverse();});for(i&&(a=o-Math.min(s,r)),o-=1;o>=a;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===a)return 0;o-=1;}else if(c[0][o]<c[1][o])return-1;}},e.map=function(e,t){var n,i=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)i.push(t(e[n]));return i;},e.getBrowserAlias=function(e){return i.BROWSER_ALIASES_MAP[e];},e.getBrowserTypeByAlias=function(e){return i.BROWSER_MAP[e]||"";},e;}();t.default=s,e.exports=t.default;},18:function _(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};},90:function _(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,s=(i=n(91))&&i.__esModule?i:{default:i},r=n(18);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}var a=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new s.default(e,t);},e.parse=function(e){return new s.default(e).getResult();},t=e,n=[{key:"BROWSER_MAP",get:function get(){return r.BROWSER_MAP;}},{key:"ENGINE_MAP",get:function get(){return r.ENGINE_MAP;}},{key:"OS_MAP",get:function get(){return r.OS_MAP;}},{key:"PLATFORMS_MAP",get:function get(){return r.PLATFORMS_MAP;}}],null&&o(t.prototype,null),n&&o(t,n),e;}();t.default=a,e.exports=t.default;},91:function _(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=c(n(92)),s=c(n(93)),r=c(n(94)),o=c(n(95)),a=c(n(17));function c(e){return e&&e.__esModule?e:{default:e};}var d=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can\'t be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse();}var t=e.prototype;return t.getUA=function(){return this._ua;},t.test=function(e){return e.test(this._ua);},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=i.default.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t);});throw new Error("Browser\'s test function is not valid");});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser;},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser();},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||"";},t.getBrowserVersion=function(){return this.getBrowser().version;},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS();},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t);});throw new Error("Browser\'s test function is not valid");});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os;},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||"";},t.getOSVersion=function(){return this.getOS().version;},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform();},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||"";},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=r.default.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t);});throw new Error("Browser\'s test function is not valid");});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform;},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine();},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||"";},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=o.default.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t);});throw new Error("Browser\'s test function is not valid");});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine;},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this;},t.getResult=function(){return Object.assign({},this.parsedResult);},t.satisfies=function(e){var t=this,n={},i=0,s={},r=0;if(Object.keys(e).forEach(function(t){var o=e[t];"string"==typeof o?(s[t]=o,r+=1):"object"==_typeof(o)&&(n[t]=o,i+=1);}),i>0){var o=Object.keys(n),a=o.find(function(e){return t.isOS(e);});if(a){var c=this.satisfies(n[a]);if(void 0!==c)return c;}var d=o.find(function(e){return t.isPlatform(e);});if(d){var l=this.satisfies(n[d]);if(void 0!==l)return l;}}if(r>0){var h=Object.keys(s).find(function(e){return t.isBrowser(e,!0);});if(void 0!==h)return this.compareVersion(s[h]);}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),i=e.toLowerCase(),s=a.default.getBrowserTypeByAlias(i);return t&&s&&(i=s.toLowerCase()),i===n;},t.compareVersion=function(e){var t=[0],n=e,i=!1,s=this.getBrowserVersion();if("string"==typeof s)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(i=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(i=!0,n=e.substr(1)),t.indexOf(a.default.compareVersions(s,n,i))>-1;},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase();},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase();},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase();},t.is=function(e){return this.isBrowser(e)||this.isOS(e)||this.isPlatform(e);},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some(function(e){return t.is(e);});},e;}();t.default=d,e.exports=t.default;},92:function _(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,s=(i=n(17))&&i.__esModule?i:{default:i},r=/version\\/(\\d+(\\.?_?\\d+)+)/i,o=[{test:[/googlebot/i],describe:function describe(e){var t={name:"Googlebot"},n=s.default.getFirstMatch(/googlebot\\/(\\d+(\\.\\d+))/i,e)||s.default.getFirstMatch(r,e);return n&&(t.version=n),t;}},{test:[/opera/i],describe:function describe(e){var t={name:"Opera"},n=s.default.getFirstMatch(r,e)||s.default.getFirstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/opr\\/|opios/i],describe:function describe(e){var t={name:"Opera"},n=s.default.getFirstMatch(/(?:opr|opios)[\\s/](\\S+)/i,e)||s.default.getFirstMatch(r,e);return n&&(t.version=n),t;}},{test:[/SamsungBrowser/i],describe:function describe(e){var t={name:"Samsung Internet for Android"},n=s.default.getFirstMatch(r,e)||s.default.getFirstMatch(/(?:SamsungBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/Whale/i],describe:function describe(e){var t={name:"NAVER Whale Browser"},n=s.default.getFirstMatch(r,e)||s.default.getFirstMatch(/(?:whale)[\\s/](\\d+(?:\\.\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/MZBrowser/i],describe:function describe(e){var t={name:"MZ Browser"},n=s.default.getFirstMatch(/(?:MZBrowser)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||s.default.getFirstMatch(r,e);return n&&(t.version=n),t;}},{test:[/focus/i],describe:function describe(e){var t={name:"Focus"},n=s.default.getFirstMatch(/(?:focus)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||s.default.getFirstMatch(r,e);return n&&(t.version=n),t;}},{test:[/swing/i],describe:function describe(e){var t={name:"Swing"},n=s.default.getFirstMatch(/(?:swing)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||s.default.getFirstMatch(r,e);return n&&(t.version=n),t;}},{test:[/coast/i],describe:function describe(e){var t={name:"Opera Coast"},n=s.default.getFirstMatch(r,e)||s.default.getFirstMatch(/(?:coast)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/yabrowser/i],describe:function describe(e){var t={name:"Yandex Browser"},n=s.default.getFirstMatch(/(?:yabrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||s.default.getFirstMatch(r,e);return n&&(t.version=n),t;}},{test:[/ucbrowser/i],describe:function describe(e){var t={name:"UC Browser"},n=s.default.getFirstMatch(r,e)||s.default.getFirstMatch(/(?:ucbrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/Maxthon|mxios/i],describe:function describe(e){var t={name:"Maxthon"},n=s.default.getFirstMatch(r,e)||s.default.getFirstMatch(/(?:Maxthon|mxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/epiphany/i],describe:function describe(e){var t={name:"Epiphany"},n=s.default.getFirstMatch(r,e)||s.default.getFirstMatch(/(?:epiphany)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/puffin/i],describe:function describe(e){var t={name:"Puffin"},n=s.default.getFirstMatch(r,e)||s.default.getFirstMatch(/(?:puffin)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/sleipnir/i],describe:function describe(e){var t={name:"Sleipnir"},n=s.default.getFirstMatch(r,e)||s.default.getFirstMatch(/(?:sleipnir)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/k-meleon/i],describe:function describe(e){var t={name:"K-Meleon"},n=s.default.getFirstMatch(r,e)||s.default.getFirstMatch(/(?:k-meleon)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/micromessenger/i],describe:function describe(e){var t={name:"WeChat"},n=s.default.getFirstMatch(/(?:micromessenger)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||s.default.getFirstMatch(r,e);return n&&(t.version=n),t;}},{test:[/qqbrowser/i],describe:function describe(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=s.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\\d+(\\.?_?\\d+)+)/i,e)||s.default.getFirstMatch(r,e);return n&&(t.version=n),t;}},{test:[/msie|trident/i],describe:function describe(e){var t={name:"Internet Explorer"},n=s.default.getFirstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/\\sedg\\//i],describe:function describe(e){var t={name:"Microsoft Edge"},n=s.default.getFirstMatch(/\\sedg\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/edg([ea]|ios)/i],describe:function describe(e){var t={name:"Microsoft Edge"},n=s.default.getSecondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/vivaldi/i],describe:function describe(e){var t={name:"Vivaldi"},n=s.default.getFirstMatch(/vivaldi\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/seamonkey/i],describe:function describe(e){var t={name:"SeaMonkey"},n=s.default.getFirstMatch(/seamonkey\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/sailfish/i],describe:function describe(e){var t={name:"Sailfish"},n=s.default.getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i,e);return n&&(t.version=n),t;}},{test:[/silk/i],describe:function describe(e){var t={name:"Amazon Silk"},n=s.default.getFirstMatch(/silk\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/phantom/i],describe:function describe(e){var t={name:"PhantomJS"},n=s.default.getFirstMatch(/phantomjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/slimerjs/i],describe:function describe(e){var t={name:"SlimerJS"},n=s.default.getFirstMatch(/slimerjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function describe(e){var t={name:"BlackBerry"},n=s.default.getFirstMatch(r,e)||s.default.getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/(web|hpw)[o0]s/i],describe:function describe(e){var t={name:"WebOS Browser"},n=s.default.getFirstMatch(r,e)||s.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/bada/i],describe:function describe(e){var t={name:"Bada"},n=s.default.getFirstMatch(/dolfin\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/tizen/i],describe:function describe(e){var t={name:"Tizen"},n=s.default.getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.?_?\\d+)+)/i,e)||s.default.getFirstMatch(r,e);return n&&(t.version=n),t;}},{test:[/qupzilla/i],describe:function describe(e){var t={name:"QupZilla"},n=s.default.getFirstMatch(/(?:qupzilla)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||s.default.getFirstMatch(r,e);return n&&(t.version=n),t;}},{test:[/firefox|iceweasel|fxios/i],describe:function describe(e){var t={name:"Firefox"},n=s.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/chromium/i],describe:function describe(e){var t={name:"Chromium"},n=s.default.getFirstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||s.default.getFirstMatch(r,e);return n&&(t.version=n),t;}},{test:[/chrome|crios|crmo/i],describe:function describe(e){var t={name:"Chrome"},n=s.default.getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/GSA/i],describe:function describe(e){var t={name:"Google Search"},n=s.default.getFirstMatch(/(?:GSA)\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:function test(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n;},describe:function describe(e){var t={name:"Android Browser"},n=s.default.getFirstMatch(r,e);return n&&(t.version=n),t;}},{test:[/playstation 4/i],describe:function describe(e){var t={name:"PlayStation 4"},n=s.default.getFirstMatch(r,e);return n&&(t.version=n),t;}},{test:[/safari|applewebkit/i],describe:function describe(e){var t={name:"Safari"},n=s.default.getFirstMatch(r,e);return n&&(t.version=n),t;}},{test:[/.*/i],describe:function describe(e){var t=-1!==e.search("\\\\(")?/^(.*)\\/(.*)[ \\t]\\((.*)/:/^(.*)\\/(.*) /;return{name:s.default.getFirstMatch(t,e),version:s.default.getSecondMatch(t,e)};}}];t.default=o,e.exports=t.default;},93:function _(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,s=(i=n(17))&&i.__esModule?i:{default:i},r=n(18),o=[{test:[/Roku\\/DVP/],describe:function describe(e){var t=s.default.getFirstMatch(/Roku\\/DVP-(\\d+\\.\\d+)/i,e);return{name:r.OS_MAP.Roku,version:t};}},{test:[/windows phone/i],describe:function describe(e){var t=s.default.getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i,e);return{name:r.OS_MAP.WindowsPhone,version:t};}},{test:[/windows/i],describe:function describe(e){var t=s.default.getFirstMatch(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i,e),n=s.default.getWindowsVersionName(t);return{name:r.OS_MAP.Windows,version:t,versionName:n};}},{test:[/macintosh/i],describe:function describe(e){var t=s.default.getFirstMatch(/mac os x (\\d+(\\.?_?\\d+)+)/i,e).replace(/[_\\s]/g,"."),n=s.default.getMacOSVersionName(t),i={name:r.OS_MAP.MacOS,version:t};return n&&(i.versionName=n),i;}},{test:[/(ipod|iphone|ipad)/i],describe:function describe(e){var t=s.default.getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i,e).replace(/[_\\s]/g,".");return{name:r.OS_MAP.iOS,version:t};}},{test:function test(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n;},describe:function describe(e){var t=s.default.getFirstMatch(/android[\\s/-](\\d+(\\.\\d+)*)/i,e),n=s.default.getAndroidVersionName(t),i={name:r.OS_MAP.Android,version:t};return n&&(i.versionName=n),i;}},{test:[/(web|hpw)[o0]s/i],describe:function describe(e){var t=s.default.getFirstMatch(/(?:web|hpw)[o0]s\\/(\\d+(\\.\\d+)*)/i,e),n={name:r.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n;}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function describe(e){var t=s.default.getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i,e)||s.default.getFirstMatch(/blackberry\\d+\\/(\\d+([_\\s]\\d+)*)/i,e)||s.default.getFirstMatch(/\\bbb(\\d+)/i,e);return{name:r.OS_MAP.BlackBerry,version:t};}},{test:[/bada/i],describe:function describe(e){var t=s.default.getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i,e);return{name:r.OS_MAP.Bada,version:t};}},{test:[/tizen/i],describe:function describe(e){var t=s.default.getFirstMatch(/tizen[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:r.OS_MAP.Tizen,version:t};}},{test:[/linux/i],describe:function describe(){return{name:r.OS_MAP.Linux};}},{test:[/CrOS/],describe:function describe(){return{name:r.OS_MAP.ChromeOS};}},{test:[/PlayStation 4/],describe:function describe(e){var t=s.default.getFirstMatch(/PlayStation 4[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:r.OS_MAP.PlayStation4,version:t};}}];t.default=o,e.exports=t.default;},94:function _(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,s=(i=n(17))&&i.__esModule?i:{default:i},r=n(18),o=[{test:[/googlebot/i],describe:function describe(){return{type:"bot",vendor:"Google"};}},{test:[/huawei/i],describe:function describe(e){var t=s.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:r.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n;}},{test:[/nexus\\s*(?:7|8|9|10).*/i],describe:function describe(){return{type:r.PLATFORMS_MAP.tablet,vendor:"Nexus"};}},{test:[/ipad/i],describe:function describe(){return{type:r.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"};}},{test:[/kftt build/i],describe:function describe(){return{type:r.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"};}},{test:[/silk/i],describe:function describe(){return{type:r.PLATFORMS_MAP.tablet,vendor:"Amazon"};}},{test:[/tablet(?! pc)/i],describe:function describe(){return{type:r.PLATFORMS_MAP.tablet};}},{test:function test(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n;},describe:function describe(e){var t=s.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:r.PLATFORMS_MAP.mobile,vendor:"Apple",model:t};}},{test:[/nexus\\s*[0-6].*/i,/galaxy nexus/i],describe:function describe(){return{type:r.PLATFORMS_MAP.mobile,vendor:"Nexus"};}},{test:[/[^-]mobi/i],describe:function describe(){return{type:r.PLATFORMS_MAP.mobile};}},{test:function test(e){return"blackberry"===e.getBrowserName(!0);},describe:function describe(){return{type:r.PLATFORMS_MAP.mobile,vendor:"BlackBerry"};}},{test:function test(e){return"bada"===e.getBrowserName(!0);},describe:function describe(){return{type:r.PLATFORMS_MAP.mobile};}},{test:function test(e){return"windows phone"===e.getBrowserName();},describe:function describe(){return{type:r.PLATFORMS_MAP.mobile,vendor:"Microsoft"};}},{test:function test(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3;},describe:function describe(){return{type:r.PLATFORMS_MAP.tablet};}},{test:function test(e){return"android"===e.getOSName(!0);},describe:function describe(){return{type:r.PLATFORMS_MAP.mobile};}},{test:function test(e){return"macos"===e.getOSName(!0);},describe:function describe(){return{type:r.PLATFORMS_MAP.desktop,vendor:"Apple"};}},{test:function test(e){return"windows"===e.getOSName(!0);},describe:function describe(){return{type:r.PLATFORMS_MAP.desktop};}},{test:function test(e){return"linux"===e.getOSName(!0);},describe:function describe(){return{type:r.PLATFORMS_MAP.desktop};}},{test:function test(e){return"playstation 4"===e.getOSName(!0);},describe:function describe(){return{type:r.PLATFORMS_MAP.tv};}},{test:function test(e){return"roku"===e.getOSName(!0);},describe:function describe(){return{type:r.PLATFORMS_MAP.tv};}}];t.default=o,e.exports=t.default;},95:function _(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,s=(i=n(17))&&i.__esModule?i:{default:i},r=n(18),o=[{test:function test(e){return"microsoft edge"===e.getBrowserName(!0);},describe:function describe(e){if(/\\sedg\\//i.test(e))return{name:r.ENGINE_MAP.Blink};var t=s.default.getFirstMatch(/edge\\/(\\d+(\\.?_?\\d+)+)/i,e);return{name:r.ENGINE_MAP.EdgeHTML,version:t};}},{test:[/trident/i],describe:function describe(e){var t={name:r.ENGINE_MAP.Trident},n=s.default.getFirstMatch(/trident\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:function test(e){return e.test(/presto/i);},describe:function describe(e){var t={name:r.ENGINE_MAP.Presto},n=s.default.getFirstMatch(/presto\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:function test(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n;},describe:function describe(e){var t={name:r.ENGINE_MAP.Gecko},n=s.default.getFirstMatch(/gecko\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}},{test:[/(apple)?webkit\\/537\\.36/i],describe:function describe(){return{name:r.ENGINE_MAP.Blink};}},{test:[/(apple)?webkit/i],describe:function describe(e){var t={name:r.ENGINE_MAP.WebKit},n=s.default.getFirstMatch(/webkit\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t;}}];t.default=o,e.exports=t.default;}});},667:function _(e,t){var n,i;this||window,void 0===(i="function"==typeof(n=function n(){var e=/^(interactive|loaded|complete)$/,t=window.location?window.location.href:null,n=t&&t.replace(/#.*$/,"").replace(/\\?.*$/,"")||null,i=document.getElementsByTagName("script"),s=("readyState"in(i[0]||document.createElement("script"))),r=!window.opera||"[object Opera]"!==window.opera.toString(),o=("currentScript"in document);"stackTraceLimit"in Error&&Error.stackTraceLimit!==1/0&&(Error.stackTraceLimit,Error.stackTraceLimit=1/0);var a=!1,c=!1;function d(e,t){var n,i=null,s="number"==typeof t;return t=s?Math.round(t):0,"string"==typeof e&&e&&(s?n=e.match(/(data:text\\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\\/\\/[\\/]?.+?\\/[^:\\)]*?)(?::\\d+)(?::\\d+)?/):(n=e.match(/^(?:|[^:@]*@|.+\\)@(?=data:text\\/javascript|blob|http[s]?|file)|.+?\\s+(?: at |@)(?:[^:\\(]+ )*[\\(]?)(data:text\\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\\/\\/[\\/]?.+?\\/[^:\\)]*?)(?::\\d+)(?::\\d+)?/))&&n[1]||(n=e.match(/\\)@(data:text\\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\\/\\/[\\/]?.+?\\/[^:\\)]*?)(?::\\d+)(?::\\d+)?/)),n&&n[1]&&(i=t>0?d(e.slice(e.indexOf(n[0])+n[0].length),t-1):n[1])),i;}function l(){if(0===i.length)return null;var t,h,u,p,m,f=[],g=l.skipStackDepth||1;for(t=0;t<i.length;t++)r&&s?e.test(i[t].readyState)&&f.push(i[t]):f.push(i[t]);if(h=new Error(),a&&(u=h.stack),!u&&c)try{throw h;}catch(e){u=e.stack;}if(u&&!(m=function(e,t){var n,s=null;if(t=t||i,"string"==typeof e&&e)for(n=t.length;n--;)if(t[n].src===e){s=t[n];break;}return s;}(p=d(u,g),f))&&n&&p===n&&(m=function(e){var t,n,s=null;for(t=0,n=(e=e||i).length;t<n;t++)if(!e[t].hasAttribute("src")){if(s){s=null;break;}s=e[t];}return s;}(f)),m||1===f.length&&(m=f[0]),m||o&&(m=document.currentScript),!m&&r&&s)for(t=f.length;t--;)if("interactive"===f[t].readyState){m=f[t];break;}return m||(m=f[f.length-1]||null),m;}(function(){try{var e=new Error();throw a="string"==typeof e.stack&&!!e.stack,e;}catch(e){c="string"==typeof e.stack&&!!e.stack;}})(),l.skipStackDepth=1;var h=l;return h.near=l,h.far=function(){return null;},h.origin=function(){return null;},h;})?n.apply(t,[]):n)||(e.exports=i);},7187:function _(e){"use strict";var t,n="object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n);};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e));}:function(e){return Object.getOwnPropertyNames(e);};var s=Number.isNaN||function(e){return e!=e;};function r(){r.init.call(this);}e.exports=r,e.exports.once=function(e,t){return new Promise(function(n,i){function s(n){e.removeListener(t,r),i(n);}function r(){"function"==typeof e.removeListener&&e.removeListener("error",s),n([].slice.call(arguments));}f(e,t,r,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&f(e,"error",t,{once:!0});}(e,s);});},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!=typeof e)throw new TypeError(\'The "listener" argument must be of type Function. Received type \'+_typeof(e));}function c(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners;}function d(e,t,n,i){var s,r,o,d;if(a(n),void 0===(r=e._events)?(r=e._events=Object.create(null),e._eventsCount=0):(void 0!==r.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),r=e._events),o=r[t]),void 0===o)o=r[t]=n,++e._eventsCount;else if("function"==typeof o?o=r[t]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),(s=c(e))>0&&o.length>s&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,d=l,console&&console.warn&&console.warn(d);}return e;}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments);}function h(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=l.bind(i);return s.listener=n,i.wrapFn=s,s;}function u(e,t,n){var i=e._events;if(void 0===i)return[];var s=i[t];return void 0===s?[]:"function"==typeof s?n?[s.listener||s]:[s]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t;}(s):m(s,s.length);}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length;}return 0;}function m(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n;}function f(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError(\'The "emitter" argument must be of type EventEmitter. Received type \'+_typeof(e));e.addEventListener(t,function s(r){i.once&&e.removeEventListener(t,s),n(r);});}}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function get(){return o;},set:function set(e){if("number"!=typeof e||e<0||s(e))throw new RangeError(\'The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received \'+e+".");o=e;}}),r.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0;},r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError(\'The value of "n" is out of range. It must be a non-negative number. Received \'+e+".");return this._maxListeners=e,this;},r.prototype.getMaxListeners=function(){return c(this);},r.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var s="error"===e,r=this._events;if(void 0!==r)s=s&&void 0===r.error;else if(!s)return!1;if(s){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a;}var c=r[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else{var d=c.length,l=m(c,d);for(n=0;n<d;++n)i(l[n],this,t);}return!0;},r.prototype.addListener=function(e,t){return d(this,e,t,!1);},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(e,t){return d(this,e,t,!0);},r.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this;},r.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this;},r.prototype.removeListener=function(e,t){var n,i,s,r,o;if(a(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(s=-1,r=n.length-1;r>=0;r--)if(n[r]===t||n[r].listener===t){o=n[r].listener,s=r;break;}if(s<0)return this;0===s?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop();}(n,s),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||t);}return this;},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var s,r=Object.keys(n);for(i=0;i<r.length;++i)"removeListener"!==(s=r[i])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this;}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this;},r.prototype.listeners=function(e){return u(this,e,!0);},r.prototype.rawListeners=function(e){return u(this,e,!1);},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t);},r.prototype.listenerCount=p,r.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[];};},8495:function _(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==(typeof window==="undefined"?"undefined":_typeof(window)),root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==(typeof self==="undefined"?"undefined":_typeof(self)),NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==(typeof process==="undefined"?"undefined":_typeof(process))&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer);}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e);}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==_typeof(e)&&e.buffer&&e.buffer.constructor===ArrayBuffer;});var createOutputMethod=function createOutputMethod(e){return function(t){return new Md5(!0).update(t)[e]();};},createMethod=function createMethod(){var e=createOutputMethod("hex");NODE_JS&&(e=nodeWrap(e)),e.create=function(){return new Md5();},e.update=function(t){return e.create().update(t);};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createOutputMethod(n);}return e;},nodeWrap=function nodeWrap(method){var crypto=eval("require(\'crypto\')"),Buffer=eval("require(\'buffer\').Buffer"),nodeMethod=function nodeMethod(e){if("string"==typeof e)return crypto.createHash("md5").update(e,"utf8").digest("hex");if(null==e)throw ERROR;return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash("md5").update(new Buffer(e)).digest("hex"):method(e);};return nodeMethod;};function Md5(e){if(e)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t);}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0;}Md5.prototype.update=function(e){if(!this.finalized){var t,n=_typeof(e);if("string"!==n){if("object"!==n)throw ERROR;if(null===e)throw ERROR;if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw ERROR;t=!0;}for(var i,s,r=0,o=e.length,a=this.blocks,c=this.buffer8;r<o;){if(this.hashed&&(this.hashed=!1,a[0]=a[16],a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t){if(ARRAY_BUFFER)for(s=this.start;r<o&&s<64;++r)c[s++]=e[r];else for(s=this.start;r<o&&s<64;++r)a[s>>2]|=e[r]<<SHIFT[3&s++];}else if(ARRAY_BUFFER)for(s=this.start;r<o&&s<64;++r)(i=e.charCodeAt(r))<128?c[s++]=i:i<2048?(c[s++]=192|i>>6,c[s++]=128|63&i):i<55296||i>=57344?(c[s++]=224|i>>12,c[s++]=128|i>>6&63,c[s++]=128|63&i):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++r)),c[s++]=240|i>>18,c[s++]=128|i>>12&63,c[s++]=128|i>>6&63,c[s++]=128|63&i);else for(s=this.start;r<o&&s<64;++r)(i=e.charCodeAt(r))<128?a[s>>2]|=i<<SHIFT[3&s++]:i<2048?(a[s>>2]|=(192|i>>6)<<SHIFT[3&s++],a[s>>2]|=(128|63&i)<<SHIFT[3&s++]):i<55296||i>=57344?(a[s>>2]|=(224|i>>12)<<SHIFT[3&s++],a[s>>2]|=(128|i>>6&63)<<SHIFT[3&s++],a[s>>2]|=(128|63&i)<<SHIFT[3&s++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++r)),a[s>>2]|=(240|i>>18)<<SHIFT[3&s++],a[s>>2]|=(128|i>>12&63)<<SHIFT[3&s++],a[s>>2]|=(128|i>>6&63)<<SHIFT[3&s++],a[s>>2]|=(128|63&i)<<SHIFT[3&s++]);this.lastByteIndex=s,this.bytes+=s-this.start,s>=64?(this.start=s-64,this.hash(),this.hashed=!0):this.start=s;}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this;}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>2]|=EXTRA[3&t],t>=56&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,e[15]=this.hBytes<<3|this.bytes>>>29,this.hash();}},Md5.prototype.hash=function(){var e,t,n,i,s,r,o=this.blocks;this.first?t=((t=((e=((e=o[0]-680876937)<<7|e>>>25)-271733879<<0)^(n=((n=(-271733879^(i=((i=(-1732584194^2004318071&e)+o[1]-117830708)<<12|i>>>20)+e<<0)&(-271733879^e))+o[2]-1126478375)<<17|n>>>15)+i<<0)&(i^e))+o[3]-1316259209)<<22|t>>>10)+n<<0:(e=this.h0,t=this.h1,n=this.h2,t=((t+=((e=((e+=((i=this.h3)^t&(n^i))+o[0]-680876936)<<7|e>>>25)+t<<0)^(n=((n+=(t^(i=((i+=(n^e&(t^n))+o[1]-389564586)<<12|i>>>20)+e<<0)&(e^t))+o[2]+606105819)<<17|n>>>15)+i<<0)&(i^e))+o[3]-1044525330)<<22|t>>>10)+n<<0),t=((t+=((e=((e+=(i^t&(n^i))+o[4]-176418897)<<7|e>>>25)+t<<0)^(n=((n+=(t^(i=((i+=(n^e&(t^n))+o[5]+1200080426)<<12|i>>>20)+e<<0)&(e^t))+o[6]-1473231341)<<17|n>>>15)+i<<0)&(i^e))+o[7]-45705983)<<22|t>>>10)+n<<0,t=((t+=((e=((e+=(i^t&(n^i))+o[8]+1770035416)<<7|e>>>25)+t<<0)^(n=((n+=(t^(i=((i+=(n^e&(t^n))+o[9]-1958414417)<<12|i>>>20)+e<<0)&(e^t))+o[10]-42063)<<17|n>>>15)+i<<0)&(i^e))+o[11]-1990404162)<<22|t>>>10)+n<<0,t=((t+=((e=((e+=(i^t&(n^i))+o[12]+1804603682)<<7|e>>>25)+t<<0)^(n=((n+=(t^(i=((i+=(n^e&(t^n))+o[13]-40341101)<<12|i>>>20)+e<<0)&(e^t))+o[14]-1502002290)<<17|n>>>15)+i<<0)&(i^e))+o[15]+1236535329)<<22|t>>>10)+n<<0,t=((t+=((i=((i+=(t^n&((e=((e+=(n^i&(t^n))+o[1]-165796510)<<5|e>>>27)+t<<0)^t))+o[6]-1069501632)<<9|i>>>23)+e<<0)^e&((n=((n+=(e^t&(i^e))+o[11]+643717713)<<14|n>>>18)+i<<0)^i))+o[0]-373897302)<<20|t>>>12)+n<<0,t=((t+=((i=((i+=(t^n&((e=((e+=(n^i&(t^n))+o[5]-701558691)<<5|e>>>27)+t<<0)^t))+o[10]+38016083)<<9|i>>>23)+e<<0)^e&((n=((n+=(e^t&(i^e))+o[15]-660478335)<<14|n>>>18)+i<<0)^i))+o[4]-405537848)<<20|t>>>12)+n<<0,t=((t+=((i=((i+=(t^n&((e=((e+=(n^i&(t^n))+o[9]+568446438)<<5|e>>>27)+t<<0)^t))+o[14]-1019803690)<<9|i>>>23)+e<<0)^e&((n=((n+=(e^t&(i^e))+o[3]-187363961)<<14|n>>>18)+i<<0)^i))+o[8]+1163531501)<<20|t>>>12)+n<<0,t=((t+=((i=((i+=(t^n&((e=((e+=(n^i&(t^n))+o[13]-1444681467)<<5|e>>>27)+t<<0)^t))+o[2]-51403784)<<9|i>>>23)+e<<0)^e&((n=((n+=(e^t&(i^e))+o[7]+1735328473)<<14|n>>>18)+i<<0)^i))+o[12]-1926607734)<<20|t>>>12)+n<<0,t=((t+=((r=(i=((i+=((s=t^n)^(e=((e+=(s^i)+o[5]-378558)<<4|e>>>28)+t<<0))+o[8]-2022574463)<<11|i>>>21)+e<<0)^e)^(n=((n+=(r^t)+o[11]+1839030562)<<16|n>>>16)+i<<0))+o[14]-35309556)<<23|t>>>9)+n<<0,t=((t+=((r=(i=((i+=((s=t^n)^(e=((e+=(s^i)+o[1]-1530992060)<<4|e>>>28)+t<<0))+o[4]+1272893353)<<11|i>>>21)+e<<0)^e)^(n=((n+=(r^t)+o[7]-155497632)<<16|n>>>16)+i<<0))+o[10]-1094730640)<<23|t>>>9)+n<<0,t=((t+=((r=(i=((i+=((s=t^n)^(e=((e+=(s^i)+o[13]+681279174)<<4|e>>>28)+t<<0))+o[0]-358537222)<<11|i>>>21)+e<<0)^e)^(n=((n+=(r^t)+o[3]-722521979)<<16|n>>>16)+i<<0))+o[6]+76029189)<<23|t>>>9)+n<<0,t=((t+=((r=(i=((i+=((s=t^n)^(e=((e+=(s^i)+o[9]-640364487)<<4|e>>>28)+t<<0))+o[12]-421815835)<<11|i>>>21)+e<<0)^e)^(n=((n+=(r^t)+o[15]+530742520)<<16|n>>>16)+i<<0))+o[2]-995338651)<<23|t>>>9)+n<<0,t=((t+=((i=((i+=(t^((e=((e+=(n^(t|~i))+o[0]-198630844)<<6|e>>>26)+t<<0)|~n))+o[7]+1126891415)<<10|i>>>22)+e<<0)^((n=((n+=(e^(i|~t))+o[14]-1416354905)<<15|n>>>17)+i<<0)|~e))+o[5]-57434055)<<21|t>>>11)+n<<0,t=((t+=((i=((i+=(t^((e=((e+=(n^(t|~i))+o[12]+1700485571)<<6|e>>>26)+t<<0)|~n))+o[3]-1894986606)<<10|i>>>22)+e<<0)^((n=((n+=(e^(i|~t))+o[10]-1051523)<<15|n>>>17)+i<<0)|~e))+o[1]-2054922799)<<21|t>>>11)+n<<0,t=((t+=((i=((i+=(t^((e=((e+=(n^(t|~i))+o[8]+1873313359)<<6|e>>>26)+t<<0)|~n))+o[15]-30611744)<<10|i>>>22)+e<<0)^((n=((n+=(e^(i|~t))+o[6]-1560198380)<<15|n>>>17)+i<<0)|~e))+o[13]+1309151649)<<21|t>>>11)+n<<0,t=((t+=((i=((i+=(t^((e=((e+=(n^(t|~i))+o[4]-145523070)<<6|e>>>26)+t<<0)|~n))+o[11]-1120210379)<<10|i>>>22)+e<<0)^((n=((n+=(e^(i|~t))+o[2]+718787259)<<15|n>>>17)+i<<0)|~e))+o[9]-343485551)<<21|t>>>11)+n<<0,this.first?(this.h0=e+1732584193<<0,this.h1=t-271733879<<0,this.h2=n-1732584194<<0,this.h3=i+271733878<<0,this.first=!1):(this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+n<<0,this.h3=this.h3+i<<0);},Md5.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,i=this.h3;return HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15];},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,i=this.h3;return[255&e,e>>8&255,e>>16&255,e>>24&255,255&t,t>>8&255,t>>16&255,t>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,255&i,i>>8&255,i>>16&255,i>>24&255];},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e;},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var e,t,n,i="",s=this.array(),r=0;r<15;)e=s[r++],t=s[r++],n=s[r++],i+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[63&(e<<4|t>>>4)]+BASE64_ENCODE_CHAR[63&(t<<2|n>>>6)]+BASE64_ENCODE_CHAR[63&n];return e=s[r],i+(BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[e<<4&63]+"==");};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports;}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)));})();},3465:function _(e,t,n){e=n.nmd(e);var i="__lodash_hash_undefined__",s=9007199254740991,r="[object Arguments]",o="[object Boolean]",a="[object Date]",c="[object Function]",d="[object GeneratorFunction]",l="[object Map]",h="[object Number]",u="[object Object]",p="[object Promise]",m="[object RegExp]",f="[object Set]",g="[object String]",_="[object Symbol]",v="[object WeakMap]",S="[object ArrayBuffer]",y="[object DataView]",E="[object Float32Array]",C="[object Float64Array]",b="[object Int8Array]",T="[object Int16Array]",R="[object Int32Array]",A="[object Uint8Array]",w="[object Uint8ClampedArray]",I="[object Uint16Array]",P="[object Uint32Array]",M=/\\w*$/,D=/^\\[object .+?Constructor\\]$/,N=/^(?:0|[1-9]\\d*)$/,k={};k[r]=k["[object Array]"]=k[S]=k[y]=k[o]=k[a]=k[E]=k[C]=k[b]=k[T]=k[R]=k[l]=k[h]=k[u]=k[m]=k[f]=k[g]=k[_]=k[A]=k[w]=k[I]=k[P]=!0,k["[object Error]"]=k[c]=k[v]=!1;var O="object"==_typeof(n.g)&&n.g&&n.g.Object===Object&&n.g,L="object"==(typeof self==="undefined"?"undefined":_typeof(self))&&self&&self.Object===Object&&self,x=O||L||Function("return this")(),F=t&&!t.nodeType&&t,j=F&&e&&!e.nodeType&&e,$=j&&j.exports===F;function U(e,t){return e.set(t[0],t[1]),e;}function B(e,t){return e.add(t),e;}function J(e,t,n,i){var s=-1,r=e?e.length:0;for(i&&r&&(n=e[++s]);++s<r;)n=t(n,e[s],s,e);return n;}function V(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"");}catch(e){}return t;}function H(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e];}),n;}function G(e,t){return function(n){return e(t(n));};}function q(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e;}),n;}var K,z=Array.prototype,W=Function.prototype,Q=Object.prototype,X=x["__core-js_shared__"],Y=(K=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+K:"",Z=W.toString,ee=Q.hasOwnProperty,te=Q.toString,ne=RegExp("^"+Z.call(ee).replace(/[\\\\^$.*+?()[\\]{}|]/g,"\\\\$&").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$"),ie=$?x.Buffer:void 0,se=x.Symbol,re=x.Uint8Array,oe=G(Object.getPrototypeOf,Object),ae=Object.create,ce=Q.propertyIsEnumerable,de=z.splice,le=Object.getOwnPropertySymbols,he=ie?ie.isBuffer:void 0,ue=G(Object.keys,Object),pe=xe(x,"DataView"),me=xe(x,"Map"),fe=xe(x,"Promise"),ge=xe(x,"Set"),_e=xe(x,"WeakMap"),ve=xe(Object,"create"),Se=Be(pe),ye=Be(me),Ee=Be(fe),Ce=Be(ge),be=Be(_e),Te=se?se.prototype:void 0,Re=Te?Te.valueOf:void 0;function Ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1]);}}function we(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1]);}}function Ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1]);}}function Pe(e){this.__data__=new we(e);}function Me(e,t,n){var i=e[t];ee.call(e,t)&&Je(i,n)&&(void 0!==n||t in e)||(e[t]=n);}function De(e,t){for(var n=e.length;n--;)if(Je(e[n][0],t))return n;return-1;}function Ne(e,t,n,i,s,p,v){var D;if(i&&(D=p?i(e,s,p,v):i(e)),void 0!==D)return D;if(!Ke(e))return e;var N=Ve(e);if(N){if(D=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input),n;}(e),!t)return function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t;}(e,D);}else{var O=je(e),L=O==c||O==d;if(Ge(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n;}(e,t);if(O==u||O==r||L&&!p){if(V(e))return p?e:{};if(D=function(e){return"function"!=typeof e.constructor||Ue(e)?{}:Ke(t=oe(e))?ae(t):{};var t;}(L?{}:e),!t)return function(e,t){return Oe(e,Fe(e),t);}(e,function(e,t){return e&&Oe(t,ze(t),e);}(D,e));}else{if(!k[O])return p?e:{};D=function(e,t,n,i){var s,r=e.constructor;switch(t){case S:return ke(e);case o:case a:return new r(+e);case y:return function(e,t){var n=t?ke(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength);}(e,i);case E:case C:case b:case T:case R:case A:case w:case I:case P:return function(e,t){var n=t?ke(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length);}(e,i);case l:return function(e,t,n){return J(t?n(H(e),!0):H(e),U,new e.constructor());}(e,i,n);case h:case g:return new r(e);case m:return function(e){var t=new e.constructor(e.source,M.exec(e));return t.lastIndex=e.lastIndex,t;}(e);case f:return function(e,t,n){return J(t?n(q(e),!0):q(e),B,new e.constructor());}(e,i,n);case _:return s=e,Re?Object(Re.call(s)):{};}}(e,O,Ne,t);}}v||(v=new Pe());var x=v.get(e);if(x)return x;if(v.set(e,D),!N)var F=n?function(e){return function(e,t,n){var i=t(e);return Ve(e)?i:function(e,t){for(var n=-1,i=t.length,s=e.length;++n<i;)e[s+n]=t[n];return e;}(i,n(e));}(e,ze,Fe);}(e):ze(e);return function(e,t){for(var n=-1,i=e?e.length:0;++n<i&&!1!==t(e[n],n););}(F||e,function(s,r){F&&(s=e[r=s]),Me(D,r,Ne(s,t,n,i,r,e,v));}),D;}function ke(e){var t=new e.constructor(e.byteLength);return new re(t).set(new re(e)),t;}function Oe(e,t,n,i){n||(n={});for(var s=-1,r=t.length;++s<r;){var o=t[s],a=i?i(n[o],e[o],o,n,e):void 0;Me(n,o,void 0===a?e[o]:a);}return n;}function Le(e,t){var n,i,s=e.__data__;return("string"==(i=_typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?s["string"==typeof t?"string":"hash"]:s.map;}function xe(e,t){var n=function(e,t){return null==e?void 0:e[t];}(e,t);return function(e){return!(!Ke(e)||(t=e,Y&&Y in t))&&(qe(e)||V(e)?ne:D).test(Be(e));var t;}(n)?n:void 0;}Ae.prototype.clear=function(){this.__data__=ve?ve(null):{};},Ae.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e];},Ae.prototype.get=function(e){var t=this.__data__;if(ve){var n=t[e];return n===i?void 0:n;}return ee.call(t,e)?t[e]:void 0;},Ae.prototype.has=function(e){var t=this.__data__;return ve?void 0!==t[e]:ee.call(t,e);},Ae.prototype.set=function(e,t){return this.__data__[e]=ve&&void 0===t?i:t,this;},we.prototype.clear=function(){this.__data__=[];},we.prototype.delete=function(e){var t=this.__data__,n=De(t,e);return!(n<0||(n==t.length-1?t.pop():de.call(t,n,1),0));},we.prototype.get=function(e){var t=this.__data__,n=De(t,e);return n<0?void 0:t[n][1];},we.prototype.has=function(e){return De(this.__data__,e)>-1;},we.prototype.set=function(e,t){var n=this.__data__,i=De(n,e);return i<0?n.push([e,t]):n[i][1]=t,this;},Ie.prototype.clear=function(){this.__data__={hash:new Ae(),map:new(me||we)(),string:new Ae()};},Ie.prototype.delete=function(e){return Le(this,e).delete(e);},Ie.prototype.get=function(e){return Le(this,e).get(e);},Ie.prototype.has=function(e){return Le(this,e).has(e);},Ie.prototype.set=function(e,t){return Le(this,e).set(e,t),this;},Pe.prototype.clear=function(){this.__data__=new we();},Pe.prototype.delete=function(e){return this.__data__.delete(e);},Pe.prototype.get=function(e){return this.__data__.get(e);},Pe.prototype.has=function(e){return this.__data__.has(e);},Pe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof we){var i=n.__data__;if(!me||i.length<199)return i.push([e,t]),this;n=this.__data__=new Ie(i);}return n.set(e,t),this;};var Fe=le?G(le,Object):function(){return[];},je=function je(e){return te.call(e);};function $e(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||N.test(e))&&e>-1&&e%1==0&&e<t;}function Ue(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Q);}function Be(e){if(null!=e){try{return Z.call(e);}catch(e){}try{return e+"";}catch(e){}}return"";}function Je(e,t){return e===t||e!=e&&t!=t;}(pe&&je(new pe(new ArrayBuffer(1)))!=y||me&&je(new me())!=l||fe&&je(fe.resolve())!=p||ge&&je(new ge())!=f||_e&&je(new _e())!=v)&&(je=function je(e){var t=te.call(e),n=t==u?e.constructor:void 0,i=n?Be(n):void 0;if(i)switch(i){case Se:return y;case ye:return l;case Ee:return p;case Ce:return f;case be:return v;}return t;});var Ve=Array.isArray;function He(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s;}(e.length)&&!qe(e);}var Ge=he||function(){return!1;};function qe(e){var t=Ke(e)?te.call(e):"";return t==c||t==d;}function Ke(e){var t=_typeof(e);return!!e&&("object"==t||"function"==t);}function ze(e){return He(e)?function(e,t){var n=Ve(e)||function(e){return function(e){return function(e){return!!e&&"object"==_typeof(e);}(e)&&He(e);}(e)&&ee.call(e,"callee")&&(!ce.call(e,"callee")||te.call(e)==r);}(e)?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i;}(e.length,String):[],i=n.length,s=!!i;for(var o in e)!t&&!ee.call(e,o)||s&&("length"==o||$e(o,i))||n.push(o);return n;}(e):function(e){if(!Ue(e))return ue(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t;}(e);}e.exports=function(e){return Ne(e,!0,!0);};},1296:function _(e,t,n){var i=/^\\s+|\\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,c="object"==_typeof(n.g)&&n.g&&n.g.Object===Object&&n.g,d="object"==(typeof self==="undefined"?"undefined":_typeof(self))&&self&&self.Object===Object&&self,l=c||d||Function("return this")(),h=Object.prototype.toString,u=Math.max,p=Math.min,m=function m(){return l.Date.now();};function f(e){var t=_typeof(e);return!!e&&("object"==t||"function"==t);}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==_typeof(e)||function(e){return!!e&&"object"==_typeof(e);}(e)&&"[object Symbol]"==h.call(e);}(e))return NaN;if(f(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=f(t)?t+"":t;}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=r.test(e);return n||o.test(e)?a(e.slice(2),n?2:8):s.test(e)?NaN:+e;}e.exports=function(e,t,n){var i,s,r,o,a,c,d=0,l=!1,h=!1,_=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=i,r=s;return i=s=void 0,d=t,o=e.apply(r,n);}function S(e){return d=e,a=setTimeout(E,t),l?v(e):o;}function y(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-d>=r;}function E(){var e=m();if(y(e))return C(e);a=setTimeout(E,function(e){var n=t-(e-c);return h?p(n,r-(e-d)):n;}(e));}function C(e){return a=void 0,_&&i?v(e):(i=s=void 0,o);}function b(){var e=m(),n=y(e);if(i=arguments,s=this,c=e,n){if(void 0===a)return S(c);if(h)return a=setTimeout(E,t),v(c);}return void 0===a&&(a=setTimeout(E,t)),o;}return t=g(t)||0,f(n)&&(l=!!n.leading,r=(h="maxWait"in n)?u(g(n.maxWait)||0,t):r,_="trailing"in n?!!n.trailing:_),b.cancel=function(){void 0!==a&&clearTimeout(a),d=0,i=c=s=a=void 0;},b.flush=function(){return void 0===a?o:C(m());},b;};},2307:function _(e,t,n){e=n.nmd(e);var i="__lodash_hash_undefined__",s=9007199254740991,r="[object Arguments]",o="[object Array]",a="[object Boolean]",c="[object Date]",d="[object Error]",l="[object Function]",h="[object Map]",u="[object Number]",p="[object Object]",m="[object Promise]",f="[object RegExp]",g="[object Set]",_="[object String]",v="[object WeakMap]",S="[object ArrayBuffer]",y="[object DataView]",E=/^\\[object .+?Constructor\\]$/,C=/^(?:0|[1-9]\\d*)$/,b={};b["[object Float32Array]"]=b["[object Float64Array]"]=b["[object Int8Array]"]=b["[object Int16Array]"]=b["[object Int32Array]"]=b["[object Uint8Array]"]=b["[object Uint8ClampedArray]"]=b["[object Uint16Array]"]=b["[object Uint32Array]"]=!0,b[r]=b[o]=b[S]=b[a]=b[y]=b[c]=b[d]=b[l]=b[h]=b[u]=b[p]=b[f]=b[g]=b[_]=b[v]=!1;var T="object"==_typeof(n.g)&&n.g&&n.g.Object===Object&&n.g,R="object"==(typeof self==="undefined"?"undefined":_typeof(self))&&self&&self.Object===Object&&self,A=T||R||Function("return this")(),w=t&&!t.nodeType&&t,I=w&&e&&!e.nodeType&&e,P=I&&I.exports===w,M=P&&T.process,D=function(){try{return M&&M.binding&&M.binding("util");}catch(e){}}(),N=D&&D.isTypedArray;function k(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1;}function O(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e];}),n;}function L(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e;}),n;}var x,F,j,$=Array.prototype,U=Function.prototype,B=Object.prototype,J=A["__core-js_shared__"],V=U.toString,H=B.hasOwnProperty,G=(x=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+x:"",q=B.toString,K=RegExp("^"+V.call(H).replace(/[\\\\^$.*+?()[\\]{}|]/g,"\\\\$&").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$"),z=P?A.Buffer:void 0,W=A.Symbol,Q=A.Uint8Array,X=B.propertyIsEnumerable,Y=$.splice,Z=W?W.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=z?z.isBuffer:void 0,ne=(F=Object.keys,j=Object,function(e){return F(j(e));}),ie=Ie(A,"DataView"),se=Ie(A,"Map"),re=Ie(A,"Promise"),oe=Ie(A,"Set"),ae=Ie(A,"WeakMap"),ce=Ie(Object,"create"),de=Ne(ie),le=Ne(se),he=Ne(re),ue=Ne(oe),pe=Ne(ae),me=W?W.prototype:void 0,fe=me?me.valueOf:void 0;function ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1]);}}function _e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1]);}}function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1]);}}function Se(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ve();++t<n;)this.add(e[t]);}function ye(e){var t=this.__data__=new _e(e);this.size=t.size;}function Ee(e,t){for(var n=e.length;n--;)if(ke(e[n][0],t))return n;return-1;}function Ce(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Z&&Z in Object(e)?function(e){var t=H.call(e,Z),n=e[Z];try{e[Z]=void 0;var i=!0;}catch(e){}var s=q.call(e);return i&&(t?e[Z]=n:delete e[Z]),s;}(e):function(e){return q.call(e);}(e);}function be(e){return Ue(e)&&Ce(e)==r;}function Te(e,t,n,i,s){return e===t||(null==e||null==t||!Ue(e)&&!Ue(t)?e!=e&&t!=t:function(e,t,n,i,s,l){var m=Le(e),v=Le(t),E=m?o:Me(e),C=v?o:Me(t),b=(E=E==r?p:E)==p,T=(C=C==r?p:C)==p,R=E==C;if(R&&xe(e)){if(!xe(t))return!1;m=!0,b=!1;}if(R&&!b)return l||(l=new ye()),m||Be(e)?Re(e,t,n,i,s,l):function(e,t,n,i,s,r,o){switch(n){case y:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S:return!(e.byteLength!=t.byteLength||!r(new Q(e),new Q(t)));case a:case c:case u:return ke(+e,+t);case d:return e.name==t.name&&e.message==t.message;case f:case _:return e==t+"";case h:var l=O;case g:var p=1&i;if(l||(l=L),e.size!=t.size&&!p)return!1;var m=o.get(e);if(m)return m==t;i|=2,o.set(e,t);var v=Re(l(e),l(t),i,s,r,o);return o.delete(e),v;case"[object Symbol]":if(fe)return fe.call(e)==fe.call(t);}return!1;}(e,t,E,n,i,s,l);if(!(1&n)){var A=b&&H.call(e,"__wrapped__"),w=T&&H.call(t,"__wrapped__");if(A||w){var I=A?e.value():e,P=w?t.value():t;return l||(l=new ye()),s(I,P,n,i,l);}}return!!R&&(l||(l=new ye()),function(e,t,n,i,s,r){var o=1&n,a=Ae(e),c=a.length;if(c!=Ae(t).length&&!o)return!1;for(var d=c;d--;){var l=a[d];if(!(o?l in t:H.call(t,l)))return!1;}var h=r.get(e);if(h&&r.get(t))return h==t;var u=!0;r.set(e,t),r.set(t,e);for(var p=o;++d<c;){var m=e[l=a[d]],f=t[l];if(i)var g=o?i(f,m,l,t,e,r):i(m,f,l,e,t,r);if(!(void 0===g?m===f||s(m,f,n,i,r):g)){u=!1;break;}p||(p="constructor"==l);}if(u&&!p){var _=e.constructor,v=t.constructor;_==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof v&&v instanceof v||(u=!1);}return r.delete(e),r.delete(t),u;}(e,t,n,i,s,l));}(e,t,n,i,Te,s));}function Re(e,t,n,i,s,r){var o=1&n,a=e.length,c=t.length;if(a!=c&&!(o&&c>a))return!1;var d=r.get(e);if(d&&r.get(t))return d==t;var l=-1,h=!0,u=2&n?new Se():void 0;for(r.set(e,t),r.set(t,e);++l<a;){var p=e[l],m=t[l];if(i)var f=o?i(m,p,l,t,e,r):i(p,m,l,e,t,r);if(void 0!==f){if(f)continue;h=!1;break;}if(u){if(!k(t,function(e,t){if(o=t,!u.has(o)&&(p===e||s(p,e,n,i,r)))return u.push(t);var o;})){h=!1;break;}}else if(p!==m&&!s(p,m,n,i,r)){h=!1;break;}}return r.delete(e),r.delete(t),h;}function Ae(e){return function(e,t,n){var i=t(e);return Le(e)?i:function(e,t){for(var n=-1,i=t.length,s=e.length;++n<i;)e[s+n]=t[n];return e;}(i,n(e));}(e,Je,Pe);}function we(e,t){var n,i,s=e.__data__;return("string"==(i=_typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?s["string"==typeof t?"string":"hash"]:s.map;}function Ie(e,t){var n=function(e,t){return null==e?void 0:e[t];}(e,t);return function(e){return!(!$e(e)||function(e){return!!G&&G in e;}(e))&&(Fe(e)?K:E).test(Ne(e));}(n)?n:void 0;}ge.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0;},ge.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t;},ge.prototype.get=function(e){var t=this.__data__;if(ce){var n=t[e];return n===i?void 0:n;}return H.call(t,e)?t[e]:void 0;},ge.prototype.has=function(e){var t=this.__data__;return ce?void 0!==t[e]:H.call(t,e);},ge.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ce&&void 0===t?i:t,this;},_e.prototype.clear=function(){this.__data__=[],this.size=0;},_e.prototype.delete=function(e){var t=this.__data__,n=Ee(t,e);return!(n<0||(n==t.length-1?t.pop():Y.call(t,n,1),--this.size,0));},_e.prototype.get=function(e){var t=this.__data__,n=Ee(t,e);return n<0?void 0:t[n][1];},_e.prototype.has=function(e){return Ee(this.__data__,e)>-1;},_e.prototype.set=function(e,t){var n=this.__data__,i=Ee(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this;},ve.prototype.clear=function(){this.size=0,this.__data__={hash:new ge(),map:new(se||_e)(),string:new ge()};},ve.prototype.delete=function(e){var t=we(this,e).delete(e);return this.size-=t?1:0,t;},ve.prototype.get=function(e){return we(this,e).get(e);},ve.prototype.has=function(e){return we(this,e).has(e);},ve.prototype.set=function(e,t){var n=we(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this;},Se.prototype.add=Se.prototype.push=function(e){return this.__data__.set(e,i),this;},Se.prototype.has=function(e){return this.__data__.has(e);},ye.prototype.clear=function(){this.__data__=new _e(),this.size=0;},ye.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n;},ye.prototype.get=function(e){return this.__data__.get(e);},ye.prototype.has=function(e){return this.__data__.has(e);},ye.prototype.set=function(e,t){var n=this.__data__;if(n instanceof _e){var i=n.__data__;if(!se||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new ve(i);}return n.set(e,t),this.size=n.size,this;};var Pe=ee?function(e){return null==e?[]:(e=Object(e),function(t,n){for(var i=-1,s=null==t?0:t.length,r=0,o=[];++i<s;){var a=t[i];c=a,X.call(e,c)&&(o[r++]=a);}var c;return o;}(ee(e)));}:function(){return[];},Me=Ce;function De(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||C.test(e))&&e>-1&&e%1==0&&e<t;}function Ne(e){if(null!=e){try{return V.call(e);}catch(e){}try{return e+"";}catch(e){}}return"";}function ke(e,t){return e===t||e!=e&&t!=t;}(ie&&Me(new ie(new ArrayBuffer(1)))!=y||se&&Me(new se())!=h||re&&Me(re.resolve())!=m||oe&&Me(new oe())!=g||ae&&Me(new ae())!=v)&&(Me=function Me(e){var t=Ce(e),n=t==p?e.constructor:void 0,i=n?Ne(n):"";if(i)switch(i){case de:return y;case le:return h;case he:return m;case ue:return g;case pe:return v;}return t;});var Oe=be(function(){return arguments;}())?be:function(e){return Ue(e)&&H.call(e,"callee")&&!X.call(e,"callee");},Le=Array.isArray,xe=te||function(){return!1;};function Fe(e){if(!$e(e))return!1;var t=Ce(e);return t==l||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t;}function je(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s;}function $e(e){var t=_typeof(e);return null!=e&&("object"==t||"function"==t);}function Ue(e){return null!=e&&"object"==_typeof(e);}var Be=N?function(e){return function(t){return e(t);};}(N):function(e){return Ue(e)&&je(e.length)&&!!b[Ce(e)];};function Je(e){return null!=(t=e)&&je(t.length)&&!Fe(t)?function(e,t){var n=Le(e),i=!n&&Oe(e),s=!n&&!i&&xe(e),r=!n&&!i&&!s&&Be(e),o=n||i||s||r,a=o?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i;}(e.length,String):[],c=a.length;for(var d in e)!t&&!H.call(e,d)||o&&("length"==d||s&&("offset"==d||"parent"==d)||r&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||De(d,c))||a.push(d);return a;}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||B))return ne(e);var t,n,i=[];for(var s in Object(e))H.call(e,s)&&"constructor"!=s&&i.push(s);return i;}(e);var t;}e.exports=function(e,t){return Te(e,t);};},6692:function _(e){var t=e.exports={v:[{name:"version",reg:/^(\\d*)$/}],o:[{name:"origin",reg:/^(\\S*) (\\d*) (\\d*) (\\S*) IP(\\d) (\\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\\d*) (\\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\\d) (\\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\\w*) (\\d*) ([\\w\\/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\\d*) ([\\w\\-\\.]*)(?:\\s*\\/(\\d*)(?:\\s*\\/(\\S*))?)?/,names:["payload","codec","rate","encoding"],format:function format(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s";}},{push:"fmtp",reg:/^fmtp:(\\d*) ([\\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\\d*)(?: (\\S*) IP(\\d) (\\S*))?/,names:["port","netType","ipVer","address"],format:function format(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d";}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\\*|\\d*) trr-int (\\d*)/,names:["payload","value"],format:"rtcp-fb:%d trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\\*|\\d*) ([\\w-_]*)(?: ([\\w-_]*))?/,names:["payload","type","subtype"],format:function format(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s";}},{push:"ext",reg:/^extmap:(\\d+)(?:\\/(\\w+))? (\\S*)(?: (\\S*))?/,names:["value","direction","uri","config"],format:function format(e){return"extmap:%d"+(e.direction?"/%s":"%v")+" %s"+(e.config?" %s":"");}},{push:"crypto",reg:/^crypto:(\\d*) ([\\w_]*) (\\S*)(?: (\\S*))?/,names:["id","suite","config","sessionConfig"],format:function format(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s";}},{name:"setup",reg:/^setup:(\\w*)/,format:"setup:%s"},{name:"mid",reg:/^mid:([^\\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\\d*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\\d*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\\S*) (\\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\\S*) (\\d*) (\\S*) (\\d*) (\\S*) (\\d*) typ (\\S*)(?: raddr (\\S*) rport (\\d*))?(?: tcptype (\\S*))?(?: generation (\\d*))?(?: network-id (\\d*))?(?: network-cost (\\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function format(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),(t+=null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v");}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\\d*) ([\\w_]*)(?::(.*))?/,names:["id","attribute","value"],format:function format(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t;}},{push:"ssrcGroups",reg:/^ssrc-group:([\\x21\\x23\\x24\\x25\\x26\\x27\\x2A\\x2B\\x2D\\x2E\\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\\s?(\\w*) (\\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\\w_\\/]*) (\\S*)(?: (\\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function format(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s";}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\\d\\w]+) (\\w+)(?: ([\\S| ]*))?/,names:["id","direction","params"],format:function format(e){return e.params?"rid:%s %s %s":"rid:%s %s";}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\\\d+|\\\\*)[\\\\s\\\\t]+(send|recv)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*)(?:[\\\\s\\\\t]+(recv|send)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function format(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"");}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\\\-_~;,]+)(?:\\\\s?(send|recv) ([a-zA-Z0-9\\\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function format(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"");}},{name:"simulcast_03",reg:/^simulcast:[\\s\\t]+([\\S+\\s\\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\\d+(?:$|\\.\\d+))/,format:"framerate:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach(function(e){t[e].forEach(function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s");});});},766:function _(e,t,n){var i=n(962),s=n(5776);t.write=s,t.parse=i.parse,t.parseFmtpConfig=i.parseFmtpConfig,t.parseParams=i.parseParams,t.parsePayloads=i.parsePayloads,t.parseRemoteCandidates=i.parseRemoteCandidates,t.parseImageAttributes=i.parseImageAttributes,t.parseSimulcastStreamList=i.parseSimulcastStreamList;},962:function _(e,t,n){var i=function i(e){return String(Number(e))===e?Number(e):e;},s=function s(e,t,n){var s=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:s&&!t[e.name]&&(t[e.name]={});var r=e.push?{}:s?t[e.name]:t;!function(e,t,n,s){if(s&&!n)t[s]=i(e[1]);else for(var r=0;r<n.length;r+=1)null!=e[r+1]&&(t[n[r]]=i(e[r+1]));}(n.match(e.reg),r,e.names,e.name),e.push&&t[e.push].push(r);},r=n(6692),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},n=[],i=t;return e.split(/(\\r\\n|\\r|\\n)/).filter(o).forEach(function(e){var t=e[0],o=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),i=n[n.length-1]);for(var a=0;a<(r[t]||[]).length;a+=1){var c=r[t][a];if(c.reg.test(o))return s(c,i,o);}}),t.media=n,t;};var a=function a(e,t){var n=t.split(/=(.+)/,2);return 2===n.length&&(e[n[0]]=i(n[1])),e;};t.parseParams=function(e){return e.split(/\\;\\s?/).reduce(a,{});},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.split(" ").map(Number);},t.parseRemoteCandidates=function(e){for(var t=[],n=e.split(" ").map(i),s=0;s<n.length;s+=3)t.push({component:n[s],ip:n[s+1],port:n[s+2]});return t;},t.parseImageAttributes=function(e){return e.split(" ").map(function(e){return e.substring(1,e.length-1).split(",").reduce(a,{});});},t.parseSimulcastStreamList=function(e){return e.split(";").map(function(e){return e.split(",").map(function(e){var t,n=!1;return"~"!==e[0]?t=i(e):(t=i(e.substring(1,e.length)),n=!0),{scid:t,paused:n};});});};},5776:function _(e,t,n){var i=n(6692),s=/%[sdv%]/g,r=function r(e){var t=1,n=arguments,i=n.length;return e.replace(s,function(e){if(t>=i)return e;var s=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(s);case"%d":return Number(s);case"%v":return"";}});},o=function o(e,t,n){var i=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var s=0;s<t.names.length;s+=1){var o=t.names[s];t.name?i.push(n[t.name][o]):i.push(n[t.names[s]]);}else i.push(n[t.name]);return r.apply(null,i);},a=["v","o","s","i","u","e","p","c","b","t","r","z","a"],c=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach(function(e){null==e.payloads&&(e.payloads="");});var n=t.outerOrder||a,s=t.innerOrder||c,r=[];return n.forEach(function(t){i[t].forEach(function(n){n.name in e&&null!=e[n.name]?r.push(o(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach(function(e){r.push(o(t,n,e));});});}),e.media.forEach(function(e){r.push(o("m",i.m[0],e)),s.forEach(function(t){i[t].forEach(function(n){n.name in e&&null!=e[n.name]?r.push(o(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach(function(e){r.push(o(t,n,e));});});});}),r.join("\\r\\n")+"\\r\\n";};},7539:function _(e){"use strict";var t={generateIdentifier:function generateIdentifier(){return Math.random().toString(36).substr(2,10);}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\\n").map(function(e){return e.trim();});},t.splitSections=function(e){return e.split("\\nm=").map(function(e,t){return(t>0?"m="+e:e).trim()+"\\r\\n";});},t.getDescription=function(e){var n=t.splitSections(e);return n&&n[0];},t.getMediaSections=function(e){var n=t.splitSections(e);return n.shift(),n;},t.matchPrefix=function(e,n){return t.splitLines(e).filter(function(e){return 0===e.indexOf(n);});},t.parseCandidate=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");var n={foundation:t[0],component:{1:"rtp",2:"rtcp"}[t[1]],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(var _e3=8;_e3<t.length;_e3+=2)switch(t[_e3]){case"raddr":n.relatedAddress=t[_e3+1];break;case"rport":n.relatedPort=parseInt(t[_e3+1],10);break;case"tcptype":n.tcpType=t[_e3+1];break;case"ufrag":n.ufrag=t[_e3+1],n.usernameFragment=t[_e3+1];break;default:void 0===n[t[_e3]]&&(n[t[_e3]]=t[_e3+1]);}return n;},t.writeCandidate=function(e){var t=[];t.push(e.foundation);var n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var i=e.type;return t.push("typ"),t.push(i),"host"!==i&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ");},t.parseIceOptions=function(e){return e.substr(14).split(" ");},t.parseRtpMap=function(e){var t=e.substr(9).split(" ");var n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n;},t.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\\r\\n";},t.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]};},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\\r\\n";},t.parseFmtp=function(e){var t={};var n;var i=e.substr(e.indexOf(" ")+1).split(";");for(var _e4=0;_e4<i.length;_e4++)n=i[_e4].trim().split("="),t[n[0].trim()]=n[1];return t;},t.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var i=[];Object.keys(e.parameters).forEach(function(t){e.parameters[t]?i.push(t+"="+e.parameters[t]):i.push(t);}),t+="a=fmtp:"+n+" "+i.join(";")+"\\r\\n";}return t;},t.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")};},t.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\\r\\n";}),t;},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},i=e.indexOf(":",t);return i>-1?(n.attribute=e.substr(t+1,i-t-1),n.value=e.substr(i+1)):n.attribute=e.substr(t+1),n;},t.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(function(e){return parseInt(e,10);})};},t.getMid=function(e){var n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substr(6);},t.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]};},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)};},t.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\\r\\n";return e.fingerprints.forEach(function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\\r\\n";}),n;},t.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)};},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==_typeof(e.keyParams)?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\\r\\n";},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0};},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"");},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine);},t.getIceParameters=function(e,n){var i=t.matchPrefix(e+n,"a=ice-ufrag:")[0],s=t.matchPrefix(e+n,"a=ice-pwd:")[0];return i&&s?{usernameFragment:i.substr(12),password:s.substr(10)}:null;},t.writeIceParameters=function(e){var t="a=ice-ufrag:"+e.usernameFragment+"\\r\\na=ice-pwd:"+e.password+"\\r\\n";return e.iceLite&&(t+="a=ice-lite\\r\\n"),t;},t.parseRtpParameters=function(e){var n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=t.splitLines(e)[0].split(" ");for(var s=3;s<i.length;s++){var r=i[s],o=t.matchPrefix(e,"a=rtpmap:"+r+" ")[0];if(o){var _i4=t.parseRtpMap(o),_s3=t.matchPrefix(e,"a=fmtp:"+r+" ");switch(_i4.parameters=_s3.length?t.parseFmtp(_s3[0]):{},_i4.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+r+" ").map(t.parseRtcpFb),n.codecs.push(_i4),_i4.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(_i4.name.toUpperCase());}}}return t.matchPrefix(e,"a=extmap:").forEach(function(e){n.headerExtensions.push(t.parseExtmap(e));}),n;},t.writeRtpDescription=function(e,n){var i="";i+="m="+e+" ",i+=n.codecs.length>0?"9":"0",i+=" UDP/TLS/RTP/SAVPF ",i+=n.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType;}).join(" ")+"\\r\\n",i+="c=IN IP4 0.0.0.0\\r\\n",i+="a=rtcp:9 IN IP4 0.0.0.0\\r\\n",n.codecs.forEach(function(e){i+=t.writeRtpMap(e),i+=t.writeFmtp(e),i+=t.writeRtcpFb(e);});var s=0;return n.codecs.forEach(function(e){e.maxptime>s&&(s=e.maxptime);}),s>0&&(i+="a=maxptime:"+s+"\\r\\n"),n.headerExtensions&&n.headerExtensions.forEach(function(e){i+=t.writeExtmap(e);}),i;},t.parseRtpEncodingParameters=function(e){var n=[],i=t.parseRtpParameters(e),s=-1!==i.fecMechanisms.indexOf("RED"),r=-1!==i.fecMechanisms.indexOf("ULPFEC"),o=t.matchPrefix(e,"a=ssrc:").map(function(e){return t.parseSsrcMedia(e);}).filter(function(e){return"cname"===e.attribute;}),a=o.length>0&&o[0].ssrc;var c;var d=t.matchPrefix(e,"a=ssrc-group:FID").map(function(e){return e.substr(17).split(" ").map(function(e){return parseInt(e,10);});});d.length>0&&d[0].length>1&&d[0][0]===a&&(c=d[0][1]),i.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var _t4={ssrc:a,codecPayloadType:parseInt(e.parameters.apt,10)};a&&c&&(_t4.rtx={ssrc:c}),n.push(_t4),s&&(_t4=JSON.parse(JSON.stringify(_t4)),_t4.fec={ssrc:a,mechanism:r?"red+ulpfec":"red"},n.push(_t4));}}),0===n.length&&a&&n.push({ssrc:a});var l=t.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,n.forEach(function(e){e.maxBitrate=l;})),n;},t.parseRtcpParameters=function(e){var n={},i=t.matchPrefix(e,"a=ssrc:").map(function(e){return t.parseSsrcMedia(e);}).filter(function(e){return"cname"===e.attribute;})[0];i&&(n.cname=i.value,n.ssrc=i.ssrc);var s=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=s.length>0,n.compound=0===s.length;var r=t.matchPrefix(e,"a=rtcp-mux");return n.mux=r.length>0,n;},t.writeRtcpParameters=function(e){var t="";return e.reducedSize&&(t+="a=rtcp-rsize\\r\\n"),e.mux&&(t+="a=rtcp-mux\\r\\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\\r\\n"),t;},t.parseMsid=function(e){var n;var i=t.matchPrefix(e,"a=msid:");if(1===i.length)return n=i[0].substr(7).split(" "),{stream:n[0],track:n[1]};var s=t.matchPrefix(e,"a=ssrc:").map(function(e){return t.parseSsrcMedia(e);}).filter(function(e){return"msid"===e.attribute;});return s.length>0?(n=s[0].value.split(" "),{stream:n[0],track:n[1]}):void 0;},t.parseSctpDescription=function(e){var n=t.parseMLine(e),i=t.matchPrefix(e,"a=max-message-size:");var s;i.length>0&&(s=parseInt(i[0].substr(19),10)),isNaN(s)&&(s=65536);var r=t.matchPrefix(e,"a=sctp-port:");if(r.length>0)return{port:parseInt(r[0].substr(12),10),protocol:n.fmt,maxMessageSize:s};var o=t.matchPrefix(e,"a=sctpmap:");if(o.length>0){var _e5=o[0].substr(10).split(" ");return{port:parseInt(_e5[0],10),protocol:_e5[1],maxMessageSize:s};}},t.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\\r\\n","c=IN IP4 0.0.0.0\\r\\n","a=sctp-port:"+t.port+"\\r\\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\\r\\n","c=IN IP4 0.0.0.0\\r\\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\\r\\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\\r\\n"),n.join("");},t.generateSessionId=function(){return Math.random().toString().substr(2,21);},t.writeSessionBoilerplate=function(e,n,i){var s;var r=void 0!==n?n:2;return s=e||t.generateSessionId(),"v=0\\r\\no="+(i||"thisisadapterortc")+" "+s+" "+r+" IN IP4 127.0.0.1\\r\\ns=-\\r\\nt=0 0\\r\\n";},t.getDirection=function(e,n){var i=t.splitLines(e);for(var _e6=0;_e6<i.length;_e6++)switch(i[_e6]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[_e6].substr(2);}return n?t.getDirection(n):"sendrecv";},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2);},t.isRejected=function(e){return"0"===e.split(" ",2)[1];},t.parseMLine=function(e){var n=t.splitLines(e)[0].substr(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")};},t.parseOLine=function(e){var n=t.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]};},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;var n=t.splitLines(e);for(var _e7=0;_e7<n.length;_e7++)if(n[_e7].length<2||"="!==n[_e7].charAt(1))return!1;return!0;},e.exports=t;},6295:function _(e,t,n){"use strict";n.d(t,{default:function _default(){return Pd;}});var i={};n.r(i),n.d(i,{AUTHENTICATION_REQUIRED:function AUTHENTICATION_REQUIRED(){return v;},CHAT_ERROR:function CHAT_ERROR(){return S;},CONFERENCE_ACCESS_DENIED:function CONFERENCE_ACCESS_DENIED(){return w;},CONFERENCE_DESTROYED:function CONFERENCE_DESTROYED(){return E;},CONFERENCE_MAX_USERS:function CONFERENCE_MAX_USERS(){return C;},CONFERENCE_RESTARTED:function CONFERENCE_RESTARTED(){return T;},CONNECTION_ERROR:function CONNECTION_ERROR(){return b;},FOCUS_DISCONNECTED:function FOCUS_DISCONNECTED(){return I;},FOCUS_LEFT:function FOCUS_LEFT(){return P;},GRACEFUL_SHUTDOWN:function GRACEFUL_SHUTDOWN(){return M;},ICE_FAILED:function ICE_FAILED(){return D;},INCOMPATIBLE_SERVER_VERSIONS:function INCOMPATIBLE_SERVER_VERSIONS(){return N;},MEMBERS_ONLY_ERROR:function MEMBERS_ONLY_ERROR(){return A;},NOT_ALLOWED_ERROR:function NOT_ALLOWED_ERROR(){return R;},OFFER_ANSWER_FAILED:function OFFER_ANSWER_FAILED(){return k;},PASSWORD_NOT_SUPPORTED:function PASSWORD_NOT_SUPPORTED(){return O;},PASSWORD_REQUIRED:function PASSWORD_REQUIRED(){return L;},RESERVATION_ERROR:function RESERVATION_ERROR(){return x;},SETTINGS_ERROR:function SETTINGS_ERROR(){return y;},VIDEOBRIDGE_NOT_AVAILABLE:function VIDEOBRIDGE_NOT_AVAILABLE(){return F;}});var s={};n.r(s),n.d(s,{AUDIO_INPUT_STATE_CHANGE:function AUDIO_INPUT_STATE_CHANGE(){return j;},AUDIO_UNMUTE_PERMISSIONS_CHANGED:function AUDIO_UNMUTE_PERMISSIONS_CHANGED(){return $;},AUTH_STATUS_CHANGED:function AUTH_STATUS_CHANGED(){return U;},AV_MODERATION_APPROVED:function AV_MODERATION_APPROVED(){return Ke;},AV_MODERATION_CHANGED:function AV_MODERATION_CHANGED(){return We;},AV_MODERATION_PARTICIPANT_APPROVED:function AV_MODERATION_PARTICIPANT_APPROVED(){return Qe;},AV_MODERATION_PARTICIPANT_REJECTED:function AV_MODERATION_PARTICIPANT_REJECTED(){return Xe;},AV_MODERATION_REJECTED:function AV_MODERATION_REJECTED(){return ze;},BEFORE_STATISTICS_DISPOSED:function BEFORE_STATISTICS_DISPOSED(){return B;},BOT_TYPE_CHANGED:function BOT_TYPE_CHANGED(){return Ve;},BREAKOUT_ROOMS_MOVE_TO_ROOM:function BREAKOUT_ROOMS_MOVE_TO_ROOM(){return Ze;},BREAKOUT_ROOMS_UPDATED:function BREAKOUT_ROOMS_UPDATED(){return et;},CONFERENCE_CREATED_TIMESTAMP:function CONFERENCE_CREATED_TIMESTAMP(){return ee;},CONFERENCE_ERROR:function CONFERENCE_ERROR(){return J;},CONFERENCE_FAILED:function CONFERENCE_FAILED(){return V;},CONFERENCE_JOINED:function CONFERENCE_JOINED(){return G;},CONFERENCE_JOIN_IN_PROGRESS:function CONFERENCE_JOIN_IN_PROGRESS(){return H;},CONFERENCE_LEFT:function CONFERENCE_LEFT(){return q;},CONFERENCE_UNIQUE_ID_SET:function CONFERENCE_UNIQUE_ID_SET(){return K;},CONNECTION_ESTABLISHED:function CONNECTION_ESTABLISHED(){return z;},CONNECTION_INTERRUPTED:function CONNECTION_INTERRUPTED(){return W;},CONNECTION_RESTORED:function CONNECTION_RESTORED(){return Q;},DATA_CHANNEL_OPENED:function DATA_CHANNEL_OPENED(){return X;},DISPLAY_NAME_CHANGED:function DISPLAY_NAME_CHANGED(){return Y;},DOMINANT_SPEAKER_CHANGED:function DOMINANT_SPEAKER_CHANGED(){return Z;},DTMF_SUPPORT_CHANGED:function DTMF_SUPPORT_CHANGED(){return te;},ENDPOINT_MESSAGE_RECEIVED:function ENDPOINT_MESSAGE_RECEIVED(){return ne;},ENDPOINT_STATS_RECEIVED:function ENDPOINT_STATS_RECEIVED(){return ie;},FACIAL_EXPRESSION_ADDED:function FACIAL_EXPRESSION_ADDED(){return Ye;},JVB121_STATUS:function JVB121_STATUS(){return se;},KICKED:function KICKED(){return re;},LAST_N_ENDPOINTS_CHANGED:function LAST_N_ENDPOINTS_CHANGED(){return ae;},LOBBY_USER_JOINED:function LOBBY_USER_JOINED(){return He;},LOBBY_USER_LEFT:function LOBBY_USER_LEFT(){return qe;},LOBBY_USER_UPDATED:function LOBBY_USER_UPDATED(){return Ge;},LOCK_STATE_CHANGED:function LOCK_STATE_CHANGED(){return ce;},MEMBERS_ONLY_CHANGED:function MEMBERS_ONLY_CHANGED(){return ue;},MESSAGE_RECEIVED:function MESSAGE_RECEIVED(){return pe;},NOISY_MIC:function NOISY_MIC(){return fe;},NON_PARTICIPANT_MESSAGE_RECEIVED:function NON_PARTICIPANT_MESSAGE_RECEIVED(){return ge;},NO_AUDIO_INPUT:function NO_AUDIO_INPUT(){return me;},P2P_STATUS:function P2P_STATUS(){return Ee;},PARTCIPANT_FEATURES_CHANGED:function PARTCIPANT_FEATURES_CHANGED(){return Se;},PARTICIPANT_CONN_STATUS_CHANGED:function PARTICIPANT_CONN_STATUS_CHANGED(){return ve;},PARTICIPANT_KICKED:function PARTICIPANT_KICKED(){return oe;},PARTICIPANT_PROPERTY_CHANGED:function PARTICIPANT_PROPERTY_CHANGED(){return ye;},PHONE_NUMBER_CHANGED:function PHONE_NUMBER_CHANGED(){return Ce;},PRIVATE_MESSAGE_RECEIVED:function PRIVATE_MESSAGE_RECEIVED(){return _e;},PROPERTIES_CHANGED:function PROPERTIES_CHANGED(){return be;},RECORDER_STATE_CHANGED:function RECORDER_STATE_CHANGED(){return Te;},SERVER_REGION_CHANGED:function SERVER_REGION_CHANGED(){return de;},STARTED_MUTED:function STARTED_MUTED(){return Ie;},START_MUTED_POLICY_CHANGED:function START_MUTED_POLICY_CHANGED(){return we;},SUBJECT_CHANGED:function SUBJECT_CHANGED(){return Pe;},SUSPEND_DETECTED:function SUSPEND_DETECTED(){return Me;},TALK_WHILE_MUTED:function TALK_WHILE_MUTED(){return De;},TRACK_ADDED:function TRACK_ADDED(){return Ne;},TRACK_AUDIO_LEVEL_CHANGED:function TRACK_AUDIO_LEVEL_CHANGED(){return ke;},TRACK_MUTE_CHANGED:function TRACK_MUTE_CHANGED(){return Oe;},TRACK_REMOVED:function TRACK_REMOVED(){return Le;},TRACK_UNMUTE_REJECTED:function TRACK_UNMUTE_REJECTED(){return xe;},TRANSCRIPTION_STATUS_CHANGED:function TRANSCRIPTION_STATUS_CHANGED(){return Fe;},USER_JOINED:function USER_JOINED(){return je;},USER_LEFT:function USER_LEFT(){return $e;},USER_ROLE_CHANGED:function USER_ROLE_CHANGED(){return Ue;},USER_STATUS_CHANGED:function USER_STATUS_CHANGED(){return Be;},VIDEO_SIP_GW_AVAILABILITY_CHANGED:function VIDEO_SIP_GW_AVAILABILITY_CHANGED(){return Re;},VIDEO_SIP_GW_SESSION_STATE_CHANGED:function VIDEO_SIP_GW_SESSION_STATE_CHANGED(){return Ae;},VIDEO_UNMUTE_PERMISSIONS_CHANGED:function VIDEO_UNMUTE_PERMISSIONS_CHANGED(){return Je;},_MEDIA_SESSION_ACTIVE_CHANGED:function _MEDIA_SESSION_ACTIVE_CHANGED(){return he;},_MEDIA_SESSION_STARTED:function _MEDIA_SESSION_STARTED(){return le;}});var r={};n.r(r),n.d(r,{CONSTRAINT_FAILED:function CONSTRAINT_FAILED(){return at;},ELECTRON_DESKTOP_PICKER_ERROR:function ELECTRON_DESKTOP_PICKER_ERROR(){return ct;},ELECTRON_DESKTOP_PICKER_NOT_FOUND:function ELECTRON_DESKTOP_PICKER_NOT_FOUND(){return dt;},GENERAL:function GENERAL(){return lt;},NOT_FOUND:function NOT_FOUND(){return ht;},PERMISSION_DENIED:function PERMISSION_DENIED(){return ut;},SCREENSHARING_GENERIC_ERROR:function SCREENSHARING_GENERIC_ERROR(){return pt;},SCREENSHARING_USER_CANCELED:function SCREENSHARING_USER_CANCELED(){return mt;},TIMEOUT:function TIMEOUT(){return ft;},TRACK_IS_DISPOSED:function TRACK_IS_DISPOSED(){return gt;},TRACK_NO_STREAM_FOUND:function TRACK_NO_STREAM_FOUND(){return _t;},UNSUPPORTED_RESOLUTION:function UNSUPPORTED_RESOLUTION(){return vt;}});var o={};n.r(o),n.d(o,{AUDIO:function AUDIO(){return Rn;},PRESENTER:function PRESENTER(){return An;},VIDEO:function VIDEO(){return wn;}});var a={};n.r(a),n.d(a,{LOCAL_TRACK_STOPPED:function LOCAL_TRACK_STOPPED(){return Xn;},NO_AUDIO_INPUT:function NO_AUDIO_INPUT(){return ii;},NO_DATA_FROM_SOURCE:function NO_DATA_FROM_SOURCE(){return ni;},TRACK_AUDIO_LEVEL_CHANGED:function TRACK_AUDIO_LEVEL_CHANGED(){return Yn;},TRACK_AUDIO_OUTPUT_CHANGED:function TRACK_AUDIO_OUTPUT_CHANGED(){return Zn;},TRACK_MUTE_CHANGED:function TRACK_MUTE_CHANGED(){return ei;},TRACK_VIDEOTYPE_CHANGED:function TRACK_VIDEOTYPE_CHANGED(){return ti;}});var c={};n.r(c),n.d(c,{CONNECTION_DISCONNECTED:function CONNECTION_DISCONNECTED(){return ci;},CONNECTION_ESTABLISHED:function CONNECTION_ESTABLISHED(){return di;},CONNECTION_FAILED:function CONNECTION_FAILED(){return li;},DISPLAY_NAME_REQUIRED:function DISPLAY_NAME_REQUIRED(){return ui;},WRONG_STATE:function WRONG_STATE(){return hi;}});var d={};n.r(d),n.d(d,{CONNECTION_DROPPED_ERROR:function CONNECTION_DROPPED_ERROR(){return pi;},OTHER_ERROR:function OTHER_ERROR(){return mi;},PASSWORD_REQUIRED:function PASSWORD_REQUIRED(){return fi;},SERVER_ERROR:function SERVER_ERROR(){return gi;}});var l={};n.r(l),n.d(l,{OFF:function OFF(){return hs;},ON:function ON(){return ls;}});var h={};n.r(h),n.d(h,{LOCAL_STATS_UPDATED:function LOCAL_STATS_UPDATED(){return Sa;},REMOTE_STATS_UPDATED:function REMOTE_STATS_UPDATED(){return ya;}});var u={};n.r(u),n.d(u,{AUDIO_INPUT_STATE_CHANGE:function AUDIO_INPUT_STATE_CHANGE(){return Da;},DETECTOR_STATE_CHANGE:function DETECTOR_STATE_CHANGE(){return Ma;},NO_AUDIO_INPUT:function NO_AUDIO_INPUT(){return Na;},VAD_NOISY_DEVICE:function VAD_NOISY_DEVICE(){return ka;},VAD_REPORT_PUBLISHED:function VAD_REPORT_PUBLISHED(){return Oa;},VAD_SCORE_PUBLISHED:function VAD_SCORE_PUBLISHED(){return La;},VAD_TALK_WHILE_MUTED:function VAD_TALK_WHILE_MUTED(){return xa;}});var p={};n.r(p),n.d(p,{E2E_RTT_CHANGED:function E2E_RTT_CHANGED(){return Ga;}});var m={};n.r(m),n.d(m,{ERROR_NO_CONNECTION:function ERROR_NO_CONNECTION(){return Hc;},ERROR_SESSION_EXISTS:function ERROR_SESSION_EXISTS(){return Gc;},STATE_FAILED:function STATE_FAILED(){return Vc;},STATE_OFF:function STATE_OFF(){return Uc;},STATE_ON:function STATE_ON(){return $c;},STATE_PENDING:function STATE_PENDING(){return Bc;},STATE_RETRYING:function STATE_RETRYING(){return Jc;},STATUS_AVAILABLE:function STATUS_AVAILABLE(){return xc;},STATUS_BUSY:function STATUS_BUSY(){return jc;},STATUS_UNDEFINED:function STATUS_UNDEFINED(){return Fc;}});var f={};n.r(f),n.d(f,{DEVICE_LIST_CHANGED:function DEVICE_LIST_CHANGED(){return id;},PERMISSIONS_CHANGED:function PERMISSIONS_CHANGED(){return sd;},PERMISSION_PROMPT_IS_SHOWN:function PERMISSION_PROMPT_IS_SHOWN(){return rd;},SLOW_GET_USER_MEDIA:function SLOW_GET_USER_MEDIA(){return od;}});var g=n(9077),_=n.n(g);var v="conference.authenticationRequired",S="conference.chatError",y="conference.settingsError",E="conference.destroyed",C="conference.max_users",b="conference.connectionError",T="conference.restarted",R="conference.connectionError.notAllowed",A="conference.connectionError.membersOnly",w="conference.connectionError.accessDenied",I="conference.focusDisconnected",P="conference.focusLeft",M="conference.gracefulShutdown",D="conference.iceFailed",N="conference.incompatible_server_versions",k="conference.offerAnswerFailed",O="conference.passwordNotSupported",L="conference.passwordRequired",x="conference.reservationError",F="conference.videobridgeNotAvailable",j="conference.audio_input_state_changed",$="conference.audio_unmute_permissions_changed",U="conference.auth_status_changed",B="conference.beforeStatisticsDisposed",J="conference.error",V="conference.failed",H="conference.join_in_progress",G="conference.joined",q="conference.left",K="conference.unique_id_set",z="conference.connectionEstablished",W="conference.connectionInterrupted",Q="conference.connectionRestored",X="conference.dataChannelOpened",Y="conference.displayNameChanged",Z="conference.dominantSpeaker",ee="conference.createdTimestamp",te="conference.dtmfSupportChanged",ne="conference.endpoint_message_received",ie="conference.endpoint_stats_received",se="conference.jvb121Status",re="conference.kicked",oe="conference.participant_kicked",ae="conference.lastNEndpointsChanged",ce="conference.lock_state_changed",de="conference.server_region_changed",le="conference.media_session.started",he="conference.media_session.active_changed",ue="conference.membersOnlyChanged",pe="conference.messageReceived",me="conference.no_audio_input",fe="conference.noisy_mic",ge="conference.non_participant_message_received",_e="conference.privateMessageReceived",ve="conference.participant_conn_status_changed",Se="conference.partcipant_features_changed",ye="conference.participant_property_changed",Ee="conference.p2pStatus",Ce="conference.phoneNumberChanged",be="conference.propertiesChanged",Te="conference.recorderStateChanged",Re="conference.videoSIPGWAvailabilityChanged",Ae="conference.videoSIPGWSessionStateChanged",we="conference.start_muted_policy_changed",Ie="conference.started_muted",Pe="conference.subjectChanged",Me="conference.suspendDetected",De="conference.talk_while_muted",Ne="conference.trackAdded",ke="conference.audioLevelsChanged",Oe="conference.trackMuteChanged",Le="conference.trackRemoved",xe="conference.trackUnmuteRejected",Fe="conference.transcriptionStatusChanged",je="conference.userJoined",$e="conference.userLeft",Ue="conference.roleChanged",Be="conference.statusChanged",Je="conference.video_unmute_permissions_changed",Ve="conference.bot_type_changed",He="conference.lobby.userJoined",Ge="conference.lobby.userUpdated",qe="conference.lobby.userLeft",Ke="conference.av_moderation.approved",ze="conference.av_moderation.rejected",We="conference.av_moderation.changed",Qe="conference.av_moderation.participant.approved",Xe="conference.av_moderation.participant.rejected",Ye="conference.facial_expression.added",Ze="conference.breakout-rooms.move-to-room",et="conference.breakout-rooms.updated";var tt=n(7187),nt=n.n(tt),it=n(2307),st=n.n(it),rt=n(9755);var ot="https://api.callstats.io/static/callstats-ws.min.js",at="gum.constraint_failed",ct="gum.electron_desktop_picker_error",dt="gum.electron_desktop_picker_not_found",lt="gum.general",ht="gum.not_found",ut="gum.permission_denied",pt="gum.screensharing_generic_error",mt="gum.screensharing_user_canceled",ft="gum.timeout",gt="track.track_is_disposed",_t="track.no_stream_found",vt="gum.unsupported_resolution",St={};function yt(e,t,n){if("object"==_typeof(e)&&void 0!==e.name)switch(this.gum={error:e,constraints:t,devices:n&&Array.isArray(n)?n.slice(0):void 0},e.name){case"NotAllowedError":case"PermissionDeniedError":case"SecurityError":this.name=ut,this.message=St[this.name]+(this.gum.devices||[]).join(", ");break;case"DevicesNotFoundError":case"NotFoundError":this.name=ht,this.message=St[this.name]+(this.gum.devices||[]).join(", ");break;case"ConstraintNotSatisfiedError":case"OverconstrainedError":{var _i5=e.constraintName||e.constraint;t&&t.video&&(!n||n.indexOf("video")>-1)&&("minWidth"===_i5||"maxWidth"===_i5||"minHeight"===_i5||"maxHeight"===_i5||"width"===_i5||"height"===_i5||"deviceId"===_i5)?(this.name=vt,this.message=St[this.name]+function(e,t){if(t&&t.video&&t.video.mandatory)switch(e){case"width":return t.video.mandatory.minWidth;case"height":return t.video.mandatory.minHeight;default:return t.video.mandatory[e]||"";}return"";}(_i5,t)):(this.name=at,this.message=St[this.name]+e.constraintName);break;}default:this.name=lt,this.message=e.message||St[this.name];}else{if("string"!=typeof e)throw new Error("Invalid arguments");St[e]?(this.name=e,this.message=t||St[e]):this.message=e;}this.stack=e.stack||new Error().stack;}St[vt]="Video resolution is not supported: ",St[mt]="User canceled screen sharing prompt",St[pt]="Unknown error from screensharing",St[ct]="Unkown error from desktop picker",St[dt]="Failed to detect desktop picker",St[lt]="Generic getUserMedia error",St[ut]="User denied permission to use device(s): ",St[ht]="Requested device(s) was/were not found: ",St[at]="Constraint could not be satisfied: ",St[ft]="Could not start media source. Timeout occured!",St[gt]="Track has been already disposed",St[_t]="Track does not have an associated Media Stream",yt.prototype=Object.create(Error.prototype),yt.prototype.constructor=yt;var Et=yt,Ct="operational",bt="page",Tt="track",Rt="connection.disconnected",At="ice.duration";function wt(e,t){return{action:e,attributes:t,source:"conference",type:Ct};}var It=function It(e,t){var n="connection.stage.reached";return{action:n,actionSubject:e,attributes:t,source:n,type:Ct};},Pt=function Pt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:Ct,source:"get.user.media",action:e,attributes:t};},Mt=function Mt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:Ct,action:e,source:"jingle",attributes:t};},Dt=function Dt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:Ct,action:e,source:"p2p",attributes:t};},Nt=function Nt(e){return{type:Ct,action:"remotely.muted",mediaType:e};},kt=function kt(e){return{type:Ct,action:"rtp.stats",attributes:e};},Ot="statistics.audioLevel",Lt="statistics.before_disposed",xt="statistics.byte_sent_stats",Ft="statistics.connectionstats",jt="statistics.long_tasks_stats";n(8495);var $t=n(1206);var Ut="chrome",Bt="opera",Jt="firefox",Vt="iexplorer",Ht="safari",Gt="nwjs",qt="electron",Kt="react-native",zt="unknown",Wt={Chrome:Ut,Chromium:Ut,Opera:Bt,Firefox:Jt,"Internet Explorer":Vt,Safari:Ht};function Qt(){var e=navigator.userAgent;if(e.match(/Electron/)){var _t5=e.match(/Electron(?:\\s|\\/)([\\d.]+)/)[1];return{name:qt,version:_t5};}if(void 0!==window.JitsiMeetElectron)return{name:qt,version:void 0};}function Xt(){var e=navigator.userAgent;if(e.match(/JitsiMeetNW/)){var _t6=e.match(/JitsiMeetNW\\/([\\d.]+)/)[1];return{name:Gt,version:_t6};}}function Yt(){var e=navigator.userAgent.match(/\\b(react[ \\t_-]*native)(?:\\/(\\S+))?/i);var t;if(e||"ReactNative"===navigator.product){var _n3;return e&&e.length>2&&(_n3=e[1],t=e[2]),_n3||(_n3="react-native"),t||(t="unknown"),{name:Kt,version:t};}}var Zt=/*#__PURE__*/function(_tt){_inherits(Zt,_tt);var _super=_createSuper(Zt);function Zt(){var _this;_classCallCheck(this,Zt);var e,t;_this=_super.apply(this,arguments),t={},(e="_storage")in _assertThisInitialized(_this)?Object.defineProperty(_assertThisInitialized(_this),e,{value:t,enumerable:!0,configurable:!0,writable:!0}):_this[e]=t;return _this;}_createClass(Zt,[{key:"clear",value:function clear(){this._storage={};}},{key:"length",get:function get(){return Object.keys(this._storage).length;}},{key:"getItem",value:function getItem(e){return this._storage[e];}},{key:"setItem",value:function setItem(e,t){this._storage[e]=t;}},{key:"removeItem",value:function removeItem(e){delete this._storage[e];}},{key:"key",value:function key(e){var t=Object.keys(this._storage);if(!(t.length<=e))return t[e];}},{key:"serialize",value:function serialize(){return JSON.stringify(this._storage);}}]);return Zt;}(tt);var en=new(/*#__PURE__*/function(_tt2){_inherits(_class2,_tt2);var _super2=_createSuper(_class2);function _class2(){var _this2;_classCallCheck(this,_class2);_this2=_super2.call(this);try{_this2._storage=window.localStorage,_this2._localStorageDisabled=!1;}catch(e){}_this2._storage||(console.warn("Local storage is disabled."),_this2._storage=new Zt(),_this2._localStorageDisabled=!0);return _this2;}_createClass(_class2,[{key:"isLocalStorageDisabled",value:function isLocalStorageDisabled(){return this._localStorageDisabled;}},{key:"clear",value:function clear(){this._storage.clear(),this.emit("changed");}},{key:"length",get:function get(){return this._storage.length;}},{key:"getItem",value:function getItem(e){return this._storage.getItem(e);}},{key:"setItem",value:function setItem(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._storage.setItem(e,t),n||this.emit("changed");}},{key:"removeItem",value:function removeItem(e){this._storage.removeItem(e),this.emit("changed");}},{key:"key",value:function key(e){return this._storage.key(e);}},{key:"serialize",value:function serialize(){if(this.isLocalStorageDisabled())return this._storage.serialize();var e=this._storage.length,t={};for(var _n4=0;_n4<e;_n4++){var _e8=this._storage.key(_n4);t[_e8]=this._storage.getItem(_e8);}return JSON.stringify(t);}}]);return _class2;}(tt))(),tn=(0,g.getLogger)("modules/browser/BrowserCapabilities.js"),nn=new(/*#__PURE__*/function(_ref){_inherits(_class3,_ref);var _super3=_createSuper(_class3);function _class3(){var _this3;_classCallCheck(this,_class3);_this3=_super3.call(this),tn.info("This appears to be ".concat(_this3.getName(),", ver: ").concat(_this3.getVersion()));return _this3;}_createClass(_class3,[{key:"doesVideoMuteByStreamRemove",value:function doesVideoMuteByStreamRemove(){return this.isChromiumBased()||this.isWebKitBased()||this.isFirefox();}},{key:"isChromiumBased",value:function isChromiumBased(){return(this.isChrome()||this.isElectron()||this.isNWJS()||this.isOpera())&&!this.isWebKitBased();}},{key:"isIosBrowser",value:function isIosBrowser(){var _navigator=navigator,e=_navigator.userAgent,t=_navigator.maxTouchPoints,n=_navigator.platform;return Boolean(e.match(/iP(ad|hone|od)/i))||t&&t>2&&/MacIntel/.test(n);}},{key:"isWebKitBased",value:function isWebKitBased(){return this._bowser.isEngine("webkit")&&void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia&&void 0!==window.RTCRtpTransceiver&&Object.keys(RTCRtpTransceiver.prototype).indexOf("currentDirection")>-1;}},{key:"isTwa",value:function isTwa(){return"matchMedia"in window&&window.matchMedia("(display-mode:standalone)").matches;}},{key:"isSupported",value:function isSupported(){return!(this.isSafari()&&this._getSafariVersion()<14)&&(this.isChromiumBased()&&this._getChromiumBasedVersion()>=72||this.isFirefox()||this.isReactNative()||this.isWebKitBased());}},{key:"isSupportedAndroidBrowser",value:function isSupportedAndroidBrowser(){return this.isChromiumBased()||this.isFirefox();}},{key:"isSupportedIOSBrowser",value:function isSupportedIOSBrowser(){return this._getIOSVersion()>=14;}},{key:"isUserInteractionRequiredForUnmute",value:function isUserInteractionRequiredForUnmute(){return this.isFirefox()&&this.isVersionLessThan("68");}},{key:"supportsVideoMuteOnConnInterrupted",value:function supportsVideoMuteOnConnInterrupted(){return this.isChromiumBased()||this.isReactNative();}},{key:"supportsBandwidthStatistics",value:function supportsBandwidthStatistics(){return!this.isFirefox()&&!this.isWebKitBased();}},{key:"supportsCodecPreferences",value:function supportsCodecPreferences(){return Boolean(window.RTCRtpTransceiver&&"setCodecPreferences"in window.RTCRtpTransceiver.prototype&&window.RTCRtpReceiver&&void 0!==window.RTCRtpReceiver.getCapabilities)&&!this.isWebKitBased();}},{key:"supportsDeviceChangeEvent",value:function supportsDeviceChangeEvent(){return navigator.mediaDevices&&void 0!==navigator.mediaDevices.ondevicechange&&void 0!==navigator.mediaDevices.addEventListener;}},{key:"supportsLocalCandidateRttStatistics",value:function supportsLocalCandidateRttStatistics(){return this.isChromiumBased()||this.isReactNative()||this.isWebKitBased();}},{key:"supportsPerformanceObserver",value:function supportsPerformanceObserver(){return void 0!==window.PerformanceObserver&&PerformanceObserver.supportedEntryTypes.indexOf("longtask")>-1;}},{key:"supportsReceiverStats",value:function supportsReceiverStats(){return void 0!==window.RTCRtpReceiver&&Object.keys(RTCRtpReceiver.prototype).indexOf("getSynchronizationSources")>-1&&!this.isWebKitBased();}},{key:"supportsRTTStatistics",value:function supportsRTTStatistics(){return!this.isFirefox();}},{key:"supportsVP9",value:function supportsVP9(){return this.isChromiumBased()||this.isReactNative();}},{key:"usesSdpMungingForSimulcast",value:function usesSdpMungingForSimulcast(){return this.isChromiumBased()||this.isReactNative()||this.isWebKitBased();}},{key:"usesAdapter",value:function usesAdapter(){return!this.isReactNative();}},{key:"usesRidsForSimulcast",value:function usesRidsForSimulcast(){return!1;}},{key:"supportsGetDisplayMedia",value:function supportsGetDisplayMedia(){return void 0!==navigator.getDisplayMedia||void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getDisplayMedia;}},{key:"supportsEncodedTransform",value:function supportsEncodedTransform(){return Boolean(window.RTCRtpScriptTransform);}},{key:"supportsInsertableStreams",value:function supportsInsertableStreams(){if(void 0===window.RTCRtpSender||!window.RTCRtpSender.prototype.createEncodedStreams)return!1;var e=new ReadableStream();try{return window.postMessage(e,"*",[e]),!0;}catch(_unused){return!1;}}},{key:"supportsAudioRed",value:function supportsAudioRed(){return Boolean(window.RTCRtpSender&&window.RTCRtpSender.getCapabilities&&window.RTCRtpSender.getCapabilities("audio").codecs.some(function(e){return"audio/red"===e.mimeType;})&&window.RTCRtpReceiver&&window.RTCRtpReceiver.getCapabilities&&window.RTCRtpReceiver.getCapabilities("audio").codecs.some(function(e){return"audio/red"===e.mimeType;}));}},{key:"supportsUnifiedPlan",value:function supportsUnifiedPlan(){return!this.isReactNative();}},{key:"supportsVADDetection",value:function supportsVADDetection(){return this.isChromiumBased();}},{key:"supportsRTX",value:function supportsRTX(){return!(this.isFirefox()&&this.isVersionLessThan("96"));}},{key:"_getChromiumBasedVersion",value:function _getChromiumBasedVersion(){if(this.isChromiumBased()){if(this.isNWJS())return Number.parseInt(process.versions.chromium,10);var _e9=navigator.userAgent;if(_e9.match(/Chrome/))return Number.parseInt(_e9.match(/Chrome\\/([\\d.]+)/)[1],10);}return-1;}},{key:"_getSafariVersion",value:function _getSafariVersion(){return this.isSafari()?Number.parseInt(this.getVersion(),10):-1;}},{key:"_getIOSVersion",value:function _getIOSVersion(){return this.isWebKitBased()?Number.parseInt(this.getVersion(),10):-1;}}]);return _class3;}(/*#__PURE__*/function(){function _class4(e){_classCallCheck(this,_class4);var t,n;if(this._bowser=$t.getParser(navigator.userAgent),void 0===e){var _e10=function(e){var t;var n=[Yt,Qt,Xt];for(var _e11=0;_e11<n.length;_e11++)if(t=n[_e11](),t)return t;var i=e.getBrowserName();return i in Wt?{name:Wt[i],version:e.getBrowserVersion()}:(t=function(){var e=navigator.userAgent,t={name:zt,version:void 0};if(e.match(/Chrome/)&&!e.match(/Edge/))if(e.match(/Edg(A?)/)){var _n5=e.match(/Chrome\\/([\\d.]+)/)[1];Number.parseInt(_n5,10)>72&&(t.name=Ut,t.version=_n5);}else t.name=Ut,t.version=e.match(/Chrome\\/([\\d.]+)/)[1];return t;}(),t||{name:zt,version:void 0});}(this._bowser);t=_e10.name,n=_e10.version;}else e.name in Wt?(t=Wt[e.name],n=e.version):(t=zt,n=void 0);this._name=t,this._version=n;}_createClass(_class4,[{key:"getName",value:function getName(){return this._name;}},{key:"isChrome",value:function isChrome(){return this._name===Ut;}},{key:"isOpera",value:function isOpera(){return this._name===Bt;}},{key:"isFirefox",value:function isFirefox(){return this._name===Jt;}},{key:"isIExplorer",value:function isIExplorer(){return this._name===Vt;}},{key:"isSafari",value:function isSafari(){return this._name===Ht;}},{key:"isNWJS",value:function isNWJS(){return this._name===Gt;}},{key:"isElectron",value:function isElectron(){return this._name===qt;}},{key:"isReactNative",value:function isReactNative(){return this._name===Kt;}},{key:"getVersion",value:function getVersion(){return this._version;}},{key:"_checkCondition",value:function _checkCondition(e){if(this._version)return this._bowser.satisfies(e);}},{key:"isVersionGreaterThan",value:function isVersionGreaterThan(e){return this._checkCondition(_defineProperty({},this._name,">".concat(e)));}},{key:"isVersionLessThan",value:function isVersionLessThan(e){return this._checkCondition(_defineProperty({},this._name,"<".concat(e)));}},{key:"isVersionEqualTo",value:function isVersionEqualTo(e){return this._checkCondition(_defineProperty({},this._name,"~".concat(e)));}}]);return _class4;}()))();var sn=n(549),rn=n.n(sn);var on=(0,g.getLogger)("modules/statistics/AnalyticsAdapter.js"),an=new(/*#__PURE__*/function(){function _class5(){_classCallCheck(this,_class5);this.reset();}_createClass(_class5,[{key:"reset",value:function reset(){this.disposed=!1,this.analyticsHandlers=new Set(),this.cache=[],this.permanentProperties={},this.conferenceName="",this.addPermanentProperties({user_agent:navigator.userAgent,browser_name:nn.getName()});}},{key:"dispose",value:function dispose(){on.warn("Disposing of analytics adapter."),this.analyticsHandlers&&this.analyticsHandlers.size>0&&this.analyticsHandlers.forEach(function(e){"function"==typeof e.dispose&&e.dispose();}),this.setAnalyticsHandlers([]),this.disposed=!0;}},{key:"setAnalyticsHandlers",value:function setAnalyticsHandlers(e){var _this4=this;if(this.disposed)return;this.analyticsHandlers=new Set(e),this._setUserProperties();var t=this.cache;this.cache=null,t&&t.forEach(function(e){return _this4._sendEvent(e);});}},{key:"_setUserProperties",value:function _setUserProperties(){var _this5=this;this.analyticsHandlers.forEach(function(e){try{e.setUserProperties(_this5.permanentProperties);}catch(e){on.warn("Error in setUserProperties method of one of the analytics handlers: ".concat(e));}});}},{key:"addPermanentProperties",value:function addPermanentProperties(e){this.permanentProperties=_objectSpread(_objectSpread({},this.permanentProperties),e),this._setUserProperties();}},{key:"setConferenceName",value:function setConferenceName(e){this.conferenceName=e,this.addPermanentProperties({conference_name:e});}},{key:"sendEvent",value:function sendEvent(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.disposed)return;var n=null;"string"==typeof e?n={type:Ct,action:e,actionSubject:e,source:e,attributes:t}:"object"==_typeof(e)&&(n=e),this._verifyRequiredFields(n)?this._sendEvent(n):on.error("Dropping a mis-formatted event: ".concat(JSON.stringify(n)));}},{key:"_verifyRequiredFields",value:function _verifyRequiredFields(e){if(!e)return!1;e.type||(e.type=Ct);var t=e.type;return t!==Ct&&t!==bt&&"ui"!==t&&t!==Tt?(on.error("Unknown event type: ".concat(t)),!1):t===bt?Boolean(e.name):(e.action=e.action||e.name||e.actionSubject,e.actionSubject=e.actionSubject||e.name||e.action,e.source=e.source||e.name||e.action||e.actionSubject,e.action&&e.actionSubject&&e.source?!!(t!==Tt||(e.objectType=e.objectType||"generic-object-type",e.containerType=e.containerType||"conference","conference"!==e.containerType||e.containerId||(e.containerId=this.conferenceName),e.objectType&&e.objectId&&e.containerType&&e.containerId))||(on.error("Required field missing (containerId, containerType, objectId or objectType)"),!1):(on.error("Required field missing (action, actionSubject or source)"),!1));}},{key:"_maybeCacheEvent",value:function _maybeCacheEvent(e){return!!this.cache&&(this.cache.push(e),this.cache.length>100&&this.cache.splice(0,1),!0);}},{key:"_sendEvent",value:function _sendEvent(e){this._maybeCacheEvent(e)||this.analyticsHandlers.forEach(function(t){try{t.sendEvent(e);}catch(e){on.warn("Error sending analytics event: ".concat(e));}});}}]);return _class5;}())();var cn=n(1023),dn=n.n(cn);var ln=n(9077).getLogger("modules/statistics/CallStats.js"),hn="applicationLog",un="error",pn="event",mn="mstWithUserID";var fn;var gn=/*#__PURE__*/function(){function gn(e,t){_classCallCheck(this,gn);this.confID=t.confID,this.tpc=e,this.peerconnection=e.peerconnection,this.remoteUserID=t.remoteUserID||"jitsi",this.hasFabric=!1,gn.fabrics.add(this),gn.backendInitialized&&(this._addNewFabric(),1===gn.fabrics.size&&gn._emptyReportQueue(this));}_createClass(gn,[{key:"_addNewFabric",value:function _addNewFabric(){ln.info("addNewFabric",this.remoteUserID);try{var _e12={remoteEndpointType:this.tpc.isP2P?gn.backend.endpointType.peer:gn.backend.endpointType.server},_t7=gn.backend.addNewFabric(this.peerconnection,this.remoteUserID,gn.backend.fabricUsage.multiplex,this.confID,_e12,gn._addNewFabricCallback);this.hasFabric=!0;var _n6="success"===_t7.status;return _n6||ln.error("callstats fabric not initilized",_t7.message),_n6;}catch(e){return dn().callErrorHandler(e),!1;}}},{key:"associateStreamWithVideoTag",value:function associateStreamWithVideoTag(e,t,n,i,s){if(!gn.backend)return;var r=t?gn.userID:n;gn.backendInitialized?gn.backend.associateMstWithUserID(this.peerconnection,r,this.confID,e,i,s):gn.reportsQueue.push({type:mn,pc:this.peerconnection,data:{callStatsId:r,containerId:s,ssrc:e,usageLabel:i}});}},{key:"sendDominantSpeakerEvent",value:function sendDominantSpeakerEvent(){gn._reportEvent(this,"dominantSpeaker");}},{key:"sendTerminateEvent",value:function sendTerminateEvent(){gn.backendInitialized&&gn.backend.sendFabricEvent(this.peerconnection,gn.backend.fabricEvent.fabricTerminated,this.confID),gn.fabrics.delete(this);}},{key:"sendIceConnectionFailedEvent",value:function sendIceConnectionFailedEvent(){gn._reportError(this,"iceConnectionFailure",null,this.peerconnection);}},{key:"sendCreateOfferFailed",value:function sendCreateOfferFailed(e){gn._reportError(this,"createOffer",e,this.peerconnection);}},{key:"sendCreateAnswerFailed",value:function sendCreateAnswerFailed(e){gn._reportError(this,"createAnswer",e,this.peerconnection);}},{key:"sendResumeOrHoldEvent",value:function sendResumeOrHoldEvent(e){gn._reportEvent(this,e?"fabricResume":"fabricHold");}},{key:"sendScreenSharingEvent",value:function sendScreenSharingEvent(e,t){var n;t&&(n={ssrc:t}),gn._reportEvent(this,e?"screenShareStart":"screenShareStop",n);}},{key:"sendSetLocalDescFailed",value:function sendSetLocalDescFailed(e){gn._reportError(this,"setLocalDescription",e,this.peerconnection);}},{key:"sendSetRemoteDescFailed",value:function sendSetRemoteDescFailed(e){gn._reportError(this,"setRemoteDescription",e,this.peerconnection);}},{key:"sendAddIceCandidateFailed",value:function sendAddIceCandidateFailed(e){gn._reportError(this,"addIceCandidate",e,this.peerconnection);}}],[{key:"_addNewFabricCallback",value:function _addNewFabricCallback(e,t){gn.backend&&"success"!==e&&ln.error("Monitoring status: ".concat(e," msg: ").concat(t));}},{key:"_initCallback",value:function _initCallback(e,t){if(ln.log("CallStats Status: err=".concat(e," msg=").concat(t)),"success"!==e)return;gn.backendInitialized=!0;var n=!1,i=null;var _iterator=_createForOfIteratorHelper(gn.fabrics.values()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _e13=_step.value;_e13.hasFabric||(ln.debug("addNewFabric - initCallback"),_e13._addNewFabric()&&(n=!0,i||(i=_e13)));}}catch(err){_iterator.e(err);}finally{_iterator.f();}n&&gn._emptyReportQueue(i);}},{key:"_emptyReportQueue",value:function _emptyReportQueue(e){var t=e.confID,n=e.peerconnection;var _iterator2=_createForOfIteratorHelper(gn.reportsQueue),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _i6=_step2.value;if(_i6.type===un){var _t8=_i6.data;gn._reportError(e,_t8.type,_t8.error,_t8.pc||n);}else if(_i6.type===pn){var _e14=_i6.data;gn.backend.sendFabricEvent(_i6.pc||n,_e14.event,t,_e14.eventData);}else if(_i6.type===mn){var _e15=_i6.data;gn.backend.associateMstWithUserID(_i6.pc||n,_e15.callStatsId,t,_e15.ssrc,_e15.usageLabel,_e15.containerId);}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}gn.reportsQueue.length=0;}},{key:"_reportError",value:function _reportError(e,t,n,i){var s=n;s||(ln.warn("No error is passed!"),s=new Error("Unknown error")),gn.backendInitialized&&e?gn.backend.reportError(i,e.confID,t,s):gn.reportsQueue.push({type:un,data:{error:s,pc:i,type:t}});}},{key:"_reportEvent",value:function _reportEvent(e,t,n){var i=e&&e.peerconnection,s=e&&e.confID;gn.backendInitialized&&e?gn.backend.sendFabricEvent(i,t,s,n):gn.reportsQueue.push({confID:s,pc:i,type:pn,data:{event:t,eventData:n}});}},{key:"_traceAndCatchBackendCalls",value:function _traceAndCatchBackendCalls(e){var t=["associateMstWithUserID","sendFabricEvent","sendUserFeedback"];var _loop=function _loop(){var n=_t9[_i7];var t=e[n];e[n]=function(){try{for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t.apply(e,i);}catch(e){dn().callErrorHandler(e);}};};for(var _i7=0,_t9=t;_i7<_t9.length;_i7++){_loop();}var n=["associateMstWithUserID","sendFabricEvent","sendUserFeedback"];var _loop2=function _loop2(){var t=_n7[_i8];var n=e[t];e[t]=function(){for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];ln.debug(t,s),n.apply(e,s);};};for(var _i8=0,_n7=n;_i8<_n7.length;_i8++){_loop2();}var i=e.reportError;e.reportError=function(t,n,s){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];s===hn?nn.isReactNative()||console&&console.debug("reportError",t,n,s):ln.debug.apply(ln,["reportError",t,n,s].concat(o));try{i.call.apply(i,[e,t,n,s].concat(o));}catch(e){s===hn?console&&console.error("reportError",e):dn().callErrorHandler(e);}};}},{key:"fabrics",get:function get(){return fn||(fn=new Set()),fn;}},{key:"initBackend",value:function initBackend(e){if(gn.backend)throw new Error("CallStats backend has been initialized already!");try{var _t10=callstats;gn.backend=new _t10(),gn._traceAndCatchBackendCalls(gn.backend),gn.userID={aliasName:e.aliasName,userName:e.userName},gn.callStatsID=e.callStatsID,gn.callStatsSecret=e.callStatsSecret;var _n8=_objectSpread({},e.configParams);if(e.applicationName&&(_n8.applicationVersion="".concat(e.applicationName," (").concat(nn.getName(),")")),e.confID){var _t11=e.confID.match(/.*\\/(.*)\\/.*/);_n8.siteID=e.siteID||_t11&&_t11[1]||"/";}gn.backend.initialize(gn.callStatsID,gn.callStatsSecret,gn.userID,gn._initCallback,void 0,_n8);var _i9=e.getWiFiStatsMethod;return _i9&&(gn.backend.attachWifiStatsHandler(_i9),_i9().then(function(e){e&&ln.info("Reported wifi addresses:",JSON.parse(e).addresses);}).catch(function(){})),!0;}catch(e){return dn().callErrorHandler(e),gn.backend=null,ln.error(e),!1;}}},{key:"isBackendInitialized",value:function isBackendInitialized(){return Boolean(gn.backend);}},{key:"sendActiveDeviceListEvent",value:function sendActiveDeviceListEvent(e,t){gn._reportEvent(t,"activeDeviceList",e);}},{key:"sendApplicationLog",value:function sendApplicationLog(e,t){try{gn._reportError(t,hn,e,t&&t.peerconnection);}catch(e){console&&"function"==typeof console.error&&console.error("sendApplicationLog failed",e);}}},{key:"sendFeedback",value:function sendFeedback(e,t,n){return new Promise(function(i,s){if(gn.backend)gn.backend.sendUserFeedback(e,{userID:gn.userID,overall:t,comment:n},function(e,t){"success"===e?i(t):s(t);});else{var _e16="Failed to submit feedback to CallStats - no backend";ln.error(_e16),s(_e16);}});}},{key:"sendGetUserMediaFailed",value:function sendGetUserMediaFailed(e,t){gn._reportError(t,"getUserMedia",e,null);}},{key:"sendMuteEvent",value:function sendMuteEvent(e,t,n){var i;i="video"===t?e?"videoPause":"videoResume":e?"audioMute":"audioUnmute",gn._reportEvent(n,i);}}]);return gn;}();gn.backend=null,gn.reportsQueue=[],gn.backendInitialized=!1,gn.callStatsID=null,gn.callStatsSecret=null,gn.userID=null,window.AudioContext=window.AudioContext||window.webkitAudioContext;var _n=null;function vn(e,t,n){this.stream=e,this.intervalId=null,this.intervalMilis=t,this.audioLevel=0,this.callback=n;}function Sn(e){var t=e;return e>=Number.MAX_SAFE_INTEGER&&(t=0),t+1;}function yn(e){return e.length>0?e.reduce(function(e,t){return e+t;})/e.length:0;}function En(e){return e.filter(function(e){return e>=0;});}window.AudioContext&&(_n=new AudioContext(),_n.suspend&&_n.suspend()),vn.prototype.start=function(){var _this6=this;if(!vn.isLocalStatsSupported())return;_n.resume();var e=_n.createAnalyser();e.smoothingTimeConstant=.8,e.fftSize=2048,_n.createMediaStreamSource(this.stream).connect(e),this.intervalId=setInterval(function(){var t=new Uint8Array(e.frequencyBinCount);e.getByteTimeDomainData(t);var n=function(e){var t=0;var n=e.length;for(var _i10=0;_i10<n;_i10++)t<e[_i10]&&(t=e[_i10]);return parseFloat(((t-127)/128).toFixed(3));}(t);_this6.audioLevel=function(e,t){var n=0;var i=t-e;return n=i>.2?t-.2:i<-.4?t+.4:e,parseFloat(n.toFixed(3));}(n,_this6.audioLevel),_this6.callback(_this6.audioLevel);},this.intervalMilis);},vn.prototype.stop=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null);},vn.isLocalStatsSupported=function(){return Boolean(_n);};var Cn=/*#__PURE__*/function(){function Cn(){_classCallCheck(this,Cn);this.average=0,this.n=0;}_createClass(Cn,[{key:"addNext",value:function addNext(e){"number"==typeof e&&(this.n+=1,this.average=this.average+(e-this.average)/this.n);}},{key:"getAverage",value:function getAverage(){return this.average;}}]);return Cn;}();var bn=(0,g.getLogger)("modules/statistics/PerformanceObserverStats.js");var Tn=/*#__PURE__*/function(){function Tn(e,t){_classCallCheck(this,Tn);this.eventEmitter=e,this.longTasks=0,this.maxDuration=0,this.performanceStatsInterval=t,this.stats=new Cn();}_createClass(Tn,[{key:"getLongTasksStats",value:function getLongTasksStats(){return{avgRatePerMinute:(60*this.stats.getAverage()).toFixed(2),maxDurationMs:this.maxDuration};}},{key:"startObserver",value:function startObserver(){var _this7=this;this.longTaskEventHandler=function(e){var t=e.getEntries();var _iterator3=_createForOfIteratorHelper(t),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _e17=_step3.value;_this7.longTasks++,_this7.maxDuration=Math.max(_this7.maxDuration,_e17.duration).toFixed(3);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}},bn.info("Creating a Performance Observer for monitoring Long Tasks"),this.observer=new PerformanceObserver(this.longTaskEventHandler),this.observer.observe({type:"longtask",buffered:!0});var e=Date.now();this.longTasksIntervalId=setInterval(function(){var t=Date.now(),n=_this7._lastTimeStamp?(t-_this7._lastTimeStamp)/1e3:(t-e)/1e3,i=_this7.longTasks/n;_this7.stats.addNext(i),_this7.eventEmitter.emit(jt,_this7.getLongTasksStats()),_this7.longTasks=0,_this7._lastTimeStamp=Date.now();},this.performanceStatsInterval);}},{key:"stopObserver",value:function stopObserver(){this.observer&&this.observer.disconnect(),this.longTaskEventHandler=null,this.longTasksIntervalId&&(clearInterval(this.longTasksIntervalId),this.longTasksIntervalId=null);}}]);return Tn;}();var Rn="audio",An="presenter",wn="video",In=n(1023),Pn=(0,g.getLogger)("modules/statistics/RTPStatsCollector.js");function Mn(e,t){return!t||t<=0||!e||e<=0?0:Math.round(e/t*100);}function Dn(){this.loss={},this.bitrate={download:0,upload:0},this.resolution={},this.framerate=0,this.codec="";}function Nn(){this.bandwidth={},this.bitrate={},this.packetLoss=null,this.transport=[];}function kn(e,t,n,i){this.peerconnection=e,this.baselineAudioLevelsReport=null,this.currentAudioLevelsReport=null,this.currentStatsReport=null,this.previousStatsReport=null,this.audioLevelReportHistory={},this.audioLevelsIntervalId=null,this.eventEmitter=i,this.conferenceStats=new Nn(),this.audioLevelsIntervalMilis=t,this.speakerList=[],this.statsIntervalId=null,this.statsIntervalMilis=n,this.ssrc2stats=new Map();}Dn.prototype.setLoss=function(e){this.loss=e||{};},Dn.prototype.setResolution=function(e){this.resolution=e||{};},Dn.prototype.addBitrate=function(e){this.bitrate.download+=e.download,this.bitrate.upload+=e.upload;},Dn.prototype.resetBitrate=function(){this.bitrate.download=0,this.bitrate.upload=0;},Dn.prototype.setFramerate=function(e){this.framerate=e||0;},Dn.prototype.setCodec=function(e){this.codec=e||"";},kn.prototype.setSpeakerList=function(e){this.speakerList=e;},kn.prototype.stop=function(){this.audioLevelsIntervalId&&(clearInterval(this.audioLevelsIntervalId),this.audioLevelsIntervalId=null),this.statsIntervalId&&(clearInterval(this.statsIntervalId),this.statsIntervalId=null);},kn.prototype.errorCallback=function(e){In.callErrorHandler(e),Pn.error("Get stats error",e),this.stop();},kn.prototype.start=function(e){var _this8=this;e&&(nn.supportsReceiverStats()&&Pn.info("Using RTCRtpSynchronizationSource for remote audio levels"),this.audioLevelsIntervalId=setInterval(function(){if(nn.supportsReceiverStats()){var _e18=_this8.peerconnection.getAudioLevels(_this8.speakerList);for(var _t12 in _e18)if(_e18.hasOwnProperty(_t12)){var _n9=2.5*_e18[_t12];_this8.eventEmitter.emit(Ot,_this8.peerconnection,Number.parseInt(_t12,10),_n9,!1);}}else _this8.peerconnection.getStats().then(function(e){_this8.currentAudioLevelsReport="function"==typeof(null==e?void 0:e.result)?e.result():e,_this8.processAudioLevelReport(),_this8.baselineAudioLevelsReport=_this8.currentAudioLevelsReport;}).catch(function(e){return _this8.errorCallback(e);});},this.audioLevelsIntervalMilis));var t=function t(){_this8.peerconnection.getStats().then(function(e){_this8.currentStatsReport="function"==typeof(null==e?void 0:e.result)?e.result():e;try{_this8.processStatsReport();}catch(e){In.callErrorHandler(e),Pn.error("Processing of RTP stats failed:",e);}_this8.previousStatsReport=_this8.currentStatsReport;}).catch(function(e){return _this8.errorCallback(e);});};t(),this.statsIntervalId=setInterval(t,this.statsIntervalMilis);},kn.prototype._processAndEmitReport=function(){var _this9=this;var e={download:0,upload:0},t={download:0,upload:0};var n=0,i=0;var s={},r={},o={};var a,c,d=0,l=0,h=0,u=0;var _iterator4=_createForOfIteratorHelper(this.ssrc2stats),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _step4$value=_slicedToArray(_step4.value,2),_p=_step4$value[0],_m=_step4$value[1];var _f=_m.loss,_g=_f.isDownloadStream?"download":"upload";e[_g]+=_f.packetsTotal,t[_g]+=_f.packetsLost,n+=_m.bitrate.download,i+=_m.bitrate.upload;var _2=this.peerconnection.getTrackBySSRC(_p);if(_2){_2.isAudioTrack()?(d+=_m.bitrate.download,l+=_m.bitrate.upload,a=_m.codec):(h+=_m.bitrate.download,u+=_m.bitrate.upload,c=_m.codec);var _e20=_2.getParticipantId();if(_e20){var _t14=_m.resolution;if(_t14.width&&_t14.height&&-1!==_t14.width&&-1!==_t14.height){var _n10=s[_e20]||{};_n10[_p]=_t14,s[_e20]=_n10;}if(0!==_m.framerate){var _t15=r[_e20]||{};_t15[_p]=_m.framerate,r[_e20]=_t15;}if(a&&c){var _t16={audio:a,video:c},_n11=o[_e20]||{};_n11[_p]=_t16,o[_e20]=_n11;}}else Pn.error("No participant ID returned by ".concat(_2));}_m.resetBitrate();}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}this.conferenceStats.bitrate={upload:i,download:n},this.conferenceStats.bitrate.audio={upload:l,download:d},this.conferenceStats.bitrate.video={upload:u,download:h},this.conferenceStats.packetLoss={total:Mn(t.download+t.upload,e.download+e.upload),download:Mn(t.download,e.download),upload:Mn(t.upload,e.upload)};var p={};var m;Object.keys(this.audioLevelReportHistory).forEach(function(e){var _this9$audioLevelRepo=_this9.audioLevelReportHistory[e],t=_this9$audioLevelRepo.data,n=_this9$audioLevelRepo.isLocal,i=t.reduce(function(e,t){return e+t;})/t.length;if(n)m=i;else{var _t13=_this9.peerconnection.getTrackBySSRC(Number(e));if(_t13){var _e19=_t13.getParticipantId();_e19&&(p[_e19]=i);}}}),this.audioLevelReportHistory={},this.eventEmitter.emit(Ft,this.peerconnection,{bandwidth:this.conferenceStats.bandwidth,bitrate:this.conferenceStats.bitrate,packetLoss:this.conferenceStats.packetLoss,resolution:s,framerate:r,codec:o,transport:this.conferenceStats.transport,localAvgAudioLevels:m,avgAudioLevels:p}),this.conferenceStats.transport=[];},kn.prototype.getNonNegativeValue=function(e){var t=e;return"number"!=typeof t&&(t=Number(t)),isNaN(t)?0:Math.max(0,t);},kn.prototype._calculateBitrate=function(e,t,n){var i=this.getNonNegativeValue(e[n]),s=this.getNonNegativeValue(t[n]),r=Math.max(0,i-s),o=e.timestamp-t.timestamp;var a=0;return o>0&&(a=Math.round(8*r/o)),a;},kn.prototype.processStatsReport=function(){var _this10=this;if(!this.previousStatsReport)return;var e={};this.currentStatsReport.forEach(function(t){if("candidate-pair"===t.type&&t.nominated&&"succeeded"===t.state){var _e21=t.availableIncomingBitrate,_n12=t.availableOutgoingBitrate;(_e21||_n12)&&(_this10.conferenceStats.bandwidth={download:Math.round(_e21/1e3),upload:Math.round(_n12/1e3)});var _i11=_this10.currentStatsReport.get(t.remoteCandidateId),_s4=_this10.currentStatsReport.get(t.localCandidateId);if(_i11&&_s4){var _e22="".concat(nn.isChromiumBased()?_i11.ip:_i11.address,":").concat(_i11.port),_n13="".concat(nn.isChromiumBased()?_s4.ip:_s4.address,":").concat(_s4.port),_r2=_i11.protocol,_o2=_this10.conferenceStats.transport;_o2.some(function(t){return t.ip===_e22&&t.type===_r2&&t.localip===_n13;})||_o2.push({ip:_e22,type:_r2,localip:_n13,p2p:_this10.peerconnection.isP2P,localCandidateType:_s4.candidateType,remoteCandidateType:_i11.candidateType,networkType:_s4.networkType,rtt:1e3*t.currentRoundTripTime});}}else if("inbound-rtp"===t.type||"outbound-rtp"===t.type){var _n14=_this10.previousStatsReport.get(t.id),_i12=_this10.getNonNegativeValue(t.ssrc);if(!_n14||!_i12)return;var _s5=_this10.ssrc2stats.get(_i12);_s5||(_s5=new Dn(),_this10.ssrc2stats.set(_i12,_s5));var _r3=!0,_o3="packetsReceived";"outbound-rtp"===t.type&&(_r3=!1,_o3="packetsSent");var _a2=t[_o3];(!_a2||_a2<0)&&(_a2=0);var _c2=_this10.getNonNegativeValue(_n14[_o3]),_d2=Math.max(0,_a2-_c2),_l=_this10.getNonNegativeValue(t.packetsLost),_h=_this10.getNonNegativeValue(_n14.packetsLost),_u=Math.max(0,_l-_h);if(_s5.setLoss({packetsTotal:_d2+_u,packetsLost:_u,isDownloadStream:_r3}),"inbound-rtp"===t.type){var _e23={height:t.frameHeight,width:t.frameWidth},_i13=t.framesPerSecond;_e23.height&&_e23.width&&_s5.setResolution(_e23),_s5.setFramerate(Math.round(_i13||0)),_s5.addBitrate({download:_this10._calculateBitrate(t,_n14,"bytesReceived"),upload:0});}else e[_i12]=_this10.getNonNegativeValue(t.bytesSent),_s5.addBitrate({download:0,upload:_this10._calculateBitrate(t,_n14,"bytesSent")});var _p2=_this10.currentStatsReport.get(t.codecId);if(_p2){var _e24=_p2.mimeType.split("/")[1];_e24&&_s5.setCodec(_e24);}}else if("track"===t.type&&t.kind===wn&&!t.remoteSource){var _e25={height:t.frameHeight,width:t.frameWidth},_n15=_this10.peerconnection.getLocalTracks(wn);if(null==_n15||!_n15.length)return;var _i14=_this10.peerconnection.getLocalSSRC(_n15[0]);if(!_i14)return;var _s6=_this10.ssrc2stats.get(_i14);_s6||(_s6=new Dn(),_this10.ssrc2stats.set(_i14,_s6)),_e25.height&&_e25.width&&_s6.setResolution(_e25);var _r4=t.framesPerSecond;if(!_r4){var _e26=_this10.previousStatsReport.get(t.id);if(_e26){var _n16=t.timestamp-_e26.timestamp;_n16>0&&t.framesSent&&(_r4=(t.framesSent-_e26.framesSent)/_n16*1e3);}if(!_r4)return;}var _o4=_this10.peerconnection.getActiveSimulcastStreams();_r4=_o4?Math.round(_r4/_o4):0,_s6.setFramerate(_r4);}}),this.eventEmitter.emit(xt,this.peerconnection,e),this._processAndEmitReport();},kn.prototype.processAudioLevelReport=function(){var _this11=this;this.baselineAudioLevelsReport&&this.currentAudioLevelsReport.forEach(function(e){if("track"!==e.type)return;var t=e.audioLevel;if(!t)return;var n=e.trackIdentifier,i=_this11.peerconnection.getSsrcByTrackId(n);if(i){var _e27=i===_this11.peerconnection.getLocalSSRC(_this11.peerconnection.getLocalTracks(Rn));_this11.eventEmitter.emit(Ot,_this11.peerconnection,i,t,_e27);}});};var On=n(9077).getLogger("modules/statistics/statistics.js");var Ln,xn=!1;function Fn(e){gn.isBackendInitialized()||gn.initBackend({callStatsID:e.callStatsID,callStatsSecret:e.callStatsSecret,userName:e.userName,aliasName:e.aliasName,applicationName:e.applicationName,getWiFiStatsMethod:e.getWiFiStatsMethod,confID:e.confID,siteID:e.siteID,configParams:e.configParams})||On.error("CallStats Backend initialization failed bad");}function jn(e,t){this.rtpStatsMap=new Map(),this.eventEmitter=new(nt())(),this.xmpp=e,this.options=t||{},this.callStatsIntegrationEnabled=this.options.callStatsID&&this.options.callStatsSecret&&this.options.enableCallStats&&!0!==jn.disableThirdPartyRequests,this.callStatsIntegrationEnabled&&(this.callStatsApplicationLogsDisabled=this.options.callStatsApplicationLogsDisabled,nn.isReactNative()?Fn(this.options):function(e){xn||(rn().loadScript(e.customScriptUrl||ot,!0,!0,void 0,function(){return Fn(e);}),xn=!0);}(this.options),this.options.confID||On.warn(\'"confID" is not defined\')),this.callsStatsInstances=new Map(),jn.instances.add(this);}jn.init=function(e){jn.audioLevelsEnabled=!e.disableAudioLevels,"number"==typeof e.pcStatsInterval&&(jn.pcStatsInterval=e.pcStatsInterval),"number"==typeof e.audioLevelsInterval&&(jn.audioLevelsInterval=e.audioLevelsInterval),"number"==typeof e.longTasksStatsInterval&&(jn.longTasksStatsInterval=e.longTasksStatsInterval),jn.disableThirdPartyRequests=e.disableThirdPartyRequests;},jn.audioLevelsEnabled=!1,jn.audioLevelsInterval=200,jn.pcStatsInterval=1e4,jn.disableThirdPartyRequests=!1,jn.analytics=an,Object.defineProperty(jn,"instances",{get:function get(){return Ln||(Ln=new Set()),Ln;}}),jn.prototype.startRemoteStats=function(e){this.stopRemoteStats(e);try{var _t17=new kn(e,jn.audioLevelsInterval,jn.pcStatsInterval,this.eventEmitter);_t17.start(jn.audioLevelsEnabled),this.rtpStatsMap.set(e.id,_t17);}catch(e){On.error("Failed to start collecting remote statistics: ".concat(e));}},jn.localStats=[],jn.startLocalStats=function(e,t){if(!jn.audioLevelsEnabled)return;var n=new vn(e,jn.audioLevelsInterval,t);this.localStats.push(n),n.start();},jn.prototype.addAudioLevelListener=function(e){jn.audioLevelsEnabled&&this.eventEmitter.on(Ot,e);},jn.prototype.removeAudioLevelListener=function(e){jn.audioLevelsEnabled&&this.eventEmitter.removeListener(Ot,e);},jn.prototype.addBeforeDisposedListener=function(e){this.eventEmitter.on(Lt,e);},jn.prototype.removeBeforeDisposedListener=function(e){this.eventEmitter.removeListener(Lt,e);},jn.prototype.addConnectionStatsListener=function(e){this.eventEmitter.on(Ft,e);},jn.prototype.removeConnectionStatsListener=function(e){this.eventEmitter.removeListener(Ft,e);},jn.prototype.addByteSentStatsListener=function(e){this.eventEmitter.on(xt,e);},jn.prototype.removeByteSentStatsListener=function(e){this.eventEmitter.removeListener(xt,e);},jn.prototype.addLongTasksStatsListener=function(e){this.eventEmitter.on(jt,e);},jn.prototype.attachLongTasksStats=function(e){var _this12=this;nn.supportsPerformanceObserver()?(this.performanceObserverStats=new Tn(this.eventEmitter,jn.longTasksStatsInterval),e.on(G,function(){return _this12.performanceObserverStats.startObserver();}),e.on(q,function(){return _this12.performanceObserverStats.stopObserver();})):On.warn("Performance observer for long tasks not supported by browser!");},jn.prototype.getLongTasksStats=function(){return this.performanceObserverStats?this.performanceObserverStats.getLongTasksStats():null;},jn.prototype.removeLongTasksStatsListener=function(e){this.eventEmitter.removeListener(jt,e);},jn.prototype.setSpeakerList=function(e){for(var _i15=0,_Array$from=Array.from(this.rtpStatsMap.values());_i15<_Array$from.length;_i15++){var _t18=_Array$from[_i15];_t18.peerconnection.isP2P||_t18.setSpeakerList(e);}},jn.prototype.dispose=function(){try{this.callsStatsInstances.size||this.eventEmitter.emit(Lt);var _iterator5=_createForOfIteratorHelper(this.callsStatsInstances.values()),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _e28=_step5.value;this.stopCallStats(_e28.tpc);}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}var _iterator6=_createForOfIteratorHelper(this.rtpStatsMap.keys()),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var _e29=_step6.value;this._stopRemoteStats(_e29);}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}this.eventEmitter&&this.eventEmitter.removeAllListeners();}finally{jn.instances.delete(this);}},jn.stopLocalStats=function(e){if(jn.audioLevelsEnabled)for(var _t19=0;_t19<jn.localStats.length;_t19++)if(jn.localStats[_t19].stream===e){jn.localStats.splice(_t19,1)[0].stop();break;}},jn.prototype._stopRemoteStats=function(e){var t=this.rtpStatsMap.get(e);t&&(t.stop(),this.rtpStatsMap.delete(e));},jn.prototype.stopRemoteStats=function(e){this._stopRemoteStats(e.id);},jn.prototype.startCallStats=function(e,t){if(!this.callStatsIntegrationEnabled)return;if(this.callsStatsInstances.has(e.id))return void On.error("CallStats instance for ${tpc} exists already");On.info("Starting CallStats for ".concat(e,"..."));var n=new gn(e,{confID:this.options.confID,remoteUserID:t});this.callsStatsInstances.set(e.id,n);},jn._getAllCallStatsInstances=function(){var e=new Set();var _iterator7=_createForOfIteratorHelper(jn.instances),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var _t20=_step7.value;var _iterator8=_createForOfIteratorHelper(_t20.callsStatsInstances.values()),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var _n17=_step8.value;e.add(_n17);}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}return e;},jn.prototype.stopCallStats=function(e){var t=this.callsStatsInstances.get(e.id);t&&(1===this.callsStatsInstances.size&&this.eventEmitter.emit(Lt),this.callsStatsInstances.delete(e.id),t.sendTerminateEvent());},jn.prototype.isCallstatsEnabled=function(){return this.callStatsIntegrationEnabled;},jn.prototype.sendConnectionResumeOrHoldEvent=function(e,t){var n=this.callsStatsInstances.get(e.id);n&&n.sendResumeOrHoldEvent(t);},jn.prototype.sendIceConnectionFailedEvent=function(e){var t=this.callsStatsInstances.get(e.id);t&&t.sendIceConnectionFailedEvent();},jn.prototype.sendMuteEvent=function(e,t,n){var i=e&&this.callsStatsInstances.get(e.id);gn.sendMuteEvent(t,n,i);},jn.prototype.sendScreenSharingEvent=function(e,t){var _iterator9=_createForOfIteratorHelper(this.callsStatsInstances.values()),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var _n18=_step9.value;_n18.sendScreenSharingEvent(e,t);}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}},jn.prototype.sendDominantSpeakerEvent=function(e){var _iterator10=_createForOfIteratorHelper(this.callsStatsInstances.values()),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var _e30=_step10.value;_e30.sendDominantSpeakerEvent();}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}this.xmpp.sendDominantSpeakerEvent(e);},jn.sendActiveDeviceListEvent=function(e){var t=jn._getAllCallStatsInstances();if(t.size){var _iterator11=_createForOfIteratorHelper(t),_step11;try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var _n19=_step11.value;gn.sendActiveDeviceListEvent(e,_n19);}}catch(err){_iterator11.e(err);}finally{_iterator11.f();}}else gn.sendActiveDeviceListEvent(e,null);},jn.prototype.associateStreamWithVideoTag=function(e,t,n,i,s,r){var o=this.callsStatsInstances.get(e.id);o&&o.associateStreamWithVideoTag(t,n,i,s,r);},jn.sendGetUserMediaFailed=function(e){var t=e instanceof Et?function(e){var t=new Error();return t.stack=e.stack,t.name=(e.name||"Unknown error")+(e.gum&&e.gum.error&&e.gum.error.name?" - ".concat(e.gum.error.name):""),t.constraintName=e.gum&&e.gum.constraints?JSON.stringify(e.gum.constraints):"",t.message=e.message,t;}(e):e,n=jn._getAllCallStatsInstances();if(n.size){var _iterator12=_createForOfIteratorHelper(n),_step12;try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var _e31=_step12.value;gn.sendGetUserMediaFailed(t,_e31);}}catch(err){_iterator12.e(err);}finally{_iterator12.f();}}else gn.sendGetUserMediaFailed(t,null);},jn.prototype.sendCreateOfferFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendCreateOfferFailed(e);},jn.prototype.sendCreateAnswerFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendCreateAnswerFailed(e);},jn.prototype.sendSetLocalDescFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendSetLocalDescFailed(e);},jn.prototype.sendSetRemoteDescFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendSetRemoteDescFailed(e);},jn.prototype.sendAddIceCandidateFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendAddIceCandidateFailed(e);},jn.sendLog=function(e){var t=new Set();var _iterator13=_createForOfIteratorHelper(jn.instances),_step13;try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){var _e32=_step13.value;if(_e32.callStatsApplicationLogsDisabled)return;_e32.callsStatsInstances.size&&t.add(_e32.callsStatsInstances.values().next().value);}}catch(err){_iterator13.e(err);}finally{_iterator13.f();}if(t.size){var _iterator14=_createForOfIteratorHelper(t),_step14;try{for(_iterator14.s();!(_step14=_iterator14.n()).done;){var _n20=_step14.value;gn.sendApplicationLog(e,_n20);}}catch(err){_iterator14.e(err);}finally{_iterator14.f();}}else gn.sendApplicationLog(e,null);},jn.prototype.sendFeedback=function(e,t){return jn.analytics.sendEvent("feedback",{rating:e,comment:t}),gn.sendFeedback(this.options.confID,e,t);},jn.LOCAL_JID=n(4806).LOCAL_JID,jn.reportGlobalError=function(e){e instanceof Et&&e.gum?jn.sendGetUserMediaFailed(e):jn.sendLog(e);},jn.sendAnalyticsAndLog=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e?(t="object"==_typeof(e)?e:{name:e,properties:n},On.log(JSON.stringify(t)),this.analytics.sendEvent(e,n)):On.warn("No event or event name given.");},jn.sendAnalytics=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.analytics.sendEvent(e,t);};var $n=n(4832),Un=n.n($n),Bn=n(1645),Jn=n.n(Bn),Vn=n(1122),Hn=n.n(Vn),Gn=n(3514),qn=n.n(Gn),Kn=n(4188),zn=n.n(Kn);var Wn=(0,g.getLogger)("JitsiConferenceEventManager.js");function Qn(e){this.conference=e,this.xmppListeners={},e.on(Oe,function(t){if(!t.isLocal()||!e.statistics)return;var n=t.isP2P?e.p2pJingleSession:e.jvbJingleSession,i=n&&n.peerconnection||null;e.statistics.sendMuteEvent(i,t.isMuted(),t.getType());});}Qn.prototype.setupChatRoomListeners=function(){var _this13=this;var e=this.conference,t=e.room;this.chatRoomForwarder=new(Un())(t,this.conference.eventEmitter),t.addListener(zn().ICE_RESTARTING,function(t){t.isP2P||e.rtc.closeBridgeChannel();}),t.addListener(zn().PARTICIPANT_FEATURES_CHANGED,function(t,n){var i=e.getParticipantById(rt.Strophe.getResourceFromJid(t));i&&(i.setFeatures(n),e.eventEmitter.emit(Se,i));}),t.addListener(zn().ICE_RESTART_SUCCESS,function(t,n){!t.isP2P&&e._setBridgeChannel(n,t.peerconnection);}),t.addListener(zn().AUDIO_MUTED_BY_FOCUS,function(t){jn.sendAnalytics(Nt(Rn)),e.mutedByFocusActor=t,e.rtc.setAudioMute(!0).then(function(){e.isMutedByFocus=!0,e.mutedByFocusActor=null;}).catch(function(t){e.mutedByFocusActor=null,Wn.warn("Error while audio muting due to focus request",t);});}),t.addListener(zn().VIDEO_MUTED_BY_FOCUS,function(t){jn.sendAnalytics(Nt(wn)),e.mutedVideoByFocusActor=t,e.rtc.setVideoMute(!0).then(function(){e.isVideoMutedByFocus=!0,e.mutedVideoByFocusActor=null;}).catch(function(t){e.mutedVideoByFocusActor=null,Wn.warn("Error while video muting due to focus request",t);});}),this.chatRoomForwarder.forward(zn().SUBJECT_CHANGED,Pe),this.chatRoomForwarder.forward(zn().MUC_JOINED,G),this.chatRoomForwarder.forward(zn().MUC_JOIN_IN_PROGRESS,H),this.chatRoomForwarder.forward(zn().MEETING_ID_SET,K),t.addListener(zn().MUC_JOINED,function(){_this13.conference._onMucJoined(),_this13.conference.isJvbConnectionInterrupted=!1,Object.keys(t.connectionTimes).forEach(function(e){var n=It("conference_".concat(e),{value:t.connectionTimes[e]});jn.sendAnalytics(n);}),Object.keys(t.xmpp.connectionTimes).forEach(function(e){var n=It("xmpp_".concat(e),{value:t.xmpp.connectionTimes[e]});jn.sendAnalytics(n);});}),t.addListener(zn().RENEGOTIATION_FAILED,function(t,n){n.isP2P||e.eventEmitter.emit(V,k,t);}),this.chatRoomForwarder.forward(zn().ROOM_JOIN_ERROR,V,b),this.chatRoomForwarder.forward(zn().ROOM_CONNECT_ERROR,V,b),this.chatRoomForwarder.forward(zn().ROOM_CONNECT_NOT_ALLOWED_ERROR,V,R),this.chatRoomForwarder.forward(zn().ROOM_CONNECT_MEMBERS_ONLY_ERROR,V,A),this.chatRoomForwarder.forward(zn().ROOM_MAX_USERS_ERROR,V,C),this.chatRoomForwarder.forward(zn().PASSWORD_REQUIRED,V,L),this.chatRoomForwarder.forward(zn().AUTHENTICATION_REQUIRED,V,v),this.chatRoomForwarder.forward(zn().BRIDGE_DOWN,V,F),t.addListener(zn().BRIDGE_DOWN,function(){return jn.sendAnalytics(function(){var e="bridge.down";return{action:e,actionSubject:e,type:Ct};}());}),t.addListener(zn().CONNECTION_RESTARTED,function(t){e._onConferenceRestarted(t);}),this.chatRoomForwarder.forward(zn().RESERVATION_ERROR,V,x),this.chatRoomForwarder.forward(zn().GRACEFUL_SHUTDOWN,V,M),t.addListener(zn().CONNECTION_ICE_FAILED,function(t){e._onIceConnectionFailed(t);}),this.chatRoomForwarder.forward(zn().MUC_DESTROYED,V,E),this.chatRoomForwarder.forward(zn().CHAT_ERROR_RECEIVED,J,S),this.chatRoomForwarder.forward(zn().SETTINGS_ERROR_RECEIVED,J,y),this.chatRoomForwarder.forward(zn().FOCUS_DISCONNECTED,V,I),t.addListener(zn().FOCUS_LEFT,function(){jn.sendAnalytics(function(){var e="focus.left";return{action:e,actionSubject:e,type:Ct};}()),e.eventEmitter.emit(V,P);}),t.addListener(zn().SESSION_ACCEPT_TIMEOUT,function(e){jn.sendAnalyticsAndLog(Mt("session-accept.timeout",{p2p:e.isP2P}));}),t.addListener(zn().RECORDER_STATE_CHANGED,function(t,n){if(n){var _i16=rt.Strophe.getResourceFromJid(n),_s7=e.getParticipantById(_i16)||_i16;"off"===t.getStatus()?t.setTerminator(_s7):"on"===t.getStatus()&&t.setInitiator(_s7);}e.eventEmitter.emit(Te,t);}),this.chatRoomForwarder.forward(zn().TRANSCRIPTION_STATUS_CHANGED,Fe),this.chatRoomForwarder.forward(zn().VIDEO_SIP_GW_AVAILABILITY_CHANGED,Re),this.chatRoomForwarder.forward(zn().VIDEO_SIP_GW_SESSION_STATE_CHANGED,Ae),this.chatRoomForwarder.forward(zn().PHONE_NUMBER_CHANGED,Ce),t.setParticipantPropertyListener(function(t,n){var i=e.getParticipantById(n);i&&i.setProperty(t.tagName.substring("jitsi_participant_".length),t.value);}),t.addListener(zn().KICKED,e.onMemberKicked.bind(e)),t.addListener(zn().SUSPEND_DETECTED,e.onSuspendDetected.bind(e)),this.chatRoomForwarder.forward(zn().MUC_LOCK_CHANGED,ce),this.chatRoomForwarder.forward(zn().MUC_MEMBERS_ONLY_CHANGED,ue),t.addListener(zn().MUC_MEMBER_JOINED,e.onMemberJoined.bind(e)),this.chatRoomForwarder.forward(zn().MUC_LOBBY_MEMBER_JOINED,He),this.chatRoomForwarder.forward(zn().MUC_LOBBY_MEMBER_UPDATED,Ge),this.chatRoomForwarder.forward(zn().MUC_LOBBY_MEMBER_LEFT,qe),t.addListener(zn().MUC_MEMBER_BOT_TYPE_CHANGED,e._onMemberBotTypeChanged.bind(e)),t.addListener(zn().MUC_MEMBER_LEFT,e.onMemberLeft.bind(e)),this.chatRoomForwarder.forward(zn().MUC_LEFT,q),this.chatRoomForwarder.forward(zn().MUC_DENIED_ACCESS,V,w),t.addListener(zn().DISPLAY_NAME_CHANGED,e.onDisplayNameChanged.bind(e)),t.addListener(zn().LOCAL_ROLE_CHANGED,function(t){e.onLocalRoleChanged(t),e.statistics&&e.isModerator()&&e.on(Te,function(e){var t={error:e.getError(),id:"recorder_status",status:e.getStatus()};jn.sendLog(JSON.stringify(t));});}),t.addListener(zn().MUC_ROLE_CHANGED,e.onUserRoleChanged.bind(e)),t.addListener(qn().IDENTITY_UPDATED,function(t,n){e.authEnabled=t,e.authIdentity=n,e.eventEmitter.emit(U,t,n);}),t.addListener(zn().MESSAGE_RECEIVED,function(t,n,i,s){var r=rt.Strophe.getResourceFromJid(t);e.eventEmitter.emit(pe,r,n,s);}),t.addListener(zn().PRIVATE_MESSAGE_RECEIVED,function(t,n,i,s){var r=rt.Strophe.getResourceFromJid(t);e.eventEmitter.emit(_e,r,n,s);}),t.addListener(zn().PRESENCE_STATUS,function(t,n){var i=rt.Strophe.getResourceFromJid(t),s=e.getParticipantById(i);s&&s._status!==n&&(s._status=n,e.eventEmitter.emit(Be,i,n));}),t.addListener(zn().JSON_MESSAGE_RECEIVED,function(t,n){var i=rt.Strophe.getResourceFromJid(t),s=e.getParticipantById(i);s?e.eventEmitter.emit(ne,s,n):e.eventEmitter.emit(ge,i,n);}),t.addPresenceListener("startmuted",function(t,n){var i=!1;if(e.myUserId()===n&&e.isModerator())i=!0;else{var _t21=e.getParticipantById(n);_t21&&_t21.isModerator()&&(i=!0);}if(!i)return;var s="true"===t.attributes.audio,r="true"===t.attributes.video;var o=!1;s!==e.startMutedPolicy.audio&&(e.startMutedPolicy.audio=s,o=!0),r!==e.startMutedPolicy.video&&(e.startMutedPolicy.video=r,o=!0),o&&e.eventEmitter.emit(we,e.startMutedPolicy);}),e.statistics&&(t.addListener(zn().CONNECTION_ICE_FAILED,function(t){e.statistics.sendIceConnectionFailedEvent(t.peerconnection);}),t.addListener(zn().ADD_ICE_CANDIDATE_FAILED,function(t,n){e.statistics.sendAddIceCandidateFailed(t,n);})),this.chatRoomForwarder.forward(zn().BREAKOUT_ROOMS_MOVE_TO_ROOM,Ze),this.chatRoomForwarder.forward(zn().BREAKOUT_ROOMS_UPDATED,et);},Qn.prototype.setupRTCListeners=function(){var e=this.conference,t=e.rtc;t.addListener(Jn().REMOTE_TRACK_ADDED,e.onRemoteTrackAdded.bind(e)),t.addListener(Jn().REMOTE_TRACK_REMOVED,e.onRemoteTrackRemoved.bind(e)),t.addListener(Jn().DOMINANT_SPEAKER_CHANGED,function(t,n){if(e.lastDominantSpeaker!==t&&e.room){if(e.lastDominantSpeaker=t,e.eventEmitter.emit(Z,t,n),n&&n.length){var _i17=n.slice(0);e.myUserId!==t&&_i17.splice(0,0,t),_i17.length>5&&_i17.splice(5,_i17.length-5),e.statistics&&e.statistics.setSpeakerList(_i17);}e.statistics&&e.myUserId()===t&&e.statistics.sendDominantSpeakerEvent(e.room.roomjid);}}),t.addListener(Jn().DATA_CHANNEL_OPEN,function(){var t=window.performance.now(),n="data.channel.opened";Wn.log("(TIME) ".concat(n,":\\t"),t),e.room.connectionTimes[n]=t,jn.sendAnalytics(It(n,{value:t})),e.eventEmitter.emit(X);}),t.addListener(Jn().ENDPOINT_MESSAGE_RECEIVED,function(t,n){var i=e.getParticipantById(t);i?e.eventEmitter.emit(ne,i,n):Wn.warn("Ignored ENDPOINT_MESSAGE_RECEIVED for not existing participant: ".concat(t),n);}),t.addListener(Jn().ENDPOINT_STATS_RECEIVED,function(t,n){var i=e.getParticipantById(t);i?e.eventEmitter.emit(ie,i,n):Wn.warn("Ignoring ENDPOINT_STATS_RECEIVED for a non-existant participant: ".concat(t));}),t.addListener(Jn().LOCAL_UFRAG_CHANGED,function(e,t){e.isP2P||jn.sendLog(JSON.stringify({id:"local_ufrag",value:t}));}),t.addListener(Jn().REMOTE_UFRAG_CHANGED,function(e,t){e.isP2P||jn.sendLog(JSON.stringify({id:"remote_ufrag",value:t}));}),t.addListener(Jn().CREATE_ANSWER_FAILED,function(t,n){e.statistics.sendCreateAnswerFailed(t,n),n.isP2P||e.eventEmitter.emit(V,k,t);}),t.addListener(Jn().CREATE_OFFER_FAILED,function(t,n){e.statistics.sendCreateOfferFailed(t,n),n.isP2P||e.eventEmitter.emit(V,k,t);}),t.addListener(Jn().SET_LOCAL_DESCRIPTION_FAILED,function(t,n){e.statistics.sendSetLocalDescFailed(t,n),n.isP2P||e.eventEmitter.emit(V,k,t);}),t.addListener(Jn().SET_REMOTE_DESCRIPTION_FAILED,function(t,n){e.statistics.sendSetRemoteDescFailed(t,n),n.isP2P||e.eventEmitter.emit(V,k,t);}),t.addListener(Jn().LOCAL_TRACK_SSRC_UPDATED,function(t,n){t.isVideoTrack()&&t.videoType===Hn().DESKTOP&&e.statistics.sendScreenSharingEvent(!0,n);});},Qn.prototype.removeXMPPListeners=function(){var _this14=this;var e=this.conference;Object.keys(this.xmppListeners).forEach(function(t){e.xmpp.removeListener(t,_this14.xmppListeners[t]);}),this.xmppListeners={};},Qn.prototype.setupXMPPListeners=function(){var e=this.conference;this._addConferenceXMPPListener(zn().CALL_INCOMING,e.onIncomingCall.bind(e)),this._addConferenceXMPPListener(zn().CALL_ACCEPTED,e.onCallAccepted.bind(e)),this._addConferenceXMPPListener(zn().TRANSPORT_INFO,e.onTransportInfo.bind(e)),this._addConferenceXMPPListener(zn().CALL_ENDED,e.onCallEnded.bind(e)),this._addConferenceXMPPListener(zn().START_MUTED_FROM_FOCUS,function(t,n){e.options.config.ignoreStartMuted||(e.startAudioMuted=t,e.startVideoMuted=n,e.getLocalTracks().forEach(function(t){switch(t.getType()){case Rn:e.startAudioMuted&&t.mute();break;case wn:e.startVideoMuted&&t.mute();}}),e.eventEmitter.emit(Ie));}),this._addConferenceXMPPListener(zn().CONFERENCE_TIMESTAMP_RECEIVED,function(t){e.eventEmitter.emit(ee,t);}),this._addConferenceXMPPListener(zn().AV_MODERATION_CHANGED,function(t,n,i){var s=e.getParticipants().find(function(e){return e.getJid()===i;});e.eventEmitter.emit(We,{enabled:t,mediaType:n,actor:s});}),this._addConferenceXMPPListener(zn().AV_MODERATION_PARTICIPANT_APPROVED,function(t,n){var i=e.getParticipantById(rt.Strophe.getResourceFromJid(n));i&&e.eventEmitter.emit(Qe,{participant:i,mediaType:t});}),this._addConferenceXMPPListener(zn().AV_MODERATION_PARTICIPANT_REJECTED,function(t,n){var i=e.getParticipantById(rt.Strophe.getResourceFromJid(n));i&&e.eventEmitter.emit(Xe,{participant:i,mediaType:t});}),this._addConferenceXMPPListener(zn().AV_MODERATION_APPROVED,function(t){return e.eventEmitter.emit(Ke,{mediaType:t});}),this._addConferenceXMPPListener(zn().AV_MODERATION_REJECTED,function(t){e.eventEmitter.emit(ze,{mediaType:t});});},Qn.prototype._addConferenceXMPPListener=function(e,t){this.xmppListeners[e]=t,this.conference.xmpp.addListener(e,t);},Qn.prototype.setupStatisticsListeners=function(){var e=this.conference;e.statistics&&(e.statistics.addAudioLevelListener(function(t,n,i,s){e.rtc.setAudioLevel(t,n,i,s);}),e.statistics.addBeforeDisposedListener(function(){e.eventEmitter.emit(B);}),e.options.config.startSilent||e.statistics.addByteSentStatsListener(function(t,n){e.getLocalTracks(Rn).forEach(function(e){var i=t.getLocalSSRC(e);i&&n.hasOwnProperty(i)&&e.onByteSentStatsReceived(t,n[i]);});}));};var Xn="track.stopped",Yn="track.audioLevelsChanged",Zn="track.audioOutputChanged",ei="track.trackMuteChanged",ti="track.videoTypeChanged",ni="track.no_data_from_source",ii="track.no_audio_input",si=(0,g.getLogger)("modules/connectivity/ParticipantConnectionStatus.js"),ri={ACTIVE:"active",INACTIVE:"inactive",INTERRUPTED:"interrupted",RESTORING:"restoring"};var oi=/*#__PURE__*/function(){function oi(e,t,n){_classCallCheck(this,oi);this.rtc=e,this.conference=t,this.trackTimers={},this.connStatusFromJvb={},this.outOfLastNTimeout="number"==typeof n.outOfLastNTimeout?n.outOfLastNTimeout:500,this.p2pRtcMuteTimeout="number"==typeof n.p2pRtcMuteTimeout?n.p2pRtcMuteTimeout:2500,this.rtcMuteTimeout="number"==typeof n.rtcMuteTimeout?n.rtcMuteTimeout:1e4,this.rtcMutedTimestamp={},si.info("RtcMuteTimeout set to: ".concat(this.rtcMuteTimeout)),this.enteredLastNTimestamp=new Map(),this.restoringTimers=new Map(),this.connectionStatusMap=new Map();}_createClass(oi,[{key:"_getVideoFrozenTimeout",value:function _getVideoFrozenTimeout(e){return this.rtc.isInLastN(e)?this.rtcMuteTimeout:this.conference.isP2PActive()?this.p2pRtcMuteTimeout:this.outOfLastNTimeout;}},{key:"init",value:function init(){this._onEndpointConnStatusChanged=this.onEndpointConnStatusChanged.bind(this),this.rtc.addListener(Jn().ENDPOINT_CONN_STATUS_CHANGED,this._onEndpointConnStatusChanged),this._onP2PStatus=this.refreshConnectionStatusForAll.bind(this),this.conference.on(Ee,this._onP2PStatus),this._onUserLeft=this.onUserLeft.bind(this),this.conference.on($e,this._onUserLeft),nn.supportsVideoMuteOnConnInterrupted()&&(this._onTrackRtcMuted=this.onTrackRtcMuted.bind(this),this.rtc.addListener(Jn().REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this._onTrackRtcUnmuted=this.onTrackRtcUnmuted.bind(this),this.rtc.addListener(Jn().REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this._onRemoteTrackAdded=this.onRemoteTrackAdded.bind(this),this.conference.on(Ne,this._onRemoteTrackAdded),this._onRemoteTrackRemoved=this.onRemoteTrackRemoved.bind(this),this.conference.on(Le,this._onRemoteTrackRemoved),this._onSignallingMuteChanged=this.onSignallingMuteChanged.bind(this),this._onTrackVideoTypeChanged=this.onTrackVideoTypeChanged.bind(this)),this._onLastNChanged=this._onLastNChanged.bind(this),this.conference.on(ae,this._onLastNChanged),this._onLastNValueChanged=this.refreshConnectionStatusForAll.bind(this),this.rtc.on(Jn().LASTN_VALUE_CHANGED,this._onLastNValueChanged);}},{key:"dispose",value:function dispose(){this.rtc.removeListener(Jn().ENDPOINT_CONN_STATUS_CHANGED,this._onEndpointConnStatusChanged),nn.supportsVideoMuteOnConnInterrupted()&&(this.rtc.removeListener(Jn().REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this.rtc.removeListener(Jn().REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this.conference.off(Ne,this._onRemoteTrackAdded),this.conference.off(Le,this._onRemoteTrackRemoved)),this.conference.off(ae,this._onLastNChanged),this.rtc.removeListener(Jn().LASTN_VALUE_CHANGED,this._onLastNValueChanged),this.conference.off(Ee,this._onP2PStatus),this.conference.off($e,this._onUserLeft);var e=Object.keys(this.trackTimers);for(var _i18=0,_e33=e;_i18<_e33.length;_i18++){var _t22=_e33[_i18];this.clearTimeout(_t22),this.clearRtcMutedTimestamp(_t22);}for(var _e34 in this.connectionStatusMap)this.connectionStatusMap.hasOwnProperty(_e34)&&this.onUserLeft(_e34);this.connStatusFromJvb={};}},{key:"onEndpointConnStatusChanged",value:function onEndpointConnStatusChanged(e,t){si.debug("Detector RTCEvents.ENDPOINT_CONN_STATUS_CHANGED(".concat(Date.now(),"): ").concat(e,": ").concat(t)),e!==this.conference.myUserId()&&(this.connStatusFromJvb[e]=t,this.figureOutConnectionStatus(e));}},{key:"_changeConnectionStatus",value:function _changeConnectionStatus(e,t){if(e.getConnectionStatus()!==t){var _n21=e.getId();e._setConnectionStatus(t),si.debug("Emit endpoint conn status(".concat(Date.now(),") ").concat(_n21,": ").concat(t)),jn.sendLog(JSON.stringify({id:"peer.conn.status",participant:_n21,status:t})),this.conference.eventEmitter.emit(ve,_n21,t);}}},{key:"clearTimeout",value:function clearTimeout(e){this.trackTimers[e]&&(window.clearTimeout(this.trackTimers[e]),this.trackTimers[e]=null);}},{key:"clearRtcMutedTimestamp",value:function clearRtcMutedTimestamp(e){this.rtcMutedTimestamp[e]=null;}},{key:"onRemoteTrackAdded",value:function onRemoteTrackAdded(e){var _this15=this;e.isLocal()||e.getType()!==wn||(si.debug("Detector on remote track added for: ".concat(e.getParticipantId())),e.on(ei,this._onSignallingMuteChanged),e.on(ti,function(t){return _this15._onTrackVideoTypeChanged(e,t);}));}},{key:"onRemoteTrackRemoved",value:function onRemoteTrackRemoved(e){if(!e.isLocal()&&e.getType()===wn){var _t23=e.getParticipantId();si.debug("Detector on remote track removed: ".concat(_t23)),e.off(ei,this._onSignallingMuteChanged),this.clearTimeout(_t23),this.clearRtcMutedTimestamp(_t23),this.figureOutConnectionStatus(_t23);}}},{key:"isVideoTrackFrozen",value:function isVideoTrackFrozen(e){if(!nn.supportsVideoMuteOnConnInterrupted())return!1;var t=e.getId(),n=e.hasAnyVideoTrackWebRTCMuted(),i=this.rtcMutedTimestamp[t],s=this._getVideoFrozenTimeout(t);return n&&"number"==typeof i&&Date.now()-i>=s;}},{key:"refreshConnectionStatusForAll",value:function refreshConnectionStatusForAll(){var e=this.conference.getParticipants();var _iterator15=_createForOfIteratorHelper(e),_step15;try{for(_iterator15.s();!(_step15=_iterator15.n()).done;){var _t24=_step15.value;this.figureOutConnectionStatus(_t24.getId());}}catch(err){_iterator15.e(err);}finally{_iterator15.f();}}},{key:"figureOutConnectionStatus",value:function figureOutConnectionStatus(e){var t=this.conference.getParticipantById(e);if(!t)return void si.debug("figure out conn status - no participant for: ".concat(e));var n=this.conference.isP2PActive(),i=this._isRestoringTimedout(e),s=0===this.conference.getLastN(),r=t.isVideoMuted()||s,o=this.isVideoTrackFrozen(t),a=this.rtc.isInLastN(e);var c=this.connStatusFromJvb[e];"boolean"!=typeof c&&(c=!0);var d=n?oi._getNewStateForP2PMode(r,o):oi._getNewStateForJvbMode(c,a,i,r,o);d!==ri.RESTORING&&this._clearRestoringTimer(e),si.debug("Figure out conn status for ".concat(e,", is video muted: ").concat(r," is active(jvb): ").concat(c," video track frozen: ").concat(o," p2p mode: ").concat(n," is in last N: ").concat(a," currentStatus => newStatus: ").concat(t.getConnectionStatus()," => ").concat(d));var l=this.connectionStatusMap[e]||{};if(!("p2p"in l)||!("connectionStatus"in l)||l.p2p!==n||l.connectionStatus!==d){var _i19=Date.now();if(this.maybeSendParticipantConnectionStatusEvent(e,_i19),this.connectionStatusMap[e]=_objectSpread(_objectSpread({},l),{},{connectionStatus:d,p2p:n,startedMs:_i19}),!("videoType"in this.connectionStatusMap[e])){var _n22=t.getTracksByMediaType(wn);Array.isArray(_n22)&&0!==_n22.length&&(this.connectionStatusMap[e].videoType=_n22[0].videoType);}}this._changeConnectionStatus(t,d);}},{key:"maybeSendParticipantConnectionStatusEvent",value:function maybeSendParticipantConnectionStatusEvent(e,t){var n=this.connectionStatusMap[e];n&&"startedMs"in n&&"videoType"in n&&"connectionStatus"in n&&"p2p"in n&&(n.value=t-n.startedMs,jn.sendAnalytics(function(){return{type:Ct,source:"peer.conn.status",action:"duration",attributes:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};}(n)));}},{key:"_onLastNChanged",value:function _onLastNChanged(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var n=Date.now();si.debug("LastN endpoints changed leaving=".concat(e,", entering=").concat(t," at ").concat(n)),nn.supportsVideoMuteOnConnInterrupted()||this.refreshConnectionStatusForAll();var _iterator16=_createForOfIteratorHelper(e),_step16;try{for(_iterator16.s();!(_step16=_iterator16.n()).done;){var _t25=_step16.value;this.enteredLastNTimestamp.delete(_t25),this._clearRestoringTimer(_t25),nn.supportsVideoMuteOnConnInterrupted()&&this.figureOutConnectionStatus(_t25);}}catch(err){_iterator16.e(err);}finally{_iterator16.f();}var _iterator17=_createForOfIteratorHelper(t),_step17;try{for(_iterator17.s();!(_step17=_iterator17.n()).done;){var _e35=_step17.value;this.enteredLastNTimestamp.set(_e35,n),nn.supportsVideoMuteOnConnInterrupted()&&this.figureOutConnectionStatus(_e35);}}catch(err){_iterator17.e(err);}finally{_iterator17.f();}}},{key:"_clearRestoringTimer",value:function _clearRestoringTimer(e){var t=this.restoringTimers.get(e);t&&(clearTimeout(t),this.restoringTimers.delete(e));}},{key:"_isRestoringTimedout",value:function _isRestoringTimedout(e){var _this16=this;var t=this.enteredLastNTimestamp.get(e);return!!(t&&Date.now()-t>=1e4)||(this.restoringTimers.get(e)||this.restoringTimers.set(e,setTimeout(function(){return _this16.figureOutConnectionStatus(e);},1e4)),!1);}},{key:"onUserLeft",value:function onUserLeft(e){this.maybeSendParticipantConnectionStatusEvent(e,Date.now()),delete this.connectionStatusMap[e];}},{key:"onTrackRtcMuted",value:function onTrackRtcMuted(e){var _this17=this;var t=e.getParticipantId(),n=this.conference.getParticipantById(t);if(si.debug("Detector track RTC muted: ".concat(t),Date.now()),n){if(this.rtcMutedTimestamp[t]=Date.now(),!n.isVideoMuted()){this.clearTimeout(t);var _e36=this._getVideoFrozenTimeout(t);this.trackTimers[t]=window.setTimeout(function(){si.debug("Set RTC mute timeout for: ".concat(t,"                     of ").concat(_e36," ms")),_this17.clearTimeout(t),_this17.figureOutConnectionStatus(t);},_e36);}}else si.error("No participant for id: ".concat(t));}},{key:"onTrackRtcUnmuted",value:function onTrackRtcUnmuted(e){var t=e.getParticipantId();si.debug("Detector track RTC unmuted: ".concat(t),Date.now()),this.clearTimeout(t),this.clearRtcMutedTimestamp(t),this.figureOutConnectionStatus(t);}},{key:"onSignallingMuteChanged",value:function onSignallingMuteChanged(e){var t=e.getParticipantId();si.debug("Detector on track signalling mute changed: ".concat(t),e.isMuted()),this.figureOutConnectionStatus(t);}},{key:"onTrackVideoTypeChanged",value:function onTrackVideoTypeChanged(e,t){var n=e.getParticipantId(),i=Date.now();this.maybeSendParticipantConnectionStatusEvent(n,i),this.connectionStatusMap[n]=_objectSpread(_objectSpread({},this.connectionStatusMap[n]||{}),{},{videoType:t,startedMs:i});}}],[{key:"_getNewStateForJvbMode",value:function _getNewStateForJvbMode(e,t,n,i,s){return e?i?ri.ACTIVE:nn.supportsVideoMuteOnConnInterrupted()?s?t?n?ri.INTERRUPTED:ri.RESTORING:ri.INACTIVE:ri.ACTIVE:t?ri.ACTIVE:ri.INACTIVE:ri.INTERRUPTED;}},{key:"_getNewStateForP2PMode",value:function _getNewStateForP2PMode(e,t){return nn.supportsVideoMuteOnConnInterrupted()?e||!t?ri.ACTIVE:ri.INTERRUPTED:ri.ACTIVE;}}]);return oi;}();var ai=/*#__PURE__*/function(){function ai(e,t,n,i,s,r,o,a,c){_classCallCheck(this,ai);this._jid=e,this._id=rt.Strophe.getResourceFromJid(e),this._conference=t,this._displayName=n,this._supportsDTMF=!1,this._tracks=[],this._role="none",this._status=r,this._hidden=i,this._statsID=s,this._connectionStatus=ri.ACTIVE,this._properties={},this._identity=o,this._isReplacing=a,this._isReplaced=c,this._features=new Set();}_createClass(ai,[{key:"getConference",value:function getConference(){return this._conference;}},{key:"getProperty",value:function getProperty(e){return this._properties[e];}},{key:"hasAnyVideoTrackWebRTCMuted",value:function hasAnyVideoTrackWebRTCMuted(){return this.getTracks().some(function(e){return e.getType()===wn&&e.isWebRTCTrackMuted();});}},{key:"_setConnectionStatus",value:function _setConnectionStatus(e){this._connectionStatus=e;}},{key:"getConnectionStatus",value:function getConnectionStatus(){return this._connectionStatus;}},{key:"setProperty",value:function setProperty(e,t){var n=this._properties[e];t!==n&&(this._properties[e]=t,this._conference.eventEmitter.emit(ye,this,e,n,t));}},{key:"getTracks",value:function getTracks(){return this._tracks.slice();}},{key:"getTracksByMediaType",value:function getTracksByMediaType(e){return this.getTracks().filter(function(t){return t.getType()===e;});}},{key:"getId",value:function getId(){return this._id;}},{key:"getJid",value:function getJid(){return this._jid;}},{key:"getDisplayName",value:function getDisplayName(){return this._displayName;}},{key:"getStatsID",value:function getStatsID(){return this._statsID;}},{key:"getStatus",value:function getStatus(){return this._status;}},{key:"isModerator",value:function isModerator(){return"moderator"===this._role;}},{key:"isHidden",value:function isHidden(){return this._hidden;}},{key:"isReplacing",value:function isReplacing(){return this._isReplacing;}},{key:"isReplaced",value:function isReplaced(){return this._isReplaced;}},{key:"isAudioMuted",value:function isAudioMuted(){return this._isMediaTypeMuted(Rn);}},{key:"_isMediaTypeMuted",value:function _isMediaTypeMuted(e){return this.getTracks().reduce(function(t,n){return t&&(n.getType()!==e||n.isMuted());},!0);}},{key:"isVideoMuted",value:function isVideoMuted(){return this._isMediaTypeMuted(wn);}},{key:"getRole",value:function getRole(){return this._role;}},{key:"setRole",value:function setRole(e){this._role=e;}},{key:"setIsReplacing",value:function setIsReplacing(e){this._isReplacing=e;}},{key:"setIsReplaced",value:function setIsReplaced(e){this._isReplaced=e;}},{key:"supportsDTMF",value:function supportsDTMF(){return this._supportsDTMF;}},{key:"getFeatures",value:function getFeatures(){return Promise.resolve(this._features);}},{key:"hasFeature",value:function hasFeature(e){return this._features.has(e);}},{key:"setFeatures",value:function setFeatures(e){this._features=e||new Set();}},{key:"getBotType",value:function getBotType(){return this._botType;}},{key:"setBotType",value:function setBotType(e){this._botType=e;}}]);return ai;}();var ci="connection.connectionDisconnected",di="connection.connectionEstablished",li="connection.connectionFailed",hi="connection.wrongState",ui="connection.display_name_required";n(5808);var pi="connection.droppedError",mi="connection.otherError",fi="connection.passwordRequired",gi="connection.serverError";var _i=/*#__PURE__*/function(){function _i(){var _this18=this;_classCallCheck(this,_i);var e=this;this.promise=new Promise(function(t,n){_this18.resolve=function(){e.clearRejectTimeout(),t.apply(void 0,arguments);},_this18.reject=function(){e.clearRejectTimeout(),n.apply(void 0,arguments);};}),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise);}_createClass(_i,[{key:"clearRejectTimeout",value:function clearRejectTimeout(){clearTimeout(this._timeout);}},{key:"setRejectTimeout",value:function setRejectTimeout(e){var _this19=this;this._timeout=setTimeout(function(){_this19.reject(new Error("timeout"));},e);}}]);return _i;}();var vi=/*#__PURE__*/function(){function vi(){_classCallCheck(this,vi);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new(nt())();this.eventEmitter=e,this.addEventListener=this.on=this.addListener,this.removeEventListener=this.off=this.removeListener;}_createClass(vi,[{key:"addListener",value:function addListener(e,t){var _this20=this;return this.eventEmitter.addListener(e,t),function(){return _this20.removeEventListener(e,t);};}},{key:"removeListener",value:function removeListener(e,t){this.eventEmitter.removeListener(e,t);}}]);return vi;}();var Si=(0,g.getLogger)("modules/e2ee/E2EEContext.js"),yi=Symbol("kJitsiE2EE");var Ei=/*#__PURE__*/function(){function Ei(){_classCallCheck(this,Ei);var _ref2=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=_ref2.sharedKey,t="";var n=document.querySelector(\'script[src*="lib-jitsi-meet"]\');if(n){var _e37=n.src.lastIndexOf("/");t="".concat(n.src.substring(0,_e37),"/");}var i="".concat(t,"lib-jitsi-meet.e2ee-worker.js");if(t&&"/"!==t){var _e38=new Blob(["importScripts(\\"".concat(i,"\\");")],{type:"application/javascript"});i=window.URL.createObjectURL(_e38);}this._worker=new Worker(i,{name:"E2EE Worker"}),this._worker.onerror=function(e){return Si.error(e);},this._worker.postMessage({operation:"initialize",sharedKey:e});}_createClass(Ei,[{key:"cleanup",value:function cleanup(e){this._worker.postMessage({operation:"cleanup",participantId:e});}},{key:"cleanupAll",value:function cleanupAll(){this._worker.postMessage({operation:"cleanupAll"});}},{key:"handleReceiver",value:function handleReceiver(e,t,n){if(!e[yi])if(e[yi]=!0,window.RTCRtpScriptTransform){var _t26={operation:"decode",participantId:n};e.transform=new RTCRtpScriptTransform(this._worker,_t26);}else{var _t27=e.createEncodedStreams();this._worker.postMessage({operation:"decode",readableStream:_t27.readable,writableStream:_t27.writable,participantId:n},[_t27.readable,_t27.writable]);}}},{key:"handleSender",value:function handleSender(e,t,n){if(!e[yi])if(e[yi]=!0,window.RTCRtpScriptTransform){var _t28={operation:"encode",participantId:n};e.transform=new RTCRtpScriptTransform(this._worker,_t28);}else{var _t29=e.createEncodedStreams();this._worker.postMessage({operation:"encode",readableStream:_t29.readable,writableStream:_t29.writable,participantId:n},[_t29.readable,_t29.writable]);}}},{key:"setKey",value:function setKey(e,t,n){this._worker.postMessage({operation:"setKey",key:t,keyIndex:n,participantId:e});}}]);return Ei;}();var Ci=(0,g.getLogger)("modules/e2ee/KeyHandler.js");var bi=/*#__PURE__*/function(_vi){_inherits(bi,_vi);var _super4=_createSuper(bi);function bi(e){var _this21;_classCallCheck(this,bi);var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_this21=_super4.call(this),_this21.conference=e,_this21.e2eeCtx=new Ei(t),_this21.enabled=!1,_this21._enabling=void 0,_this21.conference.on(le,_this21._onMediaSessionStarted.bind(_assertThisInitialized(_this21))),_this21.conference.on(Ne,function(e){return e.isLocal()&&_this21._onLocalTrackAdded(e);}),_this21.conference.rtc.on(Jn().REMOTE_TRACK_ADDED,function(e,t){return _this21._setupReceiverE2EEForTrack(t,e);}),_this21.conference.on(Oe,_this21._trackMuteChanged.bind(_assertThisInitialized(_this21)));return _this21;}_createClass(bi,[{key:"isEnabled",value:function isEnabled(){return this.enabled;}},{key:"setEnabled",value:function(){var _setEnabled=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.t0=e!==this.enabled;if(!_context.t0){_context.next=16;break;}_context.t1=this._enabling;if(!_context.t1){_context.next=6;break;}_context.next=6;return this._enabling;case 6:this._enabling=new _i();this.enabled=e;e||this.e2eeCtx.cleanupAll();_context.t2=this._setEnabled;if(!_context.t2){_context.next=13;break;}_context.next=13;return this._setEnabled(e);case 13:this.conference.setLocalParticipantProperty("e2ee.enabled",e);this.conference._restartMediaSessions();this._enabling.resolve();case 16:case"end":return _context.stop();}},_callee,this);}));function setEnabled(_x2){return _setEnabled.apply(this,arguments);}return setEnabled;}()},{key:"setEncryptionKey",value:function setEncryptionKey(){throw new Error("Not implemented by subclass");}},{key:"_onLocalTrackAdded",value:function _onLocalTrackAdded(e){var _iterator18=_createForOfIteratorHelper(this.conference._getMediaSessions()),_step18;try{for(_iterator18.s();!(_step18=_iterator18.n()).done;){var _t30=_step18.value;this._setupSenderE2EEForTrack(_t30,e);}}catch(err){_iterator18.e(err);}finally{_iterator18.f();}}},{key:"_onMediaSessionStarted",value:function _onMediaSessionStarted(e){var t=this.conference.getLocalTracks();var _iterator19=_createForOfIteratorHelper(t),_step19;try{for(_iterator19.s();!(_step19=_iterator19.n()).done;){var _n23=_step19.value;this._setupSenderE2EEForTrack(e,_n23);}}catch(err){_iterator19.e(err);}finally{_iterator19.f();}}},{key:"_setupReceiverE2EEForTrack",value:function _setupReceiverE2EEForTrack(e,t){if(!this.enabled)return;var n=e.findReceiverForTrack(t.track);n?this.e2eeCtx.handleReceiver(n,t.getType(),t.getParticipantId()):Ci.warn("Could not handle E2EE for ".concat(t,": receiver not found in: ").concat(e));}},{key:"_setupSenderE2EEForTrack",value:function _setupSenderE2EEForTrack(e,t){if(!this.enabled)return;var n=e.peerconnection,i=n&&n.findSenderForTrack(t.track);i?this.e2eeCtx.handleSender(i,t.getType(),t.getParticipantId()):Ci.warn("Could not handle E2EE for ".concat(t,": sender not found in ").concat(n));}},{key:"_trackMuteChanged",value:function _trackMuteChanged(e){if(nn.doesVideoMuteByStreamRemove()&&e.isLocal()&&e.isVideoTrack()&&!e.isMuted()){var _iterator20=_createForOfIteratorHelper(this.conference._getMediaSessions()),_step20;try{for(_iterator20.s();!(_step20=_iterator20.n()).done;){var _t31=_step20.value;this._setupSenderE2EEForTrack(_t31,e);}}catch(err){_iterator20.e(err);}finally{_iterator20.f();}}}}]);return bi;}(vi);var Ti=/*#__PURE__*/function(_bi){_inherits(Ti,_bi);var _super5=_createSuper(Ti);function Ti(e){_classCallCheck(this,Ti);return _super5.call(this,e,{sharedKey:!0});}_createClass(Ti,[{key:"setKey",value:function setKey(e){this.e2eeCtx.setKey(void 0,{encryptionKey:e.encryptionKey},e.index);}}]);return Ti;}(bi);var Ri=n(1296),Ai=n.n(Ri),wi=n(9742),Ii=n(7593);Ii.v1,Ii.v3;var Pi=Ii.v4;Ii.v5;var Mi=(0,g.getLogger)("modules/e2ee/OlmAdapter.js"),Di="olm",Ni="error",ki="key-info",Oi="key-info-ack",Li="session-ack",xi="session-init",Fi=Symbol("OlmData"),ji={OLM_ID_KEY_READY:"olm.id_key_ready",PARTICIPANT_E2EE_CHANNEL_READY:"olm.participant_e2ee_channel_ready",PARTICIPANT_KEY_UPDATED:"olm.partitipant_key_updated"};var $i=/*#__PURE__*/function(_vi2){_inherits($i,_vi2);var _super6=_createSuper($i);function $i(e){var _this22;_classCallCheck(this,$i);_this22=_super6.call(this),_this22._conf=e,_this22._init=new _i(),_this22._key=void 0,_this22._keyIndex=-1,_this22._reqs=new Map(),_this22._sessionInitialization=void 0,$i.isSupported()?(_this22._bootstrapOlm(),_this22._conf.on(ne,_this22._onEndpointMessageReceived.bind(_assertThisInitialized(_this22))),_this22._conf.on(q,_this22._onConferenceLeft.bind(_assertThisInitialized(_this22))),_this22._conf.on($e,_this22._onParticipantLeft.bind(_assertThisInitialized(_this22))),_this22._conf.on(ye,_this22._onParticipantPropertyChanged.bind(_assertThisInitialized(_this22)))):_this22._init.reject(new Error("Olm not supported"));return _this22;}_createClass($i,[{key:"initSessions",value:function(){var _initSessions=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var _e39,_t32,_iterator21,_step21,_n24;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!this._sessionInitialization){_context2.next=2;break;}throw new Error("OlmAdapter initSessions called multiple times");case 2:this._sessionInitialization=new _i();_context2.next=5;return this._init;case 5:_e39=[],_t32=this._conf.myUserId();_iterator21=_createForOfIteratorHelper(this._conf.getParticipants());try{for(_iterator21.s();!(_step21=_iterator21.n()).done;){_n24=_step21.value;_n24.hasFeature($r)&&_t32<_n24.getId()&&_e39.push(this._sendSessionInit(_n24));}}catch(err){_iterator21.e(err);}finally{_iterator21.f();}_context2.next=10;return Promise.allSettled(_e39);case 10:this._sessionInitialization.resolve();this._sessionInitialization=void 0;case 12:case"end":return _context2.stop();}},_callee2,this);}));function initSessions(){return _initSessions.apply(this,arguments);}return initSessions;}()},{key:"updateKey",value:function(){var _updateKey=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(e){var _this23=this;var t,_iterator22,_step22,_loop3,_ret;return _regeneratorRuntime().wrap(function _callee3$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:this._key=e,this._keyIndex++;t=[];_iterator22=_createForOfIteratorHelper(this._conf.getParticipants());_context4.prev=3;_loop3=/*#__PURE__*/_regeneratorRuntime().mark(function _loop3(){var _r5;var e,n,i,s,r,o;return _regeneratorRuntime().wrap(function _loop3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:e=_step22.value;n=e.getId(),i=_this23._getParticipantOlmData(e);if(i.session){_context3.next=5;break;}Mi.warn("Tried to send key to participant ".concat(n," but we have no session"));return _context3.abrupt("return","continue");case 5:s=Pi(),r=(_r5={},_defineProperty(_r5,Fr,Di),_defineProperty(_r5,"olm",{type:ki,data:{ciphertext:_this23._encryptKeyInfo(i.session),uuid:s}}),_r5),o=new _i();o.setRejectTimeout(5e3),o.catch(function(){_this23._reqs.delete(s);}),_this23._reqs.set(s,o),t.push(o),_this23._sendMessage(r,n);case 7:case"end":return _context3.stop();}},_loop3);});_iterator22.s();case 6:if((_step22=_iterator22.n()).done){_context4.next=13;break;}return _context4.delegateYield(_loop3(),"t0",8);case 8:_ret=_context4.t0;if(!(_ret==="continue")){_context4.next=11;break;}return _context4.abrupt("continue",11);case 11:_context4.next=6;break;case 13:_context4.next=18;break;case 15:_context4.prev=15;_context4.t1=_context4["catch"](3);_iterator22.e(_context4.t1);case 18:_context4.prev=18;_iterator22.f();return _context4.finish(18);case 21:_context4.next=23;return Promise.allSettled(t);case 23:return _context4.abrupt("return",this._keyIndex);case 24:case"end":return _context4.stop();}},_callee3,this,[[3,15,18,21]]);}));function updateKey(_x3){return _updateKey.apply(this,arguments);}return updateKey;}()},{key:"updateCurrentKey",value:function updateCurrentKey(e){return this._key=e,this._keyIndex;}},{key:"clearParticipantSession",value:function clearParticipantSession(e){var t=this._getParticipantOlmData(e);t.session&&(t.session.free(),t.session=void 0);}},{key:"clearAllParticipantsSessions",value:function clearAllParticipantsSessions(){var _iterator23=_createForOfIteratorHelper(this._conf.getParticipants()),_step23;try{for(_iterator23.s();!(_step23=_iterator23.n()).done;){var _e40=_step23.value;this.clearParticipantSession(_e40);}}catch(err){_iterator23.e(err);}finally{_iterator23.f();}}},{key:"_bootstrapOlm",value:function(){var _bootstrapOlm2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var _e41;return _regeneratorRuntime().wrap(function _callee4$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:Mi.debug("Initializing Olm...");_context5.prev=1;_context5.next=4;return Olm.init();case 4:this._olmAccount=new Olm.Account();this._olmAccount.create();_e41=JSON.parse(this._olmAccount.identity_keys());this._idKey=_e41.curve25519,Mi.debug("Olm ".concat(Olm.get_library_version().join(".")," initialized")),this._init.resolve(),this._onIdKeyReady(this._idKey);_context5.next=13;break;case 10:_context5.prev=10;_context5.t0=_context5["catch"](1);Mi.error("Failed to initialize Olm",_context5.t0),this._init.reject(_context5.t0);case 13:case"end":return _context5.stop();}},_callee4,this,[[1,10]]);}));function _bootstrapOlm(){return _bootstrapOlm2.apply(this,arguments);}return _bootstrapOlm;}()},{key:"_onIdKeyReady",value:function _onIdKeyReady(e){Mi.debug("Olm id key ready: ".concat(e)),this._conf.setLocalParticipantProperty("e2ee.idKey",e);}},{key:"_onParticipantE2EEChannelReady",value:function _onParticipantE2EEChannelReady(e){Mi.debug("E2EE channel with participant ".concat(e," is ready"));}},{key:"_encryptKeyInfo",value:function _encryptKeyInfo(e){var t={};return void 0!==this._key&&(t.key=!!this._key&&wi.fromByteArray(this._key),t.keyIndex=this._keyIndex),e.encrypt(JSON.stringify(t));}},{key:"_getParticipantOlmData",value:function _getParticipantOlmData(e){return e[Fi]=e[Fi]||{},e[Fi];}},{key:"_onConferenceLeft",value:function(){var _onConferenceLeft2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){var _iterator24,_step24,_e42;return _regeneratorRuntime().wrap(function _callee5$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:Mi.debug("Conference left");_context6.next=3;return this._init;case 3:_iterator24=_createForOfIteratorHelper(this._conf.getParticipants());try{for(_iterator24.s();!(_step24=_iterator24.n()).done;){_e42=_step24.value;this._onParticipantLeft(_e42.getId(),_e42);}}catch(err){_iterator24.e(err);}finally{_iterator24.f();}this._olmAccount&&(this._olmAccount.free(),this._olmAccount=void 0);case 6:case"end":return _context6.stop();}},_callee5,this);}));function _onConferenceLeft(){return _onConferenceLeft2.apply(this,arguments);}return _onConferenceLeft;}()},{key:"_onEndpointMessageReceived",value:function(){var _onEndpointMessageReceived2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(e,t){var n,i,s,_t34,_e43,_t33,_e44,_t35,_r6,_o5,_a3,_e45,_t36,_e46,_t37,_o7,_e47,_r7,_o6,_e48,_t38,_e49,_n25,_r8;return _regeneratorRuntime().wrap(function _callee6$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:if(!(t[Fr]!==Di)){_context7.next=2;break;}return _context7.abrupt("return");case 2:if(t.olm){_context7.next=4;break;}return _context7.abrupt("return",void Mi.warn("Incorrectly formatted message"));case 4:_context7.next=6;return this._init;case 6:n=t.olm,i=e.getId(),s=this._getParticipantOlmData(e);_context7.t0=n.type;_context7.next=_context7.t0===xi?10:_context7.t0===Li?12:_context7.t0===Ni?14:_context7.t0===ki?16:_context7.t0===Oi?18:19;break;case 10:if(s.session)Mi.warn("Participant ".concat(i," already has a session")),this._sendError(e,"Session already established");else{_e43=new Olm.Session();_e43.create_outbound(this._olmAccount,n.data.idKey,n.data.otKey),s.session=_e43;_t33=(_t34={},_defineProperty(_t34,Fr,Di),_defineProperty(_t34,"olm",{type:Li,data:{ciphertext:this._encryptKeyInfo(_e43),uuid:n.data.uuid}}),_t34);this._sendMessage(_t33,i),this._onParticipantE2EEChannelReady(i);}return _context7.abrupt("break",19);case 12:if(s.session)Mi.warn("Participant ".concat(i," already has a session")),this._sendError(e,"No session found");else if(n.data.uuid===s.pendingSessionUuid){_e44=n.data.ciphertext,_t35=this._reqs.get(n.data.uuid),_r6=new Olm.Session();_r6.create_inbound(this._olmAccount,_e44.body),this._olmAccount.remove_one_time_keys(_r6);_o5=_r6.decrypt(_e44.type,_e44.body);s.session=_r6,s.pendingSessionUuid=void 0,this._onParticipantE2EEChannelReady(i),this._reqs.delete(n.data.uuid),_t35.resolve();_a3=Ui(_o5);if(_a3.key){_e45=wi.toByteArray(_a3.key),_t36=_a3.keyIndex;s.lastKey=_e45,this.eventEmitter.emit(ji.PARTICIPANT_KEY_UPDATED,i,_e45,_t36);}}else Mi.warn("Received ACK with the wrong UUID"),this._sendError(e,"Invalid UUID");return _context7.abrupt("break",19);case 14:Mi.error(n.data.error);return _context7.abrupt("break",19);case 16:if(s.session){_e46=n.data.ciphertext,_t37=Ui(s.session.decrypt(_e46.type,_e46.body));if(void 0!==_t37.key&&void 0!==_t37.keyIndex){_e47=!!_t37.key&&wi.toByteArray(_t37.key),_r7=_t37.keyIndex;st()(s.lastKey,_e47)||(s.lastKey=_e47,this.eventEmitter.emit(ji.PARTICIPANT_KEY_UPDATED,i,_e47,_r7));_o6=(_o7={},_defineProperty(_o7,Fr,Di),_defineProperty(_o7,"olm",{type:Oi,data:{ciphertext:this._encryptKeyInfo(s.session),uuid:n.data.uuid}}),_o7);this._sendMessage(_o6,i);}}else Mi.debug("Received key info message from ".concat(i," but we have no session for them!")),this._sendError(e,"No session found while processing key-info");return _context7.abrupt("break",19);case 18:if(s.session){_e48=n.data.ciphertext,_t38=Ui(s.session.decrypt(_e48.type,_e48.body));if(void 0!==_t38.key&&void 0!==_t38.keyIndex){_e49=!!_t38.key&&wi.toByteArray(_t38.key),_n25=_t38.keyIndex;st()(s.lastKey,_e49)||(s.lastKey=_e49,this.eventEmitter.emit(ji.PARTICIPANT_KEY_UPDATED,i,_e49,_n25));}_r8=this._reqs.get(n.data.uuid);this._reqs.delete(n.data.uuid),_r8.resolve();}else Mi.debug("Received key info ack message from ".concat(i," but we have no session for them!")),this._sendError(e,"No session found while processing key-info-ack");case 19:case"end":return _context7.stop();}},_callee6,this);}));function _onEndpointMessageReceived(_x4,_x5){return _onEndpointMessageReceived2.apply(this,arguments);}return _onEndpointMessageReceived;}()},{key:"_onParticipantLeft",value:function _onParticipantLeft(e,t){Mi.debug("Participant ".concat(e," left")),this.clearParticipantSession(t);}},{key:"_onParticipantPropertyChanged",value:function(){var _onParticipantPropertyChanged2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(e,t,n,i){var _t39,_n26,_s9,_t40,_i20,_s8;return _regeneratorRuntime().wrap(function _callee7$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:if(!("e2ee.enabled"===t&&i&&this._conf.isE2EEEnabled())){_context8.next=16;break;}_t39=this._conf.myUserId(),_n26=e.getId();_context8.next=4;return e.getFeatures();case 4:_context8.t0=_context8.sent.has($r);if(!_context8.t0){_context8.next=7;break;}_context8.t0=_t39<_n26;case 7:if(!_context8.t0){_context8.next=16;break;}_context8.t1=this._sessionInitialization;if(!_context8.t1){_context8.next=12;break;}_context8.next=12;return this._sessionInitialization;case 12:_context8.next=14;return this._sendSessionInit(e);case 14:_t40=this._getParticipantOlmData(e),_i20=Pi(),_s8=(_s9={},_defineProperty(_s9,Fr,Di),_defineProperty(_s9,"olm",{type:ki,data:{ciphertext:this._encryptKeyInfo(_t40.session),uuid:_i20}}),_s9);this._sendMessage(_s8,_n26);case 16:case"end":return _context8.stop();}},_callee7,this);}));function _onParticipantPropertyChanged(_x6,_x7,_x8,_x9){return _onParticipantPropertyChanged2.apply(this,arguments);}return _onParticipantPropertyChanged;}()},{key:"_sendError",value:function _sendError(e,t){var _i21;var n=e.getId(),i=(_i21={},_defineProperty(_i21,Fr,Di),_defineProperty(_i21,"olm",{type:Ni,data:{error:t}}),_i21);this._sendMessage(i,n);}},{key:"_sendMessage",value:function _sendMessage(e,t){this._conf.sendMessage(e,t);}},{key:"_sendSessionInit",value:function _sendSessionInit(e){var _o8,_this24=this;var t=e.getId(),n=this._getParticipantOlmData(e);if(n.session)return Mi.warn("Tried to send session-init to ".concat(t," but we already have a session")),Promise.reject();if(void 0!==n.pendingSessionUuid)return Mi.warn("Tried to send session-init to ".concat(t," but we already have a pending session")),Promise.reject();this._olmAccount.generate_one_time_keys(1);var i=JSON.parse(this._olmAccount.one_time_keys()),s=Object.values(i.curve25519)[0];if(!s)return Promise.reject(new Error("No one-time-keys generated"));this._olmAccount.mark_keys_as_published();var r=Pi(),o=(_o8={},_defineProperty(_o8,Fr,Di),_defineProperty(_o8,"olm",{type:xi,data:{idKey:this._idKey,otKey:s,uuid:r}}),_o8),a=new _i();return a.setRejectTimeout(5e3),a.catch(function(){_this24._reqs.delete(r),n.pendingSessionUuid=void 0;}),this._reqs.set(r,a),this._sendMessage(o,t),n.pendingSessionUuid=r,a;}}],[{key:"isSupported",value:function isSupported(){return void 0!==window.Olm;}}]);return $i;}(vi);function Ui(e){try{return JSON.parse(e);}catch(e){return{};}}$i.events=ji;var Bi=(0,g.getLogger)("modules/e2ee/ManagedKeyHandler.js");var Ji=/*#__PURE__*/function(_bi2){_inherits(Ji,_bi2);var _super7=_createSuper(Ji);function Ji(e){var _this25;_classCallCheck(this,Ji);_this25=_super7.call(this,e),_this25._key=void 0,_this25._conferenceJoined=!1,_this25._olmAdapter=new $i(e),_this25._rotateKey=Ai()(_this25._rotateKeyImpl,5e3),_this25._ratchetKey=Ai()(_this25._ratchetKeyImpl,5e3),_this25._olmAdapter.on($i.events.PARTICIPANT_KEY_UPDATED,_this25._onParticipantKeyUpdated.bind(_assertThisInitialized(_this25))),_this25.conference.on(ye,_this25._onParticipantPropertyChanged.bind(_assertThisInitialized(_this25))),_this25.conference.on(je,_this25._onParticipantJoined.bind(_assertThisInitialized(_this25))),_this25.conference.on($e,_this25._onParticipantLeft.bind(_assertThisInitialized(_this25))),_this25.conference.on(G,function(){_this25._conferenceJoined=!0;});return _this25;}_createClass(Ji,[{key:"_setEnabled",value:function(){var _setEnabled2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(e){var t;return _regeneratorRuntime().wrap(function _callee8$(_context9){while(1)switch(_context9.prev=_context9.next){case 0:if(!e){_context9.next=5;break;}_context9.next=3;return this._olmAdapter.initSessions();case 3:_context9.next=6;break;case 5:this._olmAdapter.clearAllParticipantsSessions();case 6:this._key=!!e&&this._generateKey();_context9.next=9;return this._olmAdapter.updateKey(this._key);case 9:t=_context9.sent;this.e2eeCtx.setKey(this.conference.myUserId(),this._key,t);case 11:case"end":return _context9.stop();}},_callee8,this);}));function _setEnabled(_x10){return _setEnabled2.apply(this,arguments);}return _setEnabled;}()},{key:"_onParticipantPropertyChanged",value:function(){var _onParticipantPropertyChanged3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee9(e,t,n,i){return _regeneratorRuntime().wrap(function _callee9$(_context10){while(1)switch(_context10.prev=_context10.next){case 0:_context10.t0=t;_context10.next=_context10.t0==="e2ee.idKey"?3:_context10.t0==="e2ee.enabled"?5:6;break;case 3:Bi.debug("Participant ".concat(e.getId()," updated their id key: ").concat(i));return _context10.abrupt("break",6);case 5:!i&&this.enabled&&this._olmAdapter.clearParticipantSession(e);case 6:case"end":return _context10.stop();}},_callee9,this);}));function _onParticipantPropertyChanged(_x11,_x12,_x13,_x14){return _onParticipantPropertyChanged3.apply(this,arguments);}return _onParticipantPropertyChanged;}()},{key:"_onParticipantJoined",value:function _onParticipantJoined(){this._conferenceJoined&&this.enabled&&this._ratchetKey();}},{key:"_onParticipantLeft",value:function _onParticipantLeft(e){this.e2eeCtx.cleanup(e),this.enabled&&this._rotateKey();}},{key:"_rotateKeyImpl",value:function(){var _rotateKeyImpl2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee10(){var e;return _regeneratorRuntime().wrap(function _callee10$(_context11){while(1)switch(_context11.prev=_context11.next){case 0:Bi.debug("Rotating key"),this._key=this._generateKey();_context11.next=3;return this._olmAdapter.updateKey(this._key);case 3:e=_context11.sent;this.e2eeCtx.setKey(this.conference.myUserId(),this._key,e);case 5:case"end":return _context11.stop();}},_callee10,this);}));function _rotateKeyImpl(){return _rotateKeyImpl2.apply(this,arguments);}return _rotateKeyImpl;}()},{key:"_ratchetKeyImpl",value:function(){var _ratchetKeyImpl2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee13(){var e,t,n;return _regeneratorRuntime().wrap(function _callee13$(_context14){while(1)switch(_context14.prev=_context14.next){case 0:Bi.debug("Ratchetting key");_context14.next=3;return function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee11(e){return _regeneratorRuntime().wrap(function _callee11$(_context12){while(1)switch(_context12.prev=_context12.next){case 0:return _context12.abrupt("return",crypto.subtle.importKey("raw",e,"HKDF",!1,["deriveBits","deriveKey"]));case 1:case"end":return _context12.stop();}},_callee11);}));return function(_x15){return _ref3.apply(this,arguments);};}()(this._key);case 3:e=_context14.sent;_context14.next=6;return function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee12(e){var t;return _regeneratorRuntime().wrap(function _callee12$(_context13){while(1)switch(_context13.prev=_context13.next){case 0:t=new TextEncoder();return _context13.abrupt("return",crypto.subtle.deriveBits({name:"HKDF",salt:t.encode("JFrameRatchetKey"),hash:"SHA-256",info:new ArrayBuffer()},e,256));case 2:case"end":return _context13.stop();}},_callee12);}));return function(_x16){return _ref4.apply(this,arguments);};}()(e);case 6:t=_context14.sent;this._key=new Uint8Array(t);n=this._olmAdapter.updateCurrentKey(this._key);this.e2eeCtx.setKey(this.conference.myUserId(),this._key,n);case 10:case"end":return _context14.stop();}},_callee13,this);}));function _ratchetKeyImpl(){return _ratchetKeyImpl2.apply(this,arguments);}return _ratchetKeyImpl;}()},{key:"_onParticipantKeyUpdated",value:function _onParticipantKeyUpdated(e,t,n){Bi.debug("Participant ".concat(e," updated their key")),this.e2eeCtx.setKey(e,t,n);}},{key:"_generateKey",value:function _generateKey(){return window.crypto.getRandomValues(new Uint8Array(32));}}]);return Ji;}(bi);var Vi=/*#__PURE__*/function(){function Vi(e){_classCallCheck(this,Vi);var _e$options$config$e2e=e.options.config.e2ee,t=_e$options$config$e2e===void 0?{}:_e$options$config$e2e;this._externallyManaged=t.externallyManagedKey,this._externallyManaged?this._keyHandler=new Ti(e):this._keyHandler=new Ji(e);}_createClass(Vi,[{key:"isEnabled",value:function isEnabled(){return this._keyHandler.isEnabled();}},{key:"setEnabled",value:function(){var _setEnabled3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee14(e){return _regeneratorRuntime().wrap(function _callee14$(_context15){while(1)switch(_context15.prev=_context15.next){case 0:_context15.next=2;return this._keyHandler.setEnabled(e);case 2:case"end":return _context15.stop();}},_callee14,this);}));function setEnabled(_x17){return _setEnabled3.apply(this,arguments);}return setEnabled;}()},{key:"setEncryptionKey",value:function setEncryptionKey(e){this._keyHandler.setKey(e);}}],[{key:"isSupported",value:function isSupported(e){var _e$e2ee=e.e2ee,t=_e$e2ee===void 0?{}:_e$e2ee;return!(!t.externallyManagedKey&&!$i.isSupported())&&!(e.testing&&e.testing.disableE2EE)&&(nn.supportsInsertableStreams()||e.enableEncodedTransformSupport&&nn.supportsEncodedTransform());}}]);return Vi;}();var Hi=n(5399),Gi=n.n(Hi);var qi=["category","type","lang","name"],Ki=["category","type","lang"];function zi(e,t){var n=0;return Ki.some(function(i){return 0!==(n=e[i]>t[i]?1:e[i]<t[i]&&-1);}),n;}function Wi(e){var t=new Set(),n=new Set();return $CC(e).find(">query>feature").each(function(e,n){return t.add(n.getAttribute("var"));}),$CC(e).find(">query>identity").each(function(e,t){return n.add({type:t.getAttribute("type"),name:t.getAttribute("name"),category:t.getAttribute("category")});}),{features:t,identities:n};}var Qi=/*#__PURE__*/function(_vi3){_inherits(Qi,_vi3);var _super8=_createSuper(Qi);function Qi(){var _this26;_classCallCheck(this,Qi);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"http://jitsi.org/jitsimeet";if(_this26=_super8.call(this),_this26.node=t,_this26.disco=e.disco,!_this26.disco)throw new Error("Missing strophe-plugins (disco plugin is required)!");_this26.version="",_this26.rooms=new Set(),_this26.externalFeatures=new Set();var n=e.emuc;n.addListener(zn().EMUC_ROOM_ADDED,function(e){return _this26._addChatRoom(e);}),n.addListener(zn().EMUC_ROOM_REMOVED,function(e){return _this26._removeChatRoom(e);}),Object.keys(n.rooms).forEach(function(e){_this26._addChatRoom(n.rooms[e]);}),rt.Strophe.addNamespace("CAPS","http://jabber.org/protocol/caps"),_this26.disco.addFeature(rt.Strophe.NS.CAPS);return _possibleConstructorReturn(_this26);}_createClass(Qi,[{key:"addFeature",value:function addFeature(e){var _this27=this;var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.disco.addFeature(e),this._generateVersion(),n&&!this.externalFeatures.has(e)&&(this.externalFeatures.add(e),this.rooms.forEach(function(e){return _this27._updateRoomWithExternalFeatures(e);})),t&&this.submit();}},{key:"removeFeature",value:function removeFeature(e){var _this28=this;var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.disco.removeFeature(e),this._generateVersion(),n&&this.externalFeatures.has(e)&&(this.externalFeatures.delete(e),this.rooms.forEach(function(e){return _this28._updateRoomWithExternalFeatures(e);})),t&&this.submit();}},{key:"submit",value:function submit(){this.rooms.forEach(function(e){return e.sendPresence();});}},{key:"_updateRoomWithExternalFeatures",value:function _updateRoomWithExternalFeatures(e){if(0===this.externalFeatures.size)e.removeFromPresence("features");else{var _t41=[];this.externalFeatures.forEach(function(e){_t41.push({tagName:"feature",attributes:{var:e}});}),e.addOrReplaceInPresence("features",{children:_t41});}}},{key:"getFeaturesAndIdentities",value:function getFeaturesAndIdentities(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return this._getDiscoInfo(e,t,n);}},{key:"_getDiscoInfo",value:function _getDiscoInfo(e,t,n){var _this29=this;return new Promise(function(i,s){return _this29.disco.info(e,t,function(e){i(Wi(e));},s,n);});}},{key:"_addChatRoom",value:function _addChatRoom(e){this.rooms.add(e),this._fixChatRoomPresenceMap(e),this._updateRoomWithExternalFeatures(e);}},{key:"_removeChatRoom",value:function _removeChatRoom(e){this.rooms.delete(e);}},{key:"_fixChatRoomPresenceMap",value:function _fixChatRoomPresenceMap(e){e.addOrReplaceInPresence("c",{attributes:{xmlns:rt.Strophe.NS.CAPS,hash:"sha-1",node:this.node,ver:this.version}});}},{key:"_notifyVersionChanged",value:function _notifyVersionChanged(){var _this30=this;this.rooms.forEach(function(e){return _this30._fixChatRoomPresenceMap(e);});}},{key:"_generateVersion",value:function _generateVersion(){this.version=function(e,t){var n=e.sort(zi).reduce(function(e,t){return"".concat(qi.reduce(function(e,n,i){return e+(0===i?"":"/")+(t[n]?t[n]:"");},""),"<");},""),i=t.sort().reduce(function(e,t){return"".concat(e+t,"<");},"");return(0,rt.b64_sha1)(n+i);}(this.disco._identities,this.disco._features),this._notifyVersionChanged();}}]);return Qi;}(vi);n(6552);var Xi="NETWORK_INFO_CHANGED",Yi=(0,g.getLogger)("modules/connectivity/NetworkInfo.js"),Zi=new(/*#__PURE__*/function(_vi4){_inherits(_class6,_vi4);var _super9=_createSuper(_class6);function _class6(){var _this31;_classCallCheck(this,_class6);_this31=_super9.call(this),_this31._current={isOnline:!0};return _this31;}_createClass(_class6,[{key:"updateNetworkInfo",value:function updateNetworkInfo(e){var t=e.isOnline;Yi.debug("updateNetworkInfo",{isOnline:t}),this._current={isOnline:!0===t},this.eventEmitter.emit(Xi,this._current);}},{key:"isOnline",value:function isOnline(){return!0===this._current.isOnline;}}]);return _class6;}(vi))(),es=(0,g.getLogger)("modules/xmpp/ResumeTask.js");var ts=/*#__PURE__*/function(){function ts(e){_classCallCheck(this,ts);this._stropheConn=e,this._resumeRetryN=0,this._retryDelay=void 0;}_createClass(ts,[{key:"retryDelay",get:function get(){return this._retryDelay;}},{key:"schedule",value:function schedule(){var _this32=this;this._cancelResume(),this._resumeRetryN+=1,this._networkOnlineListener=Zi.addEventListener(Xi,function(e){var t=e.isOnline;t?_this32._scheduleResume():_this32._cancelResume();}),Zi.isOnline()&&this._scheduleResume();}},{key:"_scheduleResume",value:function _scheduleResume(){var _this33=this;this._resumeTimeout||(this._resumeRetryN=Math.min(3,this._resumeRetryN),this._retryDelay=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return Math.floor(Math.random()*(1e3*Math.pow(n,e)-t)+t);}(this._resumeRetryN,1500*this._resumeRetryN,3),es.info("Will try to resume the XMPP connection in ".concat(this.retryDelay,"ms")),this._resumeTimeout=setTimeout(function(){return _this33._resumeConnection();},this.retryDelay));}},{key:"_cancelResume",value:function _cancelResume(){this._resumeTimeout&&(es.info("Canceling connection resume task"),clearTimeout(this._resumeTimeout),this._resumeTimeout=void 0,this._retryDelay=void 0);}},{key:"_resumeConnection",value:function _resumeConnection(){var e=this._stropheConn.streamManagement,t=e.getResumeToken();if(!t)return;es.info("Trying to resume the XMPP connection");var n=new URL(this._stropheConn.service);var i=n.search;var s=/(previd=)([\\w-]+)/,r=i.match(s);r&&-1===r.indexOf(t)?i=i.replace(s,"$1".concat(t)):r||(i+=-1===i.indexOf("?")?"?previd=".concat(t):"&previd=".concat(t)),n.search=i,this._stropheConn.service=n.toString(),e.resume();}},{key:"cancel",value:function cancel(){this._cancelResume(),this._resumeRetryN=0,this._networkOnlineListener&&(this._networkOnlineListener(),this._networkOnlineListener=null);}}]);return ts;}();var ns=/*#__PURE__*/function(){function ns(){_classCallCheck(this,ns);this._lastSuccess=null,this._lastFailedMessage=null;}_createClass(ns,[{key:"startTracking",value:function startTracking(e,t){var n=this;var i=t.rawInput;t.rawInput=function(){for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];var a=r[0];a.includes("failure")&&(n._lastFailedMessage=a),e.connected&&(n._lastSuccess=Date.now()),i.apply(t,r);};}},{key:"getLastFailedMessage",value:function getLastFailedMessage(){return this._lastFailedMessage;}},{key:"getTimeSinceLastSuccess",value:function getTimeSinceLastSuccess(){return this._lastSuccess?Date.now()-this._lastSuccess:null;}}]);return ns;}();function is(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:/*#__PURE__*/function(){function _class7(){_classCallCheck(this,_class7);}return _createClass(_class7);}();return/*#__PURE__*/function(_e50){_inherits(_class8,_e50);var _super10=_createSuper(_class8);function _class8(){var _this34;_classCallCheck(this,_class8);_this34=_super10.apply(this,arguments),_this34.connection=null;return _this34;}_createClass(_class8,[{key:"init",value:function init(e){this.connection=e;}}]);return _class8;}(e);}var ss=is(),rs=is(vi),os=(0,g.getLogger)("modules/xmpp/strophe.ping.js");var as=/*#__PURE__*/function(_ss){_inherits(as,_ss);var _super11=_createSuper(as);function as(e){var _this35;_classCallCheck(this,as);var t=e.getTimeSinceLastServerResponse,n=e.onPingThresholdExceeded,_e$pingOptions=e.pingOptions,i=_e$pingOptions===void 0?{}:_e$pingOptions;_this35=_super11.call(this),_this35.failedPings=0,_this35._onPingThresholdExceeded=n,_this35._getTimeSinceLastServerResponse=t,_this35.pingInterval="number"==typeof i.interval?i.interval:1e4,_this35.pingTimeout="number"==typeof i.timeout?i.timeout:5e3,_this35.pingThreshold="number"==typeof i.threshold?i.threshold:2,_this35.pingTimestampsToKeep=Math.round(12e4/_this35.pingInterval),_this35.pingExecIntervals=new Array(_this35.pingTimestampsToKeep);return _this35;}_createClass(as,[{key:"init",value:function init(e){_get(_getPrototypeOf(as.prototype),"init",this).call(this,e),rt.Strophe.addNamespace("PING","urn:xmpp:ping");}},{key:"ping",value:function ping(e,t,n,i){this._addPingExecutionTimestamp();var s=(0,rt.$iq)({type:"get",to:e});s.c("ping",{xmlns:rt.Strophe.NS.PING}),this.connection.sendIQ2(s,{timeout:i}).then(t,n);}},{key:"startInterval",value:function startInterval(e){var _this36=this;clearInterval(this.intervalId),this.intervalId=window.setInterval(function(){var t=Date.now();if(_this36._getTimeSinceLastServerResponse()<t-_this36._lastServerCheck)return _this36._addPingExecutionTimestamp(),_this36._lastServerCheck=t,void(_this36.failedPings=0);_this36.ping(e,function(){_this36._lastServerCheck=_this36._getTimeSinceLastServerResponse()+Date.now(),_this36.failedPings=0;},function(e){_this36.failedPings+=1;var t="Ping "+(e?"error":"timeout");_this36.failedPings>=_this36.pingThreshold?(dn().callErrorHandler(new Error(t)),os.error(t,e),_this36._onPingThresholdExceeded&&_this36._onPingThresholdExceeded()):os.warn(t,e);},_this36.pingTimeout);},this.pingInterval),os.info("XMPP pings will be sent every ".concat(this.pingInterval," ms"));}},{key:"stopInterval",value:function stopInterval(){this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null,this.failedPings=0,os.info("Ping interval cleared"));}},{key:"_addPingExecutionTimestamp",value:function _addPingExecutionTimestamp(){this.pingExecIntervals.push(new Date().getTime()),this.pingExecIntervals.length>this.pingTimestampsToKeep&&this.pingExecIntervals.shift();}},{key:"getPingSuspendTime",value:function getPingSuspendTime(){var e=this.pingExecIntervals.slice();e.push(new Date().getTime());var t=0,n=e[0];return e.forEach(function(e){var i=e-n;i>t&&(t=i),n=e;}),t-=this.pingInterval,Math.max(t,0);}}]);return as;}(ss);var cs=(0,g.getLogger)("modules/xmpp/XmppConnection.js");var ds=/*#__PURE__*/function(_vi5){_inherits(ds,_vi5);var _super12=_createSuper(ds);function ds(e){var _this37;_classCallCheck(this,ds);var t=e.enableWebsocketResume,n=e.websocketKeepAlive,i=e.websocketKeepAliveUrl,s=e.serviceUrl,r=e.shard,o=e.xmppPing;_this37=_super12.call(this),_this37._options={enableWebsocketResume:void 0===t||t,pingOptions:o,shard:r,websocketKeepAlive:void 0===n?6e4:Number(n),websocketKeepAliveUrl:i},_this37._stropheConn=new rt.Strophe.Connection(s),_this37._usesWebsocket=s.startsWith("ws:")||s.startsWith("wss:"),_this37._stropheConn.maxRetries=3,_this37._rawInputTracker=new ns(),_this37._rawInputTracker.startTracking(_assertThisInitialized(_this37),_this37._stropheConn),_this37._resumeTask=new ts(_this37._stropheConn),_this37._deferredIQs=[],_this37.addConnectionPlugin("ping",new as({getTimeSinceLastServerResponse:function getTimeSinceLastServerResponse(){return _this37.getTimeSinceLastSuccess();},onPingThresholdExceeded:function onPingThresholdExceeded(){return _this37._onPingErrorThresholdExceeded();},pingOptions:o})),_this37._oneSuccessfulConnect=!1;return _this37;}_createClass(ds,[{key:"connected",get:function get(){var e=this._stropheConn&&this._stropheConn._proto&&this._stropheConn._proto.socket;return(this._status===rt.Strophe.Status.CONNECTED||this._status===rt.Strophe.Status.ATTACHED)&&(!this.isUsingWebSocket||e&&e.readyState===WebSocket.OPEN);}},{key:"disco",get:function get(){return this._stropheConn.disco;}},{key:"disconnecting",get:function get(){return!0===this._stropheConn.disconnecting;}},{key:"domain",get:function get(){return this._stropheConn.domain;}},{key:"isUsingWebSocket",get:function get(){return this._usesWebsocket;}},{key:"jid",get:function get(){return this._stropheConn.jid;}},{key:"lastResponseHeaders",get:function get(){return this._stropheConn._proto&&this._stropheConn._proto.lastResponseHeaders;}},{key:"logger",get:function get(){return this._stropheConn.logger;}},{key:"options",get:function get(){return this._stropheConn.options;}},{key:"pingDomain",get:function get(){var e;return(null===(e=this._options.pingOptions)||void 0===e?void 0:e.domain)||this.domain;}},{key:"service",get:function get(){return this._stropheConn.service;}},{key:"shard",set:function set(e){this._options.shard=e,this._oneSuccessfulConnect&&this._maybeStartWSKeepAlive();}},{key:"status",get:function get(){return this._status;}},{key:"addConnectionPlugin",value:function addConnectionPlugin(e,t){this[e]=t,t.init(this);}},{key:"addHandler",value:function addHandler(){var _this$_stropheConn;(_this$_stropheConn=this._stropheConn).addHandler.apply(_this$_stropheConn,arguments);}},{key:"attach",value:function attach(e,t,n,i){var _this$_stropheConn2;for(var s=arguments.length,r=new Array(s>4?s-4:0),o=4;o<s;o++)r[o-4]=arguments[o];(_this$_stropheConn2=this._stropheConn).attach.apply(_this$_stropheConn2,[e,t,n,this._stropheConnectionCb.bind(this,i)].concat(r));}},{key:"connect",value:function connect(e,t,n){var _this$_stropheConn3;for(var i=arguments.length,s=new Array(i>3?i-3:0),r=3;r<i;r++)s[r-3]=arguments[r];(_this$_stropheConn3=this._stropheConn).connect.apply(_this$_stropheConn3,[e,t,this._stropheConnectionCb.bind(this,n)].concat(s));}},{key:"_stropheConnectionCb",value:function _stropheConnectionCb(e,t){this._status=t;var n=!1;var i;if(t===rt.Strophe.Status.CONNECTED||t===rt.Strophe.Status.ATTACHED?(this._maybeEnableStreamResume(),this._usesWebsocket&&this._oneSuccessfulConnect&&this._keepAliveAndCheckShard(),this._oneSuccessfulConnect=!0,this._maybeStartWSKeepAlive(),this._processDeferredIQs(),this._resumeTask.cancel(),this.ping.startInterval((null===(i=this._options.pingOptions)||void 0===i?void 0:i.domain)||this.domain)):t===rt.Strophe.Status.DISCONNECTED&&(this.ping.stopInterval(),n=this._tryResumingConnection(),n||clearTimeout(this._wsKeepAlive)),!n){for(var s=arguments.length,r=new Array(s>2?s-2:0),o=2;o<s;o++)r[o-2]=arguments[o];e.apply(void 0,[t].concat(r)),this.eventEmitter.emit(ds.Events.CONN_STATUS_CHANGED,t);}}},{key:"_clearDeferredIQs",value:function _clearDeferredIQs(){var _iterator25=_createForOfIteratorHelper(this._deferredIQs),_step25;try{for(_iterator25.s();!(_step25=_iterator25.n()).done;){var _e51=_step25.value;_e51.reject(new Error("disconnect"));}}catch(err){_iterator25.e(err);}finally{_iterator25.f();}this._deferredIQs=[];}},{key:"closeWebsocket",value:function closeWebsocket(){this._stropheConn&&this._stropheConn._proto&&(this._stropheConn._proto._closeSocket(),this._stropheConn._proto._onClose(null));}},{key:"disconnect",value:function disconnect(){var _this$_stropheConn4;this._resumeTask.cancel(),clearTimeout(this._wsKeepAlive),this._clearDeferredIQs(),(_this$_stropheConn4=this._stropheConn).disconnect.apply(_this$_stropheConn4,arguments);}},{key:"flush",value:function flush(){var _this$_stropheConn5;(_this$_stropheConn5=this._stropheConn).flush.apply(_this$_stropheConn5,arguments);}},{key:"getTimeSinceLastSuccess",value:function getTimeSinceLastSuccess(){return this._rawInputTracker.getTimeSinceLastSuccess();}},{key:"getLastFailedMessage",value:function getLastFailedMessage(){return this._rawInputTracker.getLastFailedMessage();}},{key:"_maybeEnableStreamResume",value:function _maybeEnableStreamResume(){if(!this._options.enableWebsocketResume)return;var e=this._stropheConn.streamManagement;this.isUsingWebSocket?e?e.isSupported()?e.getResumeToken()||(cs.info("Enabling XEP-0198 stream management"),e.enable(!0)):cs.warn("Stream resume enabled, but XEP-0198 is not supported by the server"):cs.warn("Stream resume enabled, but Strophe streamManagement plugin is not installed"):cs.warn("Stream resume enabled, but WebSockets are not enabled");}},{key:"_maybeStartWSKeepAlive",value:function _maybeStartWSKeepAlive(){var _this38=this;var e=this._options.websocketKeepAlive;if(this._usesWebsocket&&e>0){this._wsKeepAlive||cs.info("WebSocket keep alive interval: ".concat(e,"ms")),clearTimeout(this._wsKeepAlive);var _t42=e+60*Math.random()*1e3;cs.debug("Scheduling next WebSocket keep-alive in ".concat(_t42,"ms")),this._wsKeepAlive=setTimeout(function(){return _this38._keepAliveAndCheckShard().then(function(){return _this38._maybeStartWSKeepAlive();});},_t42);}}},{key:"_keepAliveAndCheckShard",value:function _keepAliveAndCheckShard(){var _this39=this;var _this$_options=this._options,e=_this$_options.shard,t=_this$_options.websocketKeepAliveUrl,n=t||this.service.replace("wss://","https://").replace("ws://","http://");return fetch(n).then(function(t){if(!e)return;var n=t.headers.get("x-jitsi-shard");n!==e&&(cs.error("Detected that shard changed from ".concat(e," to ").concat(n)),_this39.eventEmitter.emit(ds.Events.CONN_SHARD_CHANGED));}).catch(function(e){cs.error("Websocket Keep alive failed for url: ".concat(n),{error:e});});}},{key:"_processDeferredIQs",value:function _processDeferredIQs(){var _this40=this;var _iterator26=_createForOfIteratorHelper(this._deferredIQs),_step26;try{var _loop4=function _loop4(){var e=_step26.value;if(e.iq){clearTimeout(e.timeout);var _t43=Date.now()-e.start;_this40.sendIQ(e.iq,function(t){return e.resolve(t);},function(t){return e.reject(t);},_t43);}};for(_iterator26.s();!(_step26=_iterator26.n()).done;){_loop4();}}catch(err){_iterator26.e(err);}finally{_iterator26.f();}this._deferredIQs=[];}},{key:"send",value:function send(e){if(!this.connected)throw new Error("Not connected");this._stropheConn.send(e);}},{key:"sendIQ",value:function sendIQ(e,t,n,i){if(this.connected)return this._stropheConn.sendIQ(e,t,n,i);n("Not connected");}},{key:"sendIQ2",value:function sendIQ2(e,t){var _this41=this;var n=t.timeout;return new Promise(function(t,i){if(_this41.connected)_this41.sendIQ(e,function(e){return t(e);},function(e){return i(e);},n);else{var _s10={iq:e,resolve:t,reject:i,start:Date.now(),timeout:setTimeout(function(){_s10.iq=void 0,i(void 0);},n)};_this41._deferredIQs.push(_s10);}});}},{key:"_onPingErrorThresholdExceeded",value:function _onPingErrorThresholdExceeded(){this.isUsingWebSocket&&(cs.warn("Ping error threshold exceeded - killing the WebSocket"),this.closeWebsocket());}},{key:"sendPresence",value:function sendPresence(e,t,n,i){this.connected?this._stropheConn.sendPresence(e,t,n,i):n("Not connected");}},{key:"sendUnavailableBeacon",value:function sendUnavailableBeacon(){if(!navigator.sendBeacon||this._stropheConn.disconnecting||!this._stropheConn.connected)return!1;this._stropheConn._changeConnectStatus(rt.Strophe.Status.DISCONNECTING),this._stropheConn.disconnecting=!0;var e=this._stropheConn._proto._buildBody().attrs({type:"terminate"}),t=(0,rt.$pres)({xmlns:rt.Strophe.NS.CLIENT,type:"unavailable"});e.cnode(t.tree());var n=navigator.sendBeacon(-1===this.service.indexOf("https://")?"https:".concat(this.service):this.service,rt.Strophe.serialize(e.tree()));return cs.info("Successfully send unavailable beacon ".concat(n)),this._stropheConn._proto._abortAllRequests(),this._stropheConn._doDisconnect(),!0;}},{key:"_tryResumingConnection",value:function _tryResumingConnection(){var e=this._stropheConn.streamManagement;return!(!e||!e.getResumeToken()||(this._resumeTask.schedule(),0));}}],[{key:"Events",get:function get(){return{CONN_STATUS_CHANGED:"CONN_STATUS_CHANGED",CONN_SHARD_CHANGED:"CONN_SHARD_CHANGED"};}},{key:"Status",get:function get(){return rt.Strophe.Status;}}]);return ds;}(vi);var ls="on",hs="off",us=(0,g.getLogger)("modules/xmpp/AVModeration.js");var ps=/*#__PURE__*/function(){function ps(e){var _this$_moderationEnab;_classCallCheck(this,ps);this._xmpp=e.xmpp,this._mainRoom=e,this._moderationEnabledByType=(_this$_moderationEnab={},_defineProperty(_this$_moderationEnab,Rn,!1),_defineProperty(_this$_moderationEnab,wn,!1),_this$_moderationEnab),this._whitelistAudio=[],this._whitelistVideo=[],this._onMessage=this._onMessage.bind(this),this._xmpp.addListener(zn().AV_MODERATION_RECEIVED,this._onMessage);}_createClass(ps,[{key:"dispose",value:function dispose(){this._xmpp.removeListener(zn().AV_MODERATION_RECEIVED,this._onMessage);}},{key:"isSupported",value:function isSupported(){return Boolean(this._xmpp.avModerationComponentAddress);}},{key:"enable",value:function enable(e,t){if(!this.isSupported()||!this._mainRoom.isModerator())return void us.error("Cannot enable:".concat(e," AV moderation supported:").concat(this.isSupported(),", \\n                moderator:").concat(this._mainRoom.isModerator()));if(e===this._moderationEnabledByType[t])return void us.warn("Moderation already in state:".concat(e," for mediaType:").concat(t));var n=(0,rt.$msg)({to:this._xmpp.avModerationComponentAddress});n.c("av_moderation",{enable:e,mediaType:t}).up(),this._xmpp.connection.send(n);}},{key:"approve",value:function approve(e,t){if(!this.isSupported()||!this._mainRoom.isModerator())return void us.error("Cannot approve in AV moderation supported:".concat(this.isSupported(),", \\n                moderator:").concat(this._mainRoom.isModerator()));var n=(0,rt.$msg)({to:this._xmpp.avModerationComponentAddress});n.c("av_moderation",{mediaType:e,jidToWhitelist:t}).up(),this._xmpp.connection.send(n);}},{key:"reject",value:function reject(e,t){if(!this.isSupported()||!this._mainRoom.isModerator())return void us.error("Cannot reject in AV moderation supported:".concat(this.isSupported(),",\\n                moderator:").concat(this._mainRoom.isModerator()));var n=(0,rt.$msg)({to:this._xmpp.avModerationComponentAddress});n.c("av_moderation",{mediaType:e,jidToBlacklist:t}).up(),this._xmpp.connection.send(n);}},{key:"_onMessage",value:function _onMessage(e){var _this42=this;var t=e.removed,n=e.mediaType,i=e.enabled,s=e.approved,r=e.actor,o=e.whitelists;if(o){var _e52=n===Rn?this._whitelistAudio:this._whitelistVideo,_i22=Array.isArray(o[n])?o[n]:[];t?_e52.filter(function(e){return!_i22.includes(e);}).forEach(function(e){return _this42._xmpp.eventEmitter.emit(zn().AV_MODERATION_PARTICIPANT_REJECTED,n,e);}):_i22.filter(function(t){return!_e52.includes(t);}).forEach(function(e){return _this42._xmpp.eventEmitter.emit(zn().AV_MODERATION_PARTICIPANT_APPROVED,n,e);}),n===Rn?this._whitelistAudio=_i22:this._whitelistVideo=_i22;}else void 0!==i&&this._moderationEnabledByType[n]!==i?(this._moderationEnabledByType[n]=i,this._xmpp.eventEmitter.emit(zn().AV_MODERATION_CHANGED,i,n,r)):t?this._xmpp.eventEmitter.emit(zn().AV_MODERATION_REJECTED,n):s&&this._xmpp.eventEmitter.emit(zn().AV_MODERATION_APPROVED,n);}}]);return ps;}();var ms="features/breakout-rooms",fs={ADD:"".concat(ms,"/add"),REMOVE:"".concat(ms,"/remove"),MOVE_TO_ROOM:"".concat(ms,"/move-to-room")},gs="".concat(ms,"/move-to-room"),_s="".concat(ms,"/update"),vs=(0,g.getLogger)("modules/xmpp/BreakoutRooms.js");var Ss=/*#__PURE__*/function(){function Ss(e){_classCallCheck(this,Ss);this.room=e,this._handleMessages=this._handleMessages.bind(this),this.room.xmpp.addListener(zn().BREAKOUT_ROOMS_EVENT,this._handleMessages),this._rooms={};}_createClass(Ss,[{key:"dispose",value:function dispose(){this.room.xmpp.removeListener(zn().BREAKOUT_ROOMS_EVENT,this._handleMessages);}},{key:"createBreakoutRoom",value:function createBreakoutRoom(e){if(!this.isSupported()||!this.room.isModerator())return void vs.error("Cannot create breakout room - supported:".concat(this.isSupported(),", \\n                moderator:").concat(this.room.isModerator()));var t={type:fs.ADD,subject:e};this._sendMessage(t);}},{key:"removeBreakoutRoom",value:function removeBreakoutRoom(e){if(!this.isSupported()||!this.room.isModerator())return void vs.error("Cannot remove breakout room - supported:".concat(this.isSupported(),", \\n                moderator:").concat(this.room.isModerator()));var t={type:fs.REMOVE,breakoutRoomJid:e};this._sendMessage(t);}},{key:"sendParticipantToRoom",value:function sendParticipantToRoom(e,t){if(!this.isSupported()||!this.room.isModerator())return void vs.error("Cannot send participant to room - supported:".concat(this.isSupported(),", \\n                moderator:").concat(this.room.isModerator()));var n={type:fs.MOVE_TO_ROOM,participantJid:e,roomJid:t};this._sendMessage(n);}},{key:"isSupported",value:function isSupported(){return Boolean(this.getComponentAddress());}},{key:"getComponentAddress",value:function getComponentAddress(){return this.room.xmpp.breakoutRoomsComponentAddress;}},{key:"_setIsBreakoutRoom",value:function _setIsBreakoutRoom(e){this._isBreakoutRoom=e;}},{key:"isBreakoutRoom",value:function isBreakoutRoom(){return this._isBreakoutRoom;}},{key:"_setMainRoomJid",value:function _setMainRoomJid(e){this._mainRoomJid=e;}},{key:"getMainRoomJid",value:function getMainRoomJid(){return this._mainRoomJid;}},{key:"_handleMessages",value:function _handleMessages(e){switch(e.event){case gs:this.room.eventEmitter.emit(zn().BREAKOUT_ROOMS_MOVE_TO_ROOM,e.roomJid);break;case _s:this._rooms=e.rooms,this.room.eventEmitter.emit(zn().BREAKOUT_ROOMS_UPDATED,e);}}},{key:"_sendMessage",value:function _sendMessage(e){var t=(0,rt.$msg)({to:this.getComponentAddress()});t.c("breakout_rooms",e).up(),this.room.xmpp.connection.send(t);}}]);return Ss;}();var ys=(0,g.getLogger)("modules/xmpp/Lobby.js"),Es="email";var Cs=/*#__PURE__*/function(){function Cs(e){var _this43=this;_classCallCheck(this,Cs);this.xmpp=e.xmpp,this.mainRoom=e;var t=this._maybeJoinLobbyRoom.bind(this);this.mainRoom.addEventListener(zn().LOCAL_ROLE_CHANGED,t),this.mainRoom.addEventListener(zn().MUC_MEMBERS_ONLY_CHANGED,t),this.mainRoom.addEventListener(zn().ROOM_CONNECT_MEMBERS_ONLY_ERROR,function(e){_this43.lobbyRoomJid=e;});}_createClass(Cs,[{key:"isSupported",value:function isSupported(){return this.xmpp.lobbySupported;}},{key:"enable",value:function enable(){var _this44=this;return this.isSupported()?new Promise(function(e,t){_this44.mainRoom.setMembersOnly(!0,e,t);}):Promise.reject(new Error("Lobby not supported!"));}},{key:"disable",value:function disable(){this.isSupported()&&this.mainRoom.isModerator()&&this.lobbyRoom&&this.mainRoom.membersOnlyEnabled&&this.mainRoom.setMembersOnly(!1);}},{key:"leave",value:function leave(){var _this45=this;return this.lobbyRoom?this.lobbyRoom.leave().then(function(){_this45.lobbyRoom=void 0,ys.info("Lobby room left!");}).catch(function(){}):Promise.reject(new Error("The lobby has already been left"));}},{key:"setLobbyRoomJid",value:function setLobbyRoomJid(e){this.lobbyRoomJid=e;}},{key:"_maybeJoinLobbyRoom",value:function _maybeJoinLobbyRoom(){this.isSupported()&&this.mainRoom.joined&&this.mainRoom.isModerator()&&this.mainRoom.membersOnlyEnabled&&!this.lobbyRoom&&this.join().then(function(){return ys.info("Joined lobby room");}).catch(function(e){return ys.error("Failed joining lobby",e);});}},{key:"join",value:function join(e,t){var _this46=this;var n=this.mainRoom.joined&&this.mainRoom.isModerator();if(!this.lobbyRoomJid)return Promise.reject(new Error("Missing lobbyRoomJid, cannot join lobby room."));var i=rt.Strophe.getNodeFromJid(this.lobbyRoomJid),s=rt.Strophe.getDomainFromJid(this.lobbyRoomJid);return this.lobbyRoom=this.xmpp.createRoom(i,{customDomain:s,disableDiscoInfo:!0,disableFocus:!0,enableLobby:!1}),e&&this.lobbyRoom.addOrReplaceInPresence("nick",{attributes:{xmlns:"http://jabber.org/protocol/nick"},value:e}),n?(this.lobbyRoom.addPresenceListener(Es,function(e,t){_this46.mainRoom.eventEmitter.emit(zn().MUC_LOBBY_MEMBER_UPDATED,t,{email:e.value});}),this.lobbyRoom.addEventListener(zn().MUC_MEMBER_JOINED,function(e,t,n,i,s,r,o,a,c){if(!Object.values(_this46.mainRoom.members).find(function(e){return e.jid===c;})){for(var _i23=0,_Object$values=Object.values(_this46.mainRoom.getBreakoutRooms()._rooms);_i23<_Object$values.length;_i23++){var _e53=_Object$values[_i23];if(Object.values(_e53.participants).find(function(e){return e.jid===c;}))return;}_this46.mainRoom.eventEmitter.emit(zn().MUC_LOBBY_MEMBER_JOINED,rt.Strophe.getResourceFromJid(e),t,o?o.avatar:void 0);}}),this.lobbyRoom.addEventListener(zn().MUC_MEMBER_LEFT,function(e){_this46.mainRoom.eventEmitter.emit(zn().MUC_LOBBY_MEMBER_LEFT,rt.Strophe.getResourceFromJid(e));}),this.lobbyRoom.addEventListener(zn().MUC_DESTROYED,function(){Object.keys(_this46.lobbyRoom.members).forEach(function(e){return _this46.mainRoom.eventEmitter.emit(zn().MUC_LOBBY_MEMBER_LEFT,rt.Strophe.getResourceFromJid(e));}),_this46.lobbyRoom.clean(),_this46.lobbyRoom=void 0,ys.info("Lobby room left(destroyed)!");})):(this.lobbyRoom.addEventListener(zn().KICKED,function(e){if(e)return _this46.mainRoom.eventEmitter.emit(zn().MUC_DENIED_ACCESS),void _this46.lobbyRoom.clean();}),this.mainRoom.addEventListener(zn().INVITE_MESSAGE_RECEIVED,function(e,t,n,i){ys.debug("Received approval to join ".concat(e," ").concat(t," ").concat(n)),e===_this46.mainRoom.roomjid&&_this46.mainRoom.join(i);}),this.lobbyRoom.addEventListener(zn().MUC_DESTROYED,function(e,t){t?_this46.mainRoom.join():(_this46.lobbyRoom.clean(),_this46.mainRoom.eventEmitter.emit(zn().MUC_DESTROYED,e));}),this.mainRoom.addEventListener(zn().MUC_JOINED,function(){_this46.leave();})),new Promise(function(e,i){_this46.lobbyRoom.addEventListener(zn().MUC_JOINED,function(){e(),t&&!n&&_this46.lobbyRoom.addOrReplaceInPresence(Es,{value:t})&&_this46.lobbyRoom.sendPresence();}),_this46.lobbyRoom.addEventListener(zn().ROOM_JOIN_ERROR,i),_this46.lobbyRoom.addEventListener(zn().ROOM_CONNECT_NOT_ALLOWED_ERROR,i),_this46.lobbyRoom.addEventListener(zn().ROOM_CONNECT_ERROR,i),_this46.lobbyRoom.join();});}},{key:"denyAccess",value:function denyAccess(e){if(!this.isSupported()||!this.mainRoom.isModerator())return;var t=Object.keys(this.lobbyRoom.members).find(function(t){return rt.Strophe.getResourceFromJid(t)===e;});t?this.lobbyRoom.kick(t):ys.error("Not found member for ".concat(e," in lobby room."));}},{key:"approveAccess",value:function approveAccess(e){if(!this.isSupported()||!this.mainRoom.isModerator())return;var t=this.mainRoom.roomjid;this.mainRoom.getBreakoutRooms().isBreakoutRoom()&&(t=this.mainRoom.getBreakoutRooms().getMainRoomJid());var n=Object.keys(this.lobbyRoom.members).find(function(t){return rt.Strophe.getResourceFromJid(t)===e;});if(n){var _e54=this.lobbyRoom.members[n].jid,_i24=(0,rt.$msg)({to:t}).c("x",{xmlns:"http://jabber.org/protocol/muc#user"}).c("invite",{to:_e54});this.xmpp.connection.sendIQ(_i24,function(){},function(t){ys.error("Error sending invite for ".concat(_e54),t);});}else ys.error("Not found member for ".concat(n," in lobby room."));}}]);return Cs;}();var bs=n(6667),Ts=n.n(bs);var Rs=(0,g.getLogger)("modules/settings/Settings.js");var As,ws;var Is={_storage:en,init:function init(e){this._storage=e||en;},get callStatsUserName(){return As||(As=this._storage.getItem("callStatsUserName"),As||(As=function(){var e=Ts().generateUsername();return Rs.log("generated callstats uid",e),e;}(),this._storage.setItem("callStatsUserName",As))),As;},get machineId(){if(!ws){var _e55=this._storage.getItem("billingId");ws=_e55||this._storage.getItem("jitsiMeetId"),_e55?this._storage.setItem("jitsiMeetId",_e55):ws||(ws=function(){var e=Ps()+Ps()+Ps()+Ps();return Rs.log("generated id",e),e;}(),this._storage.setItem("jitsiMeetId",ws));}return ws;},get sessionId(){return this._storage.getItem("sessionId");},set sessionId(e){e?this._storage.setItem("sessionId",e):this._storage.removeItem("sessionId");}};function Ps(){return"".concat(Math.random().toString(16),"000000000").substr(2,8);}var Ms=n(3514),Ds=n(4188),Ns=n(1023),ks=(0,g.getLogger)("modules/xmpp/moderator.js");function Os(e){var t=1;return function(n){if(n)return void(t=1);var i=Math.pow(2,t-1);return t+=1,i*e;};}function Ls(e,t,n,i){function s(e){if(e.data&&e.data.sessionId){if(e.origin!==window.location.origin)return void ks.warn("Ignoring sessionId from different origin: ".concat(e.origin));Is.sessionId=e.data.sessionId;}}this.roomName=e,this.xmppService=t,this.getNextTimeout=Os(1e3),this.getNextErrorTimeout=Os(1e3),this.externalAuthEnabled=!1,this.options=i,this.sipGatewayEnabled=!1,this.eventEmitter=n,this.connection=this.xmppService.connection,window.addEventListener?window.addEventListener("message",s,!1):window.attachEvent("onmessage",s);}Ls.prototype.isExternalAuthEnabled=function(){return this.externalAuthEnabled;},Ls.prototype.isSipGatewayEnabled=function(){return this.sipGatewayEnabled;},Ls.prototype.onMucMemberLeft=function(e){"focus"===rt.Strophe.getResourceFromJid(e)&&(ks.info("Focus has left the room - leaving conference"),this.eventEmitter.emit(Ds.FOCUS_LEFT));},Ls.prototype.setFocusUserJid=function(e){this.focusUserJid||(this.focusUserJid=e,ks.info("Focus jid set to:  ".concat(this.focusUserJid)));},Ls.prototype.getFocusUserJid=function(){return this.focusUserJid;},Ls.prototype.getFocusComponent=function(){var e=this.options.connection.hosts.focus;return e||(e="focus.".concat(this.options.connection.hosts.domain)),e;},Ls.prototype.createConferenceIq=function(){var e,t,n;var i=(0,rt.$iq)({to:this.getFocusComponent(),type:"set"}),s=Is.sessionId,r=Is.machineId,o=this.options.conference;ks.info("Session ID: ".concat(s," machine UID: ").concat(r)),i.c("conference",{xmlns:"http://jitsi.org/protocol/focus",room:this.roomName,"machine-uid":r}),s&&i.attrs({"session-id":s}),i.c("property",{name:"disableRtx",value:Boolean(o.disableRtx)}).up(),void 0!==o.audioPacketDelay&&i.c("property",{name:"audioPacketDelay",value:o.audioPacketDelay}).up(),o.startBitrate&&i.c("property",{name:"startBitrate",value:o.startBitrate}).up(),o.minBitrate&&i.c("property",{name:"minBitrate",value:o.minBitrate}).up(),void 0!==this.options.conference.startAudioMuted&&i.c("property",{name:"startAudioMuted",value:this.options.conference.startAudioMuted}).up(),void 0!==this.options.conference.startVideoMuted&&i.c("property",{name:"startVideoMuted",value:this.options.conference.startVideoMuted}).up();var a=null!==(e=null===(t=this.options.conference)||void 0===t||null===(n=t.analytics)||void 0===n?void 0:n.rtcstatsEnabled)&&void 0!==e&&e;a||i.c("property",{name:"rtcstatsEnabled",value:a}).up();var _this$options$confere=this.options.conference,c=_this$options$confere.callStatsID,d=_this$options$confere.callStatsSecret,l=_this$options$confere.disableThirdPartyRequests,h=_this$options$confere.enableCallStats,u=!c||!d||!h||!0===l;return u&&i.c("property",{name:"callstatsEnabled",value:!u}).up(),i.up(),i;},Ls.prototype.parseSessionId=function(e){var t=$CC(e).find("conference").attr("session-id");t&&(ks.info("Received sessionId:  ".concat(t)),Is.sessionId=t);},Ls.prototype.parseConfigOptions=function(e){this.setFocusUserJid($CC(e).find("conference").attr("focusjid"));var t=$CC(e).find(">conference>property[name=\'authentication\'][value=\'true\']").length>0;ks.info("Authentication enabled: ".concat(t)),this.externalAuthEnabled=$CC(e).find(">conference>property[name=\'externalAuth\'][value=\'true\']").length>0,ks.info("External authentication enabled: ".concat(this.externalAuthEnabled)),this.externalAuthEnabled||this.parseSessionId(e);var n=$CC(e).find(">conference").attr("identity");this.eventEmitter.emit(Ms.IDENTITY_UPDATED,t,n),$CC(e).find(">conference>property[name=\'sipGatewayEnabled\'][value=\'true\']").length&&(this.sipGatewayEnabled=!0),ks.info("Sip gateway enabled:  ".concat(this.sipGatewayEnabled));},Ls.prototype.allocateConferenceFocus=function(){var _this47=this;return new Promise(function(e){_this47.setFocusUserJid(_this47.options.connection.focusUserJid),_this47.connection.sendIQ(_this47.createConferenceIq(),function(t){return _this47._allocateConferenceFocusSuccess(t,e);},function(t){return _this47._allocateConferenceFocusError(t,e);}),_this47.connection.flush();});},Ls.prototype._allocateConferenceFocusError=function(e,t){var _this48=this;var n=$CC(e).find(">error>session-invalid").length||$CC(e).find(">error>not-acceptable").length;if(n&&(ks.info("Session expired! - removing"),Is.sessionId=void 0),$CC(e).find(">error>graceful-shutdown").length)return void this.eventEmitter.emit(Ds.GRACEFUL_SHUTDOWN);var i=$CC(e).find(">error>reservation-error");if(i.length){var _t44=i.attr("error-code"),_n27=$CC(e).find(">error>text");var _s11;return _n27&&(_s11=_n27.text()),void this.eventEmitter.emit(Ds.RESERVATION_ERROR,_t44,_s11);}if($CC(e).find(">error>not-authorized").length)return ks.warn("Unauthorized to start the conference",e),rt.Strophe.getDomainFromJid(e.getAttribute("to"))!==this.options.connection.hosts.anonymousdomain&&(this.externalAuthEnabled=!0),void this.eventEmitter.emit(Ds.AUTHENTICATION_REQUIRED);var s=this.getNextErrorTimeout(),r="Focus error, retry after ".concat(s);Ns.callErrorHandler(new Error(r)),ks.error(r,e);var o=this.getFocusComponent(),a=s/1e3;n||this.eventEmitter.emit(Ds.FOCUS_DISCONNECTED,o,a),this.getNextTimeout(!0),window.setTimeout(function(){return _this48.allocateConferenceFocus().then(t);},s);},Ls.prototype._allocateConferenceFocusSuccess=function(e,t){var _this49=this;if(this.parseConfigOptions(e),this.getNextErrorTimeout(!0),"true"===$CC(e).find("conference").attr("ready"))this.getNextTimeout(!0),t();else{var _e56=this.getNextTimeout();ks.info("Waiting for the focus... ".concat(_e56)),window.setTimeout(function(){return _this49.allocateConferenceFocus().then(t);},_e56);}},Ls.prototype.authenticate=function(){var _this50=this;return new Promise(function(e,t){_this50.connection.sendIQ(_this50.createConferenceIq(),function(t){_this50.parseSessionId(t),e();},function(e){return t({error:$CC(e).find("iq>error :first").prop("tagName"),message:$CC(e).find("iq>error>text").text()});});});},Ls.prototype.getLoginUrl=function(e,t){this._getLoginUrl(!1,e,t);},Ls.prototype._getLoginUrl=function(e,t,n){var i=(0,rt.$iq)({to:this.getFocusComponent(),type:"get"}),s={xmlns:"http://jitsi.org/protocol/focus",room:this.roomName,"machine-uid":Is.machineId};var r="auth url";function o(e,t){Ns.callErrorHandler(new Error(e)),ks.error(e,t),n(t);}e&&(s.popup=!0,r="POPUP ".concat(r)),i.c("login-url",s),this.connection.sendIQ(i,function(e){var n=$CC(e).find("login-url").attr("url");n=decodeURIComponent(n),n?(ks.info("Got ".concat(r,": ").concat(n)),t(n)):o("Failed to get ".concat(r," from the focus"),e);},o.bind(void 0,"Get ".concat(r," error")));},Ls.prototype.getPopupLoginUrl=function(e,t){this._getLoginUrl(!0,e,t);},Ls.prototype.logout=function(e){var t=(0,rt.$iq)({to:this.getFocusComponent(),type:"set"}),n=Is.sessionId;n?(t.c("logout",{xmlns:"http://jitsi.org/protocol/focus","session-id":n}),this.connection.sendIQ(t,function(t){var n=$CC(t).find("logout").attr("logout-url");n&&(n=decodeURIComponent(n)),ks.info("Log out OK, url: ".concat(n),t),Is.sessionId=void 0,e(n);},function(e){var t="Logout error";Ns.callErrorHandler(new Error(t)),ks.error(t,e);})):e();};var xs=(0,g.getLogger)("modules/xmpp/ChatRoom.js"),Fs={packet2JSON:function packet2JSON(e,t){for(var _i25=0,_Array$from2=Array.from(e.children);_i25<_Array$from2.length;_i25++){var _n28=_Array$from2[_i25];var _e57={attributes:{},children:[],tagName:_n28.tagName};for(var _i26=0,_Array$from3=Array.from(_n28.attributes);_i26<_Array$from3.length;_i26++){var _t45=_Array$from3[_i26];_e57.attributes[_t45.name]=_t45.value;}var _i27=rt.Strophe.getText(_n28);_i27&&(_e57.value=rt.Strophe.xmlunescape(_i27)),t.push(_e57),this.packet2JSON(_n28,_e57.children);}},json2packet:function json2packet(e,t){for(var _n29=0;_n29<e.length;_n29++){var _i28=e[_n29];_i28&&(t.c(_i28.tagName,_i28.attributes),_i28.value&&t.t(_i28.value),_i28.children&&this.json2packet(_i28.children,t),t.up());}}};function js(e,t){var n=[];for(var _i29=0;_i29<e.length;_i29++)e[_i29].tagName===t&&n.push(e[_i29]);return n;}var $s=["owner","admin","member"];var Us=/*#__PURE__*/function(_vi6){_inherits(Us,_vi6);var _super13=_createSuper(Us);function Us(e,t,n,i,s){var _this51;_classCallCheck(this,Us);_this51=_super13.call(this),_this51.xmpp=i,_this51.connection=e,_this51.roomjid=rt.Strophe.getBareJidFromJid(t),_this51.myroomjid=t,_this51.password=n,_this51.replaceParticipant=!1,xs.info("Joined MUC as ".concat(_this51.myroomjid)),_this51.members={},_this51.presMap={},_this51.presHandlers={},_this51._removeConnListeners=[],_this51.joined=!1,_this51.inProgressEmitted=!1,_this51.role=null,_this51.focusMucJid=null,_this51.noBridgeAvailable=!1,_this51.options=s||{},_this51.moderator=new Ls(_this51.roomjid,_this51.xmpp,_this51.eventEmitter,{connection:_this51.xmpp.options,conference:_this51.options}),(void 0===_this51.options.enableLobby||_this51.options.enableLobby)&&(_this51.lobby=new Cs(_assertThisInitialized(_this51))),_this51.avModeration=new ps(_assertThisInitialized(_this51)),_this51.breakoutRooms=new Ss(_assertThisInitialized(_this51)),_this51.initPresenceMap(s),_this51.lastPresences={},_this51.phoneNumber=null,_this51.phonePin=null,_this51.connectionTimes={},_this51.participantPropertyListener=null,_this51.locked=!1,_this51.transcriptionStatus=hs;return _this51;}_createClass(Us,[{key:"initPresenceMap",value:function initPresenceMap(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.presMap.to=this.myroomjid,this.presMap.xns="http://jabber.org/protocol/muc",this.presMap.nodes=[],e.statsId&&this.presMap.nodes.push({tagName:"stats-id",value:e.statsId}),this.presenceUpdateTime=Date.now();}},{key:"join",value:function join(e,t){var _this52=this;return this.password=e,this.replaceParticipant=t,new Promise(function(e){_this52.options.disableFocus&&xs.info("Conference focus disabled for ".concat(_this52.roomjid)),(_this52.options.disableFocus?Promise.resolve():_this52.moderator.allocateConferenceFocus()).then(function(){_this52.sendPresence(!0),_this52._removeConnListeners.push(_this52.connection.addEventListener(ds.Events.CONN_STATUS_CHANGED,_this52.onConnStatusChanged.bind(_this52))),e();});});}},{key:"sendPresence",value:function sendPresence(e){var t=this.presMap.to;if(!this.connection||!this.connection.connected||!t||!this.joined&&!e)return;var n=(0,rt.$pres)({to:t});e&&(this.replaceParticipant&&n.c("flip_device").up(),n.c("x",{xmlns:this.presMap.xns}),this.password&&n.c("password").t(this.password).up(),this.options.billingId&&n.c("billingid").t(this.options.billingId).up(),n.up()),Fs.json2packet(this.presMap.nodes,n),this.presenceSyncTime=Date.now(),this.connection.send(n),e&&this.connection.flush();}},{key:"doLeave",value:function doLeave(){xs.log("do leave",this.myroomjid);var e=(0,rt.$pres)({to:this.myroomjid,type:"unavailable"});this.presMap.length=0,!this.connection.isUsingWebSocket&&this.connection.flush(),this.connection.send(e),this.connection.flush();}},{key:"discoRoomInfo",value:function discoRoomInfo(){var _this53=this;var e=(0,rt.$iq)({type:"get",to:this.roomjid}).c("query",{xmlns:rt.Strophe.NS.DISCO_INFO});this.connection.sendIQ(e,function(e){var t=1===$CC(e).find(\'>query>feature[var="muc_passwordprotected"]\').length;t!==_this53.locked&&(_this53.eventEmitter.emit(zn().MUC_LOCK_CHANGED,t),_this53.locked=t);var n=$CC(e).find(\'>query>x[type="result"]>field[var="muc#roominfo_meetingId"]>value\');n.length?_this53.setMeetingId(n.text()):xs.warn("No meeting ID from backend");var i=1===$CC(e).find(\'>query>feature[var="muc_membersonly"]\').length,s=$CC(e).find(\'>query>x[type="result"]>field[var="muc#roominfo_lobbyroom"]>value\');_this53.lobby&&_this53.lobby.setLobbyRoomJid(s&&s.length?s.text():void 0);var r=$CC(e).find(\'>query>x[type="result"]>field[var="muc#roominfo_isbreakout"]>value\'),o=Boolean(null==r?void 0:r.text());_this53.breakoutRooms._setIsBreakoutRoom(o);var a=$CC(e).find(\'>query>x[type="result"]>field[var="muc#roominfo_breakout_main_room"]>value\');null!=a&&a.length&&_this53.breakoutRooms._setMainRoomJid(a.text()),i!==_this53.membersOnlyEnabled&&(_this53.membersOnlyEnabled=i,_this53.eventEmitter.emit(zn().MUC_MEMBERS_ONLY_CHANGED,i));},function(e){dn().callErrorHandler(e),xs.error("Error getting room info: ",e);});}},{key:"setMeetingId",value:function setMeetingId(e){this.meetingId!==e&&(this.meetingId&&xs.warn("Meeting Id changed from:".concat(this.meetingId," to:").concat(e)),this.meetingId=e,this.eventEmitter.emit(zn().MEETING_ID_SET,e));}},{key:"createNonAnonymousRoom",value:function createNonAnonymousRoom(){var _this54=this;if(this.options.disableDiscoInfo)return;var e=(0,rt.$iq)({type:"get",to:this.roomjid}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"}).c("x",{xmlns:"jabber:x:data",type:"submit"});this.connection.sendIQ(e,function(e){if(!$CC(e).find(\'>query>x[xmlns="jabber:x:data"]>field[var="muc#roomconfig_whois"]\').length){var _e58="non-anonymous rooms not supported";return dn().callErrorHandler(new Error(_e58)),void xs.error(_e58);}var t=(0,rt.$iq)({to:_this54.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"});t.c("x",{xmlns:"jabber:x:data",type:"submit"}),t.c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#roomconfig").up().up(),t.c("field",{var:"muc#roomconfig_whois"}).c("value").t("anyone").up().up(),_this54.connection.sendIQ(t);},function(e){dn().callErrorHandler(e),xs.error("Error getting room configuration form: ",e);});}},{key:"onConnStatusChanged",value:function onConnStatusChanged(e){e===ds.Status.CONNECTED&&this.sendPresence();}},{key:"onPresence",value:function onPresence(e){var t=e.getAttribute("from"),n={},i=e.getElementsByTagName("status")[0];i&&(n.status=i.textContent||"");var s=!1,r=!1;var o=e.getElementsByTagNameNS("http://jabber.org/protocol/muc#user","x")[0],a=o&&o.getElementsByTagName("item")[0];n.isReplaceParticipant=e.getElementsByTagName("flip_device").length,n.affiliation=a&&a.getAttribute("affiliation"),n.role=a&&a.getAttribute("role");var c=a&&a.getAttribute("jid");n.jid=c,n.isFocus=c&&0===c.indexOf("".concat(this.moderator.getFocusUserJid(),"/")),n.isHiddenDomain=c&&c.indexOf("@")>0&&this.options.hiddenDomain===c.substring(c.indexOf("@")+1,c.indexOf("/")),this.eventEmitter.emit(zn().PRESENCE_RECEIVED,{fromHiddenDomain:n.isHiddenDomain,presence:e});var d=e.querySelector("x");d&&d.remove();var l=[];Fs.packet2JSON(e,l),this.lastPresences[t]=l;var h=function h(e){var t={},n=e.children.find(function(e){return"user"===e.tagName;});if(n){t.user={};var _loop5=function _loop5(){var e=_arr2[_i30];var i=n.children.find(function(t){return t.tagName===e;});i&&(t.user[e]=i.value);};for(var _i30=0,_arr2=["id","name","avatar"];_i30<_arr2.length;_i30++){_loop5();}}var i=e.children.find(function(e){return"group"===e.tagName;});return i&&(t.group=i.value),t;};for(var _e59=0;_e59<l.length;_e59++){var _t46=l[_e59];switch(_t46.tagName){case"bot":{var _e60=_t46.attributes;if(!_e60)break;var _i31=_e60.type;n.botType=_i31;break;}case"nick":n.nick=_t46.value;break;case"userId":n.id=_t46.value;break;case"stats-id":n.statsID=_t46.value;break;case"identity":n.identity=h(_t46);break;case"features":n.features=this._extractFeatures(_t46);break;case"stat":{var _e61=_t46.attributes;if(!_e61)break;var _i32=_e61.name;"version"===_i32&&(n.version=_e61.value);break;}}}if(!this.joined&&!this.inProgressEmitted){var _e62=this.connectionTimes["muc.join.started"]=window.performance.now();xs.log("(TIME) MUC join started:\\t",_e62),this.eventEmitter.emit(zn().MUC_JOIN_IN_PROGRESS),this.inProgressEmitted=!0;}if(t===this.myroomjid){var _e63="owner"===n.affiliation?n.role:"none";if(this.role!==_e63&&(this.role=_e63,this.eventEmitter.emit(zn().LOCAL_ROLE_CHANGED,this.role)),!this.joined){this.joined=!0;var _e64=this.connectionTimes["muc.joined"]=window.performance.now();xs.log("(TIME) MUC joined:\\t",_e64),this.password&&(this.locked=!0),this.presenceUpdateTime>=this.presenceSyncTime&&this.sendPresence(),this.eventEmitter.emit(zn().MUC_JOINED),!this.options.disableDiscoInfo&&this.discoRoomInfo();}}else if(void 0===c)xs.info("Ignoring member with undefined JID");else if(void 0===this.members[t])this.members[t]=n,xs.log("entered",t,n),s=void 0!==n.status,r=void 0!==n.version,n.isFocus?this._initFocus(t,n.features):(this.eventEmitter.emit(zn().MUC_MEMBER_JOINED,t,n.nick,n.role,n.isHiddenDomain,n.statsID,n.status,n.identity,n.botType,n.jid,n.features,n.isReplaceParticipant),s=!1);else{var _e65=this.members[t];_e65.role!==n.role&&(_e65.role=n.role,this.eventEmitter.emit(zn().MUC_ROLE_CHANGED,t,n.role)),_e65.affiliation!==n.affiliation&&(_e65.affiliation=n.affiliation),_e65.botType!==n.botType&&(_e65.botType=n.botType,this.eventEmitter.emit(zn().MUC_MEMBER_BOT_TYPE_CHANGED,t,n.botType)),n.isFocus&&(_e65.isFocus=!0,this._initFocus(t,n.features)),n.displayName&&(_e65.displayName=n.displayName),_e65.status!==n.status&&(s=!0,_e65.status=n.status),_e65.version!==n.version&&(r=!0,_e65.version=n.version),st()(_e65.features,n.features)||(_e65.features=n.features,this.eventEmitter.emit(zn().PARTICIPANT_FEATURES_CHANGED,t,n.features));}for(var _e66=0;_e66<l.length;_e66++){var _i33=l[_e66];switch(_i33.tagName){case"nick":if(!n.isFocus){var _e67=this.xmpp.options.displayJids?rt.Strophe.getResourceFromJid(t):n.nick;this.eventEmitter.emit(zn().DISPLAY_NAME_CHANGED,t,_e67);}break;case"bridgeNotAvailable":n.isFocus&&!this.noBridgeAvailable&&(this.noBridgeAvailable=!0,this.eventEmitter.emit(zn().BRIDGE_DOWN));break;case"conference-properties":if(n.isFocus){var _e68={};for(var _t47=0;_t47<_i33.children.length;_t47++){var _n30=_i33.children[_t47].attributes;_n30&&_n30.key&&(_e68[_n30.key]=_n30.value);}this.eventEmitter.emit(zn().CONFERENCE_PROPERTIES_CHANGED,_e68),void 0===this.restartByTerminateSupported&&(this.restartByTerminateSupported="true"===_e68["support-terminate-restart"],xs.info("Jicofo supports restart by terminate: ".concat(this.supportsRestartByTerminate())));}break;case"transcription-status":{var _e69=_i33.attributes;if(!_e69)break;var _t48=_e69.status;_t48&&_t48!==this.transcriptionStatus&&(this.transcriptionStatus=_t48,this.eventEmitter.emit(zn().TRANSCRIPTION_STATUS_CHANGED,_t48));break;}case"call-control":{var _e70=_i33.attributes;if(!_e70)break;this.phoneNumber=_e70.phone||null,this.phonePin=_e70.pin||null,this.eventEmitter.emit(zn().PHONE_NUMBER_CHANGED);break;}default:this.processNode(_i33,t);}}s&&this.eventEmitter.emit(zn().PRESENCE_STATUS,t,n.status),r&&xs.info("Received version for ".concat(c,": ").concat(n.version));}},{key:"_extractFeatures",value:function _extractFeatures(e){var t=new Set();for(var _n31=0;_n31<e.children.length;_n31++){var _i34=e.children[_n31].attributes;_i34&&_i34.var&&t.add(_i34.var);}return t;}},{key:"_initFocus",value:function _initFocus(e,t){this.focusMucJid=e,this.focusFeatures=t;}},{key:"setParticipantPropertyListener",value:function setParticipantPropertyListener(e){this.participantPropertyListener=e;}},{key:"supportsRestartByTerminate",value:function supportsRestartByTerminate(){return this.restartByTerminateSupported;}},{key:"processNode",value:function processNode(e,t){try{var _n32=this.presHandlers[e.tagName];e.tagName.startsWith("jitsi_participant_")&&(_n32=[this.participantPropertyListener]),_n32&&_n32.forEach(function(n){n(e,rt.Strophe.getResourceFromJid(t),t);});}catch(t){dn().callErrorHandler(t),xs.error("Error processing:".concat(e.tagName," node."),t);}}},{key:"sendMessage",value:function sendMessage(e,t){var n=(0,rt.$msg)({to:this.roomjid,type:"groupchat"});"body"===t?n.c(t,{},e):n.c(t,{xmlns:"http://jitsi.org/jitmeet"},e),this.connection.send(n),this.eventEmitter.emit(zn().SENDING_CHAT_MESSAGE,e);}},{key:"sendPrivateMessage",value:function sendPrivateMessage(e,t,n){var i=(0,rt.$msg)({to:"".concat(this.roomjid,"/").concat(e),type:"chat"});"body"===n?i.c(n,t).up():i.c(n,{xmlns:"http://jitsi.org/jitmeet"},t).up(),this.connection.send(i),this.eventEmitter.emit(zn().SENDING_PRIVATE_CHAT_MESSAGE,t);}},{key:"setSubject",value:function setSubject(e){var t=(0,rt.$msg)({to:this.roomjid,type:"groupchat"});t.c("subject",e),this.connection.send(t);}},{key:"onParticipantLeft",value:function onParticipantLeft(e,t){delete this.lastPresences[e],t||(this.eventEmitter.emit(zn().MUC_MEMBER_LEFT,e),this.moderator.onMucMemberLeft(e));}},{key:"onPresenceUnavailable",value:function onPresenceUnavailable(e,t){var _this55=this;if($CC(e).find(\'>ignore[xmlns="http://jitsi.org/jitmeet/"]\').length)return!0;var n=$CC(e).find(\'>x[xmlns="http://jabber.org/protocol/muc#user"]>destroy\');if(n.length){var _t49;var _i35=$CC(e).find(\'>x[xmlns="http://jabber.org/protocol/muc#user"]>destroy>reason\');return _i35.length&&(_t49=_i35.text()),this.eventEmitter.emit(zn().MUC_DESTROYED,_t49,n.attr("jid")),this.connection.emuc.doLeave(this.roomjid),!0;}var i=$CC(e).find(\'>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="110"]\').length,s=$CC(e).find(\'>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="307"]\').length,r=Object.keys(this.members),o=$CC(e).find("flip_device").length;if(s){var _n33=$CC(e).find(\'>x[xmlns="http://jabber.org/protocol/muc#user"]>item>actor\');var _s12,_r9;_n33.length&&(_s12=_n33.attr("nick"));var _a4=$CC(e).find(\'>x[xmlns="http://jabber.org/protocol/muc#user"]>item>reason\');_a4.length&&(_r9=_a4.text()),this.eventEmitter.emit(zn().KICKED,i,_s12,rt.Strophe.getResourceFromJid(t),_r9,o);}i?(r.forEach(function(e){var t=_this55.members[e];delete _this55.members[e],_this55.onParticipantLeft(e,t.isFocus);}),this.connection.emuc.doLeave(this.roomjid),s||this.eventEmitter.emit(zn().MUC_LEFT)):(delete this.members[t],this.onParticipantLeft(t,!1));}},{key:"onMessage",value:function onMessage(e,t){var n=e.getAttribute("type");if("error"===n){var _t50=$CC(e).find(">settings-error>text").text();if(_t50.length)return this.eventEmitter.emit(zn().SETTINGS_ERROR_RECEIVED,_t50),!0;var _n34=$CC(e).find(">error>text").text();return this.eventEmitter.emit(zn().CHAT_ERROR_RECEIVED,_n34),!0;}var i=$CC(e).find(">body").text(),s=$CC(e).find(">subject");if(s.length){var _e71=s.text();(_e71||""===_e71)&&(this.eventEmitter.emit(zn().SUBJECT_CHANGED,_e71),xs.log("Subject is changed to ".concat(_e71)));}var r=$CC(e).find(">delay").attr("stamp");if(!r&&(r=$CC(e).find(\'>[xmlns="jabber:x:delay"]\').attr("stamp"),r)){var _e72=r.match(/(\\d{4})(\\d{2})(\\d{2}T\\d{2}:\\d{2}:\\d{2})/);r="".concat(_e72[1],"-").concat(_e72[2],"-").concat(_e72[3],"Z");}if(t===this.roomjid){var _n35;if($CC(e).find(\'>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="104"]\').length)this.discoRoomInfo();else if((_n35=$CC(e).find(\'>x[xmlns="http://jabber.org/protocol/muc#user"]>invite\'))&&_n35.length){var _s13=$CC(e).find(\'>x[xmlns="http://jabber.org/protocol/muc#user"]>password\');var _r10;_s13&&_s13.length&&(_r10=_s13.text()),this.eventEmitter.emit(zn().INVITE_MESSAGE_RECEIVED,t,_n35.attr("from"),i,_r10);}}var o=$CC(e).find(">json-message").text();if(o){var _e73=this.xmpp.tryParseJSONAndVerify(o);if(_e73&&void 0===r)return void this.eventEmitter.emit(zn().JSON_MESSAGE_RECEIVED,t,_e73);}i&&("chat"===n?this.eventEmitter.emit(zn().PRIVATE_MESSAGE_RECEIVED,t,i,this.myroomjid,r):"groupchat"===n&&this.eventEmitter.emit(zn().MESSAGE_RECEIVED,t,i,this.myroomjid,r));}},{key:"onPresenceError",value:function onPresenceError(e,t){if($CC(e).find(\'>error[type="auth"]>not-authorized[xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"]\').length)xs.log("on password required",t),this.eventEmitter.emit(zn().PASSWORD_REQUIRED);else if($CC(e).find(\'>error[type="cancel"]>not-allowed[xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"]\').length)rt.Strophe.getDomainFromJid(e.getAttribute("to"))===this.xmpp.options.hosts.anonymousdomain?this.eventEmitter.emit(zn().ROOM_JOIN_ERROR):(xs.warn("onPresError ",e),this.eventEmitter.emit(zn().ROOM_CONNECT_NOT_ALLOWED_ERROR));else if($CC(e).find(">error>service-unavailable").length)xs.warn("Maximum users limit for the room has been reached",e),this.eventEmitter.emit(zn().ROOM_MAX_USERS_ERROR);else if($CC(e).find(\'>error[type="auth"]>registration-required[xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"]\').length){var _t51=$CC(e).find(\'>error[type="auth"]>lobbyroom\');var _n36;if(_t51.length)_n36=_t51.text();else{var _t52=$CC(e).find(">lobbyroom");_t52.length&&(_n36=_t52.text());}this.eventEmitter.emit(zn().ROOM_CONNECT_MEMBERS_ONLY_ERROR,_n36);}else xs.warn("onPresError ",e),this.eventEmitter.emit(zn().ROOM_CONNECT_ERROR);}},{key:"setAffiliation",value:function setAffiliation(e,t){var n=(0,rt.$iq)({to:this.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#admin"}).c("item",{affiliation:t,nick:rt.Strophe.getResourceFromJid(e)}).c("reason").t("Your affiliation has been changed to \'".concat(t,"\'.")).up().up().up();this.connection.sendIQ(n,function(n){return xs.log("Set affiliation of participant with jid: ",e,"to",t,n);},function(e){return xs.log("Set affiliation of participant error: ",e);});}},{key:"kick",value:function kick(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"You have been kicked.";var n=(0,rt.$iq)({to:this.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#admin"}).c("item",{nick:rt.Strophe.getResourceFromJid(e),role:"none"}).c("reason").t(t).up().up().up();this.connection.sendIQ(n,function(t){return xs.log("Kick participant with jid: ",e,t);},function(e){return xs.log("Kick participant error: ",e);});}},{key:"lockRoom",value:function lockRoom(e,t,n,i){var _this56=this;this.connection.sendIQ((0,rt.$iq)({to:this.roomjid,type:"get"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"}),function(s){if($CC(s).find(\'>query>x[xmlns="jabber:x:data"]>field[var="muc#roomconfig_roomsecret"]\').length){var _i36=(0,rt.$iq)({to:_this56.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"});_i36.c("x",{xmlns:"jabber:x:data",type:"submit"}),_i36.c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#roomconfig").up().up(),_i36.c("field",{var:"muc#roomconfig_roomsecret"}).c("value").t(e).up().up(),_i36.c("field",{var:"muc#roomconfig_passwordprotectedroom"}).c("value").t(null===e||0===e.length?"0":"1").up().up(),_this56.membersOnlyEnabled&&_i36.c("field",{var:"muc#roomconfig_membersonly"}).c("value").t("true").up().up(),_i36.c("field",{var:"muc#roomconfig_whois"}).c("value").t("anyone").up().up(),_this56.connection.sendIQ(_i36,function(){_this56.password=e,t();},n);}else i();},n);}},{key:"setMembersOnly",value:function setMembersOnly(e,t,n){var _this57=this;e&&Object.values(this.members).filter(function(e){return!e.isFocus;}).length&&Object.values(this.members).forEach(function(e){e.jid&&!$s.includes(e.affiliation)&&_this57.xmpp.connection.sendIQ((0,rt.$iq)({to:_this57.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#admin"}).c("item",{affiliation:"member",jid:e.jid}).up().up());});var i=n||function(){};this.xmpp.connection.sendIQ((0,rt.$iq)({to:this.roomjid,type:"get"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"}),function(n){if($CC(n).find(\'>query>x[xmlns="jabber:x:data"]>field[var="muc#roomconfig_membersonly"]\').length){var _n37=(0,rt.$iq)({to:_this57.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"});_n37.c("x",{xmlns:"jabber:x:data",type:"submit"}),_n37.c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#roomconfig").up().up(),_n37.c("field",{var:"muc#roomconfig_membersonly"}).c("value").t(e?"true":"false").up().up(),_this57.locked&&_n37.c("field",{var:"muc#roomconfig_passwordprotectedroom"}).c("value").t("1").up().up(),_this57.xmpp.connection.sendIQ(_n37,t,i);}else i(new Error("Setting members only room not supported!"));},i);}},{key:"addToPresence",value:function addToPresence(e,t){return this.addOrReplaceInPresence(e,t);}},{key:"addOrReplaceInPresence",value:function addOrReplaceInPresence(e,t){t.tagName=e;var n=this.presMap.nodes.filter(function(t){return e===t.tagName;});return!(1===n.length&&st()(n[0],t)||(this.removeFromPresence(e),this.presMap.nodes.push(t),this.presenceUpdateTime=Date.now(),0));}},{key:"getFromPresence",value:function getFromPresence(e){return this.presMap.nodes.find(function(t){return e===t.tagName;});}},{key:"removeFromPresence",value:function removeFromPresence(e){var t=this.presMap.nodes.filter(function(t){return e!==t.tagName;});this.presMap.nodes=t,this.presenceUpdateTime=Date.now();}},{key:"addPresenceListener",value:function addPresenceListener(e,t){if("function"!=typeof t)throw new Error(\'"handler" is not a function\');var n=this.presHandlers[e];n||(this.presHandlers[e]=n=[]),-1===n.indexOf(t)?n.push(t):xs.warn("Trying to add the same handler more than once for: ".concat(e));}},{key:"removePresenceListener",value:function removePresenceListener(e,t){var n=this.presHandlers[e],i=n?n.indexOf(t):-1;-1!==i?n.splice(i,1):xs.warn("Handler for: ".concat(e," was not registered"));}},{key:"isFocus",value:function isFocus(e){var t=this.members[e];return t?t.isFocus:null;}},{key:"isModerator",value:function isModerator(){return"moderator"===this.role;}},{key:"getMemberRole",value:function getMemberRole(e){return this.members[e]?this.members[e].role:null;}},{key:"addAudioInfoToPresence",value:function addAudioInfoToPresence(e){var t="audiomuted";return!(e&&!this.getFromPresence(t))&&this.addOrReplaceInPresence(t,{value:e.toString()});}},{key:"addVideoInfoToPresence",value:function addVideoInfoToPresence(e){var t="videomuted";return!(e&&!this.getFromPresence(t))&&this.addOrReplaceInPresence(t,{value:e.toString()});}},{key:"getMediaPresenceInfo",value:function getMediaPresenceInfo(e,t){var n=this.lastPresences["".concat(this.roomjid,"/").concat(e)];if(!n)return null;var i={muted:!0,videoType:void 0};var s=null;if(t===Rn)s=js(n,"audiomuted");else{if(t!==wn)return xs.error("Unsupported media type: ".concat(t)),null;{s=js(n,"videomuted");var _e74=js(n,"jitsi_participant_codecType"),_t53=js(n,"videoType");_t53.length>0&&(i.videoType=_t53[0].value),_e74.length>0&&(i.codecType=_e74[0].value);}}return s.length>0&&(i.muted="true"===s[0].value),i;}},{key:"getLastPresence",value:function getLastPresence(e){return this.lastPresences["".concat(this.roomjid,"/").concat(e)];}},{key:"isSIPCallingSupported",value:function isSIPCallingSupported(){return!!this.moderator&&this.moderator.isSipGatewayEnabled();}},{key:"dial",value:function dial(e){return this.connection.rayo.dial(e,"fromnumber",rt.Strophe.getBareJidFromJid(this.myroomjid),this.password,this.focusMucJid);}},{key:"hangup",value:function hangup(){return this.connection.rayo.hangup();}},{key:"getLobby",value:function getLobby(){return this.lobby;}},{key:"getAVModeration",value:function getAVModeration(){return this.avModeration;}},{key:"getBreakoutRooms",value:function getBreakoutRooms(){return this.breakoutRooms;}},{key:"getPhoneNumber",value:function getPhoneNumber(){return this.phoneNumber;}},{key:"getPhonePin",value:function getPhonePin(){return this.phonePin;}},{key:"getMeetingId",value:function getMeetingId(){return this.meetingId;}},{key:"muteParticipant",value:function muteParticipant(e,t,n){xs.info("set mute",t,e);var i=(0,rt.$iq)({to:this.focusMucJid,type:"set"}).c("mute",{xmlns:"http://jitsi.org/jitmeet/".concat(n),jid:e}).t(t.toString()).up();this.connection.sendIQ(i,function(e){return xs.log("set mute",e);},function(e){return xs.log("set mute error",e);});}},{key:"onMute",value:function onMute(e){if(e.getAttribute("from")!==this.focusMucJid)return void xs.warn("Ignored mute from non focus peer");var t=$CC(e).find("mute");t.length&&"true"===t.text()?this.eventEmitter.emit(zn().AUDIO_MUTED_BY_FOCUS,t.attr("actor")):xs.warn("Ignoring a mute request which does not explicitly specify a positive mute command.");}},{key:"onMuteVideo",value:function onMuteVideo(e){if(e.getAttribute("from")!==this.focusMucJid)return void xs.warn("Ignored mute from non focus peer");var t=$CC(e).find("mute");t.length&&"true"===t.text()?this.eventEmitter.emit(zn().VIDEO_MUTED_BY_FOCUS,t.attr("actor")):xs.warn("Ignoring a mute request which does not explicitly specify a positive mute command.");}},{key:"clean",value:function clean(){this._removeConnListeners.forEach(function(e){return e();}),this._removeConnListeners=[],this.joined=!1,this.inProgressEmitted=!1;}},{key:"leave",value:function leave(){var _this58=this;var e,t=this;this.avModeration.dispose(),this.breakoutRooms.dispose();var n=[];return(null===(e=this.lobby)||void 0===e?void 0:e.lobbyRoom)&&n.push(this.lobby.leave()),n.push(new Promise(function(e,n){var i=-1;var s=function s(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.eventEmitter.removeListener(zn().MUC_LEFT,s),clearTimeout(i),r?(t.connection.emuc.doLeave(t.roomjid),n(new Error("The timeout for the confirmation about leaving the room expired."))):e();};i=setTimeout(function(){return s(!0);},5e3),_this58.clean(),_this58.eventEmitter.on(zn().MUC_LEFT,s),_this58.doLeave();})),Promise.allSettled(n);}}]);return Us;}(vi);var Bs=(0,g.getLogger)("modules/xmpp/strophe.emuc.js");var Js=/*#__PURE__*/function(_rs){_inherits(Js,_rs);var _super14=_createSuper(Js);function Js(e){var _this59;_classCallCheck(this,Js);_this59=_super14.call(this),_this59.xmpp=e,_this59.rooms={};return _this59;}_createClass(Js,[{key:"init",value:function init(e){_get(_getPrototypeOf(Js.prototype),"init",this).call(this,e),this.connection.addHandler(this.onPresence.bind(this),null,"presence",null,null,null,null),this.connection.addHandler(this.onPresenceUnavailable.bind(this),null,"presence","unavailable",null),this.connection.addHandler(this.onPresenceError.bind(this),null,"presence","error",null),this.connection.addHandler(this.onMessage.bind(this),null,"message",null,null),this.connection.addHandler(this.onMute.bind(this),"http://jitsi.org/jitmeet/audio","iq","set",null,null),this.connection.addHandler(this.onMuteVideo.bind(this),"http://jitsi.org/jitmeet/video","iq","set",null,null);}},{key:"createRoom",value:function createRoom(e,t,n){var i=rt.Strophe.getBareJidFromJid(e);if(this.isRoomCreated(i)){var _e75="You are already in the room!";throw Bs.error(_e75),new Error(_e75);}return this.rooms[i]=new Us(this.connection,e,t,this.xmpp,n),this.eventEmitter.emit(zn().EMUC_ROOM_ADDED,this.rooms[i]),this.rooms[i];}},{key:"isRoomCreated",value:function isRoomCreated(e){return e in this.rooms;}},{key:"doLeave",value:function doLeave(e){this.eventEmitter.emit(zn().EMUC_ROOM_REMOVED,this.rooms[e]),delete this.rooms[e];}},{key:"onPresence",value:function onPresence(e){var t=e.getAttribute("from");if(e.getAttribute("type"))return!0;var n=this.rooms[rt.Strophe.getBareJidFromJid(t)];return!n||($CC(e).find(\'>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="201"]\').length&&n.createNonAnonymousRoom(),n.onPresence(e),!0);}},{key:"onPresenceUnavailable",value:function onPresenceUnavailable(e){var t=e.getAttribute("from"),n=this.rooms[rt.Strophe.getBareJidFromJid(t)];return!n||(n.onPresenceUnavailable(e,t),!0);}},{key:"onPresenceError",value:function onPresenceError(e){var t=e.getAttribute("from"),n=this.rooms[rt.Strophe.getBareJidFromJid(t)];return!n||(n.onPresenceError(e,t),!0);}},{key:"onMessage",value:function onMessage(e){var t=e.getAttribute("from"),n=this.rooms[rt.Strophe.getBareJidFromJid(t)];return!n||(n.onMessage(e,t),!0);}},{key:"onMute",value:function onMute(e){var t=e.getAttribute("from"),n=this.rooms[rt.Strophe.getBareJidFromJid(t)];return!n||(n.onMute(e),!0);}},{key:"onMuteVideo",value:function onMuteVideo(e){var t=e.getAttribute("from"),n=this.rooms[rt.Strophe.getBareJidFromJid(t)];return!n||(n.onMuteVideo(e),!0);}}]);return Js;}(rs);var Vs=(0,g.getLogger)("FeatureFlags"),Hs=new(/*#__PURE__*/function(){function _class9(){_classCallCheck(this,_class9);}_createClass(_class9,[{key:"init",value:function init(e){this._sourceNameSignaling=Boolean(e.sourceNameSignaling),Vs.info("Source name signaling: ".concat(this._sourceNameSignaling));}},{key:"isSourceNameSignalingEnabled",value:function isSourceNameSignalingEnabled(){return this._sourceNameSignaling;}}]);return _class9;}())(),Gs=(0,g.getLogger)("modules/xmpp/JingleHelperFunctions.js");function qs(e,t){var n=(0,rt.$build)("source",{xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0",ssrc:t.s,name:Hs.isSourceNameSignalingEnabled()?t.n:void 0});return t.m&&n.c("parameter",{name:"msid",value:t.m}).up(),n.c("ssrc-info",{xmlns:"http://jitsi.org/jitmeet",owner:e}).up(),n.node;}function Ks(e){var t=(0,rt.$build)("ssrc-group",{xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0",semantics:(n=e[0],"f"===n?"FID":"s"===n?"SIM":null)});var n;for(var _n38=1;_n38<e.length;_n38++)t.c("source",{xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0",ssrc:e[_n38]}).up();return t.node;}function zs(e,t){var n=$CC(e).find("jingle")[0];var i,s=$CC(n).find("content[name=\\"".concat(t,"\\"]"));return s.length?s=s[0]:(s=(0,rt.$build)("content",{name:t}).node,n.appendChild(s)),i=$CC(s).find("description"),i.length?i=i[0]:(i=(0,rt.$build)("description",{xmlns:"urn:xmpp:jingle:apps:rtp:1",media:t}).node,s.appendChild(i)),i;}function Ws(e,t){var n;var i;try{i=JSON.parse(t.textContent);}catch(e){return Gs.error("json-message XML contained invalid JSON, ignoring: ".concat(t.textContent)),null;}if(null===(n=i)||void 0===n||!n.sources)return null;var s=zs(e,Rn),r=zs(e,wn),o=new Map();for(var _e76 in i.sources)if(i.sources.hasOwnProperty(_e76)){var _t54=[],_n39=i.sources[_e76],_d3=(null==_n39?void 0:_n39.length)&&_n39[0],_l2=(null==_n39?void 0:_n39.length)>1&&_n39[1],_h2=(null==_n39?void 0:_n39.length)>2&&_n39[2],_u2=(null==_n39?void 0:_n39.length)>3&&_n39[3];if(null!=_d3&&_d3.length)for(var _n40=0;_n40<_d3.length;_n40++){var a;r.appendChild(qs(_e76,_d3[_n40])),_t54.push(null===(a=_d3[_n40])||void 0===a?void 0:a.s);}if(null!=_l2&&_l2.length)for(var _e77=0;_e77<_l2.length;_e77++)r.appendChild(Ks(_l2[_e77]));if(null!=_h2&&_h2.length)for(var _n41=0;_n41<_h2.length;_n41++){var c;s.appendChild(qs(_e76,_h2[_n41])),_t54.push(null===(c=_h2[_n41])||void 0===c?void 0:c.s);}if(null!=_u2&&_u2.length)for(var _e78=0;_e78<_u2.length;_e78++)s.appendChild(Ks(_u2[_e78]));o.set(_e76,_t54);}return o;}var Qs=n(4391),Xs=n.n(Qs),Ys=n(8043),Zs=n.n(Ys);var er=n(9077).getLogger("modules/RTC/ScreenObtainer.js"),tr={obtainStream:null,init:function init(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e,this.obtainStream=this._createObtainStreamMethod(),this.obtainStream||er.info("Desktop sharing disabled");},_createObtainStreamMethod:function _createObtainStreamMethod(){return nn.isNWJS()?function(e,t){window.JitsiMeetNW.obtainDesktopStream(e,function(e,n){var i;i=e&&"InvalidStateError"===e.name?new Et(mt):new Et(e,n,["desktop"]),"function"==typeof t&&t(i);});}:nn.isElectron()?this.obtainScreenOnElectron:nn.isReactNative()&&nn.supportsGetDisplayMedia()?this.obtainScreenFromGetDisplayMediaRN:nn.supportsGetDisplayMedia()?this.obtainScreenFromGetDisplayMedia:(er.log("Screen sharing not supported on ",nn.getName()),null);},_getAudioConstraints:function _getAudioConstraints(){var e=this.options.audioQuality;return null==e||!e.stereo||{autoGainControl:!1,channelCount:2,echoCancellation:!1,noiseSuppression:!1};},isSupported:function isSupported(){return null!==this.obtainStream;},obtainScreenOnElectron:function obtainScreenOnElectron(e,t){var n=this;if(window.JitsiMeetScreenObtainer&&window.JitsiMeetScreenObtainer.openDesktopPicker){var _this$options=this.options,_i37=_this$options.desktopSharingFrameRate,_s14=_this$options.desktopSharingSources;window.JitsiMeetScreenObtainer.openDesktopPicker({desktopSharingSources:_s14||["screen","window"]},function(s,r){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(s){var a,c;var _d4=!1;if(o){_d4={};var _e79=n._getAudioConstraints();"boolean"!=typeof _e79&&(_d4={optional:_e79}),"screen"===r&&(_d4.mandatory={chromeMediaSource:"desktop"});}var _l3={audio:_d4,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:s,minFrameRate:null!==(a=null==_i37?void 0:_i37.min)&&void 0!==a?a:5,maxFrameRate:null!==(c=null==_i37?void 0:_i37.max)&&void 0!==c?c:5,maxWidth:window.screen.width,maxHeight:window.screen.height}}};navigator.mediaDevices.getUserMedia(_l3).then(function(t){return e({stream:t,sourceId:s,sourceType:r});},t);}else t(new Et(mt));},function(e){return t(new Et(ct,e));});}else t(new Et(dt));},obtainScreenFromGetDisplayMedia:function obtainScreenFromGetDisplayMedia(e,t){var n;n=navigator.getDisplayMedia?navigator.getDisplayMedia.bind(navigator):navigator.mediaDevices.getDisplayMedia.bind(navigator.mediaDevices);var i=this.options.desktopSharingFrameRate,s="object"!=_typeof(i)||{frameRate:i},r=this._getAudioConstraints();s.frameRate&&delete s.frameRate.min;var o={video:s,audio:r,cursor:"always"};er.info("Using getDisplayMedia for screen sharing",o),n(o).then(function(t){e({stream:t,sourceId:t.id});}).catch(function(e){var n={errorName:e&&e.name,errorMsg:e&&e.message,errorStack:e&&e.stack};er.error("getDisplayMedia error",o,n),n.errorMsg&&-1!==n.errorMsg.indexOf("denied by system")?t(new Et(ut)):t(new Et(mt));});},obtainScreenFromGetDisplayMediaRN:function obtainScreenFromGetDisplayMediaRN(e,t){er.info("Using getDisplayMedia for screen sharing"),navigator.mediaDevices.getDisplayMedia({video:!0}).then(function(t){e({stream:t,sourceId:t.id});}).catch(function(){t(new Et(mt));});},setDesktopSharingFrameRate:function setDesktopSharingFrameRate(e){er.info("Setting the desktop capture rate to ".concat(e)),this.options.desktopSharingFrameRate={min:5,max:e};}},nr=tr,ir=(0,g.getLogger)("modules/sdp/SDPUtil.js"),sr={filterSpecialChars:function filterSpecialChars(e){return e?e.replace(/[\\\\\\/\\{,\\}\\+]/g,""):e;},iceparams:function iceparams(e,t){var n,i,s=null;return(i=sr.findLine(e,"a=ice-ufrag:",t))&&(n=sr.findLine(e,"a=ice-pwd:",t))&&(s={ufrag:sr.parseICEUfrag(i),pwd:sr.parseICEPwd(n)}),s;},parseICEUfrag:function parseICEUfrag(e){return e.substring(12);},buildICEUfrag:function buildICEUfrag(e){return"a=ice-ufrag:".concat(e);},parseICEPwd:function parseICEPwd(e){return e.substring(10);},buildICEPwd:function buildICEPwd(e){return"a=ice-pwd:".concat(e);},parseMID:function parseMID(e){return e.substring(6);},parseMSIDAttribute:function parseMSIDAttribute(e){var t=e.find(function(e){return e.indexOf(" msid:")>0;});if(!t)return;var n=t.substring(t.indexOf(" msid:")+6);return sr.filterSpecialChars(n);},parseMLine:function parseMLine(e){var t={},n=e.substring(2).split(" ");return t.media=n.shift(),t.port=n.shift(),t.proto=n.shift(),""===n[n.length-1]&&n.pop(),t.fmt=n,t;},buildMLine:function buildMLine(e){return"m=".concat(e.media," ").concat(e.port," ").concat(e.proto," ").concat(e.fmt.join(" "));},parseRTPMap:function parseRTPMap(e){var t={};var n=e.substring(9).split(" ");return t.id=n.shift(),n=n[0].split("/"),t.name=n.shift(),t.clockrate=n.shift(),t.channels=n.length?n.shift():"1",t;},parseSCTPMap:function parseSCTPMap(e){var t=e.substring(10).split(" ");return[t[0],t[1],t.length>2?t[2]:null];},parseSCTPPort:function parseSCTPPort(e){return e.substring(12);},buildRTPMap:function buildRTPMap(e){var t="a=rtpmap:".concat(e.getAttribute("id")," ").concat(e.getAttribute("name"),"/").concat(e.getAttribute("clockrate"));return e.getAttribute("channels")&&"1"!==e.getAttribute("channels")&&(t+="/".concat(e.getAttribute("channels"))),t;},parseCrypto:function parseCrypto(e){var t={},n=e.substring(9).split(" ");return t.tag=n.shift(),t["crypto-suite"]=n.shift(),t["key-params"]=n.shift(),n.length&&(t["session-params"]=n.join(" ")),t;},parseFingerprint:function parseFingerprint(e){var t={},n=e.substring(14).split(" ");return t.hash=n.shift(),t.fingerprint=n.shift(),t;},parseFmtp:function parseFmtp(e){var t=[];var n=e.split(" ");n.shift(),n=n.join(" ").split(";");for(var _e80=0;_e80<n.length;_e80++){var _i38=n[_e80].split("=")[0];for(;_i38.length&&" "===_i38[0];)_i38=_i38.substring(1);var _s15=n[_e80].split("=")[1];_i38&&_s15?t.push({name:_i38,value:_s15}):_i38&&t.push({name:"",value:_i38});}return t;},parseICECandidate:function parseICECandidate(e){var t={},n=e.split(" ");t.foundation=n[0].substring(12),t.component=n[1],t.protocol=n[2].toLowerCase(),t.priority=n[3],t.ip=n[4],t.port=n[5],t.type=n[7],t.generation=0;for(var _e81=8;_e81<n.length;_e81+=2)switch(n[_e81]){case"raddr":t["rel-addr"]=n[_e81+1];break;case"rport":t["rel-port"]=n[_e81+1];break;case"generation":t.generation=n[_e81+1];break;case"tcptype":t.tcptype=n[_e81+1];break;default:ir.debug("parseICECandidate not translating \\"".concat(n[_e81],"\\" = \\"").concat(n[_e81+1],"\\""));}return t.network="1",t.id=Math.random().toString(36).substr(2,10),t;},buildICECandidate:function buildICECandidate(e){var t=["a=candidate:".concat(e.foundation),e.component,e.protocol,e.priority,e.ip,e.port,"typ",e.type].join(" ");switch(t+=" ",e.type){case"srflx":case"prflx":case"relay":e.hasOwnAttribute("rel-addr")&&e.hasOwnAttribute("rel-port")&&(t+="raddr",t+=" ",t+=e["rel-addr"],t+=" ",t+="rport",t+=" ",t+=e["rel-port"],t+=" ");}return e.hasOwnAttribute("tcptype")&&(t+="tcptype",t+=" ",t+=e.tcptype,t+=" "),t+="generation",t+=" ",t+=e.hasOwnAttribute("generation")?e.generation:"0",t;},parseSSRC:function parseSSRC(e){var t=new Map(),n=e.split("\\r\\n");for(var _e82=0;_e82<n.length;_e82++)if("a=ssrc:"===n[_e82].substring(0,7)){var _i39=n[_e82].split("a=ssrc:")[1].split(" ")[0];t.get(_i39)||t.set(_i39,[]),t.get(_i39).push(n[_e82]);}return t;},parseSourceNameLine:function parseSourceNameLine(e){var t=e.find(function(e){return e.indexOf(" name:")>0;});return null==t?void 0:t.substring(t.indexOf(" name:")+6);},parseRTCPFB:function parseRTCPFB(e){var t=e.substr(10).split(" "),n={};return n.pt=t.shift(),n.type=t.shift(),n.params=t,n;},parseExtmap:function parseExtmap(e){var t=e.substr(9).split(" "),n={};return n.value=t.shift(),-1===n.value.indexOf("/")?n.direction="both":(n.direction=n.value.substr(n.value.indexOf("/")+1),n.value=n.value.substr(0,n.value.indexOf("/"))),n.uri=t.shift(),n.params=t,n;},findLine:function findLine(e,t,n){var i=e.split("\\r\\n");for(var _e83=0;_e83<i.length;_e83++)if(i[_e83].substring(0,t.length)===t)return i[_e83];if(!n)return!1;i=n.split("\\r\\n");for(var _e84=0;_e84<i.length;_e84++)if(i[_e84].substring(0,t.length)===t)return i[_e84];return!1;},findLines:function findLines(e,t,n){var i=e.split("\\r\\n");var s=[];for(var _e85=0;_e85<i.length;_e85++)i[_e85].substring(0,t.length)===t&&s.push(i[_e85]);if(s.length||!n)return s;i=n.split("\\r\\n");for(var _e86=0;_e86<i.length;_e86++)i[_e86].substring(0,t.length)===t&&s.push(i[_e86]);return s;},candidateToJingle:function candidateToJingle(e){if(0===e.indexOf("candidate:"))e="a=".concat(e);else if("a=candidate:"!==e.substring(0,12))return ir.warn("parseCandidate called with a line that is not a candidate line"),ir.warn(e),null;"\\r\\n"===e.substring(e.length-2)&&(e=e.substring(0,e.length-2));var t={},n=e.split(" ");if("typ"!==n[6])return ir.warn("did not find typ in the right place"),ir.warn(e),null;t.foundation=n[0].substring(12),t.component=n[1],t.protocol=n[2].toLowerCase(),t.priority=n[3],t.ip=n[4],t.port=n[5],t.type=n[7],t.generation="0";for(var _e87=8;_e87<n.length;_e87+=2)switch(n[_e87]){case"raddr":t["rel-addr"]=n[_e87+1];break;case"rport":t["rel-port"]=n[_e87+1];break;case"generation":t.generation=n[_e87+1];break;case"tcptype":t.tcptype=n[_e87+1];break;default:ir.debug("not translating \\"".concat(n[_e87],"\\" = \\"").concat(n[_e87+1],"\\""));}return t.network="1",t.id=Math.random().toString(36).substr(2,10),t;},candidateFromJingle:function candidateFromJingle(e){var t="a=candidate:";t+=e.getAttribute("foundation"),t+=" ",t+=e.getAttribute("component"),t+=" ";var n=e.getAttribute("protocol");switch(nn.isFirefox()&&"ssltcp"===n.toLowerCase()&&(n="tcp"),t+=n,t+=" ",t+=e.getAttribute("priority"),t+=" ",t+=e.getAttribute("ip"),t+=" ",t+=e.getAttribute("port"),t+=" ",t+="typ",t+=" ".concat(e.getAttribute("type")),t+=" ",e.getAttribute("type")){case"srflx":case"prflx":case"relay":e.getAttribute("rel-addr")&&e.getAttribute("rel-port")&&(t+="raddr",t+=" ",t+=e.getAttribute("rel-addr"),t+=" ",t+="rport",t+=" ",t+=e.getAttribute("rel-port"),t+=" ");}return"tcp"===n.toLowerCase()&&(t+="tcptype",t+=" ",t+=e.getAttribute("tcptype"),t+=" "),t+="generation",t+=" ",t+=e.getAttribute("generation")||"0","".concat(t,"\\r\\n");},parsePrimaryVideoSsrc:function parsePrimaryVideoSsrc(e){var t=e.ssrcs.map(function(e){return e.id;}).filter(function(e,t,n){return n.indexOf(e)===t;}).length,n=e.ssrcGroups&&e.ssrcGroups.length||0;if(t>1&&0===n)return;var i=null;if(1===t)i=e.ssrcs[0].id;else if(2===t){var _t55=e.ssrcGroups.find(function(e){return"FID"===e.semantics;});_t55&&(i=_t55.ssrcs.split(" ")[0]);}else if(t>=3){var _t56=e.ssrcGroups.find(function(e){return"SIM"===e.semantics;});_t56&&(i=_t56.ssrcs.split(" ")[0]);}return i;},generateSsrc:function generateSsrc(){return Gi().randomInt(1,4294967295);},getSsrcAttribute:function getSsrcAttribute(e,t,n){for(var _i40=0;_i40<e.ssrcs.length;++_i40){var _s16=e.ssrcs[_i40];if(_s16.id===t&&_s16.attribute===n)return _s16.value;}},parseGroupSsrcs:function parseGroupSsrcs(e){return e.ssrcs.split(" ").map(function(e){return parseInt(e,10);});},getMedia:function getMedia(e,t){return e.media.find(function(e){return e.type===t;});},getUfrag:function getUfrag(e){var t=e.split("\\n").filter(function(e){return e.startsWith("a=ice-ufrag:");});if(t.length>0)return t[0].substr("a=ice-ufrag:".length);},preferCodec:function preferCodec(e,t){if(!e||!t)return;var n=e.rtp.filter(function(e){return e.codec&&e.codec.toLowerCase()===t.toLowerCase();}).map(function(e){return e.payload;});if(n){var _t57=e.payloads.toString().split(" ").map(function(e){return parseInt(e,10);});var _iterator27=_createForOfIteratorHelper(n.reverse()),_step27;try{for(_iterator27.s();!(_step27=_iterator27.n()).done;){var _e88=_step27.value;var _n42=_t57.indexOf(_e88);_t57.splice(_n42,1),_t57.unshift(_e88);}}catch(err){_iterator27.e(err);}finally{_iterator27.f();}e.payloads=_t57.join(" ");}},stripCodec:function stripCodec(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||!t)return;var i=[];var s=[];var r=t.toLowerCase()===Xs().H264&&n;var _iterator28=_createForOfIteratorHelper(e.rtp),_step28;try{for(_iterator28.s();!(_step28=_iterator28.n()).done;){var _n44=_step28.value;_n44.codec&&_n44.codec.toLowerCase()===t.toLowerCase()&&(r?i.push(_n44.payload):s.push(_n44.payload));}}catch(err){_iterator28.e(err);}finally{_iterator28.f();}if(r&&(s=e.fmtp.filter(function(e){return i.indexOf(e.payload)>-1&&e.config.includes("profile-level-id=64");}).map(function(e){return e.payload;})),s.length>0){var _s17;var _t58=s.map(function(e){return"apt=".concat(e);}),_n43=e.fmtp.filter(function(e){return-1!==_t58.indexOf(e.config);});(_s17=s).push.apply(_s17,_toConsumableArray(_n43.map(function(e){return e.payload;})));var _i41=e.payloads.toString().split(" ").map(Number).filter(function(e){return-1===s.indexOf(e);});0===_i41.length?(e.port=0,e.direction=Zs().INACTIVE,e.payloads="*"):e.payloads=_i41.join(" "),e.rtp=e.rtp.filter(function(e){return-1!==_i41.indexOf(e.payload);}),e.fmtp=e.fmtp.filter(function(e){return-1!==_i41.indexOf(e.payload);}),e.rtcpFb&&(e.rtcpFb=e.rtcpFb.filter(function(e){return-1!==_i41.indexOf(e.payload);}));}}},rr=sr;function or(e){var t=e.split("\\r\\nm=");for(var _e89=1,_n45=t.length;_e89<_n45;_e89++){var _i42="m=".concat(t[_e89]);_e89!==_n45-1&&(_i42+="\\r\\n"),t[_e89]=_i42;}var n="".concat(t.shift(),"\\r\\n");this.media=t,this.raw=n+t.join(""),this.session=n;}function ar(e,t){if(!t)return!1;if(e.length!==t.length)return!1;for(var _n46=0,_i43=e.length;_n46<_i43;_n46++)if(e[_n46]instanceof Array&&t[_n46]instanceof Array){if(!e[_n46].equals(t[_n46]))return!1;}else if(e[_n46]!==t[_n46])return!1;return!0;}function cr(e,t){if(this.mySDP=e,this.otherSDP=t,!e)throw new Error(\'"mySDP" is undefined!\');if(!t)throw new Error(\'"otherSDP" is undefined!\');}or.prototype.failICE=!1,or.prototype.removeTcpCandidates=!1,or.prototype.removeUdpCandidates=!1,or.prototype.getMediaSsrcMap=function(){var _this60=this;var e={};var _loop6=function _loop6(){var n={mediaindex:_t59,mid:rr.parseMID(rr.findLine(_this60.media[_t59],"a=mid:")),ssrcs:{},ssrcGroups:[]};e[_t59]=n,rr.findLines(_this60.media[_t59],"a=ssrc:").forEach(function(e){var t=e.substring(7).split(" ")[0];n.ssrcs[t]||(n.ssrcs[t]={ssrc:t,lines:[]}),n.ssrcs[t].lines.push(e);}),rr.findLines(_this60.media[_t59],"a=ssrc-group:").forEach(function(e){var t=e.indexOf(" "),i=e.substr(0,t).substr(13),s=e.substr(14+i.length).split(" ");s.length&&n.ssrcGroups.push({semantics:i,ssrcs:s});});};for(var _t59=0;_t59<this.media.length;_t59++){_loop6();}return e;},or.prototype.containsSSRC=function(e){var t=this.getMediaSsrcMap();var n=!1;return Object.keys(t).forEach(function(i){n||t[i].ssrcs[e]&&(n=!0);}),n;},or.prototype.toJingle=function(e,t){rr.findLines(this.session,"a=group:").forEach(function(t){var n=t.split(" "),i=n.shift().substr(8);e.c("group",{xmlns:"urn:xmpp:jingle:apps:grouping:0",semantics:i});for(var _t60=0;_t60<n.length;_t60++)e.c("content",{name:n[_t60]}).up();e.up();});for(var _n47=0;_n47<this.media.length;_n47++){var _i44=rr.parseMLine(this.media[_n47].split("\\r\\n")[0]);if("audio"!==_i44.media&&"video"!==_i44.media&&"application"!==_i44.media)continue;var _s18=void 0;var _r11=rr.findLine(this.media[_n47],"a=ssrc:");_s18=!!_r11&&_r11.substring(7).split(" ")[0],e.c("content",{creator:t,name:_i44.media});var _o9=rr.findLine(this.media[_n47],"a=mid:");if(_o9){var _t61=rr.parseMID(_o9);e.attrs({name:_t61});}if("audio"===_i44.media||"video"===_i44.media){e.c("description",{xmlns:"urn:xmpp:jingle:apps:rtp:1",media:_i44.media}),_s18&&e.attrs({ssrc:_s18});for(var _t62=0;_t62<_i44.fmt.length;_t62++){var _s19=rr.findLine(this.media[_n47],"a=rtpmap:".concat(_i44.fmt[_t62]));e.c("payload-type",rr.parseRTPMap(_s19));var _r12=rr.findLine(this.media[_n47],"a=fmtp:".concat(_i44.fmt[_t62]));if(_r12){var _t63=rr.parseFmtp(_r12);for(var _n48=0;_n48<_t63.length;_n48++)e.c("parameter",_t63[_n48]).up();}this.rtcpFbToJingle(_n47,e,_i44.fmt[_t62]),e.up();}if(_s18){var _t64=rr.parseSSRC(this.media[_n47]);var _iterator29=_createForOfIteratorHelper(_t64),_step29;try{for(_iterator29.s();!(_step29=_iterator29.n()).done;){var _step29$value=_slicedToArray(_step29.value,2),_n49=_step29$value[0],_i45=_step29$value[1];var _t65=rr.parseSourceNameLine(_i45);e.c("source",{ssrc:_n49,name:Hs.isSourceNameSignalingEnabled()?_t65:void 0,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"});var _s20=rr.parseMSIDAttribute(_i45);_s20&&(e.c("parameter"),e.attrs({name:"msid"}),e.attrs({value:_s20}),e.up()),e.up();}}catch(err){_iterator29.e(err);}finally{_iterator29.f();}rr.findLines(this.media[_n47],"a=ssrc-group:").forEach(function(t){var n=t.indexOf(" "),i=t.substr(0,n).substr(13),s=t.substr(14+i.length).split(" ");s.length&&(e.c("ssrc-group",{semantics:i,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),s.forEach(function(t){return e.c("source",{ssrc:t}).up();}),e.up());});}var _t66=rr.findLines(this.media[_n47],"a=rid:");if(_t66.length&&nn.usesRidsForSimulcast()){var _i46=_t66.map(function(e){return e.split(":")[1];}).map(function(e){return e.split(" ")[0];});_i46.forEach(function(t){e.c("source",{rid:t,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),e.up();}),rr.findLine(this.media[_n47],"a=simulcast:")&&(e.c("rid-group",{semantics:"SIM",xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),_i46.forEach(function(t){e.c("source",{rid:t}).up();}),e.up());}rr.findLine(this.media[_n47],"a=rtcp-mux")&&e.c("rtcp-mux").up(),this.rtcpFbToJingle(_n47,e,"*");var _r13=rr.findLines(this.media[_n47],"a=extmap:");for(var _t67=0;_t67<_r13.length;_t67++){var _n50=rr.parseExtmap(_r13[_t67]);if(e.c("rtp-hdrext",{xmlns:"urn:xmpp:jingle:apps:rtp:rtp-hdrext:0",uri:_n50.uri,id:_n50.value}),_n50.hasOwnProperty("direction"))switch(_n50.direction){case Zs().SENDONLY:e.attrs({senders:"responder"});break;case Zs().RECVONLY:e.attrs({senders:"initiator"});break;case Zs().SENDRECV:e.attrs({senders:"both"});break;case Zs().INACTIVE:e.attrs({senders:"none"});}e.up();}e.up();}this.transportToJingle(_n47,e);var _a5=this.media[_n47];rr.findLine(_a5,"a=".concat(Zs().SENDRECV),this.session)?e.attrs({senders:"both"}):rr.findLine(_a5,"a=".concat(Zs().SENDONLY),this.session)?e.attrs({senders:"initiator"}):rr.findLine(_a5,"a=".concat(Zs().RECVONLY),this.session)?e.attrs({senders:"responder"}):rr.findLine(_a5,"a=".concat(Zs().INACTIVE),this.session)&&e.attrs({senders:"none"}),"0"!==_i44.port||rr.findLine(_a5,"a=bundle-only",this.session)||e.attrs({senders:"rejected"}),e.up();}return e.up(),e;},or.prototype.transportToJingle=function(e,t){var _this61=this;t.c("transport");var n=rr.findLine(this.media[e],"a=sctp-port:",this.session),i=rr.findLine(this.media[e],"a=sctpmap:",this.session);if(n){var _e90=rr.parseSCTPPort(n);t.c("sctpmap",{xmlns:"urn:xmpp:jingle:transports:dtls-sctp:1",number:_e90,protocol:"webrtc-datachannel"}),t.attrs({streams:0}),t.up();}else if(i){var _e91=rr.parseSCTPMap(i);t.c("sctpmap",{xmlns:"urn:xmpp:jingle:transports:dtls-sctp:1",number:_e91[0],protocol:_e91[1]}),_e91.length>2?t.attrs({streams:_e91[2]}):t.attrs({streams:0}),t.up();}rr.findLines(this.media[e],"a=fingerprint:",this.session).forEach(function(n){var i=rr.parseFingerprint(n);i.xmlns="urn:xmpp:jingle:apps:dtls:0",t.c("fingerprint").t(i.fingerprint),delete i.fingerprint;var s=rr.findLine(_this61.media[e],"a=setup:",_this61.session);s&&(i.setup=s.substr(8)),t.attrs(i),t.up();});var s=rr.iceparams(this.media[e],this.session);s&&(s.xmlns="urn:xmpp:jingle:transports:ice-udp:1",t.attrs(s),rr.findLines(this.media[e],"a=candidate:",this.session).forEach(function(e){var n=rr.candidateToJingle(e);_this61.failICE&&(n.ip="1.1.1.1");var i=n&&"string"==typeof n.protocol?n.protocol.toLowerCase():"";_this61.removeTcpCandidates&&("tcp"===i||"ssltcp"===i)||_this61.removeUdpCandidates&&"udp"===i||t.c("candidate",n).up();})),t.up();},or.prototype.rtcpFbToJingle=function(e,t,n){rr.findLines(this.media[e],"a=rtcp-fb:".concat(n)).forEach(function(e){var n=rr.parseRTCPFB(e);"trr-int"===n.type?(t.c("rtcp-fb-trr-int",{xmlns:"urn:xmpp:jingle:apps:rtp:rtcp-fb:0",value:n.params[0]}),t.up()):(t.c("rtcp-fb",{xmlns:"urn:xmpp:jingle:apps:rtp:rtcp-fb:0",type:n.type}),n.params.length>0&&t.attrs({subtype:n.params[0]}),t.up());});},or.prototype.rtcpFbFromJingle=function(e,t){var n="";var i=e.find(\'>rtcp-fb-trr-int[xmlns="urn:xmpp:jingle:apps:rtp:rtcp-fb:0"]\');return i.length&&(n+="a=rtcp-fb:* trr-int ",i.attr("value")?n+=i.attr("value"):n+="0",n+="\\r\\n"),e.find(\'>rtcp-fb[xmlns="urn:xmpp:jingle:apps:rtp:rtcp-fb:0"]\').each(function(e,i){n+="a=rtcp-fb:".concat(t," ").concat(i.getAttribute("type")),i.hasAttribute("subtype")&&(n+=" ".concat(i.getAttribute("subtype"))),n+="\\r\\n";}),n;},or.prototype.fromJingle=function(e){var _this62=this;var t=Date.now();this.raw="v=0\\r\\no=- ".concat(t," 2 IN IP4 0.0.0.0\\r\\ns=-\\r\\nt=0 0\\r\\n");var n=$CC(e).find(\'>group[xmlns="urn:xmpp:jingle:apps:grouping:0"]\');n.length&&n.each(function(e,t){var n=$CC(t).find(">content").map(function(e,t){return t.getAttribute("name");}).get();n.length>0&&(_this62.raw+="a=group:".concat(t.getAttribute("semantics")||t.getAttribute("type")," ").concat(n.join(" "),"\\r\\n"));}),this.session=this.raw,e.find(">content").each(function(e,t){var n=_this62.jingle2media($CC(t));_this62.media.push(n);}),this.raw=this.session+this.media.join("");},or.prototype.jingle2media=function(e){var _this63=this;var t=e.find(">description"),n=e.find(\'>transport[xmlns="urn:xmpp:jingle:transports:ice-udp:1"]\');var i="";var s=n.find(\'>sctpmap[xmlns="urn:xmpp:jingle:transports:dtls-sctp:1"]\'),r={media:t.attr("media"),port:"9"};switch("rejected"===e.attr("senders")&&(r.port="0"),n.find(\'>fingerprint[xmlns="urn:xmpp:jingle:apps:dtls:0"]\').length?r.proto=s.length?"UDP/DTLS/SCTP":"UDP/TLS/RTP/SAVPF":r.proto="UDP/TLS/RTP/SAVPF",s.length?(i+="m=application ".concat(r.port," UDP/DTLS/SCTP webrtc-datachannel\\r\\n"),i+="a=sctp-port:".concat(s.attr("number"),"\\r\\n"),i+="a=max-message-size:262144\\r\\n"):(r.fmt=t.find(">payload-type").map(function(e,t){return t.getAttribute("id");}).get(),i+="".concat(rr.buildMLine(r),"\\r\\n")),i+="c=IN IP4 0.0.0.0\\r\\n",s.length||(i+="a=rtcp:1 IN IP4 0.0.0.0\\r\\n"),n.length&&(n.attr("ufrag")&&(i+="".concat(rr.buildICEUfrag(n.attr("ufrag")),"\\r\\n")),n.attr("pwd")&&(i+="".concat(rr.buildICEPwd(n.attr("pwd")),"\\r\\n")),n.find(\'>fingerprint[xmlns="urn:xmpp:jingle:apps:dtls:0"]\').each(function(e,t){i+="a=fingerprint:".concat(t.getAttribute("hash")),i+=" ".concat($CC(t).text()),i+="\\r\\n",t.hasAttribute("setup")&&(i+="a=setup:".concat(t.getAttribute("setup"),"\\r\\n"));})),n.find(">candidate").each(function(e,t){var n=t.getAttribute("protocol");n="string"==typeof n?n.toLowerCase():"",_this63.removeTcpCandidates&&("tcp"===n||"ssltcp"===n)||_this63.removeUdpCandidates&&"udp"===n||(_this63.failICE&&t.setAttribute("ip","1.1.1.1"),i+=rr.candidateFromJingle(t));}),e.attr("senders")){case"initiator":i+="a=".concat(Zs().SENDONLY,"\\r\\n");break;case"responder":i+="a=".concat(Zs().RECVONLY,"\\r\\n");break;case"none":i+="a=".concat(Zs().INACTIVE,"\\r\\n");break;case"both":i+="a=".concat(Zs().SENDRECV,"\\r\\n");}i+="a=mid:".concat(e.attr("name"),"\\r\\n"),t.find(">rtcp-mux").length&&(i+="a=rtcp-mux\\r\\n"),t.find(">payload-type").each(function(e,t){i+="".concat(rr.buildRTPMap(t),"\\r\\n"),$CC(t).find(">parameter").length&&(i+="a=fmtp:".concat(t.getAttribute("id")," "),i+=$CC(t).find(">parameter").map(function(e,t){var n=t.getAttribute("name");return(n?"".concat(n,"="):"")+t.getAttribute("value");}).get().join("; "),i+="\\r\\n"),i+=_this63.rtcpFbFromJingle($CC(t),t.getAttribute("id"));}),i+=this.rtcpFbFromJingle(t,"*"),t.find(\'>rtp-hdrext[xmlns="urn:xmpp:jingle:apps:rtp:rtp-hdrext:0"]\').each(function(e,t){i+="a=extmap:".concat(t.getAttribute("id")," ").concat(t.getAttribute("uri"),"\\r\\n");}),t.find(\'>ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]\').each(function(e,t){var n=t.getAttribute("semantics"),s=$CC(t).find(">source").map(function(e,t){return t.getAttribute("ssrc");}).get();s.length&&(i+="a=ssrc-group:".concat(n," ").concat(s.join(" "),"\\r\\n"));});var o="",a="";return t.find(\'>source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]\').each(function(e,t){var n=t.getAttribute("ssrc");var i=!0,s="";$CC(t).find(">parameter").each(function(e,t){var r;var o=t.getAttribute("name");var a=t.getAttribute("value");a=rr.filterSpecialChars(a),s+="a=ssrc:".concat(n," ").concat(o),a&&a.length&&(s+=":".concat(a)),s+="\\r\\n",null!==(r=a)&&void 0!==r&&r.includes("mixedmslabel")&&(i=!1);}),i?o+=s:a+=s;}),i+=a+o,i;},cr.prototype.getNewMedia=function(){var e=this.mySDP.getMediaSsrcMap(),t=this.otherSDP.getMediaSsrcMap(),n={};return Object.keys(t).forEach(function(i){var s=e[i],r=t[i];s||!r?(Object.keys(r.ssrcs).forEach(function(e){(-1===Object.keys(s.ssrcs).indexOf(e)||r.ssrcs[e].lines&&s.ssrcs[e].lines&&void 0!==s.ssrcs[e].lines.find(function(e){return-1!==e.indexOf("msid");})!=(void 0!==r.ssrcs[e].lines.find(function(e){return-1!==e.indexOf("msid");})))&&(n[i]||(n[i]={mediaindex:r.mediaindex,mid:r.mid,ssrcs:{},ssrcGroups:[]}),n[i].ssrcs[e]=r.ssrcs[e]);}),r.ssrcGroups.forEach(function(e){var t=!1;for(var _n51=0;_n51<s.ssrcGroups.length;_n51++){var _i47=s.ssrcGroups[_n51];if(e.semantics===_i47.semantics&&ar(e.ssrcs,_i47.ssrcs)){t=!0;break;}}t||(n[i]||(n[i]={mediaindex:r.mediaindex,mid:r.mid,ssrcs:{},ssrcGroups:[]}),n[i].ssrcGroups.push(e));})):n[i]=r;}),n;},cr.prototype.toJingle=function(e){var t=this.getNewMedia();var n=!1;return Object.keys(t).forEach(function(i){n=!0;var s=t[i];e.c("content",{name:s.mid}),e.c("description",{xmlns:"urn:xmpp:jingle:apps:rtp:1",media:s.mid}),Object.keys(s.ssrcs).forEach(function(t){var n=s.ssrcs[t],i=n.lines,r=rr.parseSourceNameLine(i);e.c("source",{xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),e.attrs({name:Hs.isSourceNameSignalingEnabled()?r:void 0,ssrc:n.ssrc});var o=rr.parseMSIDAttribute(i);o&&(e.c("parameter"),e.attrs({name:"msid"}),e.attrs({value:o}),e.up()),e.up();}),s.ssrcGroups.forEach(function(t){t.ssrcs.length&&(e.c("ssrc-group",{semantics:t.semantics,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),t.ssrcs.forEach(function(t){e.c("source",{ssrc:t}).up();}),e.up());}),e.up(),e.up();}),n;};var dr=n(8223),lr=n.n(dr);var hr=(0,g.getLogger)("modules/util/AsyncQueue.js");var ur=/*#__PURE__*/function(){function ur(){_classCallCheck(this,ur);this._queue=lr().queue(this._processQueueTasks.bind(this),1),this._stopped=!1;}_createClass(ur,[{key:"clear",value:function clear(){this._queue.kill();}},{key:"_processQueueTasks",value:function _processQueueTasks(e,t){try{e(t);}catch(e){hr.error("Task failed: ".concat(null==e?void 0:e.stack)),t(e);}}},{key:"push",value:function push(e,t){this._stopped?t&&t(new Error("The queue has been stopped")):this._queue.push(e,t);}},{key:"shutdown",value:function shutdown(){this._stopped=!0;}}]);return ur;}();var pr=n(2593);var mr="pending",fr="active",gr="ended",_r=(0,g.getLogger)("modules/xmpp/JingleSession.js");var vr=/*#__PURE__*/function(_vi7){_inherits(vr,_vi7);var _super15=_createSuper(vr);function vr(e,t,n,i,s,r,o){var _this64;_classCallCheck(this,vr);_this64=_super15.call(this),_this64.sid=e,_this64.localJid=t,_this64.remoteJid=n,_this64.connection=i,_this64.mediaConstraints=s,_this64.pcConfig=r,_this64.isInitiator=o,_this64.usedrip=!0,_this64.dripContainer=[],_this64.room=null,_this64._signalingLayer=null,_this64.state=null,_this64.rtc=null;return _this64;}_createClass(vr,[{key:"initiatorJid",get:function get(){return this.isInitiator?this.localJid:this.remoteJid;}},{key:"responderJid",get:function get(){return this.isInitiator?this.remoteJid:this.localJid;}},{key:"initialize",value:function initialize(e,t,n,i){if(null!==this.state){var _e92="attempt to initiate on session ".concat(this.sid,"\\n                   in state ").concat(this.state);throw _r.error(_e92),new Error(_e92);}this.room=e,this.rtc=t,this._signalingLayer=n,this.state=mr,this.doInitialize(i);}},{key:"doInitialize",value:function doInitialize(e){}},{key:"addIceCandidates",value:function addIceCandidates(e){}},{key:"getState",value:function getState(){return this.state;}},{key:"addSources",value:function addSources(e){}},{key:"removeSources",value:function removeSources(e){}},{key:"terminate",value:function terminate(e,t,n){}},{key:"acceptOffer",value:function acceptOffer(e,t,n){}},{key:"_getInitiatorJid",value:function _getInitiatorJid(){return this.isInitiator?this.localJid:this.remoteJid;}}]);return vr;}(vi);var Sr="media_session.REMOTE_VIDEO_CONSTRAINTS_CHANGED",yr=(0,g.getLogger)("modules/xmpp/JingleSessionPC.js"),Er=1e4;var Cr=/*#__PURE__*/function(_vr){_inherits(Cr,_vr);var _super16=_createSuper(Cr);function Cr(e,t,n,i,s,r,o,a){var _this65;_classCallCheck(this,Cr);_this65=_super16.call(this,e,t,n,i,s,r,a),_this65._bridgeSessionId=null,_this65._cachedOldLocalSdp=void 0,_this65._cachedNewLocalSdp=void 0,_this65._iceCheckingStartedTimestamp=null,_this65._gatheringStartedTimestamp=null,_this65.localRecvMaxFrameHeight=void 0,_this65._localVideoActive=!0,_this65._remoteVideoActive=!0,_this65._gatheringReported=!1,_this65.lasticecandidate=!1,_this65.closed=!1,_this65.isP2P=o,_this65.remoteRecvMaxFrameHeight=void 0,_this65.modificationQueue=new ur(),_this65.wasConnected=!1,_this65.establishmentDuration=void 0,_this65._xmppListeners=[],_this65._xmppListeners.push(i.addEventListener(ds.Events.CONN_STATUS_CHANGED,_this65.onXmppStatusChanged.bind(_assertThisInitialized(_this65)))),_this65._removeSenderVideoConstraintsChangeListener=void 0;return _this65;}_createClass(Cr,[{key:"_assertNotEnded",value:function _assertNotEnded(){return this.state!==gr;}},{key:"doInitialize",value:function doInitialize(e){var _this66=this;var t,n,i;this.failICE=Boolean(e.failICE),this.lasticecandidate=!1,this.options=e,this.isReconnect=!1,this.wasstable=!1,this.webrtcIceUdpDisable=Boolean(e.webrtcIceUdpDisable),this.webrtcIceTcpDisable=Boolean(e.webrtcIceTcpDisable);var s={disableRtx:e.disableRtx};if(e.gatherStats&&(s.maxstats=300),s.capScreenshareBitrate=!1,s.enableInsertableStreams=e.enableInsertableStreams,s.videoQuality=e.videoQuality,s.forceTurnRelay=e.forceTurnRelay,s.audioQuality=e.audioQuality,s.usesUnifiedPlan=this.usesUnifiedPlan=nn.supportsUnifiedPlan()&&(nn.isFirefox()||nn.isWebKitBased()||(nn.isChromiumBased()&&this.isP2P?null===(t=null===(n=e.p2p)||void 0===n?void 0:n.enableUnifiedOnChrome)||void 0===t||t:null===(i=e.enableUnifiedOnChrome)||void 0===i||i)),this.isP2P){s.disableSimulcast=!0;var _t68=this._abtestSuspendVideoEnabled(e);void 0!==_t68&&(s.abtestSuspendVideo=_t68);}else{var r,o;s.disableSimulcast=e.disableSimulcast||e.preferH264&&!e.disableH264||e.videoQuality&&e.videoQuality.preferredCodec===Qs.H264,s.capScreenshareBitrate=s.disableSimulcast||!("number"==typeof(null===(r=e.desktopSharingFrameRate)||void 0===r?void 0:r.max)&&(null===(o=e.desktopSharingFrameRate)||void 0===o?void 0:o.max)>5),jn.analytics.addPermanentProperties({capScreenshareBitrate:s.capScreenshareBitrate});}e.startSilent&&(s.startSilent=!0),this.peerconnection=this.rtc.createPeerConnection(this._signalingLayer,this.pcConfig,this.isP2P,s),this.peerconnection.onicecandidate=function(e){if(!e)return;var t=e.candidate,n=window.performance.now();if(t){null===_this66._gatheringStartedTimestamp&&(_this66._gatheringStartedTimestamp=n);var _e93=t.protocol;if("string"==typeof _e93)if(_e93=_e93.toLowerCase(),"tcp"===_e93||"ssltcp"===_e93){if(_this66.webrtcIceTcpDisable)return;}else if("udp"===_e93&&_this66.webrtcIceUdpDisable)return;}else _this66._gatheringReported||(jn.sendAnalytics(At,{phase:"gathering",value:n-_this66._gatheringStartedTimestamp,p2p:_this66.isP2P,initiator:_this66.isInitiator}),_this66._gatheringReported=!0);_this66.sendIceCandidate(t);},this.peerconnection.onsignalingstatechange=function(){"stable"===_this66.peerconnection.signalingState?_this66.wasstable=!0:"closed"!==_this66.peerconnection.signalingState&&"closed"!==_this66.peerconnection.connectionState||_this66.room.eventEmitter.emit(zn().SUSPEND_DETECTED,_this66);},this.peerconnection.oniceconnectionstatechange=function(){var e=window.performance.now();var t=!1;switch(_this66.isP2P||(_this66.room.connectionTimes["ice.state.".concat(_this66.peerconnection.iceConnectionState)]=e),yr.log("(TIME) ICE ".concat(_this66.peerconnection.iceConnectionState," ").concat(_this66.isP2P?"P2P":"JVB",":\\t"),e),jn.sendAnalytics("ice.state.changed",{p2p:_this66.isP2P,state:_this66.peerconnection.iceConnectionState,signaling_state:_this66.peerconnection.signalingState,reconnect:_this66.isReconnect,value:e}),_this66.room.eventEmitter.emit(zn().ICE_CONNECTION_STATE_CHANGED,_this66,_this66.peerconnection.iceConnectionState),_this66.peerconnection.iceConnectionState){case"checking":_this66._iceCheckingStartedTimestamp=e;break;case"connected":if("stable"===_this66.peerconnection.signalingState){t=!0;var _e94=!_this66.options.enableIceRestart&&_this66.room.supportsRestartByTerminate();(_this66.isReconnect||_e94)&&_this66.room.eventEmitter.emit(zn().CONNECTION_RESTORED,_this66);}if(!_this66.wasConnected&&(_this66.wasstable||t||_this66.usesUnifiedPlan&&_this66.isInitiator&&nn.isChromiumBased())){jn.sendAnalytics(At,{phase:"checking",value:e-_this66._iceCheckingStartedTimestamp,p2p:_this66.isP2P,initiator:_this66.isInitiator});var _t69=Math.min(_this66._iceCheckingStartedTimestamp,_this66._gatheringStartedTimestamp);_this66.establishmentDuration=e-_t69,jn.sendAnalytics(At,{phase:"establishment",value:_this66.establishmentDuration,p2p:_this66.isP2P,initiator:_this66.isInitiator}),_this66.wasConnected=!0,_this66.room.eventEmitter.emit(zn().CONNECTION_ESTABLISHED,_this66);}_this66.isReconnect=!1;break;case"disconnected":_this66.isReconnect=!0,_this66.wasstable&&_this66.room.eventEmitter.emit(zn().CONNECTION_INTERRUPTED,_this66);break;case"failed":_this66.room.eventEmitter.emit(zn().CONNECTION_ICE_FAILED,_this66);}},this.peerconnection.onconnectionstatechange=function(){var e=_this66.peerconnection.iceConnectionState;"failed"===_this66.peerconnection.connectionState&&"disconnected"===e&&_this66.room.eventEmitter.emit(zn().CONNECTION_ICE_FAILED,_this66);},this.peerconnection.onnegotiationneeded=function(){var e=_this66.peerconnection.signalingState,t=_this66.peerconnection.remoteDescription;if(_this66.usesUnifiedPlan&&!_this66.isP2P&&"stable"===e&&t&&"string"==typeof t.sdp){yr.info("".concat(_this66," onnegotiationneeded fired on ").concat(_this66.peerconnection));var _e95=function _e95(e){var t=new or(_this66.peerconnection.localDescription.sdp);_this66._renegotiate().then(function(){return _this66.peerconnection.configureSenderVideoEncodings();}).then(function(){var e=new or(_this66.peerconnection.localDescription.sdp);_this66.notifyMySSRCUpdate(t,e);}).then(function(){return e();},function(t){return e(t);});};_this66.modificationQueue.push(_e95,function(e){e?yr.error("".concat(_this66," onnegotiationneeded error"),e):yr.debug("".concat(_this66," onnegotiationneeded executed - OK"));});}};}},{key:"getRemoteRecvMaxFrameHeight",value:function getRemoteRecvMaxFrameHeight(){if(this.isP2P)return this.remoteRecvMaxFrameHeight;}},{key:"sendIceCandidate",value:function sendIceCandidate(e){var _this67=this;var t=new or(this.peerconnection.localDescription.sdp);if(e&&e.candidate.length&&!this.lasticecandidate){var _n52=rr.iceparams(t.media[e.sdpMLineIndex],t.session),_i48=rr.candidateToJingle(e.candidate);if(!_n52||!_i48){var _e96="failed to get ice && jcand";return dn().callErrorHandler(new Error(_e96)),void yr.error(_e96);}_n52.xmlns="urn:xmpp:jingle:transports:ice-udp:1",this.usedrip?(0===this.dripContainer.length&&setTimeout(function(){0!==_this67.dripContainer.length&&(_this67.sendIceCandidates(_this67.dripContainer),_this67.dripContainer=[]);},150),this.dripContainer.push(e)):this.sendIceCandidates([e]);}else yr.log("".concat(this," sendIceCandidate: last candidate")),this.lasticecandidate=!0;}},{key:"sendIceCandidates",value:function sendIceCandidates(e){var _this68=this;if(!this._assertNotEnded("sendIceCandidates"))return;yr.log("".concat(this," sendIceCandidates ").concat(JSON.stringify(e)));var t=(0,rt.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"transport-info",initiator:this.initiatorJid,sid:this.sid}),n=new or(this.peerconnection.localDescription.sdp);var _loop7=function _loop7(i){var s=e.filter(function(e){return e.sdpMLineIndex===i;}),r=rr.parseMLine(n.media[i].split("\\r\\n")[0]);if(s.length>0){var _e97=rr.iceparams(n.media[i],n.session);_e97.xmlns="urn:xmpp:jingle:transports:ice-udp:1",t.c("content",{creator:_this68.initiatorJid===_this68.localJid?"initiator":"responder",name:s[0].sdpMid?s[0].sdpMid:r.media}).c("transport",_e97);for(var _e98=0;_e98<s.length;_e98++){var _n53=rr.candidateToJingle(s[_e98].candidate);_this68.failICE&&(_n53.ip="1.1.1.1"),t.c("candidate",_n53).up();}var _o10=rr.findLine(n.media[i],"a=fingerprint:",n.session);if(_o10){var _e99=rr.parseFingerprint(_o10);_e99.required=!0,t.c("fingerprint",{xmlns:"urn:xmpp:jingle:apps:dtls:0"}).t(_e99.fingerprint),delete _e99.fingerprint,t.attrs(_e99),t.up();}t.up(),t.up();}};for(var _i49=0;_i49<n.media.length;_i49++){_loop7(_i49);}this.connection.sendIQ(t,null,this.newJingleErrorHandler(t),Er);}},{key:"sendIceFailedNotification",value:function sendIceFailedNotification(){var e=(0,rt.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-info",initiator:this.initiatorJid,sid:this.sid}).c("ice-state",{xmlns:"http://jitsi.org/protocol/focus"}).t("failed").up();this._bridgeSessionId&&e.c("bridge-session",{xmlns:"http://jitsi.org/protocol/focus",id:this._bridgeSessionId}),this.connection.sendIQ2(e,{timeout:65}).catch(this.newJingleErrorHandler(e));}},{key:"addIceCandidates",value:function addIceCandidates(e){var _this69=this;if("closed"===this.peerconnection.signalingState)return void yr.warn("".concat(this," Ignored add ICE candidate when in closed state"));var t=[];e.find(">content>transport>candidate").each(function(e,n){var i=rr.candidateFromJingle(n);i=i.replace("\\r\\n","").replace("a=","");var s=new RTCIceCandidate({sdpMLineIndex:0,sdpMid:"",candidate:i});t.push(s);}),t.length?(yr.debug("".concat(this," Queued add (").concat(t.length,") ICE candidates task")),this.modificationQueue.push(function(e){var _iterator30=_createForOfIteratorHelper(t),_step30;try{for(_iterator30.s();!(_step30=_iterator30.n()).done;){var _e100=_step30.value;_this69.peerconnection.addIceCandidate(_e100).then(function(){return yr.debug("".concat(_this69," addIceCandidate ok!"));},function(e){return yr.error("".concat(_this69," addIceCandidate failed!"),e);});}}catch(err){_iterator30.e(err);}finally{_iterator30.f();}e(),yr.debug("".concat(_this69," ICE candidates task finished"));})):yr.error("".concat(this," No ICE candidates to add ?"),e[0]&&e[0].outerHTML);}},{key:"readSsrcInfo",value:function readSsrcInfo(e){var _this70=this;$CC(e).find(\'>description>source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]\').each(function(e,t){var n=Number(t.getAttribute("ssrc"));if(_this70.isP2P)_this70._signalingLayer.setSSRCOwner(n,rt.Strophe.getResourceFromJid(_this70.remoteJid));else{if(Hs.isSourceNameSignalingEnabled()&&t.hasAttribute("name")){var _e101=t.getAttribute("name");_this70._signalingLayer.setTrackSourceName(n,_e101);}$CC(t).find(\'>ssrc-info[xmlns="http://jitsi.org/jitmeet"]\').each(function(e,t){var i=t.getAttribute("owner");var s;i&&i.length&&(isNaN(n)||n<0?yr.warn("".concat(_this70," Invalid SSRC ").concat(n," value received for ").concat(i)):_this70._signalingLayer.setSSRCOwner(n,(s=i,rt.Strophe.getResourceFromJid(s)||s)));});}});}},{key:"generateRecvonlySsrc",value:function generateRecvonlySsrc(){this.peerconnection?this.peerconnection.generateRecvonlySsrc():yr.error("".concat(this," Unable to generate recvonly SSRC - no peerconnection"));}},{key:"getConfiguredVideoCodec",value:function getConfiguredVideoCodec(){return this.peerconnection.getConfiguredVideoCodec();}},{key:"acceptOffer",value:function acceptOffer(e,t,n,i){var _this71=this;this.setOfferAnswerCycle(e,function(){_this71.sendSessionAccept(function(){t(),_this71.room.eventEmitter.emit(zn().SESSION_ACCEPT,_this71);},function(e){n(e),_this71.room.eventEmitter.emit(zn().SESSION_ACCEPT_ERROR,_this71,e);});},n,i);}},{key:"invite",value:function invite(){var _this72=this;var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!this.isInitiator)throw new Error("Trying to invite from the responder session");yr.debug("".concat(this," Queued invite task")),this.modificationQueue.push(function(t){var n=[];var _iterator31=_createForOfIteratorHelper(e),_step31;try{for(_iterator31.s();!(_step31=_iterator31.n()).done;){var _t70=_step31.value;n.push(_this72.peerconnection.addTrack(_t70,_this72.isInitiator));}}catch(err){_iterator31.e(err);}finally{_iterator31.f();}Promise.all(n).then(function(){return _this72.peerconnection.createOffer(_this72.mediaConstraints);}).then(function(e){return _this72.peerconnection.setLocalDescription(e);}).then(function(){_this72.sendSessionInitiate(_this72.peerconnection.localDescription.sdp);}).then(function(){return t();},function(e){return t(e);});},function(e){e?yr.error("".concat(_this72," invite error"),e):yr.debug("".concat(_this72," invite executed - OK"));});}},{key:"sendSessionInitiate",value:function sendSessionInitiate(e){var _this73=this;var t=(0,rt.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-initiate",initiator:this.initiatorJid,sid:this.sid});new or(e).toJingle(t,this.isInitiator?"initiator":"responder"),t=t.tree(),yr.debug("".concat(this," Session-initiate: "),t),this.connection.sendIQ(t,function(){yr.info("".concat(_this73," Got RESULT for \\"session-initiate\\""));},function(e){yr.error("".concat(_this73," \\"session-initiate\\" error"),e);},Er);}},{key:"setAnswer",value:function setAnswer(e){var _this74=this;if(!this.isInitiator)throw new Error("Trying to set an answer on the responder session");this.setOfferAnswerCycle(e,function(){if(yr.info("".concat(_this74," setAnswer - succeeded")),_this74.usesUnifiedPlan&&nn.isChromiumBased()){var _e102=function _e102(e){var t=_this74.peerconnection.remoteDescription.sdp,n=new RTCSessionDescription({type:"offer",sdp:t});return _this74._responderRenegotiate(n).then(function(){return e();},function(t){return e(t);});};yr.debug("".concat(_this74," Queued responderRenegotiate task")),_this74.modificationQueue.push(_e102,function(e){e?yr.error("".concat(_this74," failed to renegotiate a decoder for muted endpoint ").concat(e)):yr.debug("".concat(_this74," renegotiate a decoder for muted endpoint"));});}},function(e){yr.error("".concat(_this74," setAnswer failed: "),e);});}},{key:"setOfferAnswerCycle",value:function setOfferAnswerCycle(e,t,n){var _this75=this;var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];yr.debug("".concat(this," Queued setOfferAnswerCycle task")),this.modificationQueue.push(function(t){var n=[];var _iterator32=_createForOfIteratorHelper(i),_step32;try{for(_iterator32.s();!(_step32=_iterator32.n()).done;){var _e104=_step32.value;n.push(_this75.peerconnection.addTrack(_e104,_this75.isInitiator));}}catch(err){_iterator32.e(err);}finally{_iterator32.f();}var s=_this75._processNewJingleOfferIq(e),r=_this75.peerconnection.localDescription.sdp,o=$CC(e).find(\'>bridge-session[xmlns="http://jitsi.org/protocol/focus"]\').attr("id");o!==_this75._bridgeSessionId&&(_this75._bridgeSessionId=o),Promise.all(n).then(function(){return _this75._renegotiate(s.raw);}).then(function(){if(_this75.state===mr&&(_this75.state=fr,!_this75.isP2P||_this75._localVideoActive&&!_this75.localRecvMaxFrameHeight||_this75.sendContentModify()),r){var _e103=new or(_this75.peerconnection.localDescription.sdp);_this75.notifyMySSRCUpdate(new or(r),_e103);}}).then(function(){return t();},function(e){return t(e);});},function(e){e?(yr.error("".concat(_this75," setOfferAnswerCycle task failed: ").concat(e)),n(e)):(yr.debug("".concat(_this75," setOfferAnswerCycle task done")),t());});}},{key:"setVideoCodecs",value:function setVideoCodecs(){var _this76=this;var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var n=this.peerconnection.getConfiguredVideoCodec();if(this._assertNotEnded()&&e!==n){yr.info("".concat(this," Switching video codec from ").concat(n," to ").concat(e)),this.peerconnection.setVideoCodecs(e,t);var _i50=function _i50(e){_this76._renegotiate().then(function(){return yr.debug("".concat(_this76," setVideoCodecs task is done")),e();},function(t){return yr.error("".concat(_this76," setVideoCodecs task failed: ").concat(t)),e(t);});};yr.debug("".concat(this," Queued setVideoCodecs task")),this.modificationQueue.push(_i50);}}},{key:"replaceTransport",value:function replaceTransport(e,t,n){var _this77=this;if(this.options.enableForcedReload){var _e105=new or(this.peerconnection.localDescription.sdp);return this.sendTransportAccept(_e105,t,n),void this.room.eventEmitter.emit(zn().CONNECTION_RESTARTED,this);}this.room.eventEmitter.emit(zn().ICE_RESTARTING,this);var i=e.clone();e.find(">content[name=\'data\']").attr("senders","rejected"),e.find(">content>description>source").remove(),e.find(">content>description>ssrc-group").remove();var s=e.find(">content>transport>fingerprint");s.attr("hash","sha-1"),s.text("00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00"),this.setOfferAnswerCycle(e,function(){_this77.setOfferAnswerCycle(i,function(){var e=new or(_this77.peerconnection.localDescription.sdp);_this77.sendTransportAccept(e,t,n),_this77.room.eventEmitter.emit(zn().ICE_RESTART_SUCCESS,_this77,i);},n);},n);}},{key:"sendSessionAccept",value:function sendSessionAccept(e,t){var _this78=this;var n=new or(this.peerconnection.localDescription.sdp),i=(0,rt.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-accept",initiator:this.initiatorJid,responder:this.responderJid,sid:this.sid});this.webrtcIceTcpDisable&&(n.removeTcpCandidates=!0),this.webrtcIceUdpDisable&&(n.removeUdpCandidates=!0),this.failICE&&(n.failICE=!0),n.toJingle(i,this.initiatorJid===this.localJid?"initiator":"responder"),yr.info("".concat(this," Sending session-accept")),yr.debug(i.tree()),this.connection.sendIQ(i,e,this.newJingleErrorHandler(i,function(e){t(e),_this78.room.eventEmitter.emit(zn().SESSION_ACCEPT_TIMEOUT,_this78);}),Er);}},{key:"sendContentModify",value:function sendContentModify(){var e=this.localRecvMaxFrameHeight,t=this._localVideoActive?"both":"none";var n=(0,rt.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"content-modify",initiator:this.initiatorJid,sid:this.sid}).c("content",{name:"video",senders:t});void 0!==e&&(n=n.c("max-frame-height",{xmlns:"http://jitsi.org/jitmeet/video"}).t(e)),yr.info("".concat(this," sending content-modify, video senders: ").concat(t,", max frame height: ").concat(e)),yr.debug(n.tree()),this.connection.sendIQ(n,null,this.newJingleErrorHandler(n),Er);}},{key:"setReceiverVideoConstraint",value:function setReceiverVideoConstraint(e){yr.info("".concat(this," setReceiverVideoConstraint - max frame height: ").concat(e)),this.localRecvMaxFrameHeight=e,this.isP2P?this.state===fr&&this.sendContentModify():this.rtc.setReceiverVideoConstraint(e);}},{key:"sendTransportAccept",value:function sendTransportAccept(e,t,n){var _this79=this;var i=(0,rt.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"transport-accept",initiator:this.initiatorJid,sid:this.sid});e.media.forEach(function(t,n){var s=rr.parseMLine(t.split("\\r\\n")[0]);i.c("content",{creator:_this79.initiatorJid===_this79.localJid?"initiator":"responder",name:s.media}),e.transportToJingle(n,i),i.up();}),yr.info("".concat(this," Sending transport-accept")),yr.debug(i.tree()),this.connection.sendIQ(i,t,this.newJingleErrorHandler(i,n),Er);}},{key:"sendTransportReject",value:function sendTransportReject(e,t){var n=(0,rt.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"transport-reject",initiator:this.initiatorJid,sid:this.sid});yr.info("".concat(this," Sending \'transport-reject\'")),yr.debug(n.tree()),this.connection.sendIQ(n,e,this.newJingleErrorHandler(n,t),Er);}},{key:"setSenderVideoConstraint",value:function setSenderVideoConstraint(e){if(this._assertNotEnded()){if(yr.info("".concat(this," setSenderVideoConstraint: ").concat(e)),!this.isP2P&&nn.isReactNative()&&void 0!==e){var _t71=e>0;return this.setMediaTransferActive(!0,_t71);}return void 0===e?this.peerconnection.configureSenderVideoEncodings():this.peerconnection.setSenderVideoConstraints(e);}return Promise.resolve();}},{key:"terminate",value:function terminate(e,t,n){if(this.state!==gr){if(!n||Boolean(n.sendSessionTerminate)){var _i51=(0,rt.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-terminate",initiator:this.initiatorJid,sid:this.sid}).c("reason").c(n&&n.reason||"success").up();n&&n.reasonDescription?_i51.c("text").t(n.reasonDescription).up().up():_i51.up(),this._bridgeSessionId&&_i51.c("bridge-session",{xmlns:"http://jitsi.org/protocol/focus",id:this._bridgeSessionId,restart:n&&!0===n.requestRestart}).up(),yr.info("".concat(this," Sending session-terminate")),yr.debug(_i51.tree()),this.connection.sendIQ(_i51,e,this.newJingleErrorHandler(_i51,t),Er);}else yr.info("".concat(this," Skipped sending session-terminate"));this.connection.jingle.terminate(this.sid);}}},{key:"onTerminated",value:function onTerminated(e,t){yr.info("".concat(this," Session terminated"),e,t),this._xmppListeners.forEach(function(e){return e();}),this._xmppListeners=[],this._removeSenderVideoConstraintsChangeListener&&this._removeSenderVideoConstraintsChangeListener(),this.close();}},{key:"onXmppStatusChanged",value:function onXmppStatusChanged(e){e===ds.Status.CONNECTED&&this._cachedOldLocalSdp&&(yr.info("".concat(this," Sending SSRC update on reconnect")),this.notifyMySSRCUpdate(this._cachedOldLocalSdp,this._cachedNewLocalSdp));}},{key:"_parseSsrcInfoFromSourceAdd",value:function _parseSsrcInfoFromSourceAdd(e,t){var n=[],i=this;return $CC(e).each(function(e,s){var r=$CC(s).attr("name");var o="";$CC(s).find(\'ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]\').each(function(){var e=this.getAttribute("semantics"),t=$CC(this).find(">source").map(function(){return this.getAttribute("ssrc");}).get();t.length&&(o+="a=ssrc-group:".concat(e," ").concat(t.join(" "),"\\r\\n"));}),$CC(s).find(\'source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]\').each(function(){var e=$CC(this).attr("ssrc");t.containsSSRC(e)?(!i.usesUnifiedPlan||!i.isP2P)&&yr.warn("".concat(i," Source-add request for existing SSRC: ").concat(e)):$CC(this).find(">parameter").each(function(){o+="a=ssrc:".concat(e," ").concat($CC(this).attr("name")),$CC(this).attr("value")&&$CC(this).attr("value").length&&(o+=":".concat($CC(this).attr("value"))),o+="\\r\\n";});}),t.media.forEach(function(e,t){rr.findLine(e,"a=mid:".concat(r))&&(n[t]||(n[t]=""),n[t]+=o);});}),n;}},{key:"addRemoteStream",value:function addRemoteStream(e){this._addOrRemoveRemoteStream(!0,e);}},{key:"removeRemoteStream",value:function removeRemoteStream(e){this._addOrRemoveRemoteStream(!1,e);}},{key:"removeRemoteStreamsOnLeave",value:function removeRemoteStreamsOnLeave(e){var _this80=this;yr.debug("".concat(this," Queued removeRemoteStreamsOnLeave task for participant ").concat(e)),this.modificationQueue.push(function(t){var n=_this80.peerconnection.getRemoteSourceInfoByParticipant(e);if(n.length){_this80.peerconnection.removeRemoteTracks(e);var _i52=new or(_this80.peerconnection.localDescription.sdp),_s21=_this80._processRemoteRemoveSource(n);_this80._renegotiate(_s21.raw).then(function(){var e=new or(_this80.peerconnection.localDescription.sdp);_this80.notifyMySSRCUpdate(_i52,e),t();}).catch(function(e){return t(e);});}else t();},function(e){e?yr.error("".concat(_this80," removeRemoteStreamsOnLeave error:"),e):yr.info("".concat(_this80," removeRemoteStreamsOnLeave done!"));});}},{key:"_addOrRemoveRemoteStream",value:function _addOrRemoveRemoteStream(e,t){var _this81=this;var n=e?"addRemoteStream":"removeRemoteStream";e&&this.readSsrcInfo(t),yr.debug("".concat(this," Queued ").concat(n," task")),this.modificationQueue.push(function(i){if(!_this81.peerconnection.localDescription||!_this81.peerconnection.localDescription.sdp){var _e106="".concat(n," - localDescription not ready yet");return yr.error(_e106),void i(_e106);}yr.log("".concat(_this81," Processing ").concat(n));var s=new or(_this81.peerconnection.localDescription.sdp),r=new or(_this81.peerconnection.remoteDescription.sdp),o=e?_this81._parseSsrcInfoFromSourceAdd(t,r):_this81._parseSsrcInfoFromSourceRemove(t,r),a=e?_this81._processRemoteAddSource(o):_this81._processRemoteRemoveSource(o),c=new RTCSessionDescription({type:"offer",sdp:a.raw});(e&&_this81.usesUnifiedPlan&&_this81.isP2P&&nn.isChromiumBased()?_this81._responderRenegotiate(c):_this81._renegotiate(a.raw)).then(function(){var e=new or(_this81.peerconnection.localDescription.sdp);yr.log("".concat(_this81," ").concat(n," - OK")),_this81.notifyMySSRCUpdate(s,e),i();},function(e){yr.error("".concat(_this81," ").concat(n," failed:"),e),i(e);});});}},{key:"_processNewJingleOfferIq",value:function _processNewJingleOfferIq(e){var t=new or("");return this.webrtcIceTcpDisable&&(t.removeTcpCandidates=!0),this.webrtcIceUdpDisable&&(t.removeUdpCandidates=!0),this.failICE&&(t.failICE=!0),t.fromJingle(e),this.readSsrcInfo($CC(e).find(">content")),t;}},{key:"_processRemoteRemoveSource",value:function _processRemoteRemoveSource(e){var _this82=this;var t=this.usesUnifiedPlan?new or(this.peerconnection.peerconnection.remoteDescription.sdp):new or(this.peerconnection.remoteDescription.sdp);return e.forEach(function(e,n){(e=e.split("\\r\\n")).pop(),_this82.usesUnifiedPlan?e.forEach(function(e){var n=t.media.findIndex(function(t){return t.includes(e);});if(n>-1){var i;var _r14=null===(i=rr.parseMLine(t.media[n].split("\\r\\n")[0]))||void 0===i?void 0:i.media;if(_this82.isP2P){var _e107=_this82.peerconnection.getDesiredMediaDirection(_r14,!1);[Zs().SENDRECV,Zs().SENDONLY].forEach(function(i){t.media[n]=t.media[n].replace("a=".concat(i),"a=".concat(_e107));});}else{var s;var _i53=null===(s=rr.parseMLine(t.media[n].split("\\r\\n")[0]))||void 0===s?void 0:s.port;t.media[n]=t.media[n].replace("".concat(e,"\\r\\n"),""),t.media[n]=t.media[n].replace("m=".concat(_r14," ").concat(_i53),"m=".concat(_r14," 0"));}}}):e.forEach(function(e){t.media[n]=t.media[n].replace("".concat(e,"\\r\\n"),"");});}),t.raw=t.session+t.media.join(""),t;}},{key:"_processRemoteAddSource",value:function _processRemoteAddSource(e){var _this83=this;var t=new or(this.peerconnection.remoteDescription.sdp);return e.forEach(function(e,n){if(t.media[n]+=e,_this83.isP2P&&_this83.usesUnifiedPlan){var i;var _e108=null===(i=rr.parseMLine(t.media[n].split("\\r\\n")[0]))||void 0===i?void 0:i.media,_s22=_this83.peerconnection.getDesiredMediaDirection(_e108,!0);[Zs().RECVONLY,Zs().INACTIVE].forEach(function(e){t.media[n]=t.media[n].replace("a=".concat(e),"a=".concat(_s22));});}}),t.raw=t.session+t.media.join(""),t;}},{key:"_renegotiate",value:function _renegotiate(e){if("closed"===this.peerconnection.signalingState){var _e109=new Error("Attempted to renegotiate in state closed");return this.room.eventEmitter.emit(zn().RENEGOTIATION_FAILED,_e109,this),Promise.reject(_e109);}var t=e||this.peerconnection.remoteDescription.sdp;if(!t){var _e110=new Error("Can not renegotiate without remote description, current state: ".concat(this.state));return this.room.eventEmitter.emit(zn().RENEGOTIATION_FAILED,_e110,this),Promise.reject(_e110);}var n=new RTCSessionDescription({type:this.isInitiator?"answer":"offer",sdp:t});return this.isInitiator?this._initiatorRenegotiate(n):this._responderRenegotiate(n);}},{key:"_responderRenegotiate",value:function _responderRenegotiate(e){var _this84=this;return yr.debug("".concat(this," Renegotiate: setting remote description")),this.peerconnection.setRemoteDescription(e).then(function(){return yr.debug("".concat(_this84," Renegotiate: creating answer")),_this84.peerconnection.createAnswer(_this84.mediaConstraints).then(function(e){return yr.debug("".concat(_this84," Renegotiate: setting local description")),_this84.peerconnection.setLocalDescription(e);});});}},{key:"_initiatorRenegotiate",value:function _initiatorRenegotiate(e){var _this85=this;return yr.debug("".concat(this," Renegotiate: creating offer")),this.peerconnection.createOffer(this.mediaConstraints).then(function(t){return yr.debug("".concat(_this85," Renegotiate: setting local description")),_this85.peerconnection.setLocalDescription(t).then(function(){return yr.debug("".concat(_this85," Renegotiate: setting remote description")),_this85.peerconnection.setRemoteDescription(e);});});}},{key:"replaceTrack",value:function replaceTrack(e,t){var _this86=this;var n=function n(_n54){yr.debug("".concat(_this86," replaceTrack worker started. oldTrack = ").concat(e,", newTrack = ").concat(t));var i=_this86.peerconnection.localDescription.sdp;_this86.usesUnifiedPlan||(_this86.peerconnection.options.capScreenshareBitrate&&e&&t&&t.isVideoTrack()&&_this86.peerconnection.clearRecvonlySsrc(),!e&&t&&t.isVideoTrack()?_this86.peerconnection.clearRecvonlySsrc():e&&e.isVideoTrack()&&!t&&(_this86.peerconnection.clearRecvonlySsrc(),_this86.peerconnection.generateRecvonlySsrc())),_this86.peerconnection.replaceTrack(e,t).then(function(n){var s=Promise.resolve();return yr.debug("".concat(_this86," TPC.replaceTrack finished. shouldRenegotiate = ").concat(n,", JingleSessionState = ").concat(_this86.state)),n&&(e||t)&&_this86.state===fr&&(s=_this86._renegotiate().then(function(){var e=new or(_this86.peerconnection.localDescription.sdp);_this86.notifyMySSRCUpdate(new or(i),e);})),s.then(function(){if(null!=t&&t.isVideoTrack())return yr.debug("".concat(_this86," replaceTrack worker: configuring video stream")),_this86.peerconnection.configureSenderVideoEncodings();});}).then(function(){return _n54();},function(e){return _n54(e);});};return new Promise(function(i,s){yr.debug("".concat(_this86," Queued replaceTrack task. Old track = ").concat(e,", new track = ").concat(t)),_this86.modificationQueue.push(n,function(e){e?(yr.error("".concat(_this86," Replace track error:"),e),s(e)):(yr.info("".concat(_this86,"  Replace track done!")),i());});});}},{key:"_parseSsrcInfoFromSourceRemove",value:function _parseSsrcInfoFromSourceRemove(e,t){var n=[];return $CC(e).each(function(e,i){var s=$CC(i).attr("name");var r="";$CC(i).find(\'ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]\').each(function(){var e=this.getAttribute("semantics"),t=$CC(this).find(">source").map(function(){return this.getAttribute("ssrc");}).get();t.length&&(r+="a=ssrc-group:".concat(e," ").concat(t.join(" "),"\\r\\n"));});var o=[];$CC(i).find(\'source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]\').each(function(){var e=$CC(this).attr("ssrc");o.push(e);}),t.media.forEach(function(e,t){rr.findLine(e,"a=mid:".concat(s))&&(n[t]||(n[t]=""),o.forEach(function(i){var s=rr.findLines(e,"a=ssrc:".concat(i));s.length&&(n[t]+="".concat(s.join("\\r\\n"),"\\r\\n"));}),n[t]+=r);});}),n;}},{key:"_verifyNoSSRCChanged",value:function _verifyNoSSRCChanged(e,t){var n=new or(this.peerconnection.localDescription.sdp);var i=new cr(t,n);var s=i.getNewMedia();if(Object.keys(s).length)return yr.error("".concat(this," - some SSRC were added on ").concat(e),s),!1;i=new cr(n,t);var r=i.getNewMedia();return!Object.keys(r).length||(yr.error("".concat(this," - some SSRCs were removed on ").concat(e),r),!1);}},{key:"addTrackAsUnmute",value:function addTrackAsUnmute(e){var _this87=this;return this._addRemoveTrackAsMuteUnmute(!1,e).then(function(){if(e.isVideoTrack())return _this87.peerconnection.configureSenderVideoEncodings();});}},{key:"removeTrackAsMute",value:function removeTrackAsMute(e){return this._addRemoveTrackAsMuteUnmute(!0,e);}},{key:"_addRemoveTrackAsMuteUnmute",value:function _addRemoveTrackAsMuteUnmute(e,t){var _this88=this;if(!t)return Promise.reject(\'invalid "track" argument value\');var n=e?"removeTrackMute":"addTrackUnmute",i=function i(_i54){var s=_this88.peerconnection;if(!s)return void _i54("Error:  tried ".concat(n," track with no active peerconnection"));var r=s.localDescription.sdp;(e?s.removeTrackMute(t):s.addTrackUnmute(t)).then(function(e){e&&r&&s.remoteDescription.sdp?_this88._renegotiate().then(function(){!_this88.usesUnifiedPlan&&_this88._verifyNoSSRCChanged(n,new or(r));var e=s.localDescription.sdp;_this88.notifyMySSRCUpdate(new or(r),new or(e)),_i54();}):_i54();},_i54);};return yr.debug("".concat(this," Queued ").concat(n," task")),new Promise(function(e,t){_this88.modificationQueue.push(i,function(i){i?(yr.error("".concat(_this88," ").concat(n," failed")),t(i)):(yr.debug("".concat(_this88," ").concat(n," done")),e());});});}},{key:"setMediaTransferActive",value:function setMediaTransferActive(e,t){var _this89=this;if(!this.peerconnection)return Promise.reject(\'Can not modify transfer active state, before "initialize" is called\');var n=e?"audio active":"audio inactive",i=t?"video active":"video inactive";yr.info("".concat(this," Queued make ").concat(i,", ").concat(n," task"));var s=function s(n){var i=_this89.state===fr,s=_this89.peerconnection.setAudioTransferActive(e);_this89._localVideoActive!==t&&(_this89._localVideoActive=t,_this89.isP2P&&i&&_this89.sendContentModify());var r=_this89.peerconnection.setVideoTransferActive(_this89._localVideoActive&&_this89._remoteVideoActive);i&&(s||r)?_this89._renegotiate().then(n,n):n();};return new Promise(function(e,t){_this89.modificationQueue.push(s,function(s){s?(yr.error("".concat(_this89," Make ").concat(i,", ").concat(n," task failed!")),t(s)):(yr.debug("".concat(_this89," Make ").concat(i,", ").concat(n," task done!")),e());});});}},{key:"modifyContents",value:function modifyContents(e){var _this90=this;var t=Cr.parseVideoSenders(e),n=Cr.parseMaxFrameHeight(e);n&&(yr.info("".concat(this," received remote max frame height: ").concat(n)),this.remoteRecvMaxFrameHeight=n,this.eventEmitter.emit(Sr,this)),null!==t?(yr.debug("".concat(this," queued \\"content-modify\\" task(video senders=\\"").concat(t,"\\")")),this.modificationQueue.push(function(e){_this90._assertNotEnded("content-modify")&&_this90._modifyRemoteVideoActive(t)?_this90._renegotiate().then(e,e):e();},function(e){e?yr.error("".concat(_this90," \\"content-modify\\" failed"),e):yr.debug("".concat(_this90," \\"content-modify\\" task(video senders=\\"").concat(t,"\\") done"));})):yr.error("".concat(this," - failed to parse video \\"senders\\" attribute in\\"content-modify\\" action"));}},{key:"_modifyRemoteVideoActive",value:function _modifyRemoteVideoActive(e){var t="both"===e||"initiator"===e&&this.isInitiator||"responder"===e&&!this.isInitiator;return t!==this._remoteVideoActive&&(yr.debug("".concat(this," new remote video active: ").concat(t)),this._remoteVideoActive=t),this.peerconnection.setVideoTransferActive(this._localVideoActive&&this._remoteVideoActive);}},{key:"notifyMySSRCUpdate",value:function notifyMySSRCUpdate(e,t){var _this91=this;if(this.state!==fr)return void yr.warn("".concat(this," Skipping SSRC update in \'").concat(this.state," \' state."));if(!this.connection.connected)return this._cachedOldLocalSdp||(this._cachedOldLocalSdp=e),this._cachedNewLocalSdp=t,void yr.warn("".concat(this," Not sending SSRC update while the signaling is disconnected"));this._cachedOldLocalSdp=void 0,this._cachedNewLocalSdp=void 0;var n=function n(e){var t=e.getNewMedia();var n=[],i=null;return Object.keys(t).forEach(function(e){var s=Object.keys(t[e].ssrcs);i=t[e].mid,null!=s&&s.length&&(n=n.concat(s));}),{mediaType:i,ssrcs:n};};var i=new cr(t,e);var s=(0,rt.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"source-remove",initiator:this.initiatorJid,sid:this.sid}),r=i.toJingle(s),o={};if(r){var _e111=n(i);yr.info("".concat(this," Sending source-remove for ").concat(_e111.mediaType," ssrcs=").concat(_e111.ssrcs)),this.connection.sendIQ(s,function(){_this91.room.eventEmitter.emit(zn().SOURCE_REMOVE,_this91,o);},this.newJingleErrorHandler(s,function(e){_this91.room.eventEmitter.emit(zn().SOURCE_REMOVE_ERROR,_this91,e,o);}),Er);}i=new cr(e,t);var a=(0,rt.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"source-add",initiator:this.initiatorJid,sid:this.sid});if(i.toJingle(a)){var _e112=n(i);yr.info("".concat(this," Sending source-add for ").concat(_e112.mediaType," ssrcs=").concat(_e112.ssrcs)),this.connection.sendIQ(a,function(){_this91.room.eventEmitter.emit(zn().SOURCE_ADD,_this91,o);},this.newJingleErrorHandler(a,function(t){_this91.room.eventEmitter.emit(zn().SOURCE_ADD_ERROR,_this91,t,_e112.mediaType,o);}),Er);}}},{key:"newJingleErrorHandler",value:function newJingleErrorHandler(e,t){var _this92=this;return function(e){var n={},i=$CC(e).find("error");if(i.length){n.code=i.attr("code");var _t72=$CC(e).find("error :first");_t72.length&&(n.reason=_t72[0].tagName);var _s23=i.find(">text");_s23.length&&(n.msg=_s23.text());}e||(n.reason="timeout"),n.session=_this92.toString(),t?t(n):_this92.state===gr&&"item-not-found"===n.reason?yr.debug("".concat(_this92," Jingle error: ").concat(JSON.stringify(n))):dn().callErrorHandler(new Error("Jingle error: ".concat(JSON.stringify(n))));};}},{key:"getIceConnectionState",value:function getIceConnectionState(){return this.peerconnection.getConnectionState();}},{key:"close",value:function close(){var _this93=this;this.state=gr,this.establishmentDuration=void 0,this.peerconnection&&(this.peerconnection.onicecandidate=null,this.peerconnection.oniceconnectionstatechange=null,this.peerconnection.onnegotiationneeded=null,this.peerconnection.onsignalingstatechange=null),yr.debug("".concat(this," Clearing modificationQueue")),this.modificationQueue.clear(),yr.debug("".concat(this," Queued PC close task")),this.modificationQueue.push(function(e){_this93.peerconnection&&_this93.peerconnection.close(),e(),yr.debug("".concat(_this93," PC close task done!"));}),yr.debug("".concat(this," Shutdown modificationQueue!")),this.modificationQueue.shutdown();}},{key:"toString",value:function toString(){return"JingleSessionPC[session=".concat(this.isP2P?"P2P":"JVB",",initiator=").concat(this.isInitiator,",sid=").concat(this.sid,"]");}},{key:"_abtestSuspendVideoEnabled",value:function _abtestSuspendVideoEnabled(e){var t=e.abTesting;if(!t||!t.enableSuspendVideoTest)return;var n=this._getInitiatorJid();return(0,pr.integerHash)(n)%2==0;}}],[{key:"parseVideoSenders",value:function parseVideoSenders(e){var t=e.find(\'>content[name="video"]\');if(t.length){var _e113=t[0].getAttribute("senders");if("both"===_e113||"initiator"===_e113||"responder"===_e113||"none"===_e113)return _e113;}return null;}},{key:"parseMaxFrameHeight",value:function parseMaxFrameHeight(e){var t=e.find(\'>content[name="video"]>max-frame-height\');return t.length?Number(t.text()):null;}}]);return Cr;}(vr);var br=(0,g.getLogger)("modules/xmpp/strophe.jingle.js");function Tr(e){var t=$CC(e).find(">candidate"),n=[];return t.each(function(e,t){var i=t.attributes,s=[];for(var _e114=0;_e114<i.length;_e114++){var _t73=i[_e114];s.push("".concat(_t73.name,": ").concat(_t73.value));}n.push(s.join(" "));}),n;}var Rr=/*#__PURE__*/function(_ss2){_inherits(Rr,_ss2);var _super17=_createSuper(Rr);function Rr(e,t,n){var _this94;_classCallCheck(this,Rr);_this94=_super17.call(this),_this94.xmpp=e,_this94.eventEmitter=t,_this94.sessions={},_this94.jvbIceConfig=n.jvb,_this94.p2pIceConfig=n.p2p,_this94.mediaConstraints={offerToReceiveAudio:!0,offerToReceiveVideo:!0};return _this94;}_createClass(Rr,[{key:"init",value:function init(e){_get(_getPrototypeOf(Rr.prototype),"init",this).call(this,e),this.connection.addHandler(this.onJingle.bind(this),"urn:xmpp:jingle:1","iq","set",null,null);}},{key:"onJingle",value:function onJingle(e){var t=$CC(e).find("jingle").attr("sid"),n=$CC(e).find("jingle").attr("action"),i=e.getAttribute("from"),s=(0,rt.$iq)({type:"result",to:i,id:e.getAttribute("id")});var r=this.sessions[t];if("session-initiate"!==n){if(!r)return s.attrs({type:"error"}),s.c("error",{type:"cancel"}).c("item-not-found",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up().c("unknown-session",{xmlns:"urn:xmpp:jingle:errors:1"}),br.warn("invalid session id: ".concat(t)),br.debug(e),this.connection.send(s),!0;if(i!==r.remoteJid)return br.warn("jid mismatch for session id",t,r.remoteJid,e),s.attrs({type:"error"}),s.c("error",{type:"cancel"}).c("item-not-found",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up().c("unknown-session",{xmlns:"urn:xmpp:jingle:errors:1"}),this.connection.send(s),!0;}else if(void 0!==r)return s.attrs({type:"error"}),s.c("error",{type:"cancel"}).c("service-unavailable",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up(),br.warn("duplicate session id",t,e),this.connection.send(s),!0;var o=window.performance.now(),a="focus"!==rt.Strophe.getResourceFromJid(i),c=$CC(e).find("jingle>json-message");if(null!=c&&c.length){var d;var _t74;br.info("Found a JSON-encoded element in ".concat(n,", translating to standard Jingle."));for(var _n55=0;_n55<c.length;_n55++)_t74=Ws(e,c[_n55]);if(null!==(d=_t74)&&void 0!==d&&d.size){var _e115=[];var _iterator33=_createForOfIteratorHelper(_t74.keys()),_step33;try{for(_iterator33.s();!(_step33=_iterator33.n()).done;){var _n56=_step33.value;_e115.push("".concat(_n56,":[").concat(_t74.get(_n56),"]"));}}catch(err){_iterator33.e(err);}finally{_iterator33.f();}br.debug("Received ".concat(n," from ").concat(i," with sources=").concat(_e115.join(", ")));}}switch(n){case"session-initiate":{br.log("(TIME) received session-initiate:\\t",o);var _t75=$CC(e).find("jingle>startmuted");if(a&&br.debug("Received ".concat(n," from ").concat(i)),null!=_t75&&_t75.length){var _e116=_t75.attr(Rn),_n57=_t75.attr(wn);this.eventEmitter.emit(zn().START_MUTED_FROM_FOCUS,"true"===_e116,"true"===_n57);}var _s24=a?this.p2pIceConfig:this.jvbIceConfig;r=new Cr($CC(e).find("jingle").attr("sid"),$CC(e).attr("to"),i,this.connection,this.mediaConstraints,JSON.parse(JSON.stringify(_s24)),a,!1),this.sessions[r.sid]=r,this.eventEmitter.emit(zn().CALL_INCOMING,r,$CC(e).find(">jingle"),o);break;}case"session-accept":{var _t76=[],_s25=$CC(e).find("jingle>content");var _iterator34=_createForOfIteratorHelper(_s25),_step34;try{for(_iterator34.s();!(_step34=_iterator34.n()).done;){var _e117=_step34.value;var _n58=$CC(_e117).find("description").attr("ssrc");_n58&&_t76.push(_n58);}}catch(err){_iterator34.e(err);}finally{_iterator34.f();}br.debug("Received ".concat(n," from ").concat(i," with ssrcs=").concat(_t76)),this.eventEmitter.emit(zn().CALL_ACCEPTED,r,$CC(e).find(">jingle"));break;}case"content-modify":{var _t77=$CC(e).find(\'jingle>content[name="video"]>max-frame-height\');br.debug("Received ".concat(n," from ").concat(i," with a max-frame-height=").concat(null==_t77?void 0:_t77.text())),r.modifyContents($CC(e).find(">jingle"));break;}case"transport-info":{var _t78=Tr($CC(e).find("jingle>content>transport"));br.debug("Received ".concat(n," from ").concat(i," for candidates=").concat(_t78.join(", "))),this.eventEmitter.emit(zn().TRANSPORT_INFO,r,$CC(e).find(">jingle"));break;}case"session-terminate":{br.log("terminating...",r.sid);var _t79=null,_s26=null;$CC(e).find(">jingle>reason").length&&(_t79=$CC(e).find(">jingle>reason>:first")[0].tagName,_s26=$CC(e).find(">jingle>reason>text").text()),br.debug("Received ".concat(n," from ").concat(i," disconnect reason=").concat(_s26)),this.terminate(r.sid,_t79,_s26),this.eventEmitter.emit(zn().CALL_ENDED,r,_t79,_s26);break;}case"transport-replace":{var l;br.info("(TIME) Start transport replace:\\t",o);var _t80=$CC(e).find("jingle>content>transport"),_s27=Tr(_t80),_c3=$CC(_t80).attr("ufrag"),_d5=$CC(_t80).attr("pwd"),_h3=null===(l=$CC(_t80).find(">fingerprint"))||void 0===l?void 0:l.text();br.debug("Received ".concat(n," from ").concat(i," with iceUfrag=").concat(_c3,", icePwd=").concat(_d5,", DTLS fingerprint=").concat(_h3,", candidates=").concat(_s27.join(", "))),jn.sendAnalytics(Mt("transport-replace.received",{p2p:a,value:o})),r.replaceTransport($CC(e).find(">jingle"),function(){var e=window.performance.now();br.info("(TIME) Transport replace success:\\t",e),jn.sendAnalytics(Mt("transport-replace.success",{p2p:a,value:e}));},function(e){dn().callErrorHandler(e),br.error("Transport replace failed",e),r.sendTransportReject();});break;}case"source-add":r.addRemoteStream($CC(e).find(">jingle>content"));break;case"source-remove":r.removeRemoteStream($CC(e).find(">jingle>content"));break;default:br.warn("jingle action not implemented",n),s.attrs({type:"error"}),s.c("error",{type:"cancel"}).c("bad-request",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up();}return this.connection.send(s),!0;}},{key:"newP2PJingleSession",value:function newP2PJingleSession(e,t){var n=new Cr(Gi().randomHexString(12),e,t,this.connection,this.mediaConstraints,this.p2pIceConfig,!0,!0);return this.sessions[n.sid]=n,n;}},{key:"terminate",value:function terminate(e,t,n){this.sessions.hasOwnProperty(e)&&("ended"!==this.sessions[e].state&&this.sessions[e].onTerminated(t,n),delete this.sessions[e]);}},{key:"getStunAndTurnCredentials",value:function getStunAndTurnCredentials(){var _this95=this;this.connection.sendIQ((0,rt.$iq)({type:"get",to:this.xmpp.options.hosts.domain}).c("services",{xmlns:"urn:xmpp:extdisco:2"}),function(e){return _this95.onReceiveStunAndTurnCredentials(e);},function(){br.warn("getting turn credentials with extdisco:2 failed, trying extdisco:1"),_this95.connection.sendIQ((0,rt.$iq)({type:"get",to:_this95.xmpp.options.hosts.domain}).c("services",{xmlns:"urn:xmpp:extdisco:1"}),function(e){return _this95.onReceiveStunAndTurnCredentials(e);},function(){br.warn("getting turn credentials failed"),br.warn("is mod_turncredentials or similar installed and configured?");});});}},{key:"onReceiveStunAndTurnCredentials",value:function onReceiveStunAndTurnCredentials(e){var t=[];$CC(e).find(">services>service").each(function(e,n){var i={},s=(n=$CC(n)).attr("type");switch(s){case"stun":i.urls="stun:".concat(n.attr("host")),n.attr("port")&&(i.urls+=":".concat(n.attr("port"))),t.push(i);break;case"turn":case"turns":{i.urls="".concat(s,":"),i.username=n.attr("username"),i.urls+=n.attr("host"),n.attr("port")&&(i.urls+=":".concat(n.attr("port")));var _e118=n.attr("transport");_e118&&"udp"!==_e118&&(i.urls+="?transport=".concat(_e118)),i.credential=n.attr("password")||i.credential,t.push(i);break;}}});var n=this.xmpp.options;for(var _e119=t.length-1;_e119>0;_e119--){var _n59=Math.floor(Math.random()*(_e119+1)),_i55=t[_e119];t[_e119]=t[_n59],t[_n59]=_i55;}var i;return i=n.useTurnUdp?function(e){return e.urls.startsWith("turn");}:function(e){return e.urls.startsWith("turn")&&e.urls.indexOf("transport=tcp")>=0;},this.jvbIceConfig.iceServers=t.filter(i),this.p2pIceConfig.iceServers=t,t.length>0;}},{key:"getLog",value:function getLog(){var _this96=this;var e={};return Object.keys(this.sessions).forEach(function(t){var n=_this96.sessions[t].peerconnection;n&&n.updateLog&&(e["jingle_".concat(t)]={updateLog:n.updateLog,stats:n.stats,url:window.location.href});}),e;}}]);return Rr;}(ss);var Ar=/*#__PURE__*/function(_ss3){_inherits(Ar,_ss3);var _super18=_createSuper(Ar);function Ar(){var _this97;_classCallCheck(this,Ar);_this97=_super18.call(this),_this97.log=[];return _this97;}_createClass(Ar,[{key:"init",value:function init(e){_get(_getPrototypeOf(Ar.prototype),"init",this).call(this,e),this.connection.rawInput=this.logIncoming.bind(this),this.connection.rawOutput=this.logOutgoing.bind(this);}},{key:"logIncoming",value:function logIncoming(e){this.log.push([new Date().getTime(),"incoming",e]);}},{key:"logOutgoing",value:function logOutgoing(e){this.log.push([new Date().getTime(),"outgoing",e]);}}]);return Ar;}(ss);var wr=(0,g.getLogger)("modules/xmpp/strophe.rayo.js"),Ir="urn:xmpp:rayo:1";var Pr=/*#__PURE__*/function(_ss4){_inherits(Pr,_ss4);var _super19=_createSuper(Pr);function Pr(){_classCallCheck(this,Pr);return _super19.apply(this,arguments);}_createClass(Pr,[{key:"init",value:function init(e){_get(_getPrototypeOf(Pr.prototype),"init",this).call(this,e),this.connection.addHandler(this.onRayo.bind(this),Ir,"iq","set",null,null);}},{key:"onRayo",value:function onRayo(e){wr.info("Rayo IQ",e);}},{key:"dial",value:function dial(e,t,n,i,s){var _this98=this;return new Promise(function(r,o){if(!s)return void o(new Error("Internal error!"));var a=(0,rt.$iq)({type:"set",to:s});a.c("dial",{xmlns:Ir,to:e,from:t}),a.c("header",{name:"JvbRoomName",value:n}).up(),i&&i.length&&a.c("header",{name:"JvbRoomPassword",value:i}).up(),_this98.connection.sendIQ(a,function(e){wr.info("Dial result ",e);var t=$CC(e).find("ref").attr("uri");_this98.callResource=t.substr("xmpp:".length),wr.info("Received call resource: ".concat(_this98.callResource)),r();},function(e){wr.info("Dial error ",e),o(e);});});}},{key:"hangup",value:function hangup(){var _this99=this;return new Promise(function(e,t){if(!_this99.callResource)return t(new Error("No call in progress")),void wr.warn("No call in progress");var n=(0,rt.$iq)({type:"set",to:_this99.callResource});n.c("hangup",{xmlns:Ir}),_this99.connection.sendIQ(n,function(t){wr.info("Hangup result ",t),_this99.callResource=null,e();},function(e){wr.info("Hangup error ",e),_this99.callResource=null,t(new Error("Hangup error "));});});}}]);return Pr;}(ss);var Mr=(0,g.getLogger)("modules/xmpp/strophe.util.js");var Dr=-1;var Nr=/request id \\d+.\\d+ got 200/,kr=/request errored, status: (\\d+), number of errors: \\d+/,Or=(0,g.getLogger)("modules/xmpp/xmpp.js"),Lr=/<failure.*><not-allowed\\/><text>(.*)<\\/text><\\/failure>/gi;var xr=[{urls:"stun:meet-jit-si-turnrelay.jitsi.net:443"}],Fr="type",jr="http://jitsi.org/protocol/jigasi",$r="https://jitsi.org/meet/e2ee";var Ur=/*#__PURE__*/function(_vi8){_inherits(Ur,_vi8);var _super20=_createSuper(Ur);function Ur(e,t){var _this100;_classCallCheck(this,Ur);var n;_this100=_super20.call(this),_this100.connection=null,_this100.disconnectInProgress=!1,_this100.connectionTimes={},_this100.options=e,_this100.token=t,_this100.authenticatedUser=!1,rt.Strophe.log=function(e,t){switch(Mr.trace("Strophe",e,t),"string"==typeof t&&-1!==t.indexOf("Request ")&&-1!==t.indexOf("timed out (secondary), restarting")&&(e=rt.Strophe.LogLevel.WARN),e){case rt.Strophe.LogLevel.DEBUG:-1!==Dr&&Nr.test(t)&&(Mr.debug("Reset lastErrorStatus"),Dr=-1);break;case rt.Strophe.LogLevel.WARN:Mr.warn("Strophe: ".concat(t));var _e120=kr.exec(t);_e120&&2===_e120.length&&(Dr=parseInt(_e120[1],10),Mr.debug("lastErrorStatus set to: ".concat(Dr)));break;case rt.Strophe.LogLevel.ERROR:case rt.Strophe.LogLevel.FATAL:t="Strophe: ".concat(t),dn().callErrorHandler(new Error(t)),Mr.error(t);}},rt.Strophe.getLastErrorStatus=function(){return Dr;},rt.Strophe.getStatusString=function(e){switch(e){case rt.Strophe.Status.BINDREQUIRED:return"BINDREQUIRED";case rt.Strophe.Status.ERROR:return"ERROR";case rt.Strophe.Status.CONNECTING:return"CONNECTING";case rt.Strophe.Status.CONNFAIL:return"CONNFAIL";case rt.Strophe.Status.AUTHENTICATING:return"AUTHENTICATING";case rt.Strophe.Status.AUTHFAIL:return"AUTHFAIL";case rt.Strophe.Status.CONNECTED:return"CONNECTED";case rt.Strophe.Status.DISCONNECTED:return"DISCONNECTED";case rt.Strophe.Status.DISCONNECTING:return"DISCONNECTING";case rt.Strophe.Status.ATTACHED:return"ATTACHED";default:return"unknown";}},rt.Strophe.addConnectionPlugin("logger",new Ar());var i=e.xmppPing||{};i.domain=e.hosts.domain,_this100.connection=function(e){var t=e.enableWebsocketResume,_e$serviceUrl=e.serviceUrl,n=_e$serviceUrl===void 0?"/http-bind":_e$serviceUrl,i=e.shard,s=e.token,r=e.websocketKeepAlive,o=e.websocketKeepAliveUrl,a=e.xmppPing;return s&&(n+="".concat(-1===n.indexOf("?")?"?":"&","token=").concat(s)),new ds({enableWebsocketResume:t,serviceUrl:n,websocketKeepAlive:r,websocketKeepAliveUrl:o,xmppPing:a,shard:i});}({enableWebsocketResume:e.enableWebsocketResume,serviceUrl:e.serviceUrl||e.bosh,token:t,websocketKeepAlive:e.websocketKeepAlive,websocketKeepAliveUrl:e.websocketKeepAliveUrl,xmppPing:i,shard:null===(n=e.deploymentInfo)||void 0===n?void 0:n.shard}),_this100.connection.on(ds.Events.CONN_SHARD_CHANGED,function(){var e={shard_changed:!0,suspend_time:_this100.connection.ping.getPingSuspendTime(),time_since_last_success:_this100.connection.getTimeSinceLastSuccess()};_this100.eventEmitter.emit(li,mi,void 0,void 0,e);}),_this100._initStrophePlugins(),_this100.caps=new Qi(_this100.connection,"https://jitsi.org/jitsi-meet"),_this100.initFeaturesList(),$CC(window).on((_this100.options.disableBeforeUnloadHandlers?"":"beforeunload ")+"unload",function(e){_this100.disconnect(e).catch(function(){});});return _this100;}_createClass(Ur,[{key:"initFeaturesList",value:function initFeaturesList(){this.caps.addFeature("urn:xmpp:jingle:1"),this.caps.addFeature("urn:xmpp:jingle:apps:rtp:1"),this.caps.addFeature("urn:xmpp:jingle:transports:ice-udp:1"),this.caps.addFeature("urn:xmpp:jingle:apps:dtls:0"),this.caps.addFeature("urn:xmpp:jingle:transports:dtls-sctp:1"),this.caps.addFeature("urn:xmpp:jingle:apps:rtp:audio"),this.caps.addFeature("urn:xmpp:jingle:apps:rtp:video"),this.caps.addFeature("http://jitsi.org/json-encoded-sources"),!this.options.disableRtx&&nn.supportsRTX()&&this.caps.addFeature("urn:ietf:rfc:4588"),!0===this.options.enableOpusRed&&nn.supportsAudioRed()&&this.caps.addFeature("http://jitsi.org/opus-red"),(void 0===this.options.enableRemb||this.options.enableRemb)&&this.caps.addFeature("http://jitsi.org/remb"),nn.isFirefox()||void 0!==this.options.enableTcc&&!this.options.enableTcc||this.caps.addFeature("http://jitsi.org/tcc"),this.caps.addFeature("urn:ietf:rfc:5761"),this.caps.addFeature("urn:ietf:rfc:5888"),nn.isChromiumBased()&&!0===this.options.enableLipSync&&(Or.info("Lip-sync enabled !"),this.caps.addFeature("http://jitsi.org/meet/lipsync")),this.connection.rayo&&this.caps.addFeature("urn:xmpp:rayo:client:1"),Vi.isSupported(this.options)&&this.caps.addFeature($r,!1,!0);}},{key:"getConnection",value:function getConnection(){return this.connection;}},{key:"connectionHandler",value:function connectionHandler(){var _this101=this;var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;var i=window.performance.now(),s=rt.Strophe.getStatusString(t).toLowerCase();if(this.connectionTimes[s]=i,Or.log("(TIME) Strophe ".concat(s).concat(n?"[".concat(n,"]"):"",":\\t"),i),this.eventEmitter.emit(zn().CONNECTION_STATUS_CHANGED,e,t,n),this._maybeSendDeploymentInfoStat(),t===rt.Strophe.Status.CONNECTED||t===rt.Strophe.Status.ATTACHED)this._sysMessageHandler&&(this.connection._stropheConn.deleteHandler(this._sysMessageHandler),this._sysMessageHandler=null),this.sendDiscoInfo&&this.connection.jingle.getStunAndTurnCredentials(),Or.info("My Jabber ID: ".concat(this.connection.jid)),this._resetState(),this.sendDeploymentInfo=!1,this.sendDiscoInfo&&this.caps.getFeaturesAndIdentities(this.options.hosts.domain).then(function(e){var t=e.features,n=e.identities;t.has(rt.Strophe.NS.PING)||Or.error("Ping NOT supported by ".concat(_this101.options.hosts.domain," - please enable ping in your XMPP server config")),_this101._processDiscoInfoIdentities(n,void 0);}).catch(function(e){var t="Feature discovery error";dn().callErrorHandler(new Error("".concat(t,": ").concat(e))),Or.error(t,e),_this101._maybeSendDeploymentInfoStat(!0);}),this.sendDiscoInfo=!1,e.password&&(this.authenticatedUser=!0),this.connection&&this.connection.connected&&rt.Strophe.getResourceFromJid(this.connection.jid)&&this.eventEmitter.emit(di,rt.Strophe.getResourceFromJid(this.connection.jid));else if(t===rt.Strophe.Status.CONNFAIL)"x-strophe-bad-non-anon-jid"===n?this.anonymousConnectionFailed=!0:this.connectionFailed=!0,this.lastErrorMsg=n,"giving-up"===n&&this.eventEmitter.emit(li,mi,n);else if(t===rt.Strophe.Status.ERROR)this.lastErrorMsg=n;else if(t===rt.Strophe.Status.DISCONNECTED){this.connection.ping.stopInterval();var _e121=Boolean(this.disconnectInProgress),_t81=n||this.lastErrorMsg;if(this.anonymousConnectionFailed)this.eventEmitter.emit(li,fi);else if(this.connectionFailed)this.eventEmitter.emit(li,mi,_t81,void 0,this._getConnectionFailedReasonDetails());else if(_e121)this.eventEmitter.emit(ci,_t81);else{Or.error("XMPP connection dropped!");var _e122=rt.Strophe.getLastErrorStatus();_e122>=500&&_e122<600?this.eventEmitter.emit(li,gi,_t81||"server-error",void 0,this._getConnectionFailedReasonDetails()):this.eventEmitter.emit(li,pi,_t81||"connection-dropped-error",void 0,this._getConnectionFailedReasonDetails());}}else if(t===rt.Strophe.Status.AUTHFAIL){var _t82=this.getConnection().getLastFailedMessage();this.eventEmitter.emit(li,fi,n||this._parseConnectionFailedMessage(_t82),e);}}},{key:"_processDiscoInfoIdentities",value:function _processDiscoInfoIdentities(e,t){var _this102=this;e.forEach(function(e){if("av_moderation"===e.type&&(_this102.avModerationComponentAddress=e.name),"speakerstats"===e.type&&(_this102.speakerStatsComponentAddress=e.name),"conference_duration"===e.type&&(_this102.conferenceDurationComponentAddress=e.name),"lobbyrooms"===e.type){_this102.lobbySupported=!0;var _n60=function _n60(e){e.forEach(function(e){e.endsWith("#displayname_required")&&_this102.eventEmitter.emit(ui);});};t?_n60(t):e.name&&_this102.caps.getFeaturesAndIdentities(e.name,e.type).then(function(e){var t=e.features;return _n60(t);}).catch(function(e){return Or.warn("Error getting features from lobby.",e&&e.message);});}"shard"===e.type&&(_this102.options.deploymentInfo.shard=_this102.connection.shard=e.name),"region"===e.type&&(_this102.options.deploymentInfo.region=_this102.connection.region=e.name),"breakout_rooms"===e.type&&(_this102.breakoutRoomsComponentAddress=e.name);}),this._maybeSendDeploymentInfoStat(!0),(this.avModerationComponentAddress||this.speakerStatsComponentAddress||this.conferenceDurationComponentAddress)&&this.connection.addHandler(this._onPrivateMessage.bind(this),null,"message",null,null);}},{key:"_parseConnectionFailedMessage",value:function _parseConnectionFailedMessage(e){if(!e)return null;var t=Lr.exec(e);return t?t[1]:null;}},{key:"_connect",value:function _connect(e,t){this._resetState(),this.sendDiscoInfo=!0,this.sendDeploymentInfo=!0,this.connection._stropheConn&&this.connection._stropheConn._addSysHandler?this._sysMessageHandler=this.connection._stropheConn._addSysHandler(this._onSystemMessage.bind(this),null,"message"):Or.warn("Cannot attach strophe system handler, jiconop cannot operate"),this.connection.connect(e,t,this.connectionHandler.bind(this,{jid:e,password:t}));}},{key:"_onSystemMessage",value:function _onSystemMessage(e){if(0===$CC(e).find(">services").length&&0===$CC(e).find(">query").length)return;this.sendDiscoInfo=!1;var t=this.connection.jingle.onReceiveStunAndTurnCredentials(e),_Wi=Wi(e),n=_Wi.features,i=_Wi.identities;this._processDiscoInfoIdentities(i,n),(t||i.size>0||n.size>0)&&(this.connection._stropheConn.deleteHandler(this._sysMessageHandler),this._sysMessageHandler=null);}},{key:"attach",value:function attach(e){this._resetState(),this.sendDiscoInfo=!0;var t=this.connectionTimes.attaching=window.performance.now();Or.log("(TIME) Strophe Attaching:\\t",t),this.connection.attach(e.jid,e.sid,parseInt(e.rid,10)+1,this.connectionHandler.bind(this,{jid:e.jid,password:e.password}));}},{key:"_resetState",value:function _resetState(){this.anonymousConnectionFailed=!1,this.connectionFailed=!1,this.lastErrorMsg=void 0,this.disconnectInProgress=void 0;}},{key:"connect",value:function connect(e,t){if(!e){var _this$options$hosts=this.options.hosts,_t83=_this$options$hosts.anonymousdomain,_n61=_this$options$hosts.domain;var _i56=_t83||_n61;var _window=window,_s28=_window.location;if(_t83){var _e123=_s28&&_s28.search;(_e123&&-1!==_e123.indexOf("login=true")||this.token)&&(_i56=_n61);}e=_i56||_s28&&_s28.hostname;}return this._connect(e,t);}},{key:"createRoom",value:function createRoom(e,t,n){var i=e.domain||t.customDomain;var s="".concat(this.getRoomJid(e,i),"/");var r=n?n(this.connection.jid,this.authenticatedUser):Gi().randomHexString(8).toLowerCase();return Or.info("JID ".concat(this.connection.jid," using MUC nickname ").concat(r)),s+=r,this.connection.emuc.createRoom(s,null,t);}},{key:"getRoomJid",value:function getRoomJid(e,t){return"".concat(e,"@").concat(t||this.options.hosts.muc.toLowerCase());}},{key:"isRoomCreated",value:function isRoomCreated(e,t){return this.connection.emuc.isRoomCreated(this.getRoomJid(e,t));}},{key:"getJid",value:function getJid(){return this.connection.jid;}},{key:"getJingleLog",value:function getJingleLog(){var e=this.connection.jingle;return e?e.getLog():{};}},{key:"getXmppLog",value:function getXmppLog(){return(this.connection.logger||{}).log||null;}},{key:"dial",value:function dial(){var _this$connection$rayo;(_this$connection$rayo=this.connection.rayo).dial.apply(_this$connection$rayo,arguments);}},{key:"ping",value:function ping(e){var _this103=this;return new Promise(function(t,n){_this103.connection.ping.ping(_this103.connection.pingDomain,t,n,e);});}},{key:"getSessions",value:function getSessions(){return this.connection.jingle.sessions;}},{key:"disconnect",value:function disconnect(e){var _this104=this;return this.disconnectInProgress?this.disconnectInProgress:this.connection?(this.disconnectInProgress=new Promise(function(e){var t=function t(n,i){i===rt.Strophe.Status.DISCONNECTED&&(e(),_this104.eventEmitter.removeListener(zn().CONNECTION_STATUS_CHANGED,t));};_this104.eventEmitter.on(zn().CONNECTION_STATUS_CHANGED,t);}),this._cleanupXmppConnection(e),this.disconnectInProgress):Promise.resolve();}},{key:"_cleanupXmppConnection",value:function _cleanupXmppConnection(e){if(!this.connection.isUsingWebSocket&&this.connection.flush(),!this.connection.isUsingWebSocket&&null!=e){var _t84=e.type;if(("beforeunload"===_t84||"unload"===_t84)&&(this.connection.options.sync=!0,this.connection.sendUnavailableBeacon()))return;}this.connection.disconnect(),!0!==this.connection.options.sync&&this.connection.flush();}},{key:"_initStrophePlugins",value:function _initStrophePlugins(){var e={jvb:{iceServers:[]},p2p:{iceServers:[]}},t=this.options.p2p&&this.options.p2p.stunServers||xr;Array.isArray(t)&&(Or.info("P2P STUN servers: ",t),e.p2p.iceServers=t),this.options.p2p&&this.options.p2p.iceTransportPolicy&&(Or.info("P2P ICE transport policy: ",this.options.p2p.iceTransportPolicy),e.p2p.iceTransportPolicy=this.options.p2p.iceTransportPolicy),this.connection.addConnectionPlugin("emuc",new Js(this)),this.connection.addConnectionPlugin("jingle",new Rr(this,this.eventEmitter,e)),this.connection.addConnectionPlugin("rayo",new Pr());}},{key:"_getConnectionFailedReasonDetails",value:function _getConnectionFailedReasonDetails(){var e={};if(this.options.deploymentInfo&&this.options.deploymentInfo.shard&&this.connection.lastResponseHeaders){var _t85=this.connection.lastResponseHeaders.trim().split(/[\\r\\n]+/),_n62={};_t85.forEach(function(e){var t=e.split(": "),i=t.shift(),s=t.join(": ");_n62[i]=s;}),e.shard_changed=this.options.deploymentInfo.shard!==_n62["x-jitsi-shard"];}return e.suspend_time=this.connection.ping.getPingSuspendTime(),e.time_since_last_success=this.connection.getTimeSinceLastSuccess(),e;}},{key:"sendDominantSpeakerEvent",value:function sendDominantSpeakerEvent(e){if(!this.speakerStatsComponentAddress||!e)return;var t=(0,rt.$msg)({to:this.speakerStatsComponentAddress});t.c("speakerstats",{xmlns:"http://jitsi.org/jitmeet",room:e}).up(),this.connection.send(t);}},{key:"sendFacialExpressionEvent",value:function sendFacialExpressionEvent(e,t){if(!this.speakerStatsComponentAddress||!e)return;var n=(0,rt.$msg)({to:this.speakerStatsComponentAddress});n.c("facialExpression",{xmlns:"http://jitsi.org/jitmeet",room:e,expression:t.facialExpression,duration:t.duration}).up(),this.connection.send(n);}},{key:"tryParseJSONAndVerify",value:function tryParseJSONAndVerify(e){if(!e)return!1;try{var _t86=JSON.parse(e);if(_t86&&"object"==_typeof(_t86)){var _e124=_t86[Fr];if(void 0!==_e124)return _t86;Or.debug("parsing valid json but does not have correct structure","topic: ",_e124);}}catch(t){return Or.error("Error parsing json ".concat(e),t),!1;}return!1;}},{key:"_onPrivateMessage",value:function _onPrivateMessage(e){var t=e.getAttribute("from");if(t!==this.speakerStatsComponentAddress&&t!==this.conferenceDurationComponentAddress&&t!==this.avModerationComponentAddress&&t!==this.breakoutRoomsComponentAddress)return!0;var n=$CC(e).find(">json-message").text(),i=this.tryParseJSONAndVerify(n);return!i||("speakerstats"===i[Fr]&&i.users?this.eventEmitter.emit(zn().SPEAKER_STATS_RECEIVED,i.users):"conference_duration"===i[Fr]&&i.created_timestamp?this.eventEmitter.emit(zn().CONFERENCE_TIMESTAMP_RECEIVED,i.created_timestamp):"av_moderation"===i[Fr]?this.eventEmitter.emit(zn().AV_MODERATION_RECEIVED,i):"breakout_rooms"===i[Fr]&&this.eventEmitter.emit(zn().BREAKOUT_ROOMS_EVENT,i),!0);}},{key:"_maybeSendDeploymentInfoStat",value:function _maybeSendDeploymentInfoStat(e){var t=[rt.Strophe.Status.ERROR,rt.Strophe.Status.CONNFAIL,rt.Strophe.Status.AUTHFAIL,rt.Strophe.Status.DISCONNECTED,rt.Strophe.Status.CONNTIMEOUT];if(!(e||t.includes(this.connection.status)&&this.sendDeploymentInfo))return;var n=this.options.deploymentInfo;if(n&&Object.keys(n).length>0){var _e125={id:"deployment_info"};for(var _t87 in n)n.hasOwnProperty(_t87)&&(_e125[_t87]=n[_t87]);jn.sendLog(JSON.stringify(_e125));}this.sendDeploymentInfo=!1;}}]);return Ur;}(vi);function Br(e){var _this105=this;var t,n=e.id,i=e.password,s=e.onCreateResource,r=e.onLoginSuccessful,o=e.roomPassword,a=!1,c=new Ur(this.connection.options);var d=new Promise(function(e,d){t=d,c.addListener(ci,function(){c=void 0;}),c.addListener(di,function(){a||(r&&r(),c.createRoom(_this105.options.name,_this105.options.config,s).moderator.authenticate().then(function(){c&&c.disconnect(),a||(_this105.join(o),e());}).catch(function(e){var t=e.error,n=e.message;c.disconnect(),d({authenticationError:t,message:n});}));}),c.addListener(li,function(e,t,n){d({connectionError:e,credentials:n,message:t}),c=void 0;}),a||c.connect(n,i);});return d.cancel=function(){a=!0,t({}),c&&c.disconnect();},d;}var Jr=(0,g.getLogger)("modules/RTC/CodecSelection.js");var Vr=/*#__PURE__*/function(){function Vr(e,t){var _this106=this;_classCallCheck(this,Vr);this.conference=e,this.options=t,this.disabledCodec=t.disabledCodec===Xs().VP8?void 0:this._getCodecMimeType(t.disabledCodec);var n=this._getCodecMimeType(t.jvbCodec),i=this._getCodecMimeType(t.p2pCodec);this.jvbPreferredCodec=n&&this._isCodecSupported(n)?n:Xs().VP8,this.p2pPreferredCodec=i&&this._isCodecSupported(i)?i:Xs().VP8,Jr.debug("Codec preferences for the conference are JVB: ".concat(this.jvbPreferredCodec,",\\n            P2P: ").concat(this.p2pPreferredCodec)),this.jvbPreferredCodec!==Xs().VP9||nn.supportsVP9()||(this.jvbPreferredCodec=Xs().VP8),this.conference.on(je,function(){return _this106._selectPreferredCodec();}),this.conference.on($e,function(){return _this106._selectPreferredCodec();}),this.conference.on(le,function(e){return _this106._onMediaSessionStarted(e);});}_createClass(Vr,[{key:"_getCodecMimeType",value:function _getCodecMimeType(e){return"string"==typeof e?Object.values(Xs()).find(function(t){return t===e.toLowerCase();}):null;}},{key:"_isCodecSupported",value:function _isCodecSupported(e){return!(!nn.isFirefox()&&!nn.isReactNative())||window.RTCRtpReceiver&&window.RTCRtpReceiver.getCapabilities&&window.RTCRtpReceiver.getCapabilities("video").codecs.some(function(t){return t.mimeType.toLowerCase()==="video/".concat(e);});}},{key:"_onMediaSessionStarted",value:function _onMediaSessionStarted(e){var t=e.isP2P?this.p2pPreferredCodec:this.jvbPreferredCodec,n=this.disabledCodec&&this._isCodecSupported(this.disabledCodec)?this.disabledCodec:null;this._selectPreferredCodec(e,t,n);}},{key:"_selectPreferredCodec",value:function _selectPreferredCodec(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.conference.jvbJingleSession,i=e||this.jvbPreferredCodec;var s=i;if(n&&!n.isP2P&&!this.options.enforcePreferredCodec){var _e126=this.conference.getParticipants().map(function(e){return e.getId();});var _iterator35=_createForOfIteratorHelper(_e126),_step35;try{for(_iterator35.s();!(_step35=_iterator35.n()).done;){var _t88=_step35.value;var _e127=n._signalingLayer.getPeerMediaInfo(_t88,wn),_r15=null==_e127?void 0:_e127.codecType;_r15&&_r15!==i&&(_r15!==Xs().VP9||nn.supportsVP9())&&(s=_r15);}}catch(err){_iterator35.e(err);}finally{_iterator35.f();}}n&&n.setVideoCodecs(s,t);}},{key:"getPreferredCodec",value:function getPreferredCodec(){return this.jvbPreferredCodec;}}]);return Vr;}();var Hr=n(7318),Gr=n.n(Hr);var qr=(0,g.getLogger)("modules/RTC/BridgeChannel.js");var Kr=/*#__PURE__*/function(){function Kr(e,t,n){_classCallCheck(this,Kr);if(!e&&!t)throw new TypeError("At least peerconnection or wsUrl must be given");if(e&&t)throw new TypeError("Just one of peerconnection or wsUrl must be given");if(e?qr.debug("constructor() with peerconnection"):qr.debug("constructor() with wsUrl:\\"".concat(t,"\\"")),this._channel=null,this._eventEmitter=n,this._mode=null,this._areRetriesEnabled=!1,this._closedFromClient=!1,e){var _t89=e.createDataChannel("JVB data channel",{protocol:"http://jitsi.org/protocols/colibri"});this._handleChannel(_t89),this._mode="datachannel";}else t&&(this._areRetriesEnabled=!0,this._wsUrl=t,this._initWebSocket());}_createClass(Kr,[{key:"_initWebSocket",value:function _initWebSocket(){var e=new WebSocket(this._wsUrl);this._handleChannel(e),this._mode="websocket";}},{key:"_startConnectionRetries",value:function _startConnectionRetries(){var _this107=this;var e=1;var t=function t(){_this107.isOpen()||(_this107._initWebSocket(_this107._wsUrl),e=Math.min(2*e,60),_this107._retryTimeout=setTimeout(t,1e3*e));};this._retryTimeout=setTimeout(t,1e3*e);}},{key:"_stopConnectionRetries",value:function _stopConnectionRetries(){this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=void 0);}},{key:"_retryWebSocketConnection",value:function _retryWebSocketConnection(e){var _this108=this;if(!this._areRetriesEnabled)return;var t=e.code,n=e.reason;jn.sendAnalytics(function(e,t){return{type:Ct,action:"bridge-channel.error",attributes:{code:e,reason:t}};}(t,n)),this._areRetriesEnabled=!1,this._eventEmitter.once(Jn().DATA_CHANNEL_OPEN,function(){_this108._stopConnectionRetries(),_this108._areRetriesEnabled=!0;}),this._startConnectionRetries();}},{key:"mode",get:function get(){return this._mode;}},{key:"close",value:function close(){if(this._closedFromClient=!0,this._stopConnectionRetries(),this._areRetriesEnabled=!1,this._channel){try{this._channel.close();}catch(e){}this._channel=null;}}},{key:"isOpen",value:function isOpen(){return this._channel&&("open"===this._channel.readyState||this._channel.readyState===WebSocket.OPEN);}},{key:"sendEndpointStatsMessage",value:function sendEndpointStatsMessage(e){this._send(_objectSpread({colibriClass:"EndpointStats"},e));}},{key:"sendMessage",value:function sendMessage(e,t){this._send({colibriClass:"EndpointMessage",msgPayload:t,to:e});}},{key:"sendSetLastNMessage",value:function sendSetLastNMessage(e){qr.log("Sending lastN=".concat(e,".")),this._send({colibriClass:"LastNChangedEvent",lastN:e});}},{key:"sendSelectedEndpointsMessage",value:function sendSelectedEndpointsMessage(e){qr.log("Sending selected endpoints: ".concat(e,".")),this._send({colibriClass:"SelectedEndpointsChangedEvent",selectedEndpoints:e});}},{key:"sendReceiverVideoConstraintMessage",value:function sendReceiverVideoConstraintMessage(e){qr.log("Sending ReceiverVideoConstraint with maxFrameHeight=".concat(e,"px")),this._send({colibriClass:"ReceiverVideoConstraint",maxFrameHeight:e});}},{key:"sendNewReceiverVideoConstraintsMessage",value:function sendNewReceiverVideoConstraintsMessage(e){qr.log("Sending ReceiverVideoConstraints with ".concat(JSON.stringify(e))),this._send(_objectSpread({colibriClass:"ReceiverVideoConstraints"},e));}},{key:"sendVideoTypeMessage",value:function sendVideoTypeMessage(e){qr.debug("Sending VideoTypeMessage with video type as ".concat(e)),this._send({colibriClass:"VideoTypeMessage",videoType:e});}},{key:"sendSourceVideoTypeMessage",value:function sendSourceVideoTypeMessage(e,t){qr.info("Sending SourceVideoTypeMessage with video type ".concat(e,": ").concat(t)),this._send({colibriClass:"SourceVideoTypeMessage",sourceName:e,videoType:t});}},{key:"_handleChannel",value:function _handleChannel(e){var _this109=this;var t=this._eventEmitter;e.onopen=function(){qr.info("".concat(_this109._mode," channel opened")),t.emit(Jn().DATA_CHANNEL_OPEN);},e.onerror=function(e){"websocket"!==_this109._mode&&qr.error("Channel error: ".concat(e.message));},e.onmessage=function(e){var n,i=e.data;try{n=JSON.parse(i);}catch(e){return dn().callErrorHandler(e),void qr.error("Failed to parse channel message as JSON: ",i,e);}var s=n.colibriClass;switch(s){case"DominantSpeakerEndpointChangeEvent":{var _n63=n,_e128=_n63.dominantSpeakerEndpoint,_n63$previousSpeakers=_n63.previousSpeakers,_i57=_n63$previousSpeakers===void 0?[]:_n63$previousSpeakers;qr.debug("Dominant speaker: ".concat(_e128,", previous speakers: ").concat(_i57)),t.emit(Jn().DOMINANT_SPEAKER_CHANGED,_e128,_i57);break;}case"EndpointConnectivityStatusChangeEvent":{var _e129=n.endpoint,_i58="true"===n.active;qr.info("Endpoint connection status changed: ".concat(_e129," active=").concat(_i58)),t.emit(Jn().ENDPOINT_CONN_STATUS_CHANGED,_e129,_i58);break;}case"EndpointMessage":t.emit(Jn().ENDPOINT_MESSAGE_RECEIVED,n.from,n.msgPayload);break;case"EndpointStats":t.emit(Jn().ENDPOINT_STATS_RECEIVED,n.from,n);break;case"LastNEndpointsChangeEvent":{var _e130=n.lastNEndpoints;qr.info("New forwarded endpoints: ".concat(_e130)),t.emit(Jn().LASTN_ENDPOINT_CHANGED,_e130);break;}case"SenderVideoConstraints":{var _e131=n.videoConstraints;_e131&&(qr.info("SenderVideoConstraints: ".concat(JSON.stringify(_e131))),t.emit(Jn().SENDER_VIDEO_CONSTRAINTS_CHANGED,_e131));break;}case"ServerHello":qr.info("Received ServerHello, version=".concat(n.version,"."));break;default:qr.debug("Channel JSON-formatted message: ",n),t.emit("rtc.datachannel.".concat(s),n);}},e.onclose=function(e){qr.info("Channel closed by "+(_this109._closedFromClient?"client":"server")),"websocket"===_this109._mode&&(_this109._closedFromClient||(qr.error("Channel closed: ".concat(e.code," ").concat(e.reason)),_this109._retryWebSocketConnection(e))),_this109._channel=null;},this._channel=e;}},{key:"_send",value:function _send(e){var t=this._channel;if(!this.isOpen())throw qr.error("Bridge Channel send: no opened channel."),new Error("No opened channel");t.send(JSON.stringify(e));}}]);return Kr;}();var zr=n(4940),Wr=n.n(zr),Qr=n(3465),Xr=n.n(Qr),Yr=n(6125),Zr=n.n(Yr);var eo=(0,g.getLogger)("modules/RTC/RTCUtils.js");nn.usesAdapter()&&n(835);var to=new(nt())(),no={video:{height:{ideal:720,max:720,min:180},width:{ideal:1280,max:1280,min:320}}};var io="default",so=!1,ro=!1,oo=!1,ao=!1,co=!1,lo=null;var ho=document.createElement("audio"),uo=void 0!==ho.setSinkId;var po,mo=[];function fo(){}function go(e,t){var n=Boolean(t)&&t.getAudioTracks().length>0,i=Boolean(t)&&t.getVideoTracks().length>0,s={};-1!==e.indexOf("video")&&(s.video=i),-1!==e.indexOf("audio")&&(s.audio=n),to.emit(Jn().PERMISSIONS_CHANGED,s);}function _o(e){var t=e.filter(function(e){return"audioinput"===e.kind;}).length,n=e.filter(function(e){return"audiooutput"===e.kind;}).length,i=e.filter(function(e){return"videoinput"===e.kind;}).length,s=e.filter(function(e){return"videooutput"===e.kind;}).length;e.forEach(function(e){var r={audio_input_device_count:t,audio_output_device_count:n,video_input_device_count:i,video_output_device_count:s,device_id:e.deviceId,device_group_id:e.groupId,device_kind:e.kind,device_label:e.label};jn.sendAnalytics("available.device",r);});}function vo(e){(function(e){return e.length!==mo.length||e.map(t).sort().join("")!==mo.map(t).sort().join("");function t(e){return JSON.stringify({kind:e.kind,deviceId:e.deviceId,groupId:e.groupId,label:e.label,facing:e.facing});}})(e)&&(mo=e.slice(0),eo.info("list of media devices has changed:",mo),_o(mo),to.emit(Jn().DEVICE_LIST_WILL_CHANGE,mo),to.emit(Jn().DEVICE_LIST_CHANGED,mo));}var So=new(/*#__PURE__*/function(_vi9){_inherits(_class10,_vi9);var _super21=_createSuper(_class10);function _class10(){_classCallCheck(this,_class10);return _super21.call(this,to);}_createClass(_class10,[{key:"init",value:function init(){var _this110=this;var e;var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var n;"boolean"==typeof t.disableAEC&&(oo=t.disableAEC,eo.info("Disable AEC: ".concat(oo))),"boolean"==typeof t.disableNS&&(ao=t.disableNS,eo.info("Disable NS: ".concat(ao))),"boolean"==typeof t.disableAP&&(ro=t.disableAP,eo.info("Disable AP: ".concat(ro))),"boolean"==typeof t.disableAGC&&(co=t.disableAGC,eo.info("Disable AGC: ".concat(co))),"boolean"==typeof(null===(e=t.audioQuality)||void 0===e?void 0:e.stereo)&&(lo=t.audioQuality.stereo,eo.info("Stereo: ".concat(lo))),window.clearInterval(po),po=void 0,nn.isReactNative()?(this.RTCPeerConnectionType=RTCPeerConnection,this.attachMediaStream=void 0,this.getStreamID=function(e){var t=e.id;return"number"==typeof t?t:rr.filterSpecialChars(t);},this.getTrackID=function(e){var t=e.id;return t;}):(this.RTCPeerConnectionType=RTCPeerConnection,this.attachMediaStream=(n=function n(e,t){e&&(e.srcObject=t);},function(e,t){var i=n.apply(So,arguments);return t&&So.isDeviceChangeAvailable("output")&&t.getAudioTracks&&t.getAudioTracks().length&&so&&e.setSinkId(So.getAudioOutputDevice()).catch(function(t){var n=new Et(t,null,["audiooutput"]);dn().callUnhandledRejectionHandler({promise:this,reason:n}),eo.warn("Failed to set audio output device for the element. Default audio output device will be used instead",e,n);}),i;}),this.getStreamID=function(e){var t=e.id;return t;},this.getTrackID=function(e){var t=e.id;return t;}),this.pcConstraints=nn.isChromiumBased()||nn.isReactNative()?{optional:[{googScreencastMinBitrate:100},{googCpuOveruseDetection:!0}]}:{},nr.init(t),this.isDeviceListAvailable()&&this.enumerateDevices(function(e){mo=e.slice(0),eo.debug("Available devices: ",mo),_o(mo),to.emit(Jn().DEVICE_LIST_AVAILABLE,mo),nn.supportsDeviceChangeEvent()?navigator.mediaDevices.addEventListener("devicechange",function(){return _this110.enumerateDevices(fo);}):po=window.setInterval(function(){return _this110.enumerateDevices(fo);},3e3);});}},{key:"enumerateDevices",value:function enumerateDevices(e){navigator.mediaDevices.enumerateDevices().then(function(t){vo(t),e(t);}).catch(function(t){eo.warn("Failed to  enumerate devices. ".concat(t)),vo([]),e([]);});}},{key:"_getUserMedia",value:function _getUserMedia(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise(function(i,s){var r,o=!1;"number"==typeof n&&!isNaN(n)&&n>0&&(r=setTimeout(function(){o=!0,r=void 0,s(new Et(ft));},n)),navigator.mediaDevices.getUserMedia(t).then(function(t){eo.log("onUserMediaSuccess"),go(e,t),o||(void 0!==r&&clearTimeout(r),i(t));}).catch(function(n){eo.warn("Failed to get access to local media. ".concat(n," ").concat(JSON.stringify(t)));var i=new Et(n,t,e);o||(void 0!==r&&clearTimeout(r),s(n)),i.name===ut&&go(e,void 0);});});}},{key:"_getDesktopMedia",value:function _getDesktopMedia(){return nr.isSupported()?new Promise(function(e,t){nr.obtainStream(function(t){e(t);},function(e){t(e);});}):Promise.reject(new Error("Desktop sharing is not supported!"));}},{key:"_getMissingTracks",value:function _getMissingTracks(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;var n=[],i=e.includes("audio"),s=t&&t.getAudioTracks().length>0;i&&!s&&n.push("audio");var r=e.includes("video"),o=t&&t.getVideoTracks().length>0;return r&&!o&&n.push("video"),n;}},{key:"obtainAudioAndVideoPermissions",value:function obtainAudioAndVideoPermissions(e){var _this111=this;var t=e.timeout,n=_objectWithoutProperties(e,_excluded),i=[],s=function(){if(-1===(n.devices||[]).indexOf("desktop"))return Promise.resolve();var e=n.desktopSharingSourceDevice;if(e){var _n64=mo&&mo.find(function(t){return"videoinput"===t.kind&&(t.deviceId===e||t.label===e);});if(!_n64)return Promise.reject(new Et({name:"ConstraintNotSatisfiedError"},{},[e]));var _i59=["video"],_s29={video:{deviceId:_n64.deviceId}};return this._getUserMedia(_i59,_s29,t).then(function(e){return{sourceType:"device",stream:e};});}return this._getDesktopMedia();}.bind(this),r=function(){var e=(n.devices||["audio","video"]).filter(function(e){return"audio"===e||"video"===e;});if(!e.length)return Promise.resolve();var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n=Xr()(t.constraints||no);if(e.indexOf("video")>=0){if(Zr()[t.resolution]){var _e132=Zr()[t.resolution];n.video.height={ideal:_e132.height},n.video.width={ideal:_e132.width};}if(n.video||(n.video={}),nn.isWebKitBased()&&(n.video.height&&n.video.height.ideal?n.video.height={ideal:n.video.height.ideal}:eo.warn("Ideal camera height missing, camera may not start properly"),n.video.width&&n.video.width.ideal?n.video.width={ideal:n.video.width.ideal}:eo.warn("Ideal camera width missing, camera may not start properly")),t.cameraDeviceId)n.video.deviceId=t.cameraDeviceId;else{var _e133=t.facingMode||Wr().USER;n.video.facingMode=_e133;}}else n.video=!1;return e.indexOf("audio")>=0?(n.audio&&"boolean"!=typeof n.audio||(n.audio={}),n.audio={autoGainControl:!co&&!ro,deviceId:t.micDeviceId,echoCancellation:!oo&&!ro,noiseSuppression:!ao&&!ro},lo&&Object.assign(n.audio,{channelCount:2})):n.audio=!1,n;}(e,n);return eo.info("Got media constraints: ",JSON.stringify(i)),this._getUserMedia(e,i,t);}.bind(this);return s().then(function(e){if(!e)return;var t=e.stream,n=e.sourceId,s=e.sourceType,r=t.getAudioTracks();if(r.length){var _e134=new MediaStream(r);i.push({stream:_e134,sourceId:n,sourceType:s,track:_e134.getAudioTracks()[0]});}var o=t.getVideoTracks();if(o.length){var _e135=new MediaStream(o);i.push({stream:_e135,sourceId:n,sourceType:s,track:_e135.getVideoTracks()[0],videoType:Hn().DESKTOP});}}).then(r).then(function(e){if(!e)return;var t=e.getAudioTracks();if(t.length){var _e136=new MediaStream(t);i.push({stream:_e136,track:_e136.getAudioTracks()[0],effects:n.effects});}var s=e.getVideoTracks();if(s.length){var _e137=new MediaStream(s);i.push({stream:_e137,track:_e137.getVideoTracks()[0],videoType:Hn().CAMERA,effects:n.effects});}}).then(function(){return i;}).catch(function(e){return i.forEach(function(e){var t=e.stream;_this111.stopMediaStream(t);}),Promise.reject(e);});}},{key:"isDeviceListAvailable",value:function isDeviceListAvailable(){return Boolean(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices);}},{key:"isDeviceChangeAvailable",value:function isDeviceChangeAvailable(e){return"output"===e||"audiooutput"===e?uo:"audioinput"!==e&&"input"!==e||!nn.isIosBrowser();}},{key:"stopMediaStream",value:function stopMediaStream(e){e&&(e.getTracks().forEach(function(e){e.stop&&e.stop();}),e.stop&&e.stop(),e.release&&e.release());}},{key:"isDesktopSharingEnabled",value:function isDesktopSharingEnabled(){return nr.isSupported();}},{key:"setAudioOutputDevice",value:function setAudioOutputDevice(e){return this.isDeviceChangeAvailable("output")?ho.setSinkId(e).then(function(){io=e,so=!0,eo.log("Audio output device set to ".concat(e)),to.emit(Jn().AUDIO_OUTPUT_DEVICE_CHANGED,e);}):Promise.reject(new Error("Audio output device change is not supported"));}},{key:"setDesktopSharingFrameRate",value:function setDesktopSharingFrameRate(e){nr.setDesktopSharingFrameRate(e);}},{key:"getAudioOutputDevice",value:function getAudioOutputDevice(){return io;}},{key:"getCurrentlyAvailableMediaDevices",value:function getCurrentlyAvailableMediaDevices(){return mo;}},{key:"arePermissionsGrantedForAvailableDevices",value:function arePermissionsGrantedForAvailableDevices(){return mo.some(function(e){return Boolean(e.label);});}},{key:"getEventDataForActiveDevice",value:function getEventDataForActiveDevice(e){var t=[],n={deviceId:e.deviceId,kind:e.kind,label:e.label,groupId:e.groupId};return t.push(n),{deviceList:t};}},{key:"setSuspendVideo",value:function setSuspendVideo(e,t){e.optional||(e.optional=[]),e.optional=e.optional.filter(function(e){return!e.hasOwnProperty("googSuspendBelowMinBitrate");}),t&&e.optional.push({googSuspendBelowMinBitrate:"true"});}}]);return _class10;}(vi))(),yo=So,Eo=(0,g.getLogger)("modules/RTC/JitsiTrack.js"),Co={track_mute:"onmute",track_unmute:"onunmute",track_ended:"onended"};var bo=/*#__PURE__*/function(_nt){_inherits(bo,_nt);var _super22=_createSuper(bo);function bo(e,t,n,i,s,r){var _this112;_classCallCheck(this,bo);_this112=_super22.call(this),_this112.addEventListener=_this112.addListener,_this112.removeEventListener=_this112.off=_this112.removeListener,_this112.containers=[],_this112.conference=e,_this112.audioLevel=-1,_this112.type=s,_this112.track=n,_this112.videoType=r,_this112.handlers=new Map(),_this112.disposed=!1,_this112._streamInactiveHandler=i,_this112._setStream(t);return _this112;}_createClass(bo,[{key:"_addMediaStreamInactiveHandler",value:function _addMediaStreamInactiveHandler(e){nn.isFirefox()?this.track.onended=e:this.stream.oninactive=e;}},{key:"_setHandler",value:function _setHandler(e,t){if(Co.hasOwnProperty(e)){if(t?this.handlers.set(e,t):this.handlers.delete(e),this.stream){var _iterator36=_createForOfIteratorHelper(this.stream.getTracks()),_step36;try{for(_iterator36.s();!(_step36=_iterator36.n()).done;){var _n65=_step36.value;_n65[Co[e]]=t;}}catch(err){_iterator36.e(err);}finally{_iterator36.f();}}}else Eo.error("Invalid handler type ".concat(e));}},{key:"_unregisterHandlers",value:function _unregisterHandlers(){if(this.stream){var _iterator37=_createForOfIteratorHelper(this.handlers.keys()),_step37;try{for(_iterator37.s();!(_step37=_iterator37.n()).done;){var _e138=_step37.value;var _iterator38=_createForOfIteratorHelper(this.stream.getVideoTracks()),_step38;try{for(_iterator38.s();!(_step38=_iterator38.n()).done;){var _t90=_step38.value;_t90[Co[_e138]]=void 0;}}catch(err){_iterator38.e(err);}finally{_iterator38.f();}}}catch(err){_iterator37.e(err);}finally{_iterator37.f();}this._streamInactiveHandler&&this._addMediaStreamInactiveHandler(void 0);}else Eo.warn("".concat(this,": unable to unregister handlers - no stream object"));}},{key:"_setStream",value:function _setStream(e){if(this.stream!==e&&(this.stream=e,this.stream)){var _iterator39=_createForOfIteratorHelper(this.handlers.keys()),_step39;try{for(_iterator39.s();!(_step39=_iterator39.n()).done;){var _e139=_step39.value;this._setHandler(_e139,this.handlers.get(_e139));}}catch(err){_iterator39.e(err);}finally{_iterator39.f();}this._streamInactiveHandler&&this._addMediaStreamInactiveHandler(this._streamInactiveHandler);}}},{key:"getVideoType",value:function getVideoType(){return this.videoType;}},{key:"getType",value:function getType(){return this.type;}},{key:"isAudioTrack",value:function isAudioTrack(){return this.getType()===Rn;}},{key:"isWebRTCTrackMuted",value:function isWebRTCTrackMuted(){return this.track&&this.track.muted;}},{key:"isVideoTrack",value:function isVideoTrack(){return this.getType()===wn;}},{key:"isLocal",value:function isLocal(){throw new Error("Not implemented by subclass");}},{key:"isLocalAudioTrack",value:function isLocalAudioTrack(){return this.isAudioTrack()&&this.isLocal();}},{key:"getOriginalStream",value:function getOriginalStream(){return this.stream;}},{key:"getStreamId",value:function getStreamId(){return this.stream?this.stream.id:null;}},{key:"getTrack",value:function getTrack(){return this.track;}},{key:"getTrackLabel",value:function getTrackLabel(){return this.track.label;}},{key:"getTrackId",value:function getTrackId(){return this.track?this.track.id:null;}},{key:"getUsageLabel",value:function getUsageLabel(){return this.isAudioTrack()?"mic":this.videoType?this.videoType:"default";}},{key:"_maybeFireTrackAttached",value:function _maybeFireTrackAttached(e){this.conference&&e&&this.conference._onTrackAttach(this,e);}},{key:"attach",value:function attach(e){this.stream&&(this._onTrackAttach(e),yo.attachMediaStream(e,this.stream)),this.containers.push(e),this._maybeFireTrackAttached(e),this._attachTTFMTracker(e);}},{key:"detach",value:function detach(e){for(var _t91=this.containers,_n66=_t91.length-1;_n66>=0;--_n66){var _i60=_t91[_n66];e||(this._onTrackDetach(_i60),yo.attachMediaStream(_i60,null)),e&&_i60!==e||_t91.splice(_n66,1);}e&&(this._onTrackDetach(e),yo.attachMediaStream(e,null));}},{key:"_onTrackAttach",value:function _onTrackAttach(e){}},{key:"_onTrackDetach",value:function _onTrackDetach(e){}},{key:"_attachTTFMTracker",value:function _attachTTFMTracker(e){}},{key:"dispose",value:function dispose(){return this.removeAllListeners(),this.disposed=!0,Promise.resolve();}},{key:"isScreenSharing",value:function isScreenSharing(){}},{key:"getId",value:function getId(){return this.stream?yo.getStreamID(this.stream):null;}},{key:"isActive",value:function isActive(){return void 0===this.stream.active||this.stream.active;}},{key:"setAudioLevel",value:function setAudioLevel(e,t){var n=e;nn.supportsReceiverStats()&&void 0!==t&&this.isMuted()&&(n=0),this.audioLevel!==n?(this.audioLevel=n,this.emit(Yn,n,t)):0===this.audioLevel&&0===n&&this.isLocal()&&!this.isWebRTCTrackMuted()&&this.emit(ii,n);}},{key:"getMSID",value:function getMSID(){var e=this.getStreamId(),t=this.getTrackId();return e&&t?"".concat(e," ").concat(t):null;}},{key:"setAudioOutput",value:function setAudioOutput(e){var _this113=this;return yo.isDeviceChangeAvailable("output")?this.isVideoTrack()?Promise.resolve():Promise.all(this.containers.map(function(t){return t.setSinkId(e).catch(function(e){throw Eo.warn("Failed to change audio output device on element. Default or previously set audio output device will be used.",t,e),e;});})).then(function(){_this113.emit(Zn,e);}):Promise.reject(new Error("Audio output device change is not supported"));}}]);return bo;}(nt());var To=(0,g.getLogger)("modules/RTC/JitsiLocalTrack.js");var Ro=/*#__PURE__*/function(_bo){_inherits(Ro,_bo);var _super23=_createSuper(Ro);function Ro(e){var _this114;_classCallCheck(this,Ro);var t=e.deviceId,n=e.facingMode,i=e.mediaType,s=e.resolution,r=e.rtcId,o=e.sourceId,a=e.sourceType,c=e.stream,d=e.track,l=e.videoType,_e$effects=e.effects,h=_e$effects===void 0?[]:_e$effects;_this114=_super23.call(this,null,c,d,function(){return _this114.emit(Xn);},i,l),_this114._setEffectInProgress=!1;var u=h.find(function(e){return e.isEnabled(_assertThisInitialized(_this114));});u&&_this114._startStreamEffect(u);var p=l===Hn().DESKTOP?d.getSettings().displaySurface:null;_this114.metadata=_objectSpread({timestamp:Date.now()},p?{displaySurface:p}:{}),_this114.rtcId=r,_this114.sourceId=o,_this114.sourceType=a,_this114.resolution=d.getSettings().height,_this114.maxEnabledResolution=s,_this114._constraints=d.getConstraints(),Object.keys(_this114._constraints).length||l!==Hn().CAMERA||(_this114._constraints={height:d.getSettings().height,width:d.getSettings().width}),_this114.deviceId=t,_this114._prevSetMuted=Promise.resolve(),_this114._facingMode=n,_this114._trackEnded=!1,_this114._hasSentData=!1,_this114._testDataSent=!0,_this114._realDeviceId=""===_this114.deviceId?void 0:_this114.deviceId,_this114._trackMutedTS=0,_this114._onDeviceListWillChange=function(e){var t=_this114._realDeviceId;_this114._setRealDeviceIdFromDeviceList(e),(void 0===_this114.getTrack().readyState&&void 0!==_this114._realDeviceId&&!e.find(function(e){return e.deviceId===_this114._realDeviceId;})||void 0!==t&&void 0===_this114._realDeviceId)&&(_this114._trackEnded=!0);},_this114.isAudioTrack()&&yo.isDeviceChangeAvailable("output")&&(_this114._onAudioOutputDeviceChanged=_this114.setAudioOutput.bind(_assertThisInitialized(_this114)),yo.addListener(Jn().AUDIO_OUTPUT_DEVICE_CHANGED,_this114._onAudioOutputDeviceChanged)),yo.addListener(Jn().DEVICE_LIST_WILL_CHANGE,_this114._onDeviceListWillChange),_this114._initNoDataFromSourceHandlers();return _this114;}_createClass(Ro,[{key:"_addStreamToConferenceAsUnmute",value:function _addStreamToConferenceAsUnmute(){var _this115=this;return this.conference?new Promise(function(e,t){_this115.conference._addLocalTrackAsUnmute(_this115).then(e,function(e){return t(new Error(e));});}):Promise.resolve();}},{key:"_fireNoDataFromSourceEvent",value:function _fireNoDataFromSourceEvent(){var e=!this.isReceivingData();this.emit(ni,e),jn.sendAnalytics(function(e,t){return{attributes:{media_type:e,value:t},action:"track.no.data.from.source",type:Ct};}(this.getType(),e)),jn.sendLog(JSON.stringify({name:ni,log:e}));}},{key:"_initNoDataFromSourceHandlers",value:function _initNoDataFromSourceHandlers(){var _this116=this;this._isNoDataFromSourceEventsEnabled()&&(this._setHandler("track_mute",function(){_this116._trackMutedTS=window.performance.now(),_this116._fireNoDataFromSourceEvent();}),this._setHandler("track_unmute",function(){_this116._fireNoDataFromSourceEvent(),jn.sendAnalyticsAndLog("track.unmuted",{media_type:_this116.getType(),track_type:"local",value:window.performance.now()-_this116._trackMutedTS});}),this.isVideoTrack()&&this.videoType===Hn().CAMERA&&this._setHandler("track_ended",function(){_this116.isReceivingData()||_this116._fireNoDataFromSourceEvent();}));}},{key:"_isNoDataFromSourceEventsEnabled",value:function _isNoDataFromSourceEventsEnabled(){return!this.isVideoTrack()||this.videoType!==Hn().DESKTOP;}},{key:"_queueSetMuted",value:function _queueSetMuted(e){var t=this._setMuted.bind(this,e);return this._prevSetMuted=this._prevSetMuted.then(t,t),this._prevSetMuted;}},{key:"_removeStreamFromConferenceAsMute",value:function _removeStreamFromConferenceAsMute(e,t){this.conference?this.conference._removeLocalTrackAsMute(this).then(e,function(e){return t(new Error(e));}):e();}},{key:"_sendMuteStatus",value:function _sendMuteStatus(e){this.conference&&this.conference._setTrackMuteStatus(this.getType(),this,e)&&this.conference.room.sendPresence();}},{key:"_setMuted",value:function _setMuted(e){var _this117=this;if(this.isMuted()===e)return Promise.resolve();if(this.disposed)return Promise.reject(new Et(gt));var t=Promise.resolve();var n=function n(){return To.info("Mute ".concat(_this117,": ").concat(e));};if(this.isAudioTrack()||this.videoType===Hn().DESKTOP||!nn.doesVideoMuteByStreamRemove())n(),this._streamEffect&&this._streamEffect.setMuted?this._streamEffect.setMuted(e):this.track&&(this.track.enabled=!e);else if(e)t=new Promise(function(e,t){n(),_this117._removeStreamFromConferenceAsMute(function(){_this117._streamEffect&&_this117._stopStreamEffect(),_this117._unregisterHandlers(),_this117.stopStream(),_this117._setStream(null),e();},t);});else{n();var _e140={cameraDeviceId:this.getDeviceId(),devices:[wn],effects:this._streamEffect?[this._streamEffect]:[],facingMode:this.getCameraFacingMode()};t=yo.obtainAudioAndVideoPermissions(Object.assign({},_e140,{constraints:{video:this._constraints}})),t=t.then(function(e){var t=_this117.getType()===An?wn:_this117.getType(),n=e.find(function(e){return e.track.kind===t;});if(!n)throw new Et(_t);return _this117._setStream(n.stream),_this117.track=n.track,_this117.videoType!==n.videoType&&(To.warn("".concat(_this117,": video type has changed after unmute!"),_this117.videoType,n.videoType),_this117.videoType=n.videoType),_this117._streamEffect&&_this117._startStreamEffect(_this117._streamEffect),_this117.containers.map(function(e){return yo.attachMediaStream(e,_this117.stream);}),_this117._addStreamToConferenceAsUnmute();});}return t.then(function(){_this117._sendMuteStatus(e),_this117.emit(ei,_this117);});}},{key:"_setRealDeviceIdFromDeviceList",value:function _setRealDeviceIdFromDeviceList(e){var t=this.getTrack(),n="".concat(t.kind,"input");var i=e.find(function(e){return e.kind===n&&e.label===t.label;});if(!i&&"default"===this._realDeviceId){var _s30=(t.label||"").replace("Default - ","");i=e.find(function(e){return e.kind===n&&e.label===_s30;});}this._realDeviceId=i?i.deviceId:void 0;}},{key:"_setStream",value:function _setStream(e){_get(_getPrototypeOf(Ro.prototype),"_setStream",this).call(this,e),e?(this.storedMSID=this.getMSID(),To.debug("Setting new MSID: ".concat(this.storedMSID," on ").concat(this))):To.debug("Setting \'null\' stream on ".concat(this));}},{key:"_startStreamEffect",value:function _startStreamEffect(e){this._streamEffect=e,this._originalStream=this.stream,this._setStream(this._streamEffect.startEffect(this._originalStream)),this.track=this.stream.getTracks()[0];}},{key:"_stopStreamEffect",value:function _stopStreamEffect(){this._streamEffect&&(this._streamEffect.stopEffect(),this._setStream(this._originalStream),this._originalStream=null,this.track=this.stream?this.stream.getTracks()[0]:null);}},{key:"_switchCamera",value:function _switchCamera(){this.isVideoTrack()&&this.videoType===Hn().CAMERA&&"function"==typeof this.track._switchCamera&&(this.track._switchCamera(),this._facingMode=this._facingMode===Wr().ENVIRONMENT?Wr().USER:Wr().ENVIRONMENT);}},{key:"_switchStreamEffect",value:function _switchStreamEffect(e){this._streamEffect&&(this._stopStreamEffect(),this._streamEffect=void 0),e&&this._startStreamEffect(e);}},{key:"dispose",value:function dispose(){var _this118=this;var e=Promise.resolve();return this._streamEffect&&(e=this.setEffect()),this.conference&&(e=e.then(function(){return _this118.conference.removeTrack(_this118);})),this.stream&&(this.stopStream(),this.detach()),yo.removeListener(Jn().DEVICE_LIST_WILL_CHANGE,this._onDeviceListWillChange),this._onAudioOutputDeviceChanged&&yo.removeListener(Jn().AUDIO_OUTPUT_DEVICE_CHANGED,this._onAudioOutputDeviceChanged),e.then(function(){return _get(_getPrototypeOf(Ro.prototype),"dispose",_this118).call(_this118);});}},{key:"getCameraFacingMode",value:function getCameraFacingMode(){if(this.isVideoTrack()&&this.videoType===Hn().CAMERA){var e,t;var _n67=null===(e=(t=this.track).getSettings)||void 0===e?void 0:e.call(t);return _n67&&"facingMode"in _n67?_n67.facingMode:void 0!==this._facingMode?this._facingMode:Wr().USER;}}},{key:"getDeviceId",value:function getDeviceId(){return this._realDeviceId||this.deviceId;}},{key:"getDuration",value:function getDuration(){return Date.now()/1e3-this.metadata.timestamp/1e3;}},{key:"getParticipantId",value:function getParticipantId(){return this.conference&&this.conference.myUserId();}},{key:"isEnded",value:function isEnded(){return this.isVideoTrack()&&this.isMuted()?this._trackEnded:"ended"===this.getTrack().readyState||this._trackEnded;}},{key:"isLocal",value:function isLocal(){return!0;}},{key:"isMuted",value:function isMuted(){return!this.stream||!(!this.isVideoTrack()||this.isActive())||(this._streamEffect&&this._streamEffect.isMuted?this._streamEffect.isMuted():!this.track||!this.track.enabled);}},{key:"isReceivingData",value:function isReceivingData(){return!(!this.isVideoTrack()||!this.isMuted()&&!this._stopStreamInProgress&&this.videoType!==Hn().DESKTOP)||!!this.stream&&(this._effectEnabled?this._originalStream:this.stream).getTracks().some(function(e){return!("readyState"in e&&"live"!==e.readyState||"muted"in e&&!0===e.muted);});}},{key:"mute",value:function mute(){return this._queueSetMuted(!0);}},{key:"onByteSentStatsReceived",value:function onByteSentStatsReceived(e,t){var _this119=this;t>0&&(this._hasSentData=!0);var n=e.getConnectionState();this._testDataSent&&"connected"===n&&(setTimeout(function(){_this119._hasSentData||(To.warn("".concat(_this119," \'bytes sent\' <= 0:                         ").concat(t)),jn.analytics.sendEvent("track.no-bytes-sent",{media_type:_this119.getType()}));},3e3),this._testDataSent=!1);}},{key:"setConference",value:function setConference(e){this.conference=e;for(var _e141=0;_e141<this.containers.length;_e141++)this._maybeFireTrackAttached(this.containers[_e141]);}},{key:"setEffect",value:function setEffect(e){var _this120=this;if(void 0===this._streamEffect&&void 0===e)return Promise.resolve();if(void 0!==e&&!e.isEnabled(this))return Promise.reject(new Error("Incompatible effect instance!"));if(!0===this._setEffectInProgress)return Promise.reject(new Error("setEffect already in progress!"));if(this.isMuted()&&!this.isAudioTrack())return this._streamEffect=e,Promise.resolve();var t=this.conference;return t?(this._setEffectInProgress=!0,t.removeTrack(this).then(function(){return _this120._switchStreamEffect(e),_this120.isVideoTrack()&&_this120.containers.forEach(function(e){return yo.attachMediaStream(e,_this120.stream);}),t.addTrack(_this120);}).then(function(){_this120._setEffectInProgress=!1;}).catch(function(e){throw _this120._setEffectInProgress=!1,_this120._switchStreamEffect(),To.error("Failed to switch to the new stream!",e),e;})):(this._switchStreamEffect(e),this.isVideoTrack()&&this.containers.forEach(function(e){return yo.attachMediaStream(e,_this120.stream);}),Promise.resolve());}},{key:"stopStream",value:function stopStream(){this._stopStreamInProgress=!0;try{yo.stopMediaStream(this.stream);}finally{this._stopStreamInProgress=!1;}}},{key:"toString",value:function toString(){return"LocalTrack[".concat(this.rtcId,",").concat(this.getType(),"]");}},{key:"unmute",value:function unmute(){return this._queueSetMuted(!1);}}]);return Ro;}(bo);var Ao=n(2342);var wo=function wo(e,t){return void 0!==e&&void 0!==e.media&&Array.isArray(e.media)&&e.media.forEach(function(e){e.sources&&e.sources.length&&(e.ssrcs=[],e.sources.forEach(function(t){Object.keys(t).forEach(function(n){"id"!==n&&e.ssrcs.push({id:t.id,attribute:n,value:t[n]});});}),delete e.sources),e.ssrcGroups&&e.ssrcGroups.length&&e.ssrcGroups.forEach(function(e){void 0!==e.ssrcs&&Array.isArray(e.ssrcs)&&(e.ssrcs=e.ssrcs.join(" "));});}),Ao.write(e,t);},Io=function Io(e){var t=Ao.parse(e);return void 0!==t&&void 0!==t.media&&Array.isArray(t.media)&&t.media.forEach(function(e){void 0!==e.ssrcs&&Array.isArray(e.ssrcs)&&(e.sources=[],e.ssrcs.forEach(function(t){var n=e.sources.findIndex(function(e){return e.id===t.id;});if(n>-1)e.sources[n][t.attribute]=t.value;else{var _n68={id:t.id};_n68[t.attribute]=t.value,e.sources.push(_n68);}}),delete e.ssrcs),void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&e.ssrcGroups.forEach(function(e){"string"==typeof e.ssrcs&&(e.ssrcs=e.ssrcs.split(" "));});}),t;},Po=["audio","video","data"],Mo=function Mo(e){return e.find(function(e){return"SIM"===e.semantics;});},Do=function Do(e){return e.find(function(e){return"FID"===e.semantics;});};function No(e,t,n,i){if(!e||!t)return;var s=function s(e){return i.find(function(t){return t.id.toString()===e;});};t.ssrcs.forEach(function(t){e.sources.push(s(t));var i=n[parseInt(t,10)].find(function(e){return"FID"===e.semantics;});if(i){var _n69=i.ssrcs.find(function(e){return e!==t;});e.sources.push(s(_n69)),e.ssrcGroups.push(i);}}),e.ssrcGroups.push(t);}function ko(e,t,n,i){if(!e||!t)return;if(e.sources=[],e.ssrcGroups=[],!n[t.id])return e.sources.push(t),void(e.msid=t.msid);var s=Mo(n[t.id]),r=Do(n[t.id]);if(s)No(e,s,n,i);else if(r){var _s31=r.ssrcs.find(function(e){return e!==t;}),_o11=Mo(n[_s31]);_o11?No(e,_o11,n,i):(r.ssrcs.forEach(function(t){e.sources.push(function(e){return i.find(function(t){return t.id.toString()===e;});}(t));}),e.ssrcGroups.push(r));}e.msid=e.sources[0].msid;}function Oo(e,t,n){if(!n.find(function(t){return!!t.sources&&t.sources.some(function(t){return t.id===e.id;});})){if(!t[e.id])return!1;var _i61=Mo(t[e.id]),_s32=Do(t[e.id]);return _i61?n.some(function(e){return e.sources&&e.sources.some(function(e){return e.id.toString()===_i61.ssrcs[0];});}):!(!_s32||e.id.toString()===_s32.ssrcs[0])&&Oo({id:_s32.ssrcs[0]},t,n);}return!0;}var Lo=/*#__PURE__*/function(){function Lo(){_classCallCheck(this,Lo);}_createClass(Lo,[{key:"toPlanB",value:function toPlanB(e){if(!e||"string"!=typeof e.sdp)return console.warn("An empty description was passed as an argument."),e;var t=Io(e.sdp);if(!t.media||!t.media.length)return console.warn("The description has no media."),e;if(t.media.every(function(e){return-1!==Po.indexOf(e.mid);}))return console.warn("The description does not look like unified plan sdp"),e;var n={},i=t.media;t.media=[],i.forEach(function(e){var t=e.type;if("application"===t)return e.mid="data",void(n[e.mid]=e);if(void 0===n[t]){var _i62=Qr(e);_i62.sources&&Array.isArray(_i62.sources)&&_i62.sources.forEach(function(t){e.msid?t.msid=e.msid:delete t.msid;}),_i62.ssrcGroups&&e.msid||(_i62.ssrcGroups=[]),delete _i62.msid,_i62.mid=t,n[t]=_i62;}else e.msid&&(e.sources&&Array.isArray(e.sources)&&(n[t].sources=(n[t].sources||[]).concat(e.sources)),void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&(n[t].ssrcGroups=n[t].ssrcGroups.concat(e.ssrcGroups)));}),t.media=Object.values(n);var s=[];Object.values(n).forEach(function(e){"inactive"!==e.direction&&s.push(e.mid);}),t.groups.forEach(function(e){"BUNDLE"===e.type&&(e.mids=s.join(" "));}),t.msidSemantic={semantic:"WMS",token:"*"};var r=wo(t);return new RTCSessionDescription({type:e.type,sdp:r});}},{key:"toUnifiedPlan",value:function toUnifiedPlan(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!e||"string"!=typeof e.sdp)return console.warn("An empty description was passed as an argument."),e;var n=Io(e.sdp);if(!n.media||!n.media.length)return console.warn("The description has no media."),e;if(n.media.length>3||n.media.every(function(e){return-1===Po.indexOf(e.mid);}))return console.warn("The description does not look like plan-b"),e;var i=t?Io(t.sdp):null,s=function(e,t){if(!e||!t||0===e.media.length||0===t.media.length)return!1;var n=e.media[0],i=t.media[0];return n.iceUfrag!==i.iceUfrag||n.icePwd!==i.icePwd;}(n,i),r=n.media[0].iceUfrag,o=n.media[0].icePwd,a=n.media[0].fingerprint,c={};n.media.forEach(function(e){var t=e.type;if("application"===t){if(!i||!i.media){var _t92=Qr(e);return _t92.mid=Object.keys(c).length.toString(),void(c[e.mid]=_t92);}var _n70=i.media.findIndex(function(e){return e.type===t;});return void(_n70&&(i.media[_n70]=e,i.media[_n70].mid=_n70));}var n=function(e){var t={};return e&&Array.isArray(e)?(e.forEach(function(e){e.ssrcs&&Array.isArray(e.ssrcs)&&e.ssrcs.forEach(function(n){void 0===t[n]&&(t[n]=[]),t[n].push(e);});}),t):t;}(e.ssrcGroups);if(e.sources)e.sources.forEach(function(s,r){if(!s.msid)return;if(!i||!i.media){if(Oo(s,n,Object.values(c)))return;var _t93=Qr(e);return _t93.mid=Object.keys(c).length.toString(),_t93.direction=r||"sendonly"===e.direction?"sendonly":"sendrecv",_t93.bundleOnly=void 0,ko(_t93,s,n,e.sources),void(c[_t93.mid]=_t93);}if(Oo(s,n,i.media))return;var o=(d=t,(a=i)&&d?a.media.find(function(e){return 0===e.port&&e.type===d;}):null);var a,d;if(o)return o.port=e.port,o.direction="sendonly",void ko(o,s,n,e.sources);var l=Qr(e);l.mid=i.media.length.toString(),l.direction="sendonly",ko(l,s,n,e.sources),i.media.push(l);});else if(!i){var _t94=Qr(e);_t94.mid=Object.keys(c).length.toString(),c[e.mid]=_t94;}}),n.media=i?i.media:Object.values(c);var d=[];n.media.forEach(function(e){d.push(e.mid),s&&(e.iceUfrag=r,e.icePwd=o,e.fingerprint=a);}),n.groups.forEach(function(e){"BUNDLE"===e.type&&(e.mids=d.join(" "));}),n.msidSemantic={semantic:"WMS",token:"*"},n.origin.sessionVersion++;var l=wo(n);return new RTCSessionDescription({type:e.type,sdp:l});}}]);return Lo;}();var xo=n(766);var Fo="signaling.peerMuted",jo="signaling.peerVideoType";function $o(e,t,n){return"".concat(e,"-").concat(t.substring(0,1)).concat(n);}function Uo(e){var t=e.indexOf("-")+1;if(t<=0)throw new Error("Invalid source name: ".concat(e));var n=e.substr(t,1);for(var _i63=0,_Object$values2=Object.values(o);_i63<_Object$values2.length;_i63++){var _e142=_Object$values2[_i63];if(_e142.substr(0,1)===n)return _e142;}throw new Error("Invalid source name: ".concat(e));}var Bo=/*#__PURE__*/function(_vi10){_inherits(Bo,_vi10);var _super24=_createSuper(Bo);function Bo(){_classCallCheck(this,Bo);return _super24.apply(this,arguments);}_createClass(Bo,[{key:"getSSRCOwner",value:function getSSRCOwner(e){throw new Error("not implemented");}},{key:"getPeerMediaInfo",value:function getPeerMediaInfo(e,t){throw new Error("not implemented");}},{key:"getPeerSourceInfo",value:function getPeerSourceInfo(e,t){throw new Error("not implemented");}},{key:"getTrackSourceName",value:function getTrackSourceName(e){throw new Error("not implemented");}}]);return Bo;}(vi);function Jo(e){return parseInt(e.ssrcs.split(" ")[0],10);}function Vo(e){return parseInt(e.ssrcs.split(" ")[1],10);}function Ho(e){return e.ssrcs?e.ssrcs.map(function(e){return e.id;}).filter(function(e,t,n){return n.indexOf(e)===t;}).length:0;}var Go=/*#__PURE__*/function(){function Go(e){_classCallCheck(this,Go);if(!e)throw new Error("mLine is undefined");this.mLine=e;}_createClass(Go,[{key:"ssrcs",get:function get(){return this.mLine.ssrcs||(this.mLine.ssrcs=[]),this.mLine.ssrcs;},set:function set(e){this.mLine.ssrcs=e;}},{key:"direction",get:function get(){return this.mLine.direction;},set:function set(e){this.mLine.direction=e;}},{key:"ssrcGroups",get:function get(){return this.mLine.ssrcGroups||(this.mLine.ssrcGroups=[]),this.mLine.ssrcGroups;},set:function set(e){this.mLine.ssrcGroups=e;}},{key:"getSSRCAttrValue",value:function getSSRCAttrValue(e,t){var n=this.ssrcs.find(function(n){return n.id===e&&n.attribute===t;});return n&&n.value;}},{key:"removeSSRC",value:function removeSSRC(e){this.mLine.ssrcs&&this.mLine.ssrcs.length&&(this.mLine.ssrcs=this.mLine.ssrcs.filter(function(t){return t.id!==e;}));}},{key:"addSSRCAttribute",value:function addSSRCAttribute(e){this.ssrcs.push(e);}},{key:"findGroup",value:function findGroup(e,t){return this.ssrcGroups.find(function(n){return n.semantics===e&&(!t||t===n.ssrcs);});}},{key:"findGroups",value:function findGroups(e){return this.ssrcGroups.filter(function(t){return t.semantics===e;});}},{key:"findGroupByPrimarySSRC",value:function findGroupByPrimarySSRC(e,t){return this.ssrcGroups.find(function(n){return n.semantics===e&&Jo(n)===t;});}},{key:"findSSRCByMSID",value:function findSSRCByMSID(e){return this.ssrcs.find(function(t){return"msid"===t.attribute&&(null===e||t.value===e);});}},{key:"getSSRCCount",value:function getSSRCCount(){return Ho(this.mLine);}},{key:"containsAnySSRCGroups",value:function containsAnySSRCGroups(){return void 0!==this.mLine.ssrcGroups;}},{key:"getPrimaryVideoSsrc",value:function getPrimaryVideoSsrc(){var e=this.mLine.type;if("video"!==e)throw new Error("getPrimarySsrc doesn\'t work with \'".concat(e,"\'"));if(1===Ho(this.mLine))return this.mLine.ssrcs[0].id;if(this.mLine.ssrcGroups){var _e143=this.findGroup("SIM");if(_e143)return Jo(_e143);var _t95=this.findGroup("FID");if(_t95)return Jo(_t95);var _n71=this.findGroup("FEC-FR");if(_n71)return Jo(_n71);}}},{key:"getRtxSSRC",value:function getRtxSSRC(e){var t=this.findGroupByPrimarySSRC("FID",e);return t&&Vo(t);}},{key:"getSSRCs",value:function getSSRCs(){return this.ssrcs.map(function(e){return e.id;}).filter(function(e,t,n){return n.indexOf(e)===t;});}},{key:"getPrimaryVideoSSRCs",value:function getPrimaryVideoSSRCs(){var e=this.mLine.type;if("video"!==e)throw new Error("getPrimaryVideoSSRCs doesn\'t work with ".concat(e));var t=this.getSSRCs();var _iterator40=_createForOfIteratorHelper(this.ssrcGroups),_step40;try{for(_iterator40.s();!(_step40=_iterator40.n()).done;){var _e144=_step40.value;if("FID"===_e144.semantics||"FEC-FR"===_e144.semantics){var _n72=Vo(_e144);t.splice(t.indexOf(_n72),1);}}}catch(err){_iterator40.e(err);}finally{_iterator40.f();}return t;}},{key:"dumpSSRCGroups",value:function dumpSSRCGroups(){return JSON.stringify(this.mLine.ssrcGroups);}},{key:"removeGroupsWithSSRC",value:function removeGroupsWithSSRC(e){this.mLine.ssrcGroups&&(this.mLine.ssrcGroups=this.mLine.ssrcGroups.filter(function(t){return-1===t.ssrcs.indexOf("".concat(e));}));}},{key:"removeGroupsBySemantics",value:function removeGroupsBySemantics(e){this.mLine.ssrcGroups&&(this.mLine.ssrcGroups=this.mLine.ssrcGroups.filter(function(t){return t.semantics!==e;}));}},{key:"replaceSSRC",value:function replaceSSRC(e,t){this.mLine.ssrcs&&this.mLine.ssrcs.forEach(function(n){n.id===e&&(n.id=t);});}},{key:"addSSRCGroup",value:function addSSRCGroup(e){this.ssrcGroups.push(e);}}]);return Go;}();var qo=/*#__PURE__*/function(){function qo(e){_classCallCheck(this,qo);this.parsedSDP=xo.parse(e);}_createClass(qo,[{key:"selectMedia",value:function selectMedia(e){var t=this.parsedSDP.media.find(function(t){return t.type===e;});return t?new Go(t):null;}},{key:"toRawSDP",value:function toRawSDP(){return xo.write(this.parsedSDP);}}]);return qo;}();var Ko=(0,g.getLogger)("modules/sdp/LocalSdpMunger.js");var zo=/*#__PURE__*/function(){function zo(e,t){_classCallCheck(this,zo);this.tpc=e,this.localEndpointId=t;}_createClass(zo,[{key:"_addMutedLocalVideoTracksToSDP",value:function _addMutedLocalVideoTracksToSDP(e){var t=this.tpc.getLocalTracks(wn);if(!t.length)return!1;1!==t.length&&Ko.error("".concat(this.tpc," there is more than 1 video track ! Strange things may happen !"),t);var n=e.selectMedia("video");if(!n)return Ko.debug("".concat(this.tpc," unable to hack local video track SDP- no \\"video\\" media")),!1;var i=!1;var _iterator41=_createForOfIteratorHelper(t),_step41;try{for(_iterator41.s();!(_step41=_iterator41.n()).done;){var _e145=_step41.value;var _t96=_e145.isMuted(),_s33=_e145.getOriginalStream(),_r16=_e145.videoType===Hn().CAMERA,_o12=_s33&&this.tpc.isMediaStreamInPc(_s33);if(!_r16||!_t96&&_o12)continue;var _a6=this.tpc.isSimulcastOn()?this.tpc.simulcast.ssrcCache:[this.tpc.sdpConsistency.cachedPrimarySsrc];if(!_a6.length){Ko.error("No SSRCs stored for: ".concat(_e145," in ").concat(this.tpc));continue;}i=!0,n.direction=Zs().SENDRECV;var _c4="injected-".concat(_a6[0]);var _iterator42=_createForOfIteratorHelper(_a6),_step42;try{for(_iterator42.s();!(_step42=_iterator42.n()).done;){var _t97=_step42.value;n.removeSSRC(_t97),n.addSSRCAttribute({id:_t97,attribute:"cname",value:_c4}),n.addSSRCAttribute({id:_t97,attribute:"msid",value:_e145.storedMSID});}}catch(err){_iterator42.e(err);}finally{_iterator42.f();}if(_a6.length>1){var _e146={ssrcs:_a6.join(" "),semantics:"SIM"};n.findGroup(_e146.semantics,_e146.ssrcs)||n.addSSRCGroup(_e146);}this.tpc.options.disableRtx||this.tpc.rtxModifier.modifyRtxSsrcs2(n);}}catch(err){_iterator41.e(err);}finally{_iterator41.f();}return i;}},{key:"_generateMsidAttribute",value:function _generateMsidAttribute(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e||!t)return Ko.warn("Unable to munge local MSID - track id=".concat(t," or media type=").concat(e," is missing")),null;var i=this.tpc.id;return"-"!==n&&n?"".concat(n,"-").concat(i," ").concat(t,"-").concat(i):"".concat(this.localEndpointId,"-").concat(e,"-").concat(i," ").concat(t,"-").concat(i);}},{key:"_transformMediaIdentifiers",value:function _transformMediaIdentifiers(e){var _this121=this;var t;var n=this.tpc.id;var _iterator43=_createForOfIteratorHelper(e.ssrcs),_step43;try{for(_iterator43.s();!(_step43=_iterator43.n()).done;){var _t99=_step43.value;switch(_t99.attribute){case"cname":case"label":case"mslabel":_t99.value=_t99.value&&"".concat(_t99.value,"-").concat(n);break;case"msid":if(_t99.value){var _n74=_t99.value.split(" ");var i;2===_n74.length?_t99.value=this._generateMsidAttribute(null===(i=e.mLine)||void 0===i?void 0:i.type,_n74[1],_n74[0]):Ko.warn("Unable to munge local MSID - weird format detected: ".concat(_t99.value));}}}}catch(err){_iterator43.e(err);}finally{_iterator43.f();}if(!this.tpc.usesUnifiedPlan())return;var s=null===(t=e.mLine)||void 0===t?void 0:t.direction;if(s===Zs().RECVONLY||s===Zs().INACTIVE)e.ssrcs=void 0,e.ssrcGroups=void 0;else{var r,o,a;var _t98=null===(r=e.mLine)||void 0===r?void 0:r.msid,_n73=_t98&&_t98.split(" ")[1],_i64=_toConsumableArray(new Set(null===(o=e.mLine)||void 0===o||null===(a=o.ssrcs)||void 0===a?void 0:a.map(function(e){return e.id;})));var _iterator44=_createForOfIteratorHelper(_i64),_step44;try{var _loop8=function _loop8(){var t=_step44.value;if(!e.ssrcs.find(function(e){return e.id===t&&"msid"===e.attribute;})){var _i65=_this121._generateMsidAttribute(null===(c=e.mLine)||void 0===c?void 0:c.type,_n73);e.ssrcs.push({id:t,attribute:"msid",value:_i65});}};for(_iterator44.s();!(_step44=_iterator44.n()).done;){var c;_loop8();}}catch(err){_iterator44.e(err);}finally{_iterator44.f();}}}},{key:"maybeAddMutedLocalVideoTracksToSDP",value:function maybeAddMutedLocalVideoTracksToSDP(e){if(!e)throw new Error("No local description passed in.");var t=new qo(e.sdp);return this._addMutedLocalVideoTracksToSDP(t)?new RTCSessionDescription({type:e.type,sdp:t.toRawSDP()}):e;}},{key:"transformStreamIdentifiers",value:function transformStreamIdentifiers(e){if(!e||!e.sdp||!e.type)return e;var t=new qo(e.sdp),n=t.selectMedia("audio");n&&(this._transformMediaIdentifiers(n),this._injectSourceNames(n));var i=t.selectMedia("video");return i&&(this._transformMediaIdentifiers(i),this._injectSourceNames(i)),new RTCSessionDescription({type:e.type,sdp:t.toRawSDP()});}},{key:"_injectSourceNames",value:function _injectSourceNames(e){var _this122=this;var t,n,i;if(!Hs.isSourceNameSignalingEnabled())return;var s=_toConsumableArray(new Set(null===(t=e.mLine)||void 0===t||null===(n=t.ssrcs)||void 0===n?void 0:n.map(function(e){return e.id;}))),r=null===(i=e.mLine)||void 0===i?void 0:i.type;if(!r)throw new Error("_transformMediaIdentifiers - no media type in mediaSection");var _iterator45=_createForOfIteratorHelper(s),_step45;try{var _loop9=function _loop9(){var t=_step45.value;e.ssrcs.find(function(e){return e.id===t&&"name"===e.attribute;})||e.ssrcs.push({id:t,attribute:"name",value:$o(_this122.localEndpointId,r,0)});};for(_iterator45.s();!(_step45=_iterator45.n()).done;){_loop9();}}catch(err){_iterator45.e(err);}finally{_iterator45.f();}}}]);return zo;}();var Wo=(0,g.getLogger)("modules/sdp/RtxModifier.js");function Qo(e,t,n){var i=t.id,s=t.msid,r=t.cname,o=e.getRtxSSRC(i);o!==n&&(o&&(e.removeSSRC(o),e.removeGroupsWithSSRC(o)),e.addSSRCAttribute({id:n,attribute:"cname",value:r}),e.addSSRCAttribute({id:n,attribute:"msid",value:s}),e.addSSRCGroup({semantics:"FID",ssrcs:"".concat(i," ").concat(n)}));}var Xo=/*#__PURE__*/function(){function Xo(){_classCallCheck(this,Xo);this.correspondingRtxSsrcs=new Map();}_createClass(Xo,[{key:"clearSsrcCache",value:function clearSsrcCache(){this.correspondingRtxSsrcs.clear();}},{key:"setSsrcCache",value:function setSsrcCache(e){Wo.debug("Setting ssrc cache to ",e),this.correspondingRtxSsrcs=e;}},{key:"modifyRtxSsrcs",value:function modifyRtxSsrcs(e){var t=new qo(e),n=t.selectMedia("video");return n?this.modifyRtxSsrcs2(n)?t.toRawSDP():e:(Wo.debug("No \'video\' media found in the sdp: ".concat(e)),e);}},{key:"modifyRtxSsrcs2",value:function modifyRtxSsrcs2(e){if("recvonly"===e.direction)return!1;if(e.getSSRCCount()<1)return!1;var t=e.getPrimaryVideoSSRCs();var _iterator46=_createForOfIteratorHelper(t),_step46;try{for(_iterator46.s();!(_step46=_iterator46.n()).done;){var _n75=_step46.value;var _t100=e.getSSRCAttrValue(_n75,"msid"),_i66=e.getSSRCAttrValue(_n75,"cname");var _s34=this.correspondingRtxSsrcs.get(_n75);if(!_s34){_s34=e.getRtxSSRC(_n75)||rr.generateSsrc(),this.correspondingRtxSsrcs.set(_n75,_s34);}Qo(e,{id:_n75,cname:_i66,msid:_t100},_s34);}}catch(err){_iterator46.e(err);}finally{_iterator46.f();}return!0;}},{key:"stripRtx",value:function stripRtx(e){var t=new qo(e),n=t.selectMedia("video");if(!n)return Wo.debug("No \'video\' media found in the sdp: ".concat(e)),e;if("recvonly"===n.direction)return Wo.debug("RtxModifier doing nothing, video m line is recvonly"),e;if(n.getSSRCCount()<1)return Wo.debug("RtxModifier doing nothing, no video ssrcs present"),e;if(!n.containsAnySSRCGroups())return Wo.debug("RtxModifier doing nothing, no video ssrcGroups present"),e;var i=n.findGroups("FID");n.removeGroupsBySemantics("FID");var _iterator47=_createForOfIteratorHelper(i),_step47;try{for(_iterator47.s();!(_step47=_iterator47.n()).done;){var _e147=_step47.value;var _t101=Vo(_e147);n.removeSSRC(_t101);}}catch(err){_iterator47.e(err);}finally{_iterator47.f();}return t.toRawSDP();}}]);return Xo;}();var Yo=(0,g.getLogger)("modules/sdp/SdpConsistency.js");var Zo=/*#__PURE__*/function(){function Zo(e){_classCallCheck(this,Zo);this.clearVideoSsrcCache(),this.logPrefix=e;}_createClass(Zo,[{key:"clearVideoSsrcCache",value:function clearVideoSsrcCache(){this.cachedPrimarySsrc=null,this.injectRecvOnly=!1;}},{key:"setPrimarySsrc",value:function setPrimarySsrc(e){if("number"!=typeof e)throw new Error("Primary SSRC must be a number!");this.cachedPrimarySsrc=e;}},{key:"hasPrimarySsrcCached",value:function hasPrimarySsrcCached(){return Boolean(this.cachedPrimarySsrc);}},{key:"makeVideoPrimarySsrcsConsistent",value:function makeVideoPrimarySsrcsConsistent(e){var t=new qo(e),n=t.selectMedia("video");if(!n)return Yo.debug("".concat(this.logPrefix," no \'video\' media found in the sdp: ").concat(e)),e;if("recvonly"===n.direction)this.cachedPrimarySsrc&&this.injectRecvOnly?n.addSSRCAttribute({id:this.cachedPrimarySsrc,attribute:"cname",value:"recvonly-".concat(this.cachedPrimarySsrc)}):Yo.info("".concat(this.logPrefix," no SSRC found for the recvonly video stream!"));else{var _t102=n.getPrimaryVideoSsrc();if(!_t102)return Yo.info("".concat(this.logPrefix," sdp-consistency couldn\'t parse new primary ssrc")),e;if(this.cachedPrimarySsrc){n.replaceSSRC(_t102,this.cachedPrimarySsrc);var _iterator48=_createForOfIteratorHelper(n.ssrcGroups),_step48;try{for(_iterator48.s();!(_step48=_iterator48.n()).done;){var _e148=_step48.value;if("FID"===_e148.semantics){var _n76=Jo(_e148),_i67=Vo(_e148);_n76===_t102&&(_e148.ssrcs="".concat(this.cachedPrimarySsrc," ").concat(_i67));}}}catch(err){_iterator48.e(err);}finally{_iterator48.f();}}else this.cachedPrimarySsrc=_t102;this.injectRecvOnly=!0;}return t.toRawSDP();}}]);return Zo;}();var ea=n(9077).getLogger("modules/RTC/JitsiRemoteTrack.js"),ta=n(1645);var na=!1,ia=!1;var sa=["abort","canplaythrough","ended","error"];var ra=/*#__PURE__*/function(_bo2){_inherits(ra,_bo2);var _super25=_createSuper(ra);function ra(e,t,n,i,s,r,o,a,c,d,l){var _this123;_classCallCheck(this,ra);if(_this123=_super25.call(this,t,i,s,function(){},r,o),_this123.rtc=e,"number"!=typeof a)throw new TypeError("SSRC ".concat(a," is not a number"));_this123.ssrc=a,_this123.ownerEndpointId=n,_this123.muted=c,_this123.isP2P=d,_this123._sourceName=l,ea.debug("New remote track added: ".concat(_assertThisInitialized(_this123))),_this123.hasBeenMuted=c,_this123.rtc&&_this123.track&&_this123._bindTrackHandlers(),_this123._containerHandlers={},sa.forEach(function(e){_this123._containerHandlers[e]=_this123._containerEventHandler.bind(_assertThisInitialized(_this123),e);});return _possibleConstructorReturn(_this123);}_createClass(ra,[{key:"_bindTrackHandlers",value:function _bindTrackHandlers(){var _this124=this;this.track.addEventListener("mute",function(){return _this124._onTrackMute();}),this.track.addEventListener("unmute",function(){return _this124._onTrackUnmute();}),this.track.addEventListener("ended",function(){ea.debug("\\"onended\\" event(".concat(Date.now(),"): ").concat(_this124));});}},{key:"_onTrackMute",value:function _onTrackMute(){ea.debug("\\"onmute\\" event(".concat(Date.now(),"): ").concat(this)),this.rtc.eventEmitter.emit(ta.REMOTE_TRACK_MUTE,this);}},{key:"_onTrackUnmute",value:function _onTrackUnmute(){ea.debug("\\"onunmute\\" event(".concat(Date.now(),"): ").concat(this)),this.rtc.eventEmitter.emit(ta.REMOTE_TRACK_UNMUTE,this);}},{key:"setMute",value:function setMute(e){this.muted!==e&&(e&&(this.hasBeenMuted=!0),this.stream&&(this.stream.muted=e),this.muted=e,this.emit(ei,this));}},{key:"isMuted",value:function isMuted(){return this.muted;}},{key:"getParticipantId",value:function getParticipantId(){return this.ownerEndpointId;}},{key:"isLocal",value:function isLocal(){return!1;}},{key:"getSSRC",value:function getSSRC(){return this.ssrc;}},{key:"getSourceName",value:function getSourceName(){return this._sourceName;}},{key:"_setVideoType",value:function _setVideoType(e){this.videoType!==e&&(this.videoType=e,this.emit(ti,e));}},{key:"_playCallback",value:function _playCallback(){var e=this.isVideoTrack()?"video":"audio",t=window.performance.now();console.log("(TIME) Render ".concat(e,":\\t"),t),this.conference.getConnectionTimes()["".concat(e,".render")]=t;var n=window.connectionTimes["obtainPermissions.start"],i=window.connectionTimes["obtainPermissions.end"],s=isNaN(i)||isNaN(n)?0:i-n,r=t-(this.conference.getConnectionTimes()["session.initiate"]-this.conference.getConnectionTimes()["muc.joined"])-s;var o;this.conference.getConnectionTimes()["".concat(e,".ttfm")]=r,console.log("(TIME) TTFM ".concat(e,":\\t"),r),jn.sendAnalytics((o={media_type:e,muted:this.hasBeenMuted,value:r},It("ttfm",o)));}},{key:"_attachTTFMTracker",value:function _attachTTFMTracker(e){na&&this.isAudioTrack()||ia&&this.isVideoTrack()||(this.isAudioTrack()&&(na=!0),this.isVideoTrack()&&(ia=!0),e.addEventListener("canplay",this._playCallback.bind(this)));}},{key:"_onTrackAttach",value:function _onTrackAttach(e){var _this125=this;sa.forEach(function(t){e.addEventListener(t,_this125._containerHandlers[t]);});}},{key:"_onTrackDetach",value:function _onTrackDetach(e){var _this126=this;sa.forEach(function(t){e.removeEventListener(t,_this126._containerHandlers[t]);});}},{key:"_containerEventHandler",value:function _containerEventHandler(e){ea.debug("".concat(e," handler was called for a container with attached ").concat(this));}},{key:"_getStatus",value:function _getStatus(){var _this$track=this.track,e=_this$track.enabled,t=_this$track.muted,n=_this$track.readyState;return"readyState: ".concat(n,", muted: ").concat(t,", enabled: ").concat(e);}},{key:"toString",value:function toString(){return"RemoteTrack[userID: ".concat(this.getParticipantId(),", type: ").concat(this.getType(),", ssrc: ").concat(this.getSSRC(),", p2p: ").concat(this.isP2P,", sourceName: ").concat(this._sourceName,", status: ").concat(this._getStatus(),"]");}}]);return ra;}(bo);var oa=(0,g.getLogger)("modules/RTC/TPCUtils.js"),aa=25e5,ca=["1","2","3"];var da=/*#__PURE__*/function(){function da(e){_classCallCheck(this,da);var t,n,i;this.pc=e;var s=null===(t=this.pc.options)||void 0===t||null===(n=t.videoQuality)||void 0===n?void 0:n.maxBitratesVideo,r={low:2e5,standard:7e5,high:aa};this.videoBitrates=null!=s?s:r;var o=null!==(i=this.videoBitrates.VP8)&&void 0!==i?i:this.videoBitrates;this.localStreamEncodingsConfig=[{active:!0,maxBitrate:nn.isFirefox()?o.high:o.low,rid:"1",scaleResolutionDownBy:nn.isFirefox()?1:4},{active:!0,maxBitrate:o.standard,rid:"2",scaleResolutionDownBy:2},{active:!0,maxBitrate:nn.isFirefox()?o.low:o.high,rid:"3",scaleResolutionDownBy:nn.isFirefox()?4:1}];}_createClass(da,[{key:"_getStreamEncodings",value:function _getStreamEncodings(e){return this.pc.isSimulcastOn()&&e.isVideoTrack()?this.localStreamEncodingsConfig:e.isVideoTrack()?[{active:!0,maxBitrate:this.videoBitrates.high}]:[{active:!0}];}},{key:"ensureCorrectOrderOfSsrcs",value:function ensureCorrectOrderOfSsrcs(e){var t=xo.parse(e.sdp);return t.media.forEach(function(e){if(e.type===Rn)return;if(!e.ssrcGroups||!e.ssrcGroups.length)return;var t=[];var n=new Set();e.ssrcGroups.map(function(e){return e.ssrcs.split(" ").filter(Boolean).forEach(function(e){return n.add(e);});}),n.forEach(function(n){var i=e.ssrcs.filter(function(e){return e.id.toString()===n;});t=t.concat(i);}),e.ssrcs=t;}),new RTCSessionDescription({type:e.type,sdp:xo.write(t)});}},{key:"findTransceiver",value:function findTransceiver(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=t&&t.track&&t.getOriginalStream()?this.pc.peerconnection.getTransceivers().find(function(e){var n,i;return(null===(n=e.sender)||void 0===n||null===(i=n.track)||void 0===i?void 0:i.id)===t.getTrackId();}):this.pc.peerconnection.getTransceivers().find(function(t){var n,i;return(null===(n=t.receiver)||void 0===n||null===(i=n.track)||void 0===i?void 0:i.kind)===e;});}},{key:"insertUnifiedPlanSimulcastReceive",value:function insertUnifiedPlanSimulcastReceive(e){if(nn.usesSdpMungingForSimulcast())return e;var t=xo.parse(e.sdp),n=t.media.findIndex(function(e){return e.type===wn;});if(t.media[n].rids&&(t.media[n].simulcast_03||t.media[n].simulcast))return t.media.forEach(function(e,i){e.type===wn&&i!==n&&(t.media[i].rids=void 0,t.media[i].simulcast=void 0,t.media[i].simulcast_03=void 0);}),new RTCSessionDescription({type:e.type,sdp:xo.write(t)});t.media[n].rids=[{id:"1",direction:"recv"},{id:"2",direction:"recv"},{id:"3",direction:"recv"}];var i=nn.isFirefox()&&nn.isVersionGreaterThan(71)?"recv ".concat(ca.join(";")):"recv rid=".concat(ca.join(";"));return t.media[n].simulcast_03={value:i},new RTCSessionDescription({type:e.type,sdp:xo.write(t)});}},{key:"addTrack",value:function addTrack(e,t){var n=e.getTrack();if(t){var _t103={direction:Zs().SENDRECV,streams:[e.getOriginalStream()],sendEncodings:[]};nn.isFirefox()||(_t103.sendEncodings=this._getStreamEncodings(e)),this.pc.peerconnection.addTransceiver(n,_t103);}else this.pc.peerconnection.addTrack(n);}},{key:"calculateEncodingsActiveState",value:function calculateEncodingsActiveState(e,t){var _this127=this;var n=e.getTrack(),_n$getSettings=n.getSettings(),i=_n$getSettings.height;return this.localStreamEncodingsConfig.map(function(e){return i/e.scaleResolutionDownBy;}).map(function(n,i){var s;var r=e.getVideoType()!==Hn().CAMERA||t>0&&4===(null===(s=_this127.localStreamEncodingsConfig[i])||void 0===s?void 0:s.scaleResolutionDownBy)||n<=t;return _this127.pc.isSharingLowFpsScreen()&&_this127.pc.usesUnifiedPlan()&&!nn.isWebKitBased()&&1!==_this127.localStreamEncodingsConfig[i].scaleResolutionDownBy&&(r=!1),r;});}},{key:"calculateEncodingsBitrates",value:function calculateEncodingsBitrates(e){var _this128=this;var t,n;var i=e.getVideoType(),s=(null===(t=this.pc.options)||void 0===t||null===(n=t.videoQuality)||void 0===n?void 0:n.desktopBitrate)||5e5,r=e._originalStream&&e._originalStream.id!==e.getStreamId();return this.localStreamEncodingsConfig.map(function(e){return _this128.pc.isSharingLowFpsScreen()&&!nn.isWebKitBased()?r?aa:s:i===Hn().DESKTOP&&nn.isChromiumBased()&&!_this128.pc.usesUnifiedPlan()?void 0:e.maxBitrate;});}},{key:"replaceTrack",value:function replaceTrack(e,t){var n,i;var s=null!==(n=null==t?void 0:t.getType())&&void 0!==n?n:null==e?void 0:e.getType(),r=this.findTransceiver(s,e),o=null!==(i=null==t?void 0:t.getTrack())&&void 0!==i?i:null;return r?(oa.debug("".concat(this.pc," Replacing ").concat(e," with ").concat(t)),r.sender.replaceTrack(o)):Promise.reject(new Error("replace track failed"));}},{key:"setAudioTransferActive",value:function setAudioTransferActive(e){this.setMediaTransferActive(Rn,e);}},{key:"setEncodings",value:function setEncodings(e){var t,n;var i=e.getType(),s=this.findTransceiver(i,e),r=null==s||null===(t=s.sender)||void 0===t?void 0:t.getParameters();return null!=r&&null!==(n=r.encodings)&&void 0!==n&&n.length?(r.encodings=this._getStreamEncodings(e),s.sender.setParameters(r)):Promise.resolve();}},{key:"setMediaTransferActive",value:function setMediaTransferActive(e,t){var n=this.pc.peerconnection.getTransceivers().filter(function(t){return t.receiver&&t.receiver.track&&t.receiver.track.kind===e;}),i=this.pc.getLocalTracks(e);oa.info("".concat(this.pc," ").concat(t?"Enabling":"Suspending"," ").concat(e," media transfer.")),n.forEach(function(e,n){t?0===n&&i.length?e.direction=Zs().SENDRECV:e.direction=Zs().RECVONLY:e.direction=Zs().INACTIVE;});}},{key:"setVideoTransferActive",value:function setVideoTransferActive(e){this.setMediaTransferActive(wn,e);}},{key:"updateEncodingsResolution",value:function updateEncodingsResolution(e){var _this129=this;var t;nn.isWebKitBased()&&e.encodings&&Array.isArray(e.encodings)&&(t=e.encodings).every(function(e){return void 0!==e.scaleResolutionDownBy&&e.scaleResolutionDownBy===t[0].scaleResolutionDownBy;})&&e.encodings.forEach(function(e,t){e.scaleResolutionDownBy=_this129.localStreamEncodingsConfig[t].scaleResolutionDownBy;});}}]);return da;}();var la=(0,g.getLogger)("modules/RTC/TraceablePeerConnection.js");function ha(e,t,i,s,r,o,a){var _this130=this;this.audioTransferActive=!(!0===a.startSilent),this._dtmfSender=void 0,this._dtmfTonesQueue=[],this.videoTransferActive=!0,this.rtc=e,this.id=t,this.isP2P=o,this.remoteTracks=new Map(),this.localTracks=new Map(),this._addedStreams=[],this.localSSRCs=new Map(),this.localUfrag=null,this.remoteUfrag=null,this._dtlsTransport=null,this.signalingLayer=i,this._peerVideoTypeChanged=this._peerVideoTypeChanged.bind(this),this.signalingLayer.on(jo,this._peerVideoTypeChanged),this._peerMutedChanged=this._peerMutedChanged.bind(this),this.signalingLayer.on(Fo,this._peerMutedChanged),this.options=a;var c=r||{};c.optional=c.optional||[],Array.isArray(c.optional)?c.optional.push({rtcStatsSFUP2P:this.isP2P}):la.warn("Optional param is not an array, rtcstats p2p data is omitted."),this.peerconnection=new yo.RTCPeerConnectionType(s,c),this.tpcUtils=new da(this),this.updateLog=[],this.stats={},this.statsinterval=null,this._capScreenshareBitrate=this.options.capScreenshareBitrate,this._usesUnifiedPlan=a.usesUnifiedPlan,this._usesTransceiverCodecPreferences=nn.supportsCodecPreferences()&&this._usesUnifiedPlan,this._usesTransceiverCodecPreferences&&la.info("Using RTCRtpTransceiver#setCodecPreferences for codec selection"),this.maxstats=a.maxstats,this.interop=new Lo();var d=n(2636);this.simulcast=new d({numOfLayers:ca.length,explodeRemoteSimulcast:!1,usesUnifiedPlan:this._usesUnifiedPlan}),this.sdpConsistency=new Zo(this.toString()),this.localSdpMunger=new zo(this,this.rtc.getLocalEndpointId()),this.eventEmitter=e.eventEmitter,this.rtxModifier=new Xo(),this._senderVideoMaxHeight=2160,this.trace=function(e,t){la.debug(e,t),_this130.updateLog.push({time:new Date(),type:e,value:t||""});},this.onicecandidate=null,this.peerconnection.onicecandidate=function(e){_this130.trace("onicecandidate",JSON.stringify(e.candidate,null," ")),null!==_this130.onicecandidate&&_this130.onicecandidate(e);},this._usesUnifiedPlan?(this.onTrack=function(e){var t=e.streams[0];_this130._remoteTrackAdded(t,e.track,e.transceiver),t.addEventListener("removetrack",function(e){_this130._remoteTrackRemoved(t,e.track);});},this.peerconnection.addEventListener("track",this.onTrack)):(this.peerconnection.onaddstream=function(e){return _this130._remoteStreamAdded(e.stream);},this.peerconnection.onremovestream=function(e){return _this130._remoteStreamRemoved(e.stream);}),this.onsignalingstatechange=null,this.peerconnection.onsignalingstatechange=function(e){_this130.trace("onsignalingstatechange",_this130.signalingState),null!==_this130.onsignalingstatechange&&_this130.onsignalingstatechange(e);},this.oniceconnectionstatechange=null,this.peerconnection.oniceconnectionstatechange=function(e){_this130.trace("oniceconnectionstatechange",_this130.iceConnectionState),null!==_this130.oniceconnectionstatechange&&_this130.oniceconnectionstatechange(e);},this.onnegotiationneeded=null,this.peerconnection.onnegotiationneeded=function(e){_this130.trace("onnegotiationneeded"),null!==_this130.onnegotiationneeded&&_this130.onnegotiationneeded(e);},this.onconnectionstatechange=null,this.peerconnection.onconnectionstatechange=function(e){_this130.trace("onconnectionstatechange",_this130.connectionState),null!==_this130.onconnectionstatechange&&_this130.onconnectionstatechange(e);},this.ondatachannel=null,this.peerconnection.ondatachannel=function(e){_this130.trace("ondatachannel"),null!==_this130.ondatachannel&&_this130.ondatachannel(e);},this.maxstats&&(this.statsinterval=window.setInterval(function(){_this130.getStats().then(function(e){if("function"==typeof(null==e?void 0:e.result)){var _t104=e.result();var _loop10=function _loop10(){var n=_t104[_e149];n.names().forEach(function(e){_this130._processStat(n,e,n.stat(e));});};for(var _e149=0;_e149<_t104.length;++_e149){_loop10();}}else e.forEach(function(e){return _this130._processStat(e,"",e);});});},1e3)),la.info("Create new ".concat(this));}ha.prototype._processStat=function(e,t,n){var i="".concat(e.id,"-").concat(t);var s=this.stats[i];var r=new Date();s||(this.stats[i]=s={startTime:r,endTime:r,values:[],times:[]}),s.values.push(n),s.times.push(r.getTime()),s.values.length>this.maxstats&&(s.values.shift(),s.times.shift()),s.endTime=r;};var ua=function ua(e){return null==e?"":"type: ".concat(e.type,"\\r\\n").concat(e.sdp);};ha.prototype.getConnectionState=function(){var e=this.peerconnection.iceConnectionState;return"completed"===e?"connected":e;},ha.prototype.getDesiredMediaDirection=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n=this.hasAnyTracksOfType(e);if(this._usesUnifiedPlan)return t?n?Zs().SENDRECV:Zs().SENDONLY:n?Zs().RECVONLY:Zs().INACTIVE;var i=e===Rn?this.audioTransferActive:this.videoTransferActive;return i?n?Zs().SENDRECV:Zs().RECVONLY:Zs().INACTIVE;},ha.prototype._getReceiversByEndpointIds=function(e,t){var n=[],i=[];var _iterator49=_createForOfIteratorHelper(e),_step49;try{for(_iterator49.s();!(_step49=_iterator49.n()).done;){var _i68=_step49.value;n=n.concat(this.getRemoteTracks(_i68,t));}}catch(err){_iterator49.e(err);}finally{_iterator49.f();}var s=n.map(function(e){var t;return null===(t=e.track)||void 0===t?void 0:t.id;});return i=this.peerconnection.getReceivers().filter(function(e){return e.track&&e.track.kind===t&&s.find(function(t){return t===e.track.id;});}),i;},ha.prototype.isSimulcastOn=function(){return!this.options.disableSimulcast;},ha.prototype._peerVideoTypeChanged=function(e,t){if(!e)return void la.error("".concat(this," No endpointID on peerVideoTypeChanged"));var n=this.getRemoteTracks(e,wn);n.length&&n[0]._setVideoType(t);},ha.prototype._peerMutedChanged=function(e,t,n){if(!e)return void la.error("".concat(this," On peerMuteChanged - no endpoint ID"));var i=this.getRemoteTracks(e,t);i.length&&i[0].setMute(n);},ha.prototype.getAudioLevels=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var t={},n=e.length?this._getReceiversByEndpointIds(e,Rn):this.peerconnection.getReceivers().filter(function(e){return e.track&&e.track.kind===Rn&&e.track.enabled;});return n.forEach(function(e){var n=e.getSynchronizationSources();n&&n.length&&(t[n[0].source]=n[0].audioLevel);}),t;},ha.prototype.getLocalTracks=function(e){var t=Array.from(this.localTracks.values());return void 0!==e&&(t=t.filter(function(t){return t.getType()===e;})),t;},ha.prototype.getLocalVideoTrack=function(){return this.getLocalTracks(wn)[0];},ha.prototype.hasAnyTracksOfType=function(e){if(!e)throw new Error(\'"mediaType" is required\');return this.getLocalTracks(e).length>0;},ha.prototype.getRemoteTracks=function(e,t){var n=[],i=e?[e]:this.remoteTracks.keys();var _iterator50=_createForOfIteratorHelper(i),_step50;try{for(_iterator50.s();!(_step50=_iterator50.n()).done;){var _e150=_step50.value;var _i69=this.remoteTracks.get(_e150);if(_i69){var _iterator51=_createForOfIteratorHelper(_i69.keys()),_step51;try{for(_iterator51.s();!(_step51=_iterator51.n()).done;){var _e151=_step51.value;if(!t||t===_e151){var _t105=_i69.get(_e151);_t105&&n.push(_t105);}}}catch(err){_iterator51.e(err);}finally{_iterator51.f();}}}}catch(err){_iterator50.e(err);}finally{_iterator50.f();}return n;},ha.prototype.getRemoteSourceInfoByParticipant=function(e){var t=[],n=this.getRemoteTracks(e);if(null==n||!n.length)return t;var i=n.map(function(e){return e.getSSRC();}),s=new or(this.remoteDescription.sdp);return i.forEach(function(e,n){var _iterator52=_createForOfIteratorHelper(s.media),_step52;try{for(_iterator52.s();!(_step52=_iterator52.n()).done;){var _i70=_step52.value;var _s35="",_r17=rr.findLines(_i70,"a=ssrc:".concat(e));if(_r17.length){t[n]||(t[n]="");var _o13=rr.findLines(_i70,"a=ssrc-group:FID ".concat(e));if(_o13.length){var _e152=_o13[0].split(" ")[2];_s35+="".concat(_o13[0],"\\r\\n"),_r17=_r17.concat(rr.findLines(_i70,"a=ssrc:".concat(_e152)));}t[n]+="".concat(_r17.join("\\r\\n"),"\\r\\n"),t[n]+=_s35;}}}catch(err){_iterator52.e(err);}finally{_iterator52.f();}}),t;},ha.prototype.getTargetVideoBitrates=function(){var e=this.getConfiguredVideoCodec();return this.tpcUtils.videoBitrates[e.toUpperCase()]||this.tpcUtils.videoBitrates;},ha.prototype.getTrackBySSRC=function(e){if("number"!=typeof e)throw new Error("SSRC ".concat(e," is not a number"));var _iterator53=_createForOfIteratorHelper(this.localTracks.values()),_step53;try{for(_iterator53.s();!(_step53=_iterator53.n()).done;){var _t106=_step53.value;if(this.getLocalSSRC(_t106)===e)return _t106;}}catch(err){_iterator53.e(err);}finally{_iterator53.f();}var _iterator54=_createForOfIteratorHelper(this.getRemoteTracks()),_step54;try{for(_iterator54.s();!(_step54=_iterator54.n()).done;){var _t107=_step54.value;if(_t107.getSSRC()===e)return _t107;}}catch(err){_iterator54.e(err);}finally{_iterator54.f();}return null;},ha.prototype.getSsrcByTrackId=function(e){var t=function t(_t108){return _t108.getTrack().id===e;},n=this.getLocalTracks().find(t);if(n)return this.getLocalSSRC(n);var i=this.getRemoteTracks().find(t);return i?i.getSSRC():null;},ha.prototype._remoteStreamAdded=function(e){var _this131=this;var t=va.getStreamID(e);if(!va.isUserStreamById(t))return void la.info("".concat(this," ignored remote \'stream added\' event for non-user stream[id=").concat(t,"]"));nn.isChromiumBased()&&(e.onaddtrack=function(t){_this131._remoteTrackAdded(e,t.track);},e.onremovetrack=function(t){_this131._remoteTrackRemoved(e,t.track);});var n=e.getAudioTracks();var _iterator55=_createForOfIteratorHelper(n),_step55;try{for(_iterator55.s();!(_step55=_iterator55.n()).done;){var _t109=_step55.value;this._remoteTrackAdded(e,_t109);}}catch(err){_iterator55.e(err);}finally{_iterator55.f();}var i=e.getVideoTracks();var _iterator56=_createForOfIteratorHelper(i),_step56;try{for(_iterator56.s();!(_step56=_iterator56.n()).done;){var _t110=_step56.value;this._remoteTrackAdded(e,_t110);}}catch(err){_iterator56.e(err);}finally{_iterator56.f();}},ha.prototype._remoteTrackAdded=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;var i=va.getStreamID(e),s=t.kind;if(!this.isP2P&&!va.isUserStreamById(i))return void la.info("".concat(this," ignored remote \'stream added\' event for non-user stream[id=").concat(i,"]"));if(la.info("".concat(this," adding remote track for stream[id=").concat(i,",type=").concat(s,"]")),!s)return void cn.callErrorHandler(new Error("MediaType undefined for remote track, stream id: ".concat(i)));var r=this._usesUnifiedPlan?new or(this.peerconnection.remoteDescription.sdp):new or(this.remoteDescription.sdp);var o;if(this._usesUnifiedPlan){if(n&&n.mid){var _e153=n.mid;o=r.media.filter(function(t){return rr.findLine(t,"a=mid:".concat(_e153));});}else o=r.media.filter(function(e){var t=rr.findLine(e,"a=msid:");return void 0!==t&&i===t.substring(7).split(" ")[0];});}else o=r.media.filter(function(e){return e.startsWith("m=".concat(s));});if(!o.length)return void cn.callErrorHandler(new Error("No media lines found in remote SDP for remote stream[id=".concat(i,",type=").concat(s,"]")));var a=rr.findLines(o[0],"a=ssrc:");if(a=a.filter(function(e){return-1!==e.indexOf("msid:".concat(i));}),!a.length)return void cn.callErrorHandler(new Error("No SSRC lines found in remote SDP for remote stream[msid=".concat(i,",type=").concat(s,"]")));var c=a[0].substring(7).split(" ")[0],d=Number(c),l=this.signalingLayer.getSSRCOwner(d);if(isNaN(d)||d<0)return void cn.callErrorHandler(new Error("Invalid SSRC for remote stream[ssrc=".concat(d,",id=").concat(i,",type=").concat(s,"]")));if(!l)return void cn.callErrorHandler(new Error("No SSRC owner known for remote stream[ssrc=".concat(d,",id=").concat(i,",type=").concat(s,"]")));var h;Hs.isSourceNameSignalingEnabled()&&(h=this.signalingLayer.getTrackSourceName(d),h||(h=$o(l,s,0))),la.info("".concat(this," creating remote track[endpoint=").concat(l,",ssrc=").concat(d,",type=").concat(s,",sourceName=").concat(h,"]"));var u=this.signalingLayer.getPeerMediaInfo(l,s);if(!u)return void cn.callErrorHandler(new Error("".concat(this,": no peer media info available for ").concat(l)));var p=u.muted,m=u.videoType;this._createRemoteTrack(l,e,t,s,m,d,p,h);},ha.prototype._createRemoteTrack=function(e,t,n,i,s,r,o,a){var c=this.remoteTracks.get(e);c||(c=new Map(),this.remoteTracks.set(e,c));var d=c.get(i);if(d&&d.getTrack()===n)return void la.info("".concat(this," ignored duplicated track event for track[endpoint=").concat(e,",type=").concat(i,"]"));d&&(la.error("".concat(this," received a second remote track for track[endpoint=").concat(e,",type=").concat(i,"]deleting the existing track")),this._remoteTrackRemoved(d.getOriginalStream(),d.getTrack()));var l=new ra(this.rtc,this.rtc.conference,e,t,n,i,s,r,o,this.isP2P,a);c.set(i,l),this.eventEmitter.emit(Jn().REMOTE_TRACK_ADDED,l,this);},ha.prototype._remoteStreamRemoved=function(e){if(!va.isUserStream(e)){var _t111=va.getStreamID(e);return void la.info("Ignored remote \'stream removed\' event for stream[id=".concat(_t111,"]"));}var t=e.getVideoTracks();var _iterator57=_createForOfIteratorHelper(t),_step57;try{for(_iterator57.s();!(_step57=_iterator57.n()).done;){var _n77=_step57.value;this._remoteTrackRemoved(e,_n77);}}catch(err){_iterator57.e(err);}finally{_iterator57.f();}var n=e.getAudioTracks();var _iterator58=_createForOfIteratorHelper(n),_step58;try{for(_iterator58.s();!(_step58=_iterator58.n()).done;){var _t112=_step58.value;this._remoteTrackRemoved(e,_t112);}}catch(err){_iterator58.e(err);}finally{_iterator58.f();}},ha.prototype._remoteTrackRemoved=function(e,t){var n=va.getStreamID(e),i=t&&va.getTrackID(t);va.isUserStreamById(n)?(la.info("".concat(this," remote track removed stream[id=").concat(n,",trackId=").concat(i,"]")),n?i?this._removeRemoteTrackById(n,i)||la.warn("".concat(this," Removed track not found for stream[id=").concat(n,",trackId=").concat(i,"]")):cn.callErrorHandler(new Error("".concat(this," remote track removal failed - no track ID"))):cn.callErrorHandler(new Error("".concat(this," remote track removal failed - no stream ID")))):la.info("".concat(this," ignored remote \'stream removed\' event for non-user stream[id=").concat(n,"]"));},ha.prototype._getRemoteTrackById=function(e,t){var _iterator59=_createForOfIteratorHelper(this.remoteTracks.values()),_step59;try{for(_iterator59.s();!(_step59=_iterator59.n()).done;){var _n78=_step59.value;var _iterator60=_createForOfIteratorHelper(_n78.values()),_step60;try{for(_iterator60.s();!(_step60=_iterator60.n()).done;){var _i71=_step60.value;if(_i71.getStreamId()==e&&_i71.getTrackId()==t)return _i71;}}catch(err){_iterator60.e(err);}finally{_iterator60.f();}}}catch(err){_iterator59.e(err);}finally{_iterator59.f();}},ha.prototype.removeRemoteTracks=function(e){var t=[],n=this.remoteTracks.get(e);if(n){var _i72=n.get(Rn),_s36=n.get(wn);_i72&&t.push(_i72),_s36&&t.push(_s36),this.remoteTracks.delete(e);}return la.debug("".concat(this," removed remote tracks[endpoint=").concat(e,",count=").concat(t.length)),t;},ha.prototype._removeRemoteTrack=function(e){e.dispose();var t=e.getParticipantId(),n=this.remoteTracks.get(t);n?n.delete(e.getType())||la.error("".concat(this," Failed to remove ").concat(e," - type mapping messed up ?")):la.error("".concat(this," removeRemoteTrack: no remote tracks map for endpoint=").concat(t)),this.eventEmitter.emit(Jn().REMOTE_TRACK_REMOVED,e);},ha.prototype._removeRemoteTrackById=function(e,t){var n=this._getRemoteTrackById(e,t);return n&&this._removeRemoteTrack(n),n;},ha.prototype._extractSSRCMap=function(e){var t=new Map(),n=new Map();if("object"!=_typeof(e)||null===e||"string"!=typeof e.sdp)return la.warn("An empty description was passed as an argument"),t;var i=xo.parse(e.sdp);if(!Array.isArray(i.media))return t;var s=i.media;this._usesUnifiedPlan&&(s=[],[Rn,wn].forEach(function(e){var t=i.media.find(function(t){return t.type===e;});t&&s.push(t);}));var _iterator61=_createForOfIteratorHelper(s),_step61;try{for(_iterator61.s();!(_step61=_iterator61.n()).done;){var _e154=_step61.value;if(!Array.isArray(_e154.ssrcs))continue;if(Array.isArray(_e154.ssrcGroups)){var _iterator62=_createForOfIteratorHelper(_e154.ssrcGroups),_step62;try{for(_iterator62.s();!(_step62=_iterator62.n()).done;){var _t113=_step62.value;if(void 0!==_t113.semantics&&void 0!==_t113.ssrcs){var _e155=_t113.ssrcs.split(" ").map(function(e){return parseInt(e,10);}),_i73=_e155[0];_t113.ssrcs=_e155,n.has(_i73)||n.set(_i73,[]),n.get(_i73).push(_t113);}}}catch(err){_iterator62.e(err);}finally{_iterator62.f();}}var _i74=_e154.ssrcs;_i74=this._usesUnifiedPlan?_i74.filter(function(e){return"cname"===e.attribute;}):_i74.filter(function(e){return"msid"===e.attribute;});var _iterator63=_createForOfIteratorHelper(_i74),_step63;try{for(_iterator63.s();!(_step63=_iterator63.n()).done;){var _s37=_step63.value;var _i75=this._usesUnifiedPlan?_e154.type:_s37.value,_r18=_s37.id;var _o14=t.get(_i75);if(_o14||(_o14={ssrcs:[],groups:[],msid:_i75},t.set(_i75,_o14)),_o14.ssrcs.push(_r18),n.has(_r18)){var _e156=n.get(_r18);var _iterator64=_createForOfIteratorHelper(_e156),_step64;try{for(_iterator64.s();!(_step64=_iterator64.n()).done;){var _t114=_step64.value;_o14.groups.push(_t114);}}catch(err){_iterator64.e(err);}finally{_iterator64.f();}}}}catch(err){_iterator63.e(err);}finally{_iterator63.f();}}}catch(err){_iterator61.e(err);}finally{_iterator61.f();}return t;};ha.prototype.getLocalSSRC=function(e){var t=this._getSSRC(e.rtcId);return t&&t.ssrcs[0];},ha.prototype._injectSsrcGroupForUnifiedSimulcast=function(e){var t=xo.parse(e.sdp),n=t.media.find(function(e){return"video"===e.type;});n.ssrcGroups=n.ssrcGroups||[];var i=n.ssrcGroups.filter(function(e){return"FID"===e.semantics;});if(n.simulcast||n.simulcast_03){var _t115=[];if(i&&i.length?i.forEach(function(e){_t115.push(e.ssrcs.split(" ")[0]);}):n.ssrcs.forEach(function(e){"msid"===e.attribute&&_t115.push(e.id);}),n.ssrcGroups.find(function(e){return"SIM"===e.semantics;}))return e;n.ssrcGroups.push({semantics:"SIM",ssrcs:_t115.join(" ")});}return new RTCSessionDescription({type:e.type,sdp:xo.write(t)});};var pa={signalingState:function signalingState(){return this.peerconnection.signalingState;},iceConnectionState:function iceConnectionState(){return this.peerconnection.iceConnectionState;},connectionState:function connectionState(){return this.peerconnection.connectionState;},localDescription:function localDescription(){var e=this.peerconnection.localDescription;return e?(this.trace("getLocalDescription::preTransform",ua(e)),this._usesUnifiedPlan&&!this.isP2P?(e=this.interop.toPlanB(e),this.trace("getLocalDescription::postTransform (Plan B)",ua(e)),e=this._injectSsrcGroupForUnifiedSimulcast(e),this.trace("getLocalDescription::postTransform (inject ssrc group)",ua(e))):this._usesUnifiedPlan||(nn.doesVideoMuteByStreamRemove()&&(e=this.localSdpMunger.maybeAddMutedLocalVideoTracksToSDP(e),la.debug("getLocalDescription::postTransform (munge local SDP)",e)),e=function(e,t){if(!e)throw new Error("No local description passed in.");var n=new qo(e.sdp),i=n.selectMedia(Rn);var s=!1;i&&i.direction!==Zs().SENDRECV&&(t.startSilent?i.direction=Zs().INACTIVE:i.direction=Zs().SENDRECV,s=!0);var r=n.selectMedia(wn);return r&&r.direction!==Zs().SENDRECV&&(r.direction=Zs().SENDRECV,s=!0),s?new RTCSessionDescription({type:e.type,sdp:n.toRawSDP()}):e;}(e,this.options)),e=this.localSdpMunger.transformStreamIdentifiers(e),e):(la.debug("".concat(this," getLocalDescription no localDescription found")),{});},remoteDescription:function remoteDescription(){var e=this.peerconnection.remoteDescription;return e?(this.trace("getRemoteDescription::preTransform",ua(e)),this._usesUnifiedPlan&&(this.isP2P?e=this._adjustRemoteMediaDirection(e):(e=this.interop.toPlanB(e),this.trace("getRemoteDescription::postTransform (Plan B)",ua(e)))),e):(la.debug("".concat(this," getRemoteDescription no remoteDescription found")),{});}};Object.keys(pa).forEach(function(e){Object.defineProperty(ha.prototype,e,{get:pa[e]});}),ha.prototype._getSSRC=function(e){return this.localSSRCs.get(e);},ha.prototype.isSharingLowFpsScreen=function(){return this._isSharingScreen()&&this._capScreenshareBitrate;},ha.prototype._isSharingScreen=function(){var e=this.getLocalVideoTrack();return e&&e.videoType===Vn.DESKTOP;},ha.prototype._mungeCodecOrder=function(e){var _this132=this;if(!this.codecPreference)return e;var t=xo.parse(e.sdp),n=t.media.find(function(e){return e.type===_this132.codecPreference.mediaType;});if(!n)return e;if(this.codecPreference.enable){if(rr.preferCodec(n,this.codecPreference.mimeType),this.codecPreference.mimeType===Qs.H264&&nn.isReactNative()&&this.isP2P&&rr.stripCodec(n,this.codecPreference.mimeType,!0),this.codecPreference.mimeType===Qs.VP9&&this.getConfiguredVideoCodec()===Qs.VP9){var _e157=this.tpcUtils.videoBitrates.VP9||this.tpcUtils.videoBitrates,_t116=_e157.high?_e157.high:aa,_i76=Math.floor((this._isSharingScreen()?aa:_t116)/1e3);n.bandwidth=[{type:"AS",limit:_i76}];}else n.bandwidth=void 0;}else rr.stripCodec(n,this.codecPreference.mimeType);return new RTCSessionDescription({type:e.type,sdp:xo.write(t)});},ha.prototype.addTrack=function(e){var _this133=this;var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n=e.rtcId;if(la.info("".concat(this," adding ").concat(e)),this.localTracks.has(n))return Promise.reject(new Error("".concat(e," is already in ").concat(this)));this.localTracks.set(n,e);var i=e.getOriginalStream();if(this._usesUnifiedPlan){if(la.debug("".concat(this," TPC.addTrack using unified plan")),i)try{this.tpcUtils.addTrack(e,t);}catch(t){return la.error("".concat(this," Adding track=").concat(e," failed: ").concat(null==t?void 0:t.message)),Promise.reject(t);}}else{if(i)this._addStream(i);else if(!nn.doesVideoMuteByStreamRemove()||e.isAudioTrack()||e.isVideoTrack()&&!e.isMuted())return Promise.reject(new Error("".concat(this," no WebRTC stream for track=").concat(e)));if(nn.doesVideoMuteByStreamRemove()&&e.isVideoTrack()&&e.isMuted()){var _t117=this.generateNewStreamSSRCInfo(e);this.sdpConsistency.setPrimarySsrc(_t117.ssrcs[0]);var _n79=_t117.groups.find(function(e){return"SIM"===e.semantics;});_n79&&this.simulcast.setSsrcCache(_n79.ssrcs);var _i77=_t117.groups.filter(function(e){return"FID"===e.semantics;});if(_i77){var _e158=new Map();_i77.forEach(function(t){var n=t.ssrcs[0],i=t.ssrcs[1];_e158.set(n,i);}),this.rtxModifier.setSsrcCache(_e158);}}}var s=Promise.resolve();return nn.isFirefox()&&(s=s.then(function(){return i&&_this133.tpcUtils.setEncodings(e);})),s;},ha.prototype.addTrackUnmute=function(e){var _this134=this;if(la.info("".concat(this," Adding track=").concat(e," as unmute")),!this._assertTrackBelongs("addTrackUnmute",e))return Promise.reject("Track not found on the peerconnection");var t=e.getOriginalStream();return t?this._usesUnifiedPlan?this.tpcUtils.replaceTrack(null,e).then(function(){return _this134.isP2P;}):(this._addStream(t),Promise.resolve(!0)):(la.error("".concat(this," Unable to add track=").concat(e," as unmute - no WebRTC stream")),Promise.reject("Stream not found"));},ha.prototype._addStream=function(e){this.peerconnection.addStream(e),this._addedStreams.push(e);},ha.prototype._removeStream=function(e){this.peerconnection.removeStream(e),this._addedStreams=this._addedStreams.filter(function(t){return t!==e;});},ha.prototype._assertTrackBelongs=function(e,t){var n=this.localTracks.has(null==t?void 0:t.rtcId);return n||la.error("".concat(this," ").concat(e,": track=").concat(t," does not belong to pc")),n;},ha.prototype.getConfiguredVideoCodec=function(){var e;var t=null===(e=this.peerconnection.localDescription)||void 0===e?void 0:e.sdp,n=Qs.VP8;if(!t)return n;var i=xo.parse(t).media.find(function(e){return e.type===wn;}).rtp[0].codec;return i?Object.values(Qs).find(function(e){return e===i.toLowerCase();}):n;},ha.prototype.setDesktopSharingFrameRate=function(e){var t=e<=5;this._capScreenshareBitrate=this.isSimulcastOn()&&t;},ha.prototype.setVideoCodecs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var n=null===t,i=t||e;this.codecPreference&&(e||t)?(this.codecPreference.enable=n,this.codecPreference.mimeType=i):e||t?this.codecPreference={enable:n,mediaType:wn,mimeType:i}:la.warn("".concat(this," Invalid codec settings[preferred=").concat(e,",disabled=").concat(t,"],\\n            atleast one value is needed"));},ha.prototype.isMediaStreamInPc=function(e){return this._addedStreams.indexOf(e)>-1;},ha.prototype.removeTrack=function(e){var t=e.getOriginalStream();this.trace("removeStream",e.rtcId,t?t.id:void 0),this._assertTrackBelongs("removeStream",e)&&(this.localTracks.delete(e.rtcId),this.localSSRCs.delete(e.rtcId),t&&this.peerconnection.removeStream(t));},ha.prototype.findSenderByKind=function(e){if(this.peerconnection.getSenders)return this.peerconnection.getSenders().find(function(t){return t.track&&t.track.kind===e;});},ha.prototype.findReceiverForTrack=function(e){return this.peerconnection.getReceivers().find(function(t){return t.track===e;});},ha.prototype.findSenderForTrack=function(e){if(this.peerconnection.getSenders)return this.peerconnection.getSenders().find(function(t){return t.track===e;});},ha.prototype.replaceTrack=function(e,t){var _this135=this;if(!e&&!t)return la.info("".concat(this," replaceTrack called with no new track and no old track")),Promise.resolve();var n=Boolean(!e||!this.localTracks.has(null==e?void 0:e.rtcId));if(this._usesUnifiedPlan){var i;la.debug("".concat(this," TPC.replaceTrack using unified plan"));var _s38=null!==(i=null==t?void 0:t.getType())&&void 0!==i?i:null==e?void 0:e.getType(),_r19=null==t?void 0:t.getOriginalStream(),_o15=t&&!_r19?Promise.resolve():this.tpcUtils.replaceTrack(e,t),_a7=this.tpcUtils.findTransceiver(_s38,e);return _o15.then(function(){e&&_this135.localTracks.delete(e.rtcId),t&&_this135.localTracks.set(t.rtcId,t);var i=_s38===Rn?_this135.audioTransferActive:_this135.videoTransferActive;return _a7&&i&&(_a7.direction=t?Zs().SENDRECV:Zs().RECVONLY),(nn.usesSdpMungingForSimulcast()||!t?Promise.resolve():_this135.tpcUtils.setEncodings(t)).then(function(){return _this135.isP2P||n;});});}la.debug("".concat(this," TPC.replaceTrack using plan B"));var s=Promise.resolve();return e&&this.removeTrack(e),t&&(s=this.addTrack(t)),s.then(function(){return!0;});},ha.prototype.removeTrackMute=function(e){var t=e.getOriginalStream();return this.trace("removeStreamMute",e.rtcId,t?t.id:null),this._assertTrackBelongs("removeStreamMute",e)?this._usesUnifiedPlan?this.tpcUtils.replaceTrack(e,null):t?(la.info("".concat(this," Removing track=").concat(e," as mute")),this._removeStream(t),Promise.resolve(!0)):(la.error("".concat(this," removeStreamMute - no WebRTC stream for track=").concat(e)),Promise.reject("Stream not found")):Promise.reject("Track not found in the peerconnection");},ha.prototype.createDataChannel=function(e,t){return this.trace("createDataChannel",e,t),this.peerconnection.createDataChannel(e,t);},ha.prototype._ensureSimulcastGroupIsLast=function(e){var t=e.sdp;var n=t.indexOf("m=video"),i=t.indexOf("a=ssrc-group:SIM",n);var s=t.lastIndexOf("a=ssrc-group");if(-1===i||-1===s||s===i)return e;var r=t.indexOf("\\r\\n",i),o=t.substring(i,r+2);t=t.replace(o,""),s=t.lastIndexOf("a=ssrc-group");var a=t.indexOf("\\r\\n",s),c=t.slice(0,a),d=o.trim(),l=t.slice(a);return t="".concat(c,"\\r\\n").concat(d).concat(l),new RTCSessionDescription({type:e.type,sdp:t});},ha.prototype._adjustLocalMediaDirection=function(e){var t=new qo(e.sdp);var n=!1;var i=t.selectMedia(Rn);if(i){var _e159=this.getDesiredMediaDirection(Rn);i.direction!==_e159&&(i.direction=_e159,la.info("".concat(this," Adjusted local audio direction to ").concat(_e159)),n=!0);}else la.warn("".concat(this," No \\"audio\\" media found in the local description"));var s=t.selectMedia(wn);if(s){var _e160=this.getDesiredMediaDirection(wn);s.direction!==_e160&&(s.direction=_e160,la.info("".concat(this," Adjusted local video direction to ").concat(_e160)),n=!0);}else la.warn("".concat(this," No \\"video\\" media found in the local description"));return n?new RTCSessionDescription({type:e.type,sdp:t.toRawSDP()}):e;},ha.prototype._adjustRemoteMediaDirection=function(e){var _this136=this;var t=new qo(e.sdp);return[Rn,wn].forEach(function(e){var n=t.selectMedia(e),i=_this136.hasAnyTracksOfType(e),s=_this136.getRemoteTracks(null,e).length>0;n.direction=i&&s?Zs().SENDRECV:i?Zs().RECVONLY:s?Zs().SENDONLY:Zs().INACTIVE;}),new RTCSessionDescription({type:e.type,sdp:t.toRawSDP()});},ha.prototype._mungeOpus=function(e){var t=this.options.audioQuality;if(!(null!=t&&t.stereo||null!=t&&t.opusMaxAverageBitrate))return e;var n=xo.parse(e.sdp),i=n.media;var _iterator65=_createForOfIteratorHelper(i),_step65;try{var _loop11=function _loop11(){var e=_step65.value;if("audio"===e.type){var _e$rtp$find=e.rtp.find(function(e){return e.codec===Qs.OPUS;}),_n80=_e$rtp$find.payload;if(!_n80)return"continue";var _i78=e.fmtp.find(function(e){return e.payload===_n80;});_i78||(_i78={payload:_n80,config:""});var _s39=xo.parseParams(_i78.config);var _r20=!1;if(null!=t&&t.stereo&&(_s39.stereo=1,_r20=!0),null!=t&&t.opusMaxAverageBitrate&&(_s39.maxaveragebitrate=t.opusMaxAverageBitrate,_r20=!0),!_r20)return"continue";var _o16="";for(var _i79=0,_Object$keys=Object.keys(_s39);_i79<_Object$keys.length;_i79++){var _e161=_Object$keys[_i79];_o16+="".concat(_e161,"=").concat(_s39[_e161],"; ");}_i78.config=_o16.trim();}};for(_iterator65.s();!(_step65=_iterator65.n()).done;){var _ret2=_loop11();if(_ret2==="continue")continue;}}catch(err){_iterator65.e(err);}finally{_iterator65.f();}return new RTCSessionDescription({type:e.type,sdp:xo.write(n)});},ha.prototype._initializeDtlsTransport=function(){var _this137=this;if(!this.peerconnection.getSenders||this._dtlsTransport)return;var e=this.peerconnection.getSenders();0!==e.length&&e[0].transport&&(this._dtlsTransport=e[0].transport,this._dtlsTransport.onerror=function(e){la.error("".concat(_this137," DtlsTransport error: ").concat(e));},this._dtlsTransport.onstatechange=function(){_this137.trace("dtlsTransport.onstatechange",_this137._dtlsTransport.state);});},ha.prototype.configureSenderVideoEncodings=function(){return this.setSenderVideoConstraints(this._senderVideoMaxHeight);},ha.prototype.setLocalDescription=function(e){var _this138=this;var t=e;return this.trace("setLocalDescription::preTransform",ua(t)),t=this._mungeOpus(t),this._usesUnifiedPlan||(t=this._adjustLocalMediaDirection(t),t=this._ensureSimulcastGroupIsLast(t)),this._usesTransceiverCodecPreferences||(t=this._mungeCodecOrder(t)),this.trace("setLocalDescription::postTransform",ua(t)),new Promise(function(e,n){_this138.peerconnection.setLocalDescription(t).then(function(){_this138.trace("setLocalDescriptionOnSuccess");var n=rr.getUfrag(t.sdp);n!==_this138.localUfrag&&(_this138.localUfrag=n,_this138.eventEmitter.emit(Jn().LOCAL_UFRAG_CHANGED,_this138,n)),_this138._initializeDtlsTransport(),e();},function(e){_this138.trace("setLocalDescriptionOnFailure",e),_this138.eventEmitter.emit(Jn().SET_LOCAL_DESCRIPTION_FAILED,e,_this138),n(e);});});},ha.prototype.setAudioTransferActive=function(e){la.debug("".concat(this," audio transfer active: ").concat(e));var t=this.audioTransferActive!==e;return this.audioTransferActive=e,this._usesUnifiedPlan?(this.tpcUtils.setAudioTransferActive(e),!1):t;},ha.prototype.setRemoteDescription=function(e){var _this139=this;var t=e;if(this.trace("setRemoteDescription::preTransform",ua(e)),t=this._mungeOpus(t),this._usesUnifiedPlan){if(!this.isP2P){var _e162=this.peerconnection.remoteDescription;t=this.interop.toUnifiedPlan(t,_e162),this.trace("setRemoteDescription::postTransform (Unified)",ua(t));}this.isSimulcastOn()&&(t=this.simulcast.mungeRemoteDescription(t),this.trace("setRemoteDescription::postTransform (simulcast)",ua(t)),t=this.tpcUtils.insertUnifiedPlanSimulcastReceive(t),this.trace("setRemoteDescription::postTransform (sim receive)",ua(t))),t=this.tpcUtils.ensureCorrectOrderOfSsrcs(t),this.trace("setRemoteDescription::postTransform (correct ssrc order)",ua(t));}else this.isSimulcastOn()&&(t=this.simulcast.mungeRemoteDescription(t,!0),this.trace("setRemoteDescription::postTransform (simulcast)",ua(t))),t=function(e){if("object"!=_typeof(e)||null===e||"string"!=typeof e.sdp)return la.warn("An empty description was passed as an argument"),e;var t=n(766),i=t.parse(e.sdp);void 0!==i&&void 0!==i.media&&Array.isArray(i.media)&&i.media.forEach(function(e){var t=[],n=[];if(void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&e.ssrcGroups.forEach(function(e){void 0!==e.semantics&&"FID"===e.semantics&&void 0!==e.ssrcs&&t.push(Number(e.ssrcs.split(" ")[0]));}),Array.isArray(e.ssrcs)){var _i80;for(_i80=0;_i80<e.ssrcs.length;_i80++)"object"==_typeof(e.ssrcs[_i80])&&void 0!==e.ssrcs[_i80].id&&t.indexOf(e.ssrcs[_i80].id)>=0&&(n.push(e.ssrcs[_i80]),delete e.ssrcs[_i80]);for(_i80=0;_i80<e.ssrcs.length;_i80++)void 0!==e.ssrcs[_i80]&&n.push(e.ssrcs[_i80]);e.ssrcs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!nn.isChrome()||!nn.isVersionGreaterThan(70))return e;var t=_toConsumableArray(e);return e.filter(function(e){return"mslabel"===e.attribute&&"-"===e.value;}).map(function(e){return e.id;}).forEach(function(e){var n=t.find(function(t){return t.id===e&&"cname"===t.attribute;});n.value="".concat(Zs().RECVONLY,"-").concat(e),t=t.filter(function(t){return t.id!==e;}),t.push(n);}),t;}(n);}});var s=t.write(i);return new RTCSessionDescription({type:e.type,sdp:s});}(t);return t=this._mungeCodecOrder(t),this.trace("setRemoteDescription::postTransform (munge codec order)",ua(t)),new Promise(function(e,n){_this139.peerconnection.setRemoteDescription(t).then(function(){_this139.trace("setRemoteDescriptionOnSuccess");var n=rr.getUfrag(t.sdp);n!==_this139.remoteUfrag&&(_this139.remoteUfrag=n,_this139.eventEmitter.emit(Jn().REMOTE_UFRAG_CHANGED,_this139,n)),_this139._initializeDtlsTransport(),e();},function(e){_this139.trace("setRemoteDescriptionOnFailure",e),_this139.eventEmitter.emit(Jn().SET_REMOTE_DESCRIPTION_FAILED,e,_this139),n(e);});});},ha.prototype.setSenderVideoConstraints=function(e){var _this140=this;var t;if(e<0)throw new Error("Invalid frameHeight: ".concat(e));if(nn.isReactNative())return Promise.resolve();this._senderVideoMaxHeight=e;var n=this.getLocalVideoTrack();if(!n||n.isMuted())return Promise.resolve();var i=this.findSenderByKind(wn);if(!i)return Promise.resolve();var s=i.getParameters();if(null==s||null===(t=s.encodings)||void 0===t||!t.length)return Promise.resolve();var r=this.isSharingLowFpsScreen()?"maintain-resolution":"maintain-framerate";s.degradationPreference=r,la.info("".concat(this," Setting degradation preference [preference=").concat(r,",track=").concat(n)),this.encodingsEnabledState=this.tpcUtils.calculateEncodingsActiveState(n,e);var o=this.tpcUtils.calculateEncodingsBitrates(n),a=n.getVideoType();if(this.isSimulcastOn()){for(var _e163 in s.encodings){var c,d;s.encodings.hasOwnProperty(_e163)&&(s.encodings[_e163].active=this.encodingsEnabledState[_e163],nn.isFirefox()&&(s.encodings[_e163].degradationPreference=r),this.getConfiguredVideoCodec()===Qs.VP8&&(null!==(c=this.options)&&void 0!==c&&null!==(d=c.videoQuality)&&void 0!==d&&d.maxBitratesVideo||this.isSharingLowFpsScreen()||this._usesUnifiedPlan)&&(s.encodings[_e163].maxBitrate=o[_e163]));}this.tpcUtils.updateEncodingsResolution(s);}else if(e>0){var l,h;var _t118=1;if(a===Vn.CAMERA&&n.resolution>e&&(_t118=Math.floor(n.resolution/e)),s.encodings[0].active=!0,s.encodings[0].scaleResolutionDownBy=_t118,nn.isFirefox()&&(s.encodings[0].degradationPreference=r),this.getConfiguredVideoCodec()===Qs.VP8&&null!==(l=this.options)&&void 0!==l&&null!==(h=l.videoQuality)&&void 0!==h&&h.maxBitratesVideo){var u;var _e164=null===(u=this.getTargetVideoBitrates())||void 0===u?void 0:u.high;var p,m;a===Vn.CAMERA&&(_e164=null!==(p=null===(m=this.tpcUtils.localStreamEncodingsConfig.find(function(e){return e.scaleResolutionDownBy===_t118;}))||void 0===m?void 0:m.maxBitrate)&&void 0!==p?p:_e164),s.encodings[0].maxBitrate=_e164;}}else s.encodings[0].active=!1;return la.info("".concat(this," setting max height=").concat(e,",encodings=").concat(JSON.stringify(s.encodings))),i.setParameters(s).then(function(){n.maxEnabledResolution=e,_this140.eventEmitter.emit(Jn().LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED,n);});},ha.prototype.setVideoTransferActive=function(e){la.debug("".concat(this," video transfer active: ").concat(e));var t=this.videoTransferActive!==e;return this.videoTransferActive=e,this._usesUnifiedPlan?(this.tpcUtils.setVideoTransferActive(e),!1):t;},ha.prototype.sendTones=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;if(!this._dtmfSender){if(this.peerconnection.getSenders){var _e165=this.peerconnection.getSenders().find(function(e){return e.dtmf;});this._dtmfSender=_e165&&_e165.dtmf,this._dtmfSender&&la.info("".concat(this," initialized DTMFSender using getSenders"));}if(!this._dtmfSender){var _e166=Array.from(this.localTracks.values()).find(function(e){return e.isAudioTrack();});this.peerconnection.createDTMFSender&&_e166&&(this._dtmfSender=this.peerconnection.createDTMFSender(_e166.getTrack())),this._dtmfSender&&la.info("".concat(this," initialized DTMFSender using deprecated createDTMFSender"));}this._dtmfSender&&(this._dtmfSender.ontonechange=this._onToneChange.bind(this));}if(this._dtmfSender){if(this._dtmfSender.toneBuffer)return void this._dtmfTonesQueue.push({tones:e,duration:t,interToneGap:n});this._dtmfSender.insertDTMF(e,t,n);}else la.warn("".concat(this," sendTones - failed to select DTMFSender"));},ha.prototype._onToneChange=function(e){if(this._dtmfSender&&""===e.tone&&this._dtmfTonesQueue.length){var _this$_dtmfTonesQueue=this._dtmfTonesQueue.shift(),_e167=_this$_dtmfTonesQueue.tones,_t119=_this$_dtmfTonesQueue.duration,_n81=_this$_dtmfTonesQueue.interToneGap;this._dtmfSender.insertDTMF(_e167,_t119,_n81);}},ha.prototype.generateRecvonlySsrc=function(){var e=rr.generateSsrc();la.info("".concat(this," generated new recvonly SSRC=").concat(e)),this.sdpConsistency.setPrimarySsrc(e);},ha.prototype.clearRecvonlySsrc=function(){la.info("".concat(this," Clearing primary video SSRC!")),this.sdpConsistency.clearVideoSsrcCache();},ha.prototype.close=function(){this.trace("stop"),this.signalingLayer.off(Fo,this._peerMutedChanged),this.signalingLayer.off(jo,this._peerVideoTypeChanged),this._usesUnifiedPlan&&this.peerconnection.removeEventListener("track",this.onTrack);var _iterator66=_createForOfIteratorHelper(this.remoteTracks.values()),_step66;try{for(_iterator66.s();!(_step66=_iterator66.n()).done;){var _e168=_step66.value;var _iterator67=_createForOfIteratorHelper(_e168.values()),_step67;try{for(_iterator67.s();!(_step67=_iterator67.n()).done;){var _t120=_step67.value;this._removeRemoteTrack(_t120);}}catch(err){_iterator67.e(err);}finally{_iterator67.f();}}}catch(err){_iterator66.e(err);}finally{_iterator66.f();}this.remoteTracks.clear(),this._addedStreams=[],this._dtmfSender=null,this._dtmfTonesQueue=[],this.rtc._removePeerConnection(this)||la.error("".concat(this," RTC._removePeerConnection returned false")),null!==this.statsinterval&&(window.clearInterval(this.statsinterval),this.statsinterval=null),la.info("".concat(this," Closing peerconnection")),this.peerconnection.close();},ha.prototype.createAnswer=function(e){return this._createOfferOrAnswer(!1,e);},ha.prototype.createOffer=function(e){return this._createOfferOrAnswer(!0,e);},ha.prototype._createOfferOrAnswer=function(e,t){var _this141=this;var n=e?"Offer":"Answer";this.trace("create".concat(n),JSON.stringify(t,null," "));var i=function i(e,t,_i82){try{_this141.trace("create".concat(n,"OnSuccess::preTransform"),ua(e)),_this141._usesUnifiedPlan||(_this141.hasAnyTracksOfType(wn)||_this141.sdpConsistency.hasPrimarySsrcCached()||_this141.generateRecvonlySsrc(),e=new RTCSessionDescription({type:e.type,sdp:_this141.sdpConsistency.makeVideoPrimarySsrcsConsistent(e.sdp)}),_this141.trace("create".concat(n,"OnSuccess::postTransform (make primary audio/video ssrcs consistent)"),ua(e)));var _i81=_this141.getLocalVideoTrack();_this141.isSimulcastOn()&&nn.usesSdpMungingForSimulcast()&&((null==_i81?void 0:_i81.getVideoType())===Vn.CAMERA||_this141._usesUnifiedPlan||!_this141.isSharingLowFpsScreen())&&(e=_this141.simulcast.mungeLocalDescription(e),_this141.trace("create".concat(n,"OnSuccess::postTransform (simulcast)"),ua(e))),!_this141.options.disableRtx&&nn.usesSdpMungingForSimulcast()&&(e=new RTCSessionDescription({type:e.type,sdp:_this141.rtxModifier.modifyRtxSsrcs(e.sdp)}),_this141.trace("create".concat(n,"OnSuccess::postTransform (rtx modifier)"),ua(e)));var _s40=_this141._extractSSRCMap(e);_this141._processLocalSSRCsMap(_s40),t(e);}catch(t){_this141.trace("create".concat(n,"OnError"),t),_this141.trace("create".concat(n,"OnError"),ua(e)),la.error("".concat(_this141," create").concat(n,"OnError"),t,ua(e)),_i82(t);}},s=function s(t,i){_this141.trace("create".concat(n,"OnFailure"),t);var s=e?Jn().CREATE_OFFER_FAILED:Jn().CREATE_ANSWER_FAILED;_this141.eventEmitter.emit(s,t,_this141),i(t);};if(this._usesTransceiverCodecPreferences){var _e169=this.peerconnection.getTransceivers().find(function(e){var t,n;return e.receiver&&(null===(t=e.receiver)||void 0===t||null===(n=t.track)||void 0===n?void 0:n.kind)===wn;});if(_e169){var r,o,a;var _t121=null===(r=RTCRtpReceiver.getCapabilities(wn))||void 0===r?void 0:r.codecs;var _n82=null===(o=this.codecPreference)||void 0===o?void 0:o.mimeType,_i83=null===(a=this.codecPreference)||void 0===a?void 0:a.enable;_t121&&_n82&&_i83?_t121.sort(function(e){return e.mimeType.toLowerCase()==="".concat(wn,"/").concat(_n82)?-1:1;}):_t121&&_n82&&(_t121=_t121.filter(function(e){return e.mimeType.toLowerCase()!=="".concat(wn,"/").concat(_n82);})),nn.isChromiumBased()&&(_t121=_t121.filter(function(e){return e.mimeType.toLowerCase()!=="".concat(wn,"/").concat(Qs.ULPFEC);}));try{_e169.setCodecPreferences(_t121);}catch(e){la.warn("".concat(this," Setting codec[preference=").concat(_n82,",enable=").concat(_i83,"] failed"),e);}}}return new Promise(function(n,r){var o;o=e?_this141.peerconnection.createOffer(t):_this141.peerconnection.createAnswer(t),o.then(function(e){return i(e,n,r);},function(e){return s(e,r);});});},ha.prototype._extractPrimarySSRC=function(e){return e&&e.groups&&e.groups.length?e.groups[0].ssrcs[0]:e&&e.ssrcs&&e.ssrcs.length?e.ssrcs[0]:null;},ha.prototype._processLocalSSRCsMap=function(e){var _iterator68=_createForOfIteratorHelper(this.localTracks.values()),_step68;try{for(_iterator68.s();!(_step68=_iterator68.n()).done;){var _t122=_step68.value;var _n83=this._usesUnifiedPlan?_t122.getType():_t122.storedMSID;if(e.has(_n83)){var _i84=e.get(_n83);if(!_i84)return void la.error("".concat(this," No SSRC found for stream=").concat(_n83));var _s41=this.localSSRCs.get(_t122.rtcId),_r21=this._extractPrimarySSRC(_i84),_o17=this._extractPrimarySSRC(_s41);_r21!==_o17&&(_o17&&la.error("".concat(this," Overwriting SSRC for track=").concat(_t122,"] with ssrc=").concat(_i84)),this.localSSRCs.set(_t122.rtcId,_i84),this.eventEmitter.emit(Jn().LOCAL_TRACK_SSRC_UPDATED,_t122,_r21));}else _t122.isVideoTrack()||_t122.isMuted()||la.warn("".concat(this," No SSRCs found in the local SDP for track=").concat(_t122,", stream=").concat(_n83));}}catch(err){_iterator68.e(err);}finally{_iterator68.f();}},ha.prototype.addIceCandidate=function(e){return this.trace("addIceCandidate",JSON.stringify({candidate:e.candidate,sdpMid:e.sdpMid,sdpMLineIndex:e.sdpMLineIndex,usernameFragment:e.usernameFragment},null," ")),this.peerconnection.addIceCandidate(e);},ha.prototype.getActiveSimulcastStreams=function(){var e=1;var t;return this.isSimulcastOn()&&this.encodingsEnabledState?e=null===(t=this.encodingsEnabledState.filter(function(e){return Boolean(e);}))||void 0===t?void 0:t.length:this.isSimulcastOn()&&(e=ca.length),e;},ha.prototype.getStats=function(){return this.peerconnection.getStats();},ha.prototype.generateNewStreamSSRCInfo=function(e){var t=e.rtcId;var n=this._getSSRC(t);if(n&&la.error("".concat(this," Overwriting local SSRCs for track id=").concat(t)),!this.isSimulcastOn()||e.getVideoType()!==Vn.CAMERA&&this.isSharingLowFpsScreen())n={ssrcs:[rr.generateSsrc()],groups:[]};else{n={ssrcs:[],groups:[]};for(var _e170=0;_e170<ca.length;_e170++)n.ssrcs.push(rr.generateSsrc());n.groups.push({ssrcs:n.ssrcs.slice(),semantics:"SIM"});}if(!this.options.disableRtx){var _e171=n.ssrcs.length;for(var _t123=0;_t123<_e171;++_t123){var _e172=n.ssrcs[_t123],_i85=rr.generateSsrc();n.ssrcs.push(_i85),n.groups.push({ssrcs:[_e172,_i85],semantics:"FID"});}}return n.msid=e.storedMSID,this.localSSRCs.set(t,n),n;},ha.prototype.usesUnifiedPlan=function(){return this._usesUnifiedPlan;},ha.prototype.toString=function(){return"TPC[id=".concat(this.id,",type=").concat(this.isP2P?"P2P":"JVB","]");};var ma=(0,g.getLogger)("modules/RTC/RTC.js");var fa=0,ga=0;function _a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(function(e){var t=e.sourceId,n=e.sourceType,i=e.stream,s=e.track,r=e.videoType,o=e.effects,_s$getSettings=s.getSettings(),a=_s$getSettings.deviceId,c=_s$getSettings.facingMode;return ga=Sn(ga),new Ro({deviceId:a,facingMode:c,mediaType:s.kind,rtcId:ga,sourceId:t,sourceType:n,stream:i,track:s,videoType:r||null,effects:o});});}var va=/*#__PURE__*/function(_vi11){_inherits(va,_vi11);var _super26=_createSuper(va);function va(e){var _this142;_classCallCheck(this,va);var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_this142=_super26.call(this),_this142.conference=e,_this142.peerConnections=new Map(),_this142.localTracks=[],_this142.options=t,_this142._channel=null,_this142._lastN=void 0,_this142._lastNEndpoints=null,_this142._maxFrameHeight=void 0,_this142._selectedEndpoints=null,_this142._lastNChangeListener=_this142._onLastNChanged.bind(_assertThisInitialized(_this142)),_this142._onDeviceListChanged=_this142._onDeviceListChanged.bind(_assertThisInitialized(_this142)),_this142._updateAudioOutputForAudioTracks=_this142._updateAudioOutputForAudioTracks.bind(_assertThisInitialized(_this142)),_this142._videoType=Gr().NONE,yo.isDeviceChangeAvailable("output")&&(yo.addListener(Jn().AUDIO_OUTPUT_DEVICE_CHANGED,_this142._updateAudioOutputForAudioTracks),yo.addListener(Jn().DEVICE_LIST_CHANGED,_this142._onDeviceListChanged));return _this142;}_createClass(va,[{key:"destroy",value:function destroy(){yo.removeListener(Jn().AUDIO_OUTPUT_DEVICE_CHANGED,this._updateAudioOutputForAudioTracks),yo.removeListener(Jn().DEVICE_LIST_CHANGED,this._onDeviceListChanged),this._channelOpenListener&&this.removeListener(Jn().DATA_CHANNEL_OPEN,this._channelOpenListener);}},{key:"initializeBridgeChannel",value:function initializeBridgeChannel(e,t){var _this143=this;this._channel=new Kr(e,t,this.eventEmitter),this._channelOpenListener=function(){var e=function e(_e173,t,n){dn().callErrorHandler(_e173),ma.error("Cannot send ".concat(t,"(").concat(JSON.stringify(n),") endpoint message"),_e173);};if(_this143._receiverVideoConstraints)try{_this143._channel.sendNewReceiverVideoConstraintsMessage(_this143._receiverVideoConstraints);}catch(t){e(t,"ReceiverVideoConstraints",_this143._receiverVideoConstraints);}if(_this143._selectedEndpoints)try{_this143._channel.sendSelectedEndpointsMessage(_this143._selectedEndpoints);}catch(t){e(t,"SelectedEndpointsChangedEvent",_this143._selectedEndpoints);}if(void 0!==_this143._maxFrameHeight)try{_this143._channel.sendReceiverVideoConstraintMessage(_this143._maxFrameHeight);}catch(t){e(t,"ReceiverVideoConstraint",_this143._maxFrameHeight);}if(void 0!==_this143._lastN&&-1!==_this143._lastN)try{_this143._channel.sendSetLastNMessage(_this143._lastN);}catch(t){e(t,"LastNChangedEvent",_this143._lastN);}if(!Hs.isSourceNameSignalingEnabled())try{_this143._channel.sendVideoTypeMessage(_this143._videoType);}catch(t){e(t,"VideoTypeMessage",_this143._videoType);}_this143.removeListener(Jn().DATA_CHANNEL_OPEN,_this143._channelOpenListener),_this143._channelOpenListener=null;},this.addListener(Jn().DATA_CHANNEL_OPEN,this._channelOpenListener),this.addListener(Jn().LASTN_ENDPOINT_CHANGED,this._lastNChangeListener);}},{key:"_onDeviceListChanged",value:function _onDeviceListChanged(){this._updateAudioOutputForAudioTracks(yo.getAudioOutputDevice());}},{key:"_onLastNChanged",value:function _onLastNChanged(){var _this144=this;var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var t=this._lastNEndpoints||[];var n=[],i=[];this._lastNEndpoints=e,n=t.filter(function(e){return!_this144.isInLastN(e);}),i=e.filter(function(e){return-1===t.indexOf(e);}),this.conference.eventEmitter.emit(ae,n,i);}},{key:"onCallEnded",value:function onCallEnded(){this._channel&&(this._channel&&"websocket"===this._channel.mode&&this._channel.close(),this._channel=null);}},{key:"setDesktopSharingFrameRate",value:function setDesktopSharingFrameRate(e){yo.setDesktopSharingFrameRate(e);}},{key:"setNewReceiverVideoConstraints",value:function setNewReceiverVideoConstraints(e){this._receiverVideoConstraints=e,this._channel&&this._channel.isOpen()&&this._channel.sendNewReceiverVideoConstraintsMessage(e);}},{key:"setReceiverVideoConstraint",value:function setReceiverVideoConstraint(e){this._maxFrameHeight=e,this._channel&&this._channel.isOpen()&&this._channel.sendReceiverVideoConstraintMessage(e);}},{key:"setVideoType",value:function setVideoType(e){this._videoType!==e&&(this._videoType=e,this._channel&&this._channel.isOpen()&&this._channel.sendVideoTypeMessage(e));}},{key:"sendSourceVideoType",value:function sendSourceVideoType(e,t){this._channel&&this._channel.isOpen()&&this._channel.sendSourceVideoTypeMessage(e,t);}},{key:"selectEndpoints",value:function selectEndpoints(e){this._selectedEndpoints=e,this._channel&&this._channel.isOpen()&&this._channel.sendSelectedEndpointsMessage(e);}},{key:"createPeerConnection",value:function createPeerConnection(e,t,n,i){var s=JSON.parse(JSON.stringify(yo.pcConstraints));void 0!==i.abtestSuspendVideo&&(yo.setSuspendVideo(s,i.abtestSuspendVideo),jn.analytics.addPermanentProperties({abtestSuspendVideo:i.abtestSuspendVideo})),i.enableInsertableStreams&&(ma.debug("E2EE - setting insertable streams constraints"),t.encodedInsertableStreams=!0),(nn.isReactNative()||nn.isChromiumBased()&&!i.usesUnifiedPlan)&&(ma.debug("WebRTC application is running in plan-b mode"),t.sdpSemantics="plan-b"),i.forceTurnRelay&&(t.iceTransportPolicy="relay"),t.bundlePolicy="max-bundle",fa=Sn(fa);var r=new ha(this,fa,e,t,s,n,i);return this.peerConnections.set(r.id,r),r;}},{key:"_removePeerConnection",value:function _removePeerConnection(e){var t=e.id;return!!this.peerConnections.has(t)&&(this.peerConnections.delete(t),!0);}},{key:"addLocalTrack",value:function addLocalTrack(e){if(!e)throw new Error("track must not be null nor undefined");this.localTracks.push(e),e.conference=this.conference;}},{key:"getLocalVideoTrack",value:function getLocalVideoTrack(){var e=this.getLocalTracks(wn);return e.length?e[0]:void 0;}},{key:"getLocalAudioTrack",value:function getLocalAudioTrack(){var e=this.getLocalTracks(Rn);return e.length?e[0]:void 0;}},{key:"getLocalEndpointId",value:function getLocalEndpointId(){return this.conference.myUserId();}},{key:"getLocalTracks",value:function getLocalTracks(e){var t=this.localTracks.slice();return void 0!==e&&(t=t.filter(function(t){return t.getType()===e;})),t;}},{key:"getRemoteTracks",value:function getRemoteTracks(e){var t=[];var _iterator69=_createForOfIteratorHelper(this.peerConnections.values()),_step69;try{for(_iterator69.s();!(_step69=_iterator69.n()).done;){var _n84=_step69.value;var _i86=_n84.getRemoteTracks(void 0,e);_i86&&(t=t.concat(_i86));}}catch(err){_iterator69.e(err);}finally{_iterator69.f();}return t;}},{key:"setAudioMute",value:function setAudioMute(e){var t=[];return this.getLocalTracks(Rn).forEach(function(n){t.push(e?n.mute():n.unmute());}),Promise.all(t);}},{key:"setVideoMute",value:function setVideoMute(e){var t=[];return this.getLocalTracks(wn).concat(this.getLocalTracks(An)).forEach(function(n){t.push(e?n.mute():n.unmute());}),Promise.all(t);}},{key:"removeLocalTrack",value:function removeLocalTrack(e){var t=this.localTracks.indexOf(e);-1!==t&&this.localTracks.splice(t,1);}},{key:"closeBridgeChannel",value:function closeBridgeChannel(){this._channel&&(this._channel.close(),this._channel=null,this.removeListener(Jn().LASTN_ENDPOINT_CHANGED,this._lastNChangeListener));}},{key:"setAudioLevel",value:function setAudioLevel(e,t,n,i){var s=e.getTrackBySSRC(t);s&&(s.isAudioTrack()?(s.isLocal()!==i&&ma.error("".concat(s," was expected to ").concat(i?"be":"not be"," local")),s.setAudioLevel(n,e)):ma.warn("Received audio level for non-audio track: ".concat(t)));}},{key:"sendChannelMessage",value:function sendChannelMessage(e,t){if(!this._channel)throw new Error("Channel support is disabled!");this._channel.sendMessage(e,t);}},{key:"sendEndpointStatsMessage",value:function sendEndpointStatsMessage(e){this._channel&&this._channel.isOpen()&&this._channel.sendEndpointStatsMessage(e);}},{key:"setLastN",value:function setLastN(e){this._lastN!==e&&(this._lastN=e,this._channel&&this._channel.isOpen()&&this._channel.sendSetLastNMessage(e),this.eventEmitter.emit(Jn().LASTN_VALUE_CHANGED,e));}},{key:"isInLastN",value:function isInLastN(e){return!this._lastNEndpoints||this._lastNEndpoints.indexOf(e)>-1;}},{key:"_updateAudioOutputForAudioTracks",value:function _updateAudioOutputForAudioTracks(e){var t=this.getRemoteTracks(Rn);var _iterator70=_createForOfIteratorHelper(t),_step70;try{for(_iterator70.s();!(_step70=_iterator70.n()).done;){var _n85=_step70.value;_n85.setAudioOutput(e);}}catch(err){_iterator70.e(err);}finally{_iterator70.f();}}}],[{key:"createLocalTracks",value:function createLocalTracks(e){return _a(e);}},{key:"obtainAudioAndVideoPermissions",value:function obtainAudioAndVideoPermissions(e){return yo.obtainAudioAndVideoPermissions(e).then(function(e){return _a(e);});}},{key:"addListener",value:function addListener(e,t){yo.addListener(e,t);}},{key:"removeListener",value:function removeListener(e,t){yo.removeListener(e,t);}},{key:"init",value:function init(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.options=e,yo.init(this.options);}},{key:"attachMediaStream",value:function attachMediaStream(e,t){return yo.attachMediaStream(e,t);}},{key:"getStreamID",value:function getStreamID(e){return yo.getStreamID(e);}},{key:"getTrackID",value:function getTrackID(e){return yo.getTrackID(e);}},{key:"isDeviceListAvailable",value:function isDeviceListAvailable(){return yo.isDeviceListAvailable();}},{key:"isDeviceChangeAvailable",value:function isDeviceChangeAvailable(e){return yo.isDeviceChangeAvailable(e);}},{key:"isWebRtcSupported",value:function isWebRtcSupported(){return nn.isSupported();}},{key:"getAudioOutputDevice",value:function getAudioOutputDevice(){return yo.getAudioOutputDevice();}},{key:"getCurrentlyAvailableMediaDevices",value:function getCurrentlyAvailableMediaDevices(){return yo.getCurrentlyAvailableMediaDevices();}},{key:"arePermissionsGrantedForAvailableDevices",value:function arePermissionsGrantedForAvailableDevices(){return yo.arePermissionsGrantedForAvailableDevices();}},{key:"getEventDataForActiveDevice",value:function getEventDataForActiveDevice(e){return yo.getEventDataForActiveDevice(e);}},{key:"setAudioOutputDevice",value:function setAudioOutputDevice(e){return yo.setAudioOutputDevice(e);}},{key:"isUserStream",value:function isUserStream(e){return va.isUserStreamById(yo.getStreamID(e));}},{key:"isUserStreamById",value:function isUserStreamById(e){return e&&"mixedmslabel"!==e&&"default"!==e;}},{key:"enumerateDevices",value:function enumerateDevices(e){yo.enumerateDevices(e);}},{key:"stopMediaStream",value:function stopMediaStream(e){yo.stopMediaStream(e);}},{key:"isDesktopSharingEnabled",value:function isDesktopSharingEnabled(){return yo.isDesktopSharingEnabled();}}]);return va;}(vi);var Sa="cq.local_stats_updated",ya="cq.remote_stats_updated",Ea=n(6125),Ca=n(1122),ba=n(4188),Ta=(0,g.getLogger)("modules/connectivity/ConnectionQuality.js"),Ra=[{width:1920,height:1080,layers:3,target:"high",targetRN:4e6},{width:1280,height:720,layers:3,target:"high",targetRN:25e5},{width:960,height:540,layers:3,target:"standard",targetRN:9e5},{width:640,height:360,layers:2,target:"standard",targetRN:5e5},{width:480,height:270,layers:2,target:"low",targetRN:35e4},{width:320,height:180,layers:1,target:"low",targetRN:15e4}];var Aa=800;var wa=/*#__PURE__*/function(){function wa(e,t,n){var _this145=this;_classCallCheck(this,wa);var i;this.eventEmitter=t,this._conference=e,this._localStats={connectionQuality:100,jvbRTT:void 0},this._lastConnectionQualityUpdate=-1,this._options=n,this._remoteStats={},this._timeIceConnected=-1,this._timeVideoUnmuted=-1,(null===(i=this._options.config)||void 0===i?void 0:i.startBitrate)>0&&(Aa=this._options.config.startBitrate),e.on(W,function(){_this145._updateLocalConnectionQuality(0),_this145.eventEmitter.emit(Sa,_this145._localStats),_this145._broadcastLocalStats();}),e.room.addListener(ba.ICE_CONNECTION_STATE_CHANGED,function(e,t){e.isP2P||"connected"!==t||(_this145._timeIceConnected=window.performance.now());}),e.on(ne,function(e,t){"stats"===t.type&&_this145._updateRemoteStats(e.getId(),t.values);}),e.on(ie,function(e,t){_this145._updateRemoteStats(e.getId(),t);}),e.on(ne,function(e,t){"facial_expression"===t.type&&_this145.eventEmitter.emit(Ye,e.getId(),t);}),e.statistics.addConnectionStatsListener(this._updateLocalStats.bind(this)),e.on(Oe,function(e){e.isVideoTrack()&&(e.isMuted()?_this145._timeVideoUnmuted=-1:_this145._maybeUpdateUnmuteTime());}),e.on(Ne,function(e){e.isVideoTrack()&&!e.isMuted()&&_this145._maybeUpdateUnmuteTime();}),e.rtc.on(Bn.LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED,function(e){_this145._localStats.maxEnabledResolution=e.maxEnabledResolution;}),e.on(de,function(e){_this145._localStats.serverRegion=e;}),e.on(be,function(e){_this145._localStats.bridgeCount=Number((e||{})["bridge-count"]);});}_createClass(wa,[{key:"_maybeUpdateUnmuteTime",value:function _maybeUpdateUnmuteTime(){this._timeVideoUnmuted<0&&(this._timeVideoUnmuted=window.performance.now());}},{key:"_calculateConnectionQuality",value:function _calculateConnectionQuality(e,t,n){var i=Ea[n];var s,r=100;if(this._localStats.packetLoss&&(s=this._localStats.packetLoss.upload,t&&(s*=.5)),t||!i||e===Ca.DESKTOP||this._timeIceConnected<0||this._timeVideoUnmuted<0)void 0===s?(Ta.error("Cannot calculate connection quality, unknown packet loss."),r=100):r=s<=2?100:s<=4?70:s<=6?50:s<=8?30:s<=12?10:0;else{var _e174=this._conference.getActivePeerConnection();if(_e174){var o,a;var _t124=_e174.isSimulcastOn(),_n86=_e174.getTargetVideoBitrates();_n86.codec=_e174.getConfiguredVideoCodec();var _s42=window.performance.now()-Math.max(this._timeVideoUnmuted,this._timeIceConnected),_c5=null!==(o=null===(a=this._options.config)||void 0===a?void 0:a.pcStatsInterval)&&void 0!==o?o:1e4;var _d6=function(e,t,n,i){var s=0,r=Math.min(t.height,t.width),o=Ra.find(function(e){return e.height<=r;});if(o&&e&&i.codec===Xs().VP8){var _loop12=function _loop12(){var e=r;if(o=Ra.find(function(t){return t.height===e;}),!o)return"break";s+=nn.isReactNative()?o.targetRN:i[o.target];};for(r=o.height;r>=180;r/=2){var _ret3=_loop12();if(_ret3==="break")break;}}else o&&(s=nn.isReactNative()?o.targetRN:i[o.target]);return Math.min(s/1e3,function(e){return e>6e4?Number.MAX_SAFE_INTEGER:Aa*Math.pow(1.08,e/1e3);}(Math.max(0,n-1e3)));}(_t124,i,_s42,_n86);_d6=Math.min(_d6,2500),_s42>_c5&&(r=100*this._localStats.bitrate.upload/_d6);}s&&s>=10&&(r=Math.min(r,30));}if(this._lastConnectionQualityUpdate>0){var _e175=2,_t125=this._localStats.connectionQuality,_n87=(window.performance.now()-this._lastConnectionQualityUpdate)/1e3;r=Math.min(r,_t125+_n87*_e175);}return Math.min(100,r);}},{key:"_updateLocalConnectionQuality",value:function _updateLocalConnectionQuality(e){this._localStats.connectionQuality=e,this._lastConnectionQualityUpdate=window.performance.now();}},{key:"_broadcastLocalStats",value:function _broadcastLocalStats(){var e={bitrate:this._localStats.bitrate,packetLoss:this._localStats.packetLoss,connectionQuality:this._localStats.connectionQuality,jvbRTT:this._localStats.jvbRTT,serverRegion:this._localStats.serverRegion,maxEnabledResolution:this._localStats.maxEnabledResolution,avgAudioLevels:this._localStats.localAvgAudioLevels};try{this._conference.sendEndpointStatsMessage(e);}catch(e){}}},{key:"_updateLocalStats",value:function _updateLocalStats(e,t){if(!e.isP2P){var _e176=t.transport&&t.transport.length&&t.transport[0].rtt;this._localStats.jvbRTT=_e176||void 0;}if(e!==this._conference.getActivePeerConnection())return;var n;var i=!this._conference.isConnectionInterrupted(),s=this._conference.getLocalVideoTrack(),r=s?s.videoType:void 0,o=!s||s.isMuted(),a=s?Math.min(s.resolution,s.maxEnabledResolution):null;for(n in o||this._maybeUpdateUnmuteTime(),t)t.hasOwnProperty(n)&&(this._localStats[n]=t[n]);i&&this._updateLocalConnectionQuality(this._calculateConnectionQuality(r,o,a)),this.eventEmitter.emit(Sa,this._localStats),this._broadcastLocalStats();}},{key:"_updateRemoteStats",value:function _updateRemoteStats(e,t){this._remoteStats[e]={bitrate:t.bitrate,packetLoss:t.packetLoss,connectionQuality:t.connectionQuality,jvbRTT:t.jvbRTT,serverRegion:t.serverRegion,maxEnabledResolution:t.maxEnabledResolution,avgAudioLevels:t.avgAudioLevels},this.eventEmitter.emit(ya,e,this._remoteStats[e]);}},{key:"getStats",value:function getStats(){return this._localStats;}}]);return wa;}();var Ia=(0,g.getLogger)("modules/connectivity/IceFailedHandling.js");var Pa=/*#__PURE__*/function(){function Pa(e){_classCallCheck(this,Pa);this._conference=e;}_createClass(Pa,[{key:"_actOnIceFailed",value:function _actOnIceFailed(){var _this$_conference$opt=this._conference.options.config,e=_this$_conference$opt.enableForcedReload,t=_this$_conference$opt.enableIceRestart,n=void 0!==t&&!t,i=this._conference.room.supportsRestartByTerminate(),s=i&&!t;if(Ia.info("ICE failed, enableForcedReload: ".concat(e,", enableIceRestart: ").concat(t,", supports restart by terminate: ").concat(i)),n||!t&&!i||e){Ia.info("ICE failed, but ICE restarts are disabled");var _t126=e?T:D;return void this._conference.eventEmitter.emit(V,_t126);}var r=this._conference.jvbJingleSession,o=r&&r.getIceConnectionState();r?"connected"===o?Ia.info("ICE connection restored - not sending ICE failed"):(Ia.info("Sending ICE failed - the connection did not recover, ICE state: ".concat(o,", use \'session-terminate\': ").concat(s)),s?this._conference.jvbJingleSession.terminate(function(){Ia.info("session-terminate for ice restart - done");},function(e){Ia.error("session-terminate for ice restart - error: ".concat(e.message));},{reason:"connectivity-error",reasonDescription:"ICE FAILED",requestRestart:!0,sendSessionTerminate:!0}):this._conference.jvbJingleSession.sendIceFailedNotification()):Ia.warn("Not sending ICE failed - no JVB connection");}},{key:"start",value:function start(){var _this146=this;this._conference.xmpp.ping(65e3).then(function(){_this146._canceled||(_this146._iceFailedTimeout=window.setTimeout(function(){_this146._iceFailedTimeout=void 0,_this146._actOnIceFailed();},2e3));},function(e){Ia.error("PING error/timeout - not sending ICE failed",e);});}},{key:"cancel",value:function cancel(){this._canceled=!0,window.clearTimeout(this._iceFailedTimeout);}}]);return Pa;}();var Ma="detector_state_change",Da="audio_input_state_changed",Na="no_audio_input_detected",ka="detection.vad_noise_device",Oa="vad-report-published",La="detection.vad_score_published",xa="detection.vad_talk_while_muted";var Fa=/*#__PURE__*/function(_nt2){_inherits(Fa,_nt2);var _super27=_createSuper(Fa);function Fa(e){var _this147;_classCallCheck(this,Fa);_this147=_super27.call(this),_this147._conference=e,_this147._timeoutTrigger=null,_this147._hasAudioInput=null,nn.supportsReceiverStats()||e.statistics.addAudioLevelListener(_this147._audioLevel.bind(_assertThisInitialized(_this147))),e.on(Ne,_this147._trackAdded.bind(_assertThisInitialized(_this147)));return _this147;}_createClass(Fa,[{key:"_clearTriggerTimeout",value:function _clearTriggerTimeout(){clearTimeout(this._timeoutTrigger),this._timeoutTrigger=null;}},{key:"_handleAudioInputStateChange",value:function _handleAudioInputStateChange(e){var t=0!==e;null!==this._hasAudioInput&&this._hasAudioInput===t||(this._hasAudioInput=t,this.emit(Da,this._hasAudioInput));}},{key:"_handleNoAudioInputDetection",value:function _handleNoAudioInputDetection(e){var _this148=this;this._eventFired||(0!==e||this._timeoutTrigger?0!==e&&this._timeoutTrigger&&this._clearTriggerTimeout():this._timeoutTrigger=setTimeout(function(){_this148._eventFired=!0,_this148.emit(Na);},4e3));}},{key:"_audioLevel",value:function _audioLevel(e,t,n,i){if(!i||!this._audioTrack)return;var s=e.localSSRCs.get(this._audioTrack.rtcId);s&&s.ssrcs.includes(t)&&(this._handleAudioInputStateChange(n),this._handleNoAudioInputDetection(n));}},{key:"_trackAdded",value:function _trackAdded(e){var _this149=this;e.isLocalAudioTrack()&&(this._audioTrack=e,this._eventFired=!1,this._clearTriggerTimeout(),nn.supportsReceiverStats()&&(e.on(ii,function(e){_this149._handleNoAudioInputDetection(e);}),e.on(Yn,function(e){_this149._handleNoAudioInputDetection(e),_this149._handleAudioInputStateChange(e);})));}}]);return Fa;}(nt());var ja=/*#__PURE__*/function(){function ja(e){_classCallCheck(this,ja);this.conference=e,e.addEventListener(ke,this._audioLevel.bind(this)),this.myUserID=this.conference.myUserId();}_createClass(ja,[{key:"_audioLevel",value:function _audioLevel(e,t){!this.conference.isP2PActive()||t<=.6||e===this.myUserID&&this.conference.getLocalAudioTrack().isMuted()||this.conference.rtc.eventEmitter.emit(Jn().DOMINANT_SPEAKER_CHANGED,e);}}]);return ja;}();function $a(e){var t=window.AudioContext||window.webkitAudioContext;if(t)return new t(e);}var Ua=/*#__PURE__*/function(_nt3){_inherits(Ua,_nt3);var _super28=_createSuper(Ua);function Ua(e,t,n){var _this150;_classCallCheck(this,Ua);_this150=_super28.call(this),_this150._procNodeSampleRate=e,_this150._vadProcessor=t,_this150._localTrack=n,_this150._bufferResidue=new Float32Array([]),_this150._audioContext=$a({sampleRate:t.getRequiredPCMFrequency()}),_this150._vadSampleSize=t.getSampleLength(),_this150._onAudioProcess=_this150._onAudioProcess.bind(_assertThisInitialized(_this150)),_this150._initializeAudioContext();return _this150;}_createClass(Ua,[{key:"_initializeAudioContext",value:function _initializeAudioContext(){this._audioSource=this._audioContext.createMediaStreamSource(this._localTrack.stream),this._audioProcessingNode=this._audioContext.createScriptProcessor(this._procNodeSampleRate,1,1);}},{key:"_onAudioProcess",value:function _onAudioProcess(e){var t=e.inputBuffer.getChannelData(0),n=[].concat(_toConsumableArray(this._bufferResidue),_toConsumableArray(t)),i=Date.now();var s=0;for(;s+this._vadSampleSize<n.length;s+=this._vadSampleSize){var _e177=n.slice(s,s+this._vadSampleSize),_t127=this._vadProcessor.calculateAudioFrameVAD(_e177.slice());this.emit(La,{timestamp:i,score:_t127,pcmData:_e177,deviceId:this._localTrack.getDeviceId()});}this._bufferResidue=n.slice(s,n.length);}},{key:"_connectAudioGraph",value:function _connectAudioGraph(){this._audioProcessingNode.onaudioprocess=this._onAudioProcess,this._audioSource.connect(this._audioProcessingNode),this._audioProcessingNode.connect(this._audioContext.destination);}},{key:"_disconnectAudioGraph",value:function _disconnectAudioGraph(){this._audioProcessingNode.onaudioprocess=function(){},this._audioProcessingNode.disconnect(),this._audioSource.disconnect();}},{key:"_cleanupResources",value:function _cleanupResources(){this._disconnectAudioGraph(),this._localTrack.stopStream();}},{key:"getDeviceId",value:function getDeviceId(){return this._localTrack.getDeviceId();}},{key:"getTrackLabel",value:function getTrackLabel(){return this._localTrack.getDeviceLabel();}},{key:"start",value:function start(){this._connectAudioGraph();}},{key:"stop",value:function stop(){this._disconnectAudioGraph(),this._bufferResidue=[];}},{key:"destroy",value:function destroy(){this._destroyed||(this._cleanupResources(),this._destroyed=!0);}}],[{key:"create",value:function create(e,t,n){return va.obtainAudioAndVideoPermissions({devices:["audio"],micDeviceId:e}).then(function(i){if(!i[0])throw new Error("Failed to create jitsi local track for device id: ".concat(e));return new Ua(t,n,i[0]);});}}]);return Ua;}(nt());var Ba=(0,g.getLogger)("modules/detection/VADAudioAnalyser.js");var Ja=/*#__PURE__*/function(_tt$EventEmitter){_inherits(Ja,_tt$EventEmitter);var _super29=_createSuper(Ja);function Ja(e,t){var _this151;_classCallCheck(this,Ja);_this151=_super29.call(this),_this151._createVADProcessor=t,_this151._vadEmitter=null,_this151._isVADEmitterRunning=!1,_this151._detectionServices=[],_this151._vadInitTracker=Promise.resolve(),_this151._processVADScore=_this151._processVADScore.bind(_assertThisInitialized(_this151)),e.on(Ne,_this151._trackAdded.bind(_assertThisInitialized(_this151))),e.on(Le,_this151._trackRemoved.bind(_assertThisInitialized(_this151))),e.on(Oe,_this151._trackMuteChanged.bind(_assertThisInitialized(_this151)));return _this151;}_createClass(Ja,[{key:"addVADDetectionService",value:function addVADDetectionService(e){var _this152=this;this._detectionServices.push(e),e.on(Ma,function(){!_this152._detectionServices.filter(function(e){return!0===e.isActive();}).length&&_this152._isVADEmitterRunning?_this152._stopVADEmitter():_this152._isVADEmitterRunning||_this152._startVADEmitter();});}},{key:"_startVADEmitter",value:function _startVADEmitter(){this._vadEmitter&&(this._vadEmitter.on(La,this._processVADScore),this._vadEmitter.start(),this._isVADEmitterRunning=!0);}},{key:"_stopVADEmitter",value:function _stopVADEmitter(){this._vadEmitter&&(this._vadEmitter.removeListener(La,this._processVADScore),this._vadEmitter.stop()),this._isVADEmitterRunning=!1;}},{key:"_processVADScore",value:function _processVADScore(e){var _iterator71=_createForOfIteratorHelper(this._detectionServices),_step71;try{for(_iterator71.s();!(_step71=_iterator71.n()).done;){var _t128=_step71.value;_t128.processVADScore(e);}}catch(err){_iterator71.e(err);}finally{_iterator71.f();}}},{key:"_changeDetectorsMuteState",value:function _changeDetectorsMuteState(e){var _iterator72=_createForOfIteratorHelper(this._detectionServices),_step72;try{for(_iterator72.s();!(_step72=_iterator72.n()).done;){var _t129=_step72.value;_t129.changeMuteState(e);}}catch(err){_iterator72.e(err);}finally{_iterator72.f();}}},{key:"_trackAdded",value:function _trackAdded(e){var _this153=this;e.isLocalAudioTrack()&&(this._vadInitTracker=this._vadInitTracker.then(function(){return _this153._createVADProcessor();}).then(function(t){return Ua.create(e.getDeviceId(),4096,t);}).then(function(t){Ba.debug("Created VAD emitter for track: ",e.getTrackLabel()),_this153._vadEmitter=t,_this153._changeDetectorsMuteState(e.isMuted());}).catch(function(e){Ba.warn("Failed to start VADAudioAnalyser",e);}));}},{key:"_trackMuteChanged",value:function _trackMuteChanged(e){var _this154=this;e.isLocalAudioTrack()&&(this._vadInitTracker=this._vadInitTracker.then(function(){_this154._changeDetectorsMuteState(e.isMuted());}));}},{key:"_trackRemoved",value:function _trackRemoved(e){var _this155=this;e.isLocalAudioTrack()&&(this._vadInitTracker=this._vadInitTracker.then(function(){Ba.debug("Removing track from VAD detection - ",e.getTrackLabel()),_this155._vadEmitter&&(_this155._stopVADEmitter(),_this155._vadEmitter.destroy(),_this155._vadEmitter=null);var _iterator73=_createForOfIteratorHelper(_this155._detectionServices),_step73;try{for(_iterator73.s();!(_step73=_iterator73.n()).done;){var _e178=_step73.value;_e178.reset();}}catch(err){_iterator73.e(err);}finally{_iterator73.f();}}));}}]);return Ja;}(tt.EventEmitter);var Va=/*#__PURE__*/function(_tt$EventEmitter2){_inherits(Va,_tt$EventEmitter2);var _super30=_createSuper(Va);function Va(){var _this156;_classCallCheck(this,Va);_this156=_super30.call(this),_this156._processing=!1,_this156._scoreArray=[],_this156._audioLvlArray=[],_this156._active=!1,_this156._calculateNoisyScore=_this156._calculateNoisyScore.bind(_assertThisInitialized(_this156));return _this156;}_createClass(Va,[{key:"_calculateNoisyScore",value:function _calculateNoisyScore(){var e=yn(this._scoreArray),t=yn(this._audioLvlArray);e<.2&&t>.04&&(this.emit(ka),this._setActiveState(!1)),this.reset();}},{key:"_recordValues",value:function _recordValues(e,t){this._scoreArray.push(e),this._audioLvlArray.push(t);}},{key:"_setActiveState",value:function _setActiveState(e){this._active=e,this.emit(Ma,this._active);}},{key:"changeMuteState",value:function changeMuteState(e){this._setActiveState(!e),this.reset();}},{key:"isActive",value:function isActive(){return this._active;}},{key:"reset",value:function reset(){this._processing=!1,this._scoreArray=[],this._audioLvlArray=[],clearTimeout(this._processTimeout);}},{key:"processVADScore",value:function processVADScore(e){if(this._active)if(this._processing){var _t130=En(e.pcmData);this._recordValues(e.score,yn(_t130));}else if(e.score<.2){var _t131=yn(En(e.pcmData));_t131>.02&&(this._processing=!0,this._recordValues(e.score,_t131),this._processTimeout=setTimeout(this._calculateNoisyScore,1500));}}}]);return Va;}(tt.EventEmitter);var Ha=/*#__PURE__*/function(_tt$EventEmitter3){_inherits(Ha,_tt$EventEmitter3);var _super31=_createSuper(Ha);function Ha(){var _this157;_classCallCheck(this,Ha);_this157=_super31.call(this),_this157._processing=!1,_this157._scoreArray=[],_this157._active=!1,_this157._calculateVADScore=_this157._calculateVADScore.bind(_assertThisInitialized(_this157));return _this157;}_createClass(Ha,[{key:"_calculateVADScore",value:function _calculateVADScore(){yn(this._scoreArray)>.6&&(this.emit(xa),this._setActiveState(!1)),this.reset();}},{key:"_setActiveState",value:function _setActiveState(e){this._active=e,this.emit(Ma,this._active);}},{key:"changeMuteState",value:function changeMuteState(e){this._setActiveState(e),this.reset();}},{key:"isActive",value:function isActive(){return this._active;}},{key:"processVADScore",value:function processVADScore(e){this._active&&(this._processing?this._scoreArray.push(e.score):e.score>.9&&(this._processing=!0,this._scoreArray.push(e.score),this._processTimeout=setTimeout(this._calculateVADScore,700)));}},{key:"reset",value:function reset(){this._processing=!1,this._scoreArray=[],clearTimeout(this._processTimeout);}}]);return Ha;}(tt.EventEmitter);var Ga="e2eping.e2e_rtt_changed",qa=(0,g.getLogger)("modules/e2eping/e2eping.js"),Ka="e2e-ping-request",za="e2e-ping-response";var Wa=/*#__PURE__*/function(){function Wa(e,t){_classCallCheck(this,Wa);this.participant=e,this.e2eping=t,this.id=e.getId(),this.requests={},this.lastRequestId=1,this.clearIntervals=this.clearIntervals.bind(this),this.sendRequest=this.sendRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.maybeSendAnalytics=this.maybeSendAnalytics.bind(this),this.sendAnalytics=this.sendAnalytics.bind(this),t.isDataChannelOpen&&this.sendRequest(),this.pingInterval=window.setInterval(this.sendRequest,t.pingIntervalMs),this.analyticsInterval=window.setTimeout(this.maybeSendAnalytics,this.e2eping.analyticsIntervalMs);}_createClass(Wa,[{key:"clearIntervals",value:function clearIntervals(){this.pingInterval&&window.clearInterval(this.pingInterval),this.analyticsInterval&&window.clearInterval(this.analyticsInterval);}},{key:"sendRequest",value:function sendRequest(){var e=this.lastRequestId++,t={type:Ka,id:e};this.e2eping.sendMessage(t,this.id),this.requests[e]={id:e,timeSent:window.performance.now()};}},{key:"handleResponse",value:function handleResponse(e){var t=this.requests[e.id];t&&(t.rtt=window.performance.now()-t.timeSent,this.e2eping.eventEmitter.emit(Ga,this.participant,t.rtt)),this.maybeSendAnalytics();}},{key:"maybeSendAnalytics",value:function maybeSendAnalytics(){var e=window.performance.now();var t,n,i=1/0;for(n in this.requests)this.requests.hasOwnProperty(n)&&(t=this.requests[n],t.timeSent<e-this.e2eping.analyticsIntervalMs?delete this.requests[n]:t.rtt&&(i=Math.min(i,t.rtt)));i<1/0&&this.sendAnalytics(i);}},{key:"sendAnalytics",value:function sendAnalytics(e){jn.sendAnalytics(function(e,t,n){return{attributes:{participant_id:e,region:t,rtt:n},name:"e2e_rtt",type:Ct};}(this.id,this.participant.getProperty("region"),e));}}]);return Wa;}();var Qa=/*#__PURE__*/function(){function Qa(e,t,n){_classCallCheck(this,Qa);this.conference=e,this.eventEmitter=e.eventEmitter,this.sendMessage=n,this.pingIntervalMs=1e4,this.analyticsIntervalMs=6e4,this.participants={},this.isDataChannelOpen=!1,t&&t.e2eping&&("number"==typeof t.e2eping.pingInterval&&(this.pingIntervalMs=t.e2eping.pingInterval),"number"==typeof t.e2eping.analyticsInterval&&(this.analyticsIntervalMs=t.e2eping.analyticsInterval),this.analyticsIntervalMs>0&&this.analyticsIntervalMs<this.pingIntervalMs&&(this.analyticsIntervalMs=this.pingIntervalMs)),qa.info("Initializing e2e ping; pingInterval=".concat(this.pingIntervalMs,", analyticsInterval=").concat(this.analyticsIntervalMs,".")),this.participantJoined=this.participantJoined.bind(this),e.on(je,this.participantJoined),this.participantLeft=this.participantLeft.bind(this),e.on($e,this.participantLeft),this.messageReceived=this.messageReceived.bind(this),e.on(ne,this.messageReceived),this.dataChannelOpened=this.dataChannelOpened.bind(this),e.on(X,this.dataChannelOpened);}_createClass(Qa,[{key:"dataChannelOpened",value:function dataChannelOpened(){this.isDataChannelOpen=!0;for(var _e179 in this.participants)if(this.participants.hasOwnProperty(_e179)){var _t132=this.participants[_e179];window.setTimeout(_t132.sendRequest,200);}}},{key:"messageReceived",value:function messageReceived(e,t){t.type===Ka?this.handleRequest(e.getId(),t):t.type===za&&this.handleResponse(e.getId(),t);}},{key:"participantJoined",value:function participantJoined(e,t){this.pingIntervalMs<=0||(this.participants[e]&&(qa.info("Participant wrapper already exists for ".concat(e,". Clearing.")),this.participants[e].clearIntervals(),delete this.participants[e]),this.participants[e]=new Wa(t,this));}},{key:"participantLeft",value:function participantLeft(e){this.pingIntervalMs<=0||this.participants[e]&&(this.participants[e].clearIntervals(),delete this.participants[e]);}},{key:"handleRequest",value:function handleRequest(e,t){if(t&&t.id){var _n88={type:za,id:t.id};this.sendMessage(_n88,e);}else qa.info("Received an invalid e2e ping request from ".concat(e,"."));}},{key:"handleResponse",value:function handleResponse(e,t){var n=this.participants[e];n&&n.handleResponse(t);}},{key:"stop",value:function stop(){qa.info("Stopping e2eping"),this.conference.off(je,this.participantJoined),this.conference.off($e,this.participantLeft),this.conference.off(ne,this.messageReceived),this.conference.off(X,this.dataChannelOpened);for(var _e180 in this.participants)this.participants.hasOwnProperty(_e180)&&this.participants[_e180].clearIntervals();this.participants={};}}]);return Qa;}();var Xa=(0,g.getLogger)("modules/event/Jvb121EventGenerator.js");var Ya=/*#__PURE__*/function(){function Ya(e){var _this158=this;_classCallCheck(this,Ya);this._conference=e,this._jvb121=!0,this._conference.addEventListener(je,function(){return _this158.evaluateStatus();}),this._conference.addEventListener($e,function(){return _this158.evaluateStatus();}),this._conference.addEventListener(Ee,function(){return _this158.evaluateStatus();});}_createClass(Ya,[{key:"evaluateStatus",value:function evaluateStatus(){var e=this._jvb121,t=!this._conference.isP2PActive()&&this._conference.getParticipantCount()<=2;e!==t&&(this._jvb121=t,Xa.debug("JVB121 status ".concat(e," => ").concat(t)),this._conference.eventEmitter.emit(se,e,t));}}]);return Ya;}();var Za=(0,g.getLogger)("modules/qualitycontrol/ReceiveVideoController.js");var ec=/*#__PURE__*/function(){function ec(){_classCallCheck(this,ec);this._defaultConstraints={maxHeight:180},this._lastN=-1,this._maxFrameHeight=2160,this._selectedEndpoints=[],this._receiverVideoConstraints={constraints:{},defaultConstraints:this.defaultConstraints,lastN:this._lastN,onStageEndpoints:[],selectedEndpoints:this._selectedEndpoints};}_createClass(ec,[{key:"constraints",get:function get(){return this._receiverVideoConstraints.lastN=this._lastN,this._selectedEndpoints.length?(this._receiverVideoConstraints.constraints={},this._selectedEndpoints.length>1?(this._receiverVideoConstraints.defaultConstraints={maxHeight:this._maxFrameHeight},this._receiverVideoConstraints.onStageEndpoints=[],this._receiverVideoConstraints.selectedEndpoints=[]):(this._receiverVideoConstraints.constraints[this._selectedEndpoints[0]]={maxHeight:this._maxFrameHeight},this._receiverVideoConstraints.defaultConstraints=this._defaultConstraints,this._receiverVideoConstraints.onStageEndpoints=this._selectedEndpoints,this._receiverVideoConstraints.selectedEndpoints=[]),this._receiverVideoConstraints):this._receiverVideoConstraints;}},{key:"updateLastN",value:function updateLastN(e){var t=this._lastN!==e;return t&&(this._lastN=e,Za.debug("Updating ReceiverVideoConstraints lastN(".concat(e,")"))),t;}},{key:"updateReceiveResolution",value:function updateReceiveResolution(e){var t=this._maxFrameHeight!==e;return t&&(this._maxFrameHeight=e,Za.debug("Updating receive maxFrameHeight: ".concat(e))),t;}},{key:"updateReceiverVideoConstraints",value:function updateReceiverVideoConstraints(e){var t=!st()(this._receiverVideoConstraints,e);return t&&(this._receiverVideoConstraints=e,Za.debug("Updating ReceiverVideoConstraints ".concat(JSON.stringify(e)))),t;}},{key:"updateSelectedEndpoints",value:function updateSelectedEndpoints(e){Za.debug("Updating selected endpoints: ".concat(JSON.stringify(e))),this._selectedEndpoints=e;}}]);return ec;}();var tc=/*#__PURE__*/function(){function tc(e,t){var _this159=this;_classCallCheck(this,tc);var n,i;this._conference=e,this._rtc=t;var s=e.options.config;this._lastN=null!==(n=null==s?void 0:s.startLastN)&&void 0!==n?n:(null==s?void 0:s.channelLastN)||-1,this._maxFrameHeight=2160,null===(i=null==s?void 0:s.useNewBandwidthAllocationStrategy)||void 0===i||i?(this._receiverVideoConstraints=new ec(),this._receiverVideoConstraints.updateLastN(this._lastN)&&this._rtc.setNewReceiverVideoConstraints(this._receiverVideoConstraints.constraints)):this._rtc.setLastN(this._lastN),this._selectedEndpoints=[],this._conference.on(le,function(e){return _this159._onMediaSessionStarted(e);});}_createClass(tc,[{key:"_onMediaSessionStarted",value:function _onMediaSessionStarted(e){e.isP2P||!this._receiverVideoConstraints?e.setReceiverVideoConstraint(this._maxFrameHeight):(this._receiverVideoConstraints.updateReceiveResolution(this._maxFrameHeight),this._rtc.setNewReceiverVideoConstraints(this._receiverVideoConstraints.constraints));}},{key:"getLastN",value:function getLastN(){return this._lastN;}},{key:"selectEndpoints",value:function selectEndpoints(e){var _this160=this;if(this._selectedEndpoints=e,this._receiverVideoConstraints){var _t133=e.filter(function(e){return e!==_this160._conference.myUserId();}),_n89=JSON.parse(JSON.stringify(this._receiverVideoConstraints.constraints));_t133.length&&this._receiverVideoConstraints.updateSelectedEndpoints(_t133);var _i87=this._receiverVideoConstraints.constraints;st()(_i87,_n89)||this._rtc.setNewReceiverVideoConstraints(_i87);}else this._rtc.selectEndpoints(e);}},{key:"setLastN",value:function setLastN(e){if(this._lastN!==e){if(this._lastN=e,this._receiverVideoConstraints)return void(this._receiverVideoConstraints.updateLastN(e)&&this._rtc.setNewReceiverVideoConstraints(this._receiverVideoConstraints.constraints));this._rtc.setLastN(e);}}},{key:"setPreferredReceiveMaxFrameHeight",value:function setPreferredReceiveMaxFrameHeight(e){this._maxFrameHeight=e;var _iterator74=_createForOfIteratorHelper(this._conference._getMediaSessions()),_step74;try{for(_iterator74.s();!(_step74=_iterator74.n()).done;){var _t134=_step74.value;_t134.isP2P||!this._receiverVideoConstraints?e&&_t134.setReceiverVideoConstraint(e):this._receiverVideoConstraints.updateReceiveResolution(e)&&this._rtc.setNewReceiverVideoConstraints(this._receiverVideoConstraints.constraints);}}catch(err){_iterator74.e(err);}finally{_iterator74.f();}}},{key:"setReceiverConstraints",value:function setReceiverConstraints(e){this._receiverVideoConstraints||(this._receiverVideoConstraints=new ec());var t=Object.keys(e).includes("onStageEndpoints","selectedEndpoints"),n=Object.keys(e).includes("onStageSources","selectedSources");if(!Hs.isSourceNameSignalingEnabled()&&n)throw new Error(\'"onStageSources" and "selectedSources" are not supported when sourceNameSignaling is disabled.\');if(Hs.isSourceNameSignalingEnabled()&&t)throw new Error(\'"onStageEndpoints" and "selectedEndpoints" are not supported when sourceNameSignaling is enabled.\');if(this._receiverVideoConstraints.updateReceiverVideoConstraints(e)){var i,s;this._lastN=null!==(i=e.lastN)&&void 0!==i?i:this._lastN,this._selectedEndpoints=null!==(s=e.selectedEndpoints)&&void 0!==s?s:this._selectedEndpoints,this._rtc.setNewReceiverVideoConstraints(e);var _t135=this._conference._getMediaSessions().find(function(e){return e.isP2P;});if(_t135){var r;var _n90=null===(r=Object.values(e.constraints)[0])||void 0===r?void 0:r.maxHeight;var o;_n90||(_n90=null===(o=e.defaultConstraints)||void 0===o?void 0:o.maxHeight),_n90&&_t135.setReceiverVideoConstraint(_n90);}}}}]);return tc;}();var nc=/*#__PURE__*/function(){function nc(e,t){var _this161=this;_classCallCheck(this,nc);var n,i,s;this.conference=e,this.layerSuspensionEnabled=null===(n=null===(i=e.options)||void 0===i||null===(s=i.config)||void 0===s?void 0:s.enableLayerSuspension)||void 0===n||n,this.rtc=t,this.conference.on(le,function(e){return _this161._onMediaSessionStarted(e);}),this.conference.on(he,function(){return _this161._propagateSendMaxFrameHeight();}),this.rtc.on(Jn().SENDER_VIDEO_CONSTRAINTS_CHANGED,function(e){var t;(null===(t=_this161._senderVideoConstraints)||void 0===t?void 0:t.idealHeight)!==e.idealHeight&&(_this161._senderVideoConstraints=e,_this161._propagateSendMaxFrameHeight());});}_createClass(nc,[{key:"_onMediaSessionStarted",value:function _onMediaSessionStarted(e){var _this162=this;e.addListener(Sr,function(e){e===_this162.conference._getActiveMediaSession()&&_this162._propagateSendMaxFrameHeight();});}},{key:"_propagateSendMaxFrameHeight",value:function _propagateSendMaxFrameHeight(){var e=this.selectSendMaxFrameHeight(),t=[];if(e>=0){var _iterator75=_createForOfIteratorHelper(this.conference._getMediaSessions()),_step75;try{for(_iterator75.s();!(_step75=_iterator75.n()).done;){var _n91=_step75.value;t.push(_n91.setSenderVideoConstraint(e));}}catch(err){_iterator75.e(err);}finally{_iterator75.f();}}return Promise.all(t);}},{key:"selectSendMaxFrameHeight",value:function selectSendMaxFrameHeight(){var e;var t=this.conference._getActiveMediaSession(),n=t?t.isP2P?t.getRemoteRecvMaxFrameHeight():this.layerSuspensionEnabled?null===(e=this._senderVideoConstraints)||void 0===e?void 0:e.idealHeight:void 0:void 0;return this.preferredSendMaxFrameHeight>=0&&n>=0?Math.min(this.preferredSendMaxFrameHeight,n):n>=0?n:this.preferredSendMaxFrameHeight;}},{key:"setPreferredSendMaxFrameHeight",value:function setPreferredSendMaxFrameHeight(e){return this.preferredSendMaxFrameHeight=e,this._propagateSendMaxFrameHeight();}}]);return nc;}();var ic={getFocusRecordingUpdate:function getFocusRecordingUpdate(e){var t=e&&e.getElementsByTagName("jibri-recording-status")[0];if(t)return{error:t.getAttribute("failure_reason"),initiator:t.getAttribute("initiator"),recordingMode:t.getAttribute("recording_mode"),sessionID:t.getAttribute("session_id"),status:t.getAttribute("status")};},getHiddenDomainUpdate:function getHiddenDomainUpdate(e){var t=e.getElementsByTagName("live-stream-view-url")[0],n=t&&t.textContent,i=e.getElementsByTagName("mode")[0],s=i&&i.textContent&&i.textContent.toLowerCase(),r=e.getElementsByTagName("session_id")[0];return{liveStreamViewURL:n,mode:s,sessionID:r&&r.textContent};},getSessionIdFromIq:function getSessionIdFromIq(e){var t=e&&e.getElementsByTagName("jibri")[0];return t&&t.getAttribute("session_id");},getSessionId:function getSessionId(e){var t=e.getElementsByTagName("session_id")[0];return t&&t.textContent;},isFromFocus:function isFromFocus(e){return e.getAttribute("from").includes("focus");}};var sc=/*#__PURE__*/function(){function sc(){_classCallCheck(this,sc);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._connection=e.connection,this._mode=e.mode,this._setSessionID(e.sessionID),this.setStatus(e.status);}_createClass(sc,[{key:"getError",value:function getError(){return this._error;}},{key:"getID",value:function getID(){return this._sessionID;}},{key:"getInitiator",value:function getInitiator(){return this._initiator;}},{key:"getLiveStreamViewURL",value:function getLiveStreamViewURL(){return this._liveStreamViewURL;}},{key:"getStatus",value:function getStatus(){return this._status;}},{key:"getTerminator",value:function getTerminator(){return this._terminator;}},{key:"getMode",value:function getMode(){return this._mode;}},{key:"setError",value:function setError(e){this._error=e;}},{key:"setLiveStreamViewURL",value:function setLiveStreamViewURL(e){this._liveStreamViewURL=e;}},{key:"setStatus",value:function setStatus(e){this._status=e;}},{key:"setInitiator",value:function setInitiator(e){this._initiator=e;}},{key:"setTerminator",value:function setTerminator(e){this._terminator=e;}},{key:"start",value:function start(e){var _this163=this;var t=e.appData,n=e.broadcastId,i=e.focusMucJid,s=e.streamId;return new Promise(function(e,r){_this163._connection.sendIQ(_this163._createIQ({action:"start",appData:t,focusMucJid:i,broadcastId:n,streamId:s}),function(t){_this163.setStatus("pending"),_this163._setSessionID(ic.getSessionIdFromIq(t)),e();},function(e){_this163._setErrorFromIq(e),r(e);});});}},{key:"stop",value:function stop(e){var _this164=this;var t=e.focusMucJid;return new Promise(function(e,n){_this164._connection.sendIQ(_this164._createIQ({action:"stop",focusMucJid:t}),e,n);});}},{key:"_createIQ",value:function _createIQ(e){var t=e.action,n=e.appData,i=e.broadcastId,s=e.focusMucJid,r=e.streamId;return(0,rt.$iq)({to:s,type:"set"}).c("jibri",{xmlns:"http://jitsi.org/protocol/jibri",action:t,app_data:n,recording_mode:this._mode,streamid:r,you_tube_broadcast_id:i}).up();}},{key:"_setErrorFromIq",value:function _setErrorFromIq(e){var t=e.getElementsByTagName("error")[0];this.setError(t.children[0].tagName);}},{key:"_setSessionID",value:function _setSessionID(e){this._sessionID=e;}}]);return sc;}();var rc=(0,g.getLogger)("modules/recording/RecordingManager.js"),oc=(0,g.getLogger)("modules/statistics/AudioOutputProblemDetector.js");var ac=/*#__PURE__*/function(){function ac(e){_classCallCheck(this,ac);this._conference=e,this._localAudioLevelCache={},this._reportedParticipants=[],this._audioProblemCandidates={},this._numberOfRemoteAudioLevelsReceived={},this._onLocalAudioLevelsReport=this._onLocalAudioLevelsReport.bind(this),this._onRemoteAudioLevelReceived=this._onRemoteAudioLevelReceived.bind(this),this._clearUserData=this._clearUserData.bind(this),this._conference.on(ya,this._onRemoteAudioLevelReceived),this._conference.statistics.addConnectionStatsListener(this._onLocalAudioLevelsReport),this._conference.on($e,this._clearUserData);}_createClass(ac,[{key:"_onRemoteAudioLevelReceived",value:function _onRemoteAudioLevelReceived(e,t){var n=t.avgAudioLevels;var i=this._numberOfRemoteAudioLevelsReceived[e]+1||0;if(this._numberOfRemoteAudioLevelsReceived[e]=i,-1!==this._reportedParticipants.indexOf(e)||e in this._audioProblemCandidates||n<=0||i<3)return;var s=this._conference.getParticipantById(e);if(s&&s.getTracksByMediaType(Rn).length>0&&s.isAudioMuted())return;var r=this._localAudioLevelCache[e];Array.isArray(r)&&!r.every(function(e){return 0===e;})||(this._audioProblemCandidates[e]={remoteAudioLevels:n,localAudioLevels:[]});}},{key:"_onLocalAudioLevelsReport",value:function _onLocalAudioLevelsReport(e,t){var _this165=this;var n=t.avgAudioLevels;e===this._conference.getActivePeerConnection()&&(Object.keys(n).forEach(function(e){if(-1!==_this165._reportedParticipants.indexOf(e))return;var t=_this165._localAudioLevelCache[e];Array.isArray(t)?t.length>=2&&t.shift():_this165._localAudioLevelCache[e]=[],_this165._localAudioLevelCache[e].push(n[e]);}),Object.keys(this._audioProblemCandidates).forEach(function(e){var _this165$_audioProble=_this165._audioProblemCandidates[e],t=_this165$_audioProble.localAudioLevels,i=_this165$_audioProble.remoteAudioLevels;if(t.push(n[e]),2===t.length){if(t.every(function(e){return void 0===e||0===e;})){var _n92=JSON.stringify(t);jn.sendAnalytics(function(e,t,n){return{type:Ct,action:"audio.output.problem",attributes:{userID:e,localAudioLevels:t,remoteAudioLevels:n}};}(e,_n92,i)),oc.warn("A potential problem is detected with the audio output for participant ".concat(e,", local audio levels: ").concat(_n92,", remote audio levels: ").concat(i)),_this165._reportedParticipants.push(e),_this165._clearUserData(e);}delete _this165._audioProblemCandidates[e];}}));}},{key:"_clearUserData",value:function _clearUserData(e){delete this._localAudioLevelCache[e];}},{key:"dispose",value:function dispose(){this._conference.off(ya,this._onRemoteAudioLevelReceived),this._conference.off($e,this._clearUserData),this._conference.statistics.removeConnectionStatsListener(this._onLocalAudioLevelsReport),this._localAudioLevelCache=void 0,this._audioProblemCandidates=void 0,this._reportedParticipants=void 0,this._numberOfRemoteAudioLevelsReceived=void 0,this._conference=void 0;}}]);return ac;}();var cc=(0,g.getLogger)("modules/statistics/AvgRTPStatsReporter.js");var dc=/*#__PURE__*/function(){function dc(e){_classCallCheck(this,dc);this.name=e,this.count=0,this.sum=0,this.samples=[];}_createClass(dc,[{key:"addNext",value:function addNext(e){"number"!=typeof e?cc.error("".concat(this.name," - invalid value for idx: ").concat(this.count),e):isNaN(e)||(this.sum+=e,this.samples.push(e),this.count+=1);}},{key:"calculate",value:function calculate(){return this.sum/this.count;}},{key:"appendReport",value:function appendReport(e){e["".concat(this.name,"_avg")]=this.calculate(),e["".concat(this.name,"_samples")]=JSON.stringify(this.samples);}},{key:"reset",value:function reset(){this.samples=[],this.sum=0,this.count=0;}}]);return dc;}();var lc=/*#__PURE__*/function(){function lc(e,t,n){var _this166=this;_classCallCheck(this,lc);this.isP2P=t,this._n=n,this._sampleIdx=0,this._avgRTT=new dc("rtt"),this._avgRemoteRTTMap=new Map(),this._avgRtpStatsReporter=e,this._avgEnd2EndRTT=void 0,this._onConnectionStats=function(e,t){_this166.isP2P===e.isP2P&&_this166._calculateAvgStats(t);};var i=e._conference;i.statistics.addConnectionStatsListener(this._onConnectionStats),this.isP2P||(this._onUserLeft=function(e){return _this166._avgRemoteRTTMap.delete(e);},i.on($e,this._onUserLeft),this._onRemoteStatsUpdated=function(e,t){return _this166._processRemoteStats(e,t);},i.on(ya,this._onRemoteStatsUpdated));}_createClass(lc,[{key:"_calculateAvgStats",value:function _calculateAvgStats(e){if(e){if(nn.supportsRTTStatistics()&&e.transport&&e.transport.length&&this._avgRTT.addNext(e.transport[0].rtt),this._sampleIdx+=1,this._sampleIdx>=this._n){if(nn.supportsRTTStatistics()){var _t136=this._avgRtpStatsReporter._conference,_n93={p2p:this.isP2P,conference_size:_t136.getParticipantCount()};if(e.transport&&e.transport.length&&Object.assign(_n93,{local_candidate_type:e.transport[0].localCandidateType,remote_candidate_type:e.transport[0].remoteCandidateType,transport_type:e.transport[0].type}),this._avgRTT.appendReport(_n93),this.isP2P){var _e181=this._avgRtpStatsReporter.jvbStatsMonitor._avgEnd2EndRTT;isNaN(_e181)||(_n93.rtt_diff=this._avgRTT.calculate()-_e181);}else{var _e182=this._calculateAvgRemoteRTT(),_t137=this._avgRTT.calculate();this._avgEnd2EndRTT=_t137+_e182,isNaN(_t137)||isNaN(_e182)||(_n93.end2end_rtt_avg=this._avgEnd2EndRTT);}jn.sendAnalytics(kt(_n93));}this._resetAvgStats();}}else cc.error("No stats");}},{key:"_calculateAvgRemoteRTT",value:function _calculateAvgRemoteRTT(){var e=0,t=0;var _iterator76=_createForOfIteratorHelper(this._avgRemoteRTTMap.values()),_step76;try{for(_iterator76.s();!(_step76=_iterator76.n()).done;){var _n94=_step76.value;var _i88=_n94.calculate();isNaN(_i88)||(t+=_i88,e+=1,_n94.reset());}}catch(err){_iterator76.e(err);}finally{_iterator76.f();}return t/e;}},{key:"_processRemoteStats",value:function _processRemoteStats(e,t){var n="number"==typeof t.jvbRTT;var i=this._avgRemoteRTTMap.get(e);!i&&n&&(i=new dc("".concat(e,"_stat_rtt")),this._avgRemoteRTTMap.set(e,i)),n?i.addNext(t.jvbRTT):i&&this._avgRemoteRTTMap.delete(e);}},{key:"_resetAvgStats",value:function _resetAvgStats(){this._avgRTT.reset(),this._avgRemoteRTTMap&&this._avgRemoteRTTMap.clear(),this._sampleIdx=0;}},{key:"dispose",value:function dispose(){var e=this._avgRtpStatsReporter._conference;e.statistics.removeConnectionStatsListener(this._onConnectionStats),this.isP2P||(e.off(ya,this._onRemoteStatsUpdated),e.off($e,this._onUserLeft));}}]);return lc;}();var hc=/*#__PURE__*/function(){function hc(e,t){var _this167=this;_classCallCheck(this,hc);this._n=t,t>0?(cc.info("Avg RTP stats will be calculated every ".concat(t," samples")),this._sampleIdx=0,this._conference=e,this._avgAudioBitrateUp=new dc("bitrate_audio_upload"),this._avgAudioBitrateDown=new dc("bitrate_audio_download"),this._avgVideoBitrateUp=new dc("bitrate_video_upload"),this._avgVideoBitrateDown=new dc("bitrate_video_download"),this._avgBandwidthUp=new dc("bandwidth_upload"),this._avgBandwidthDown=new dc("bandwidth_download"),this._avgPacketLossTotal=new dc("packet_loss_total"),this._avgPacketLossUp=new dc("packet_loss_upload"),this._avgPacketLossDown=new dc("packet_loss_download"),this._avgRemoteFPS=new dc("framerate_remote"),this._avgRemoteScreenFPS=new dc("framerate_screen_remote"),this._avgLocalFPS=new dc("framerate_local"),this._avgLocalScreenFPS=new dc("framerate_screen_local"),this._avgRemoteCameraPixels=new dc("pixels_remote"),this._avgRemoteScreenPixels=new dc("pixels_screen_remote"),this._avgLocalCameraPixels=new dc("pixels_local"),this._avgLocalScreenPixels=new dc("pixels_screen_local"),this._avgCQ=new dc("connection_quality"),this._cachedTransportStats=void 0,this._onLocalStatsUpdated=function(e){_this167._calculateAvgStats(e),_this167._maybeSendTransportAnalyticsEvent(e);},e.on(Sa,this._onLocalStatsUpdated),this._onP2PStatusChanged=function(){cc.debug("Resetting average stats calculation"),_this167._resetAvgStats(),_this167.jvbStatsMonitor._resetAvgStats(),_this167.p2pStatsMonitor._resetAvgStats();},e.on(Ee,this._onP2PStatusChanged),this._onJvb121StatusChanged=function(e,t){!0===t&&(cc.info("Resetting JVB avg RTP stats"),_this167._resetAvgJvbStats());},e.on(se,this._onJvb121StatusChanged),this.jvbStatsMonitor=new lc(this,!1,t),this.p2pStatsMonitor=new lc(this,!0,t)):cc.info("Avg RTP stats reports are disabled.");}_createClass(hc,[{key:"_calculateAvgStats",value:function _calculateAvgStats(e){if(!e)return void cc.error("No stats");var t=this._conference.isP2PActive(),n=this._conference.getParticipantCount();if(!t&&n<2)return;var i=e.bitrate,s=e.bandwidth,r=e.packetLoss,o=e.framerate,a=e.resolution;if(i){if(s){if(r){if(o){if(a){if(this._avgAudioBitrateUp.addNext(i.audio.upload),this._avgAudioBitrateDown.addNext(i.audio.download),this._avgVideoBitrateUp.addNext(i.video.upload),this._avgVideoBitrateDown.addNext(i.video.download),nn.supportsBandwidthStatistics()&&(this._avgBandwidthUp.addNext(s.upload),this._avgBandwidthDown.addNext(s.download)),this._avgPacketLossUp.addNext(r.upload),this._avgPacketLossDown.addNext(r.download),this._avgPacketLossTotal.addNext(r.total),this._avgCQ.addNext(e.connectionQuality),o&&(this._avgRemoteFPS.addNext(this._calculateAvgVideoFps(o,!1,Vn.CAMERA)),this._avgRemoteScreenFPS.addNext(this._calculateAvgVideoFps(o,!1,Vn.DESKTOP)),this._avgLocalFPS.addNext(this._calculateAvgVideoFps(o,!0,Vn.CAMERA)),this._avgLocalScreenFPS.addNext(this._calculateAvgVideoFps(o,!0,Vn.DESKTOP))),a&&(this._avgRemoteCameraPixels.addNext(this._calculateAvgVideoPixels(a,!1,Vn.CAMERA)),this._avgRemoteScreenPixels.addNext(this._calculateAvgVideoPixels(a,!1,Vn.DESKTOP)),this._avgLocalCameraPixels.addNext(this._calculateAvgVideoPixels(a,!0,Vn.CAMERA)),this._avgLocalScreenPixels.addNext(this._calculateAvgVideoPixels(a,!0,Vn.DESKTOP))),this._sampleIdx+=1,this._sampleIdx>=this._n){var _i89={p2p:t,conference_size:n};e.transport&&e.transport.length&&Object.assign(_i89,{local_candidate_type:e.transport[0].localCandidateType,remote_candidate_type:e.transport[0].remoteCandidateType,transport_type:e.transport[0].type}),this._avgAudioBitrateUp.appendReport(_i89),this._avgAudioBitrateDown.appendReport(_i89),this._avgVideoBitrateUp.appendReport(_i89),this._avgVideoBitrateDown.appendReport(_i89),nn.supportsBandwidthStatistics()&&(this._avgBandwidthUp.appendReport(_i89),this._avgBandwidthDown.appendReport(_i89)),this._avgPacketLossUp.appendReport(_i89),this._avgPacketLossDown.appendReport(_i89),this._avgPacketLossTotal.appendReport(_i89),this._avgRemoteFPS.appendReport(_i89),isNaN(this._avgRemoteScreenFPS.calculate())||this._avgRemoteScreenFPS.appendReport(_i89),this._avgLocalFPS.appendReport(_i89),isNaN(this._avgLocalScreenFPS.calculate())||this._avgLocalScreenFPS.appendReport(_i89),this._avgRemoteCameraPixels.appendReport(_i89),isNaN(this._avgRemoteScreenPixels.calculate())||this._avgRemoteScreenPixels.appendReport(_i89),this._avgLocalCameraPixels.appendReport(_i89),isNaN(this._avgLocalScreenPixels.calculate())||this._avgLocalScreenPixels.appendReport(_i89),this._avgCQ.appendReport(_i89),jn.sendAnalytics(kt(_i89)),this._resetAvgStats();}}else cc.error("No resolution");}else cc.error(\'No "framerate"\');}else cc.error(\'No "packetloss"\');}else cc.error(\'No "bandwidth"\');}else cc.error(\'No "bitrate"\');}},{key:"_calculateAvgVideoPixels",value:function _calculateAvgVideoPixels(e,t,n){var i=0,s=0;var r=this._conference.myUserId();for(var _i90=0,_Object$keys2=Object.keys(e);_i90<_Object$keys2.length;_i90++){var _o18=_Object$keys2[_i90];if(t?_o18===r:_o18!==r){var _r22=t?null:this._conference.getParticipantById(_o18),_a8=e[_o18];if((t||_r22)&&_a8){var _e183=this._calculatePeerAvgVideoPixels(_a8,_r22,n);isNaN(_e183)||(i+=_e183,s+=1);}}}return i/s;}},{key:"_calculatePeerAvgVideoPixels",value:function _calculatePeerAvgVideoPixels(e,t,n){var i=Object.keys(e).map(function(e){return Number(e);}),s=null;var r=this._conference.getActivePeerConnection();t?(s=t.getTracksByMediaType(wn),s&&(i=i.filter(function(e){return s.find(function(t){return!t.isMuted()&&t.getSSRC()===e&&t.videoType===n;});}))):(s=this._conference.getLocalTracks(wn),i=i.filter(function(e){return s.find(function(t){return!t.isMuted()&&r.getLocalSSRC(t)===e&&t.videoType===n;});}));var o=0,a=0;var _iterator77=_createForOfIteratorHelper(i),_step77;try{for(_iterator77.s();!(_step77=_iterator77.n()).done;){var _t138=_step77.value;var _n95=Number(e[_t138].height)*Number(e[_t138].width);!isNaN(_n95)&&_n95>0&&(o+=_n95,a+=1);}}catch(err){_iterator77.e(err);}finally{_iterator77.f();}return o/a;}},{key:"_calculateAvgVideoFps",value:function _calculateAvgVideoFps(e,t,n){var i=0,s=0;var r=this._conference.myUserId();for(var _i91=0,_Object$keys3=Object.keys(e);_i91<_Object$keys3.length;_i91++){var _o19=_Object$keys3[_i91];if(t?_o19===r:_o19!==r){var _r23=t?null:this._conference.getParticipantById(_o19),_a9=e[_o19];if((t||_r23)&&_a9){var _e184=this._calculatePeerAvgVideoFps(_a9,_r23,n);isNaN(_e184)||(i+=_e184,s+=1);}}}return i/s;}},{key:"_calculatePeerAvgVideoFps",value:function _calculatePeerAvgVideoFps(e,t,n){var i=Object.keys(e).map(function(e){return Number(e);}),s=null;var r=this._conference.getActivePeerConnection();t?(s=t.getTracksByMediaType(wn),s&&(i=i.filter(function(e){return s.find(function(t){return!t.isMuted()&&t.getSSRC()===e&&t.videoType===n;});}))):(s=this._conference.getLocalTracks(wn),i=i.filter(function(e){return s.find(function(t){return!t.isMuted()&&r.getLocalSSRC(t)===e&&t.videoType===n;});}));var o=0,a=0;var _iterator78=_createForOfIteratorHelper(i),_step78;try{for(_iterator78.s();!(_step78=_iterator78.n()).done;){var _t139=_step78.value;var _n96=Number(e[_t139]);!isNaN(_n96)&&_n96>0&&(o+=_n96,a+=1);}}catch(err){_iterator78.e(err);}finally{_iterator78.f();}return o/a;}},{key:"_maybeSendTransportAnalyticsEvent",value:function _maybeSendTransportAnalyticsEvent(e){if(!e||!e.transport||!e.transport.length)return;var t={p2p:e.transport[0].p2p,local_candidate_type:e.transport[0].localCandidateType,remote_candidate_type:e.transport[0].remoteCandidateType,transport_type:e.transport[0].type};this._cachedTransportStats&&st()(t,this._cachedTransportStats)||(this._cachedTransportStats=t,jn.sendAnalytics({type:Ct,action:"transport.stats",attributes:t}));}},{key:"_resetAvgJvbStats",value:function _resetAvgJvbStats(){this._resetAvgStats(),this.jvbStatsMonitor._resetAvgStats();}},{key:"_resetAvgStats",value:function _resetAvgStats(){this._avgAudioBitrateUp.reset(),this._avgAudioBitrateDown.reset(),this._avgVideoBitrateUp.reset(),this._avgVideoBitrateDown.reset(),this._avgBandwidthUp.reset(),this._avgBandwidthDown.reset(),this._avgPacketLossUp.reset(),this._avgPacketLossDown.reset(),this._avgPacketLossTotal.reset(),this._avgRemoteFPS.reset(),this._avgRemoteScreenFPS.reset(),this._avgLocalFPS.reset(),this._avgLocalScreenFPS.reset(),this._avgRemoteCameraPixels.reset(),this._avgRemoteScreenPixels.reset(),this._avgLocalCameraPixels.reset(),this._avgLocalScreenPixels.reset(),this._avgCQ.reset(),this._sampleIdx=0;}},{key:"dispose",value:function dispose(){this._conference.off(Ee,this._onP2PStatusChanged),this._conference.off(Sa,this._onLocalStatsUpdated),this._conference.off(se,this._onJvb121StatusChanged),this.jvbStatsMonitor.dispose(),this.p2pStatsMonitor.dispose();}}]);return hc;}();var uc=n(2444),pc=n.n(uc);var mc=/*#__PURE__*/function(){function mc(e){_classCallCheck(this,mc);this.stats={users:{},dominantSpeakerId:null};var t=e.myUserId();this.stats.users[t]=new(pc())(t,null,!0),this.conference=e,e.addEventListener(Z,this._onDominantSpeaker.bind(this)),e.addEventListener(je,this._onUserJoin.bind(this)),e.addEventListener($e,this._onUserLeave.bind(this)),e.addEventListener(Y,this._onDisplayNameChange.bind(this)),e.addEventListener(Ye,this._onFacialExpressionAdd.bind(this)),e.xmpp&&e.xmpp.addListener(zn().SPEAKER_STATS_RECEIVED,this._updateStats.bind(this));}_createClass(mc,[{key:"_onDominantSpeaker",value:function _onDominantSpeaker(e){var t=this.stats.users[this.stats.dominantSpeakerId],n=this.stats.users[e];t&&t.setDominantSpeaker(!1),n&&n.setDominantSpeaker(!0),this.stats.dominantSpeakerId=e;}},{key:"_onUserJoin",value:function _onUserJoin(e,t){t.isHidden()||this.stats.users[e]||(this.stats.users[e]=new(pc())(e,t.getDisplayName()));}},{key:"_onUserLeave",value:function _onUserLeave(e){var t=this.stats.users[e];t&&t.markAsHasLeft();}},{key:"_onDisplayNameChange",value:function _onDisplayNameChange(e,t){var n=this.stats.users[e];n&&n.setDisplayName(t);}},{key:"_onFacialExpressionAdd",value:function _onFacialExpressionAdd(e,t){var n=this.stats.users[e];n&&n.addFacialExpression(t.facialExpression,t.duration);}},{key:"getStats",value:function getStats(){return this.stats.users;}},{key:"_updateStats",value:function _updateStats(e){for(var _t140 in e){var _n97=void 0;var _i92=this.conference.getParticipantById(_t140);_i92&&_i92.isHidden()||(this.stats.users[_t140]?(_n97=this.stats.users[_t140],_n97.getDisplayName()||_n97.setDisplayName(e[_t140].displayName)):(_n97=new(pc())(_t140,e[_t140].displayName),this.stats.users[_t140]=_n97,_n97.markAsHasLeft())),_n97.totalDominantSpeakerTime=e[_t140].totalDominantSpeakerTime,_n97.setFacialExpressions(e[_t140].facialExpressions);}}}]);return mc;}();var fc=/*#__PURE__*/_createClass(function fc(e,t,n,i){_classCallCheck(this,fc);this.blob=e,this.name=t,this.startTime=n,this.wordArray=i;});var gc=/*#__PURE__*/_createClass(function gc(e){_classCallCheck(this,gc);this.track=e,this.recorder=null,this.data=null,this.name=null,this.startTime=null;});var _c="audio/webm",vc="audio/ogg";function Sc(e){if(void 0===e.recorder)throw new Error("Passed an object to startRecorder which is not a TrackRecorder object");e.recorder.start(),e.startTime=new Date();}function yc(e){if(void 0===e.recorder)throw new Error("Passed an object to stopRecorder which is not a TrackRecorder object");e.recorder.stop();}function Ec(){if(MediaRecorder.isTypeSupported(_c))return _c;if(MediaRecorder.isTypeSupported(vc))return vc;throw new Error("unable to create a MediaRecorder with the right mimetype!");}function Cc(e){this.recorders=[],this.fileType=Ec(),this.isRecording=!1,this.jitsiConference=e;}Cc.determineCorrectFileType=Ec,Cc.prototype.addTrack=function(e){if(e.isAudioTrack()){var _t141=this.instantiateTrackRecorder(e);this.recorders.push(_t141),this.updateNames(),this.isRecording&&Sc(_t141);}},Cc.prototype.instantiateTrackRecorder=function(e){var t=new gc(e),n=t.track.getOriginalStream(),i=new MediaStream();return n.getAudioTracks().forEach(function(e){return i.addTrack(e);}),t.recorder=new MediaRecorder(i,{mimeType:this.fileType}),t.data=[],t.recorder.ondataavailable=function(e){e.data.size>0&&t.data.push(e.data);},t;},Cc.prototype.removeTrack=function(e){if(e.isVideoTrack())return;var t=this.recorders;var n;for(n=0;n<t.length;n++)if(t[n].track.getParticipantId()===e.getParticipantId()){var _e185=t[n];this.isRecording?yc(_e185):t.splice(n,1);}this.updateNames();},Cc.prototype.updateNames=function(){var e=this.jitsiConference;this.recorders.forEach(function(t){if(t.track.isLocal())t.name="the transcriber";else{var _n98=t.track.getParticipantId(),_i93=e.getParticipantById(_n98).getDisplayName();"undefined"!==_i93&&(t.name=_i93);}});},Cc.prototype.start=function(){if(this.isRecording)throw new Error("audiorecorder is already recording");this.isRecording=!0,this.recorders.forEach(function(e){return Sc(e);}),console.log("Started the recording of the audio. There are currently ".concat(this.recorders.length," recorders active."));},Cc.prototype.stop=function(){this.isRecording=!1,this.recorders.forEach(function(e){return yc(e);}),console.log("stopped recording");},Cc.prototype.download=function(){var _this168=this;this.recorders.forEach(function(e){var t=new Blob(e.data,{type:_this168.fileType}),n=URL.createObjectURL(t),i=document.createElement("a");document.body.appendChild(i),i.style="display: none",i.href=n,i.download="test.".concat(_this168.fileType.split("/")[1]),i.click(),window.URL.revokeObjectURL(n);});},Cc.prototype.getRecordingResults=function(){var _this169=this;if(this.isRecording)throw new Error("cannot get blobs because the AudioRecorder is still recording!");this.updateNames();var e=[];return this.recorders.forEach(function(t){return e.push(new fc(new Blob(t.data,{type:_this169.fileType}),t.name,t.startTime));}),e;},Cc.prototype.getFileType=function(){return this.fileType;};var bc=Cc;var Tc=/*#__PURE__*/function(){function Tc(e,t,n){_classCallCheck(this,Tc);this.word=e,this.begin=t,this.end=n;}_createClass(Tc,[{key:"getWord",value:function getWord(){return this.word;}},{key:"getBeginTime",value:function getBeginTime(){return this.begin;}},{key:"getEndTime",value:function getEndTime(){return this.end;}}]);return Tc;}();var Rc=/*#__PURE__*/function(_ref5){_inherits(Rc,_ref5);var _super32=_createSuper(Rc);function Rc(){var _this170;_classCallCheck(this,Rc);_this170=_super32.call(this),_this170.url=function(){var e="config does not contain an url to a Sphinx4 https server";if(void 0===config.sphinxURL)console.log(e);else{var _t142=config.sphinxURL;if(void 0!==_t142.includes&&_t142.includes("https://"))return _t142;console.log(e);}}();return _this170;}_createClass(Rc,[{key:"sendRequest",value:function sendRequest(e,t){console.log("sending an audio file  to ".concat(this.url)),console.log("the audio file being sent: ".concat(e));var n=new XMLHttpRequest();n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE&&200===n.status)t(n.responseText);else if(n.readyState===XMLHttpRequest.DONE)throw new Error("unable to accept response from sphinx server. status: ".concat(n.status));},n.open("POST",this.url),n.setRequestHeader("Content-Type",bc.determineCorrectFileType()),n.send(e),console.log("send ".concat(e));}},{key:"formatResponse",value:function formatResponse(e){var t=JSON.parse(e).objects;t.shift();var n=[];return t.forEach(function(e){return e.filler||n.push(new Tc(e.word,e.start,e.end));}),n;}},{key:"verify",value:function verify(e){if(console.log("response from server:".concat(e.toString())),"string"!=typeof e)return!1;var t;try{t=JSON.parse(e);}catch(e){return console.log(e),!1;}if(void 0===t.objects)return!1;var n=t.objects;return!(!n[0]||!n[0]["session-id"]);}}]);return Rc;}(/*#__PURE__*/function(){function _class11(){_classCallCheck(this,_class11);throw new Error("TranscriptionService is abstract and cannot be created");}_createClass(_class11,[{key:"send",value:function send(e,t){var _this171=this;this.sendRequest(e.blob,function(n){_this171.verify(n)?e.wordArray=_this171.formatResponse(n):(console.log("the retrieved response from the server is not valid!"),e.wordArray=[]),t(e);});}},{key:"sendRequest",value:function sendRequest(e,t){throw new Error("TranscriptionService.sendRequest is abstract");}},{key:"formatResponse",value:function formatResponse(e){throw new Error("TranscriptionService.format is abstract");}},{key:"verify",value:function verify(e){throw new Error("TranscriptionService.verify is abstract");}}]);return _class11;}());var Ac="before",wc="recording",Ic="transcribing",Pc="finished";function Mc(){this.audioRecorder=new bc(),this.transcriptionService=new Rc(),this.counter=null,this.startTime=null,this.transcription=null,this.callback=null,this.results=[],this.state=Ac,this.lineLength=0;}function Dc(e,t){if(console.log("retrieved an answer from the transcription service. The answer has an array of length: ".concat(t.wordArray.length)),t.wordArray.length>0){var _n99=t.startTime.getUTCMilliseconds()-e.startTime.getUTCMilliseconds();_n99<0&&(_n99=0);var _i94="[";t.wordArray.forEach(function(e){e.begin+=_n99,e.end+=_n99,_i94+="".concat(e.word,",");}),_i94+="]",console.log(_i94),t.wordArray.name=t.name;}e.results.push(t.wordArray),e.counter--,console.log("current counter: ".concat(e.counter)),e.maybeMerge();}function Nc(e){for(var _t143=0;_t143<e.length;_t143++)0===e[_t143].length&&e.splice(_t143,1);return e.length>0;}Mc.prototype.start=function(){if(this.state!==Ac)throw new Error("The transcription can only start when it\'s in the \\"before\\" state. It\'s currently in the \\"".concat(this.state,"\\" state"));this.state=wc,this.audioRecorder.start(),this.startTime=new Date();},Mc.prototype.stop=function(e){var _this172=this;if(this.state!==wc)throw new Error("The transcription can only stop when it\'s in the \\"recording\\" state. It\'s currently in the \\"".concat(this.state,"\\" state"));console.log("stopping recording and sending audio files"),this.audioRecorder.stop();var t=Dc.bind(null,this);this.audioRecorder.getRecordingResults().forEach(function(e){_this172.transcriptionService.send(e,t),_this172.counter++;}),this.state=Ic,this.callback=e;},Mc.prototype.maybeMerge=function(){this.state===Ic&&0===this.counter&&this.merge();},Mc.prototype.merge=function(){var _this173=this;console.log("starting merge process!\\n The length of the array: ".concat(this.results.length)),this.transcription="";var e=this.results,t=[];var _loop13=function _loop13(){var t=e[0];e.forEach(function(e){e[0].begin<t[0].begin&&(t=e);});var n=t.shift();var _loop14=function _loop14(){var i=!1;var s=t[0].begin;if(e.forEach(function(e){e[0].begin<s&&(i=!0);}),i)return"break";n=t.shift(),_this173.updateTranscription(n,null);};for(_this173.updateTranscription(n,t.name);t.length>0;){var _ret4=_loop14();if(_ret4==="break")break;}};for(Nc(e),e.forEach(function(e){return function(e,t){if(0===e.length)e.push(t);else{if(e[e.length-1].begin<=t.begin)return void e.push(t);for(var _n100=0;_n100<e.length;_n100++)if(t.begin<e[_n100].begin)return void e.splice(_n100,0,t);e.push(t);}}(t,e);});Nc(e);){_loop13();}this.state=Pc,this.callback&&this.callback(this.transcription);},Mc.prototype.updateTranscription=function(e,t){null!=t&&(this.transcription+="\\n".concat(t,":"),this.lineLength=t.length+1),this.lineLength+e.word.length>80&&(this.transcription+="\\n    ",this.lineLength=4),this.transcription+=" ".concat(e.word),this.lineLength+=e.word.length+1;},Mc.prototype.addTrack=function(e){this.audioRecorder.addTrack(e);},Mc.prototype.removeTrack=function(e){this.audioRecorder.removeTrack(e);},Mc.prototype.getTranscription=function(){if(this.state!==Pc)throw new Error("The transcription can only be retrieved when it\'s in the \\"finished\\" state. It\'s currently in the \\"".concat(this.state,"\\" state"));return this.transcription;},Mc.prototype.getState=function(){return this.state;},Mc.prototype.reset=function(){this.state=Ac,this.counter=null,this.transcription=null,this.startTime=null,this.callback=null,this.results=[],this.lineLength=0;};var kc=Mc,Oc=n(9077).getLogger("modules/version/ComponentsVersions.js");function Lc(e){this.versions={},this.conference=e,this.conference.addCommandListener("versions",this.processVersions.bind(this));}Lc.prototype.processVersions=function(e,t,n){var _this174=this;if(!this.conference.isFocus(n))return void Oc.warn("Received versions not from the focus user: ".concat(e),n);var i=[];e.children.forEach(function(e){var t=e.attributes.name,n=e.value;_this174.versions[t]!==n&&(_this174.versions[t]=n,Oc.info("Got ".concat(t," version: ").concat(n)),i.push({id:"component_version",component:t,version:n}));}),i.length>0&&jn.sendLog(JSON.stringify(i));},Lc.prototype.getComponentVersion=function(e){return this.versions[e];};var xc="available",Fc="undefined",jc="busy",$c="on",Uc="off",Bc="pending",Jc="retrying",Vc="failed",Hc="error_no_connection",Gc="error_session_already_exists",qc=(0,g.getLogger)("modules/videosipgw/JitsiVideoSIPGWSession.js"),Kc="STATE_CHANGED";var zc=/*#__PURE__*/function(_vi12){_inherits(zc,_vi12);var _super33=_createSuper(zc);function zc(e,t,n){var _this175;_classCallCheck(this,zc);_this175=_super33.call(this),_this175.sipAddress=e,_this175.displayName=t,_this175.chatRoom=n,_this175.state=void 0;return _this175;}_createClass(zc,[{key:"stop",value:function stop(){this.state!==Uc&&this.state!==Vc?this._sendJibriIQ("stop"):qc.warn("Video SIP GW session already stopped or failed!");}},{key:"start",value:function start(){this.state!==$c&&this.state!==Uc&&this.state!==Bc&&this.state!==Jc?this._sendJibriIQ("start"):qc.warn("Video SIP GW session already started!");}},{key:"setState",value:function setState(e,t){if(e===this.state)return;var n=this.state;this.state=e,this.eventEmitter.emit(Kc,{address:this.sipAddress,failureReason:t,oldState:n,newState:this.state,displayName:this.displayName});}},{key:"addStateListener",value:function addStateListener(e){this.addListener(Kc,e);}},{key:"removeStateListener",value:function removeStateListener(e){this.removeListener(Kc,e);}},{key:"_sendJibriIQ",value:function _sendJibriIQ(e){var _this176=this;var t={xmlns:"http://jitsi.org/protocol/jibri",action:e,sipaddress:this.sipAddress};t.displayname=this.displayName;var n=(0,rt.$iq)({to:this.chatRoom.focusMucJid,type:"set"}).c("jibri",t).up();qc.debug("".concat(e," video SIP GW session"),n.nodeTree),this.chatRoom.connection.sendIQ(n,function(){},function(t){qc.error("Failed to ".concat(e," video SIP GW session, error: "),t),_this176.setState(Vc);});}}]);return zc;}(vi);var Wc=(0,g.getLogger)("modules/videosipgw/VideoSIPGW.js");var Qc=/*#__PURE__*/function(){function Qc(e){_classCallCheck(this,Qc);this.chatRoom=e,this.eventEmitter=e.eventEmitter,Wc.debug("creating VideoSIPGW"),this.sessions={},this.sessionStateChangeListener=this.sessionStateChanged.bind(this),e.addPresenceListener("jibri-sip-call-state",this.handleJibriSIPState.bind(this));}_createClass(Qc,[{key:"handleJibriSIPState",value:function handleJibriSIPState(e){var t=e.attributes;if(!t)return;Wc.debug("Handle video sip gw state : ",t);var n=t.state;if(n!==this.state)switch(n){case $c:case Uc:case Bc:case Jc:case Vc:{var _e186=t.sipaddress;if(!_e186)return;var _i95=this.sessions[_e186];_i95?_i95.setState(n,t.failure_reason):Wc.warn("Video SIP GW session not found:",_e186);}}}},{key:"createVideoSIPGWSession",value:function createVideoSIPGWSession(e,t){if(this.sessions[e])return Wc.warn("There was already a Video SIP GW session for address",e),new Error(Gc);var n=new zc(e,t,this.chatRoom);return n.addStateListener(this.sessionStateChangeListener),this.sessions[e]=n,n;}},{key:"sessionStateChanged",value:function sessionStateChanged(e){var t=e.address;if(e.newState===Uc||e.newState===Vc){var _e187=this.sessions[t];if(!_e187)return void Wc.error("Missing Video SIP GW session with address:",t);_e187.removeStateListener(this.sessionStateChangeListener),delete this.sessions[t];}this.eventEmitter.emit(zn().VIDEO_SIP_GW_SESSION_STATE_CHANGED,e);}}]);return Qc;}();var Xc=(0,g.getLogger)("modules/xmpp/SignalingLayerImpl.js"),Yc="SourceInfo";var Zc=/*#__PURE__*/function(_Bo){_inherits(Zc,_Bo);var _super34=_createSuper(Zc);function Zc(){var _this177;_classCallCheck(this,Zc);_this177=_super34.call(this),_this177.ssrcOwners=new Map(),_this177.chatRoom=null,_this177._localSourceState={},_this177._remoteSourceState={},_this177._sourceNames=new Map();return _this177;}_createClass(Zc,[{key:"_addLocalSourceInfoToPresence",value:function _addLocalSourceInfoToPresence(){this.chatRoom&&this.chatRoom.addOrReplaceInPresence(Yc,{value:JSON.stringify(this._localSourceState)});}},{key:"_doesEndpointSendNewSourceInfo",value:function _doesEndpointSendNewSourceInfo(e){var t;var n=null===(t=this.chatRoom)||void 0===t?void 0:t.getLastPresence(e);return Boolean(n&&n.find(function(e){return e.tagName===Yc;}));}},{key:"setChatRoom",value:function setChatRoom(e){var _this178=this;var t=this.chatRoom;this.chatRoom=e,t&&(t.removePresenceListener("audiomuted",this._audioMuteHandler),t.removePresenceListener("videomuted",this._videoMuteHandler),t.removePresenceListener("videoType",this._videoTypeHandler),Hs.isSourceNameSignalingEnabled()&&(this._sourceInfoHandler&&t.removePresenceListener(Yc,this._sourceInfoHandler),this._memberLeftHandler&&t.removeEventListener(zn().MUC_MEMBER_LEFT,this._memberLeftHandler))),e&&(Hs.isSourceNameSignalingEnabled()?(this._bindChatRoomEventHandlers(e),this._addLocalSourceInfoToPresence()):(this._audioMuteHandler=function(e,t){_this178.eventEmitter.emit(Fo,t,Rn,"true"===e.value);},e.addPresenceListener("audiomuted",this._audioMuteHandler),this._videoMuteHandler=function(e,t){_this178.eventEmitter.emit(Fo,t,wn,"true"===e.value);},e.addPresenceListener("videomuted",this._videoMuteHandler),this._videoTypeHandler=function(e,t){_this178.eventEmitter.emit(jo,t,e.value);},e.addPresenceListener("videoType",this._videoTypeHandler)));}},{key:"_bindChatRoomEventHandlers",value:function _bindChatRoomEventHandlers(e){var _this179=this;var t=function t(e,_t144){_this179.eventEmitter.emit(Fo,e,Rn,_t144);},n=function n(e,t){_this179.eventEmitter.emit(Fo,e,wn,t);};this._audioMuteHandler=function(e,n){_this179._doesEndpointSendNewSourceInfo(n)||t(n,"true"===e.value);},e.addPresenceListener("audiomuted",this._audioMuteHandler),this._videoMuteHandler=function(e,t){_this179._doesEndpointSendNewSourceInfo(t)||n(t,"true"===e.value);},e.addPresenceListener("videomuted",this._videoMuteHandler);var i=function i(e,t){_this179.eventEmitter.emit(jo,e,t);};this._videoTypeHandler=function(e,t){_this179._doesEndpointSendNewSourceInfo(t)||i(t,e.value);},e.addPresenceListener("videoType",this._videoTypeHandler),this._sourceInfoHandler=function(e,s){var r=s,o=e.value,a=JSON.parse(o),c=_this179._doesEndpointSendNewSourceInfo(r),d=_this179._remoteSourceState[r]||(_this179._remoteSourceState[r]={});for(var _i96=0,_Object$keys4=Object.keys(a);_i96<_Object$keys4.length;_i96++){var _e188=_Object$keys4[_i96];var _s43=Uo(_e188),_o20=Boolean(a[_e188].muted),_l4=d[_e188]||(d[_e188]={sourceName:_e188});_l4.muted!==_o20&&(_l4.muted=_o20,c&&_s43===Rn?t(r,_o20):n(r,_o20));var _h4=a[_e188].videoType;_l4.videoType!==_h4&&(_l4.videoType=_h4,c&&i(r,_h4));}var l=Object.keys(a);for(var _i97=0,_Object$keys5=Object.keys(d);_i97<_Object$keys5.length;_i97++){var _e189=_Object$keys5[_i97];-1===l.indexOf(_e189)&&delete d[_e189];}},e.addPresenceListener("SourceInfo",this._sourceInfoHandler),this._memberLeftHandler=function(e){var t=rt.Strophe.getResourceFromJid(e);if(delete _this179._remoteSourceState[t],Hs.isSourceNameSignalingEnabled()){var _iterator79=_createForOfIteratorHelper(_this179.ssrcOwners.entries()),_step79;try{for(_iterator79.s();!(_step79=_iterator79.n()).done;){var _step79$value=_slicedToArray(_step79.value,2),_e190=_step79$value[0],_n101=_step79$value[1];_n101===t&&delete _this179._sourceNames[_e190];}}catch(err){_iterator79.e(err);}finally{_iterator79.f();}}},e.addEventListener(zn().MUC_MEMBER_LEFT,this._memberLeftHandler);}},{key:"_findEndpointSourceInfoForMediaType",value:function _findEndpointSourceInfoForMediaType(e,t){var n=this._remoteSourceState[e];if(!n)return null;for(var _i98=0,_Object$values3=Object.values(n);_i98<_Object$values3.length;_i98++){var _e191=_Object$values3[_i98];if(Uo(_e191.sourceName)===t)return _e191;}return null;}},{key:"getPeerMediaInfo",value:function getPeerMediaInfo(e,t){var _this180=this;var n=function n(){if(_this180.chatRoom)return _this180.chatRoom.getMediaPresenceInfo(e,t);Xc.error("Requested peer media info, before room was set");};if(Hs.isSourceNameSignalingEnabled()){var _i99=this.chatRoom.getLastPresence(e);if(!_i99)throw new Error("getPeerMediaInfo - no presence stored for: ".concat(e));if(!this._doesEndpointSendNewSourceInfo(e))return n();var _s44={},_r24=this._findEndpointSourceInfoForMediaType(e,t);if(t===Rn)_s44.muted=!_r24||_r24.muted;else{if(t!==wn)throw new Error("Unsupported media type: ".concat(t));{_s44.muted=!_r24||_r24.muted,_s44.videoType=_r24?_r24.videoType:void 0;var _e192=js(_i99,"jitsi_participant_codecType");_e192.length>0&&(_s44.codecType=_e192[0].value);}}return _s44;}return n();}},{key:"getPeerSourceInfo",value:function getPeerSourceInfo(e,t){return this._remoteSourceState[e]?this._remoteSourceState[e][t]:void 0;}},{key:"getSSRCOwner",value:function getSSRCOwner(e){return this.ssrcOwners.get(e);}},{key:"setSSRCOwner",value:function setSSRCOwner(e,t){if("number"!=typeof e)throw new TypeError("SSRC(".concat(e,") must be a number"));var n=this.ssrcOwners.get(e);n&&n!==t&&Xc.error("SSRC owner re-assigned from ".concat(n," to ").concat(t)),this.ssrcOwners.set(e,t);}},{key:"setTrackMuteStatus",value:function setTrackMuteStatus(e,t){this._localSourceState[e]||(this._localSourceState[e]={}),this._localSourceState[e].muted=t,this.chatRoom&&this._addLocalSourceInfoToPresence();}},{key:"setTrackVideoType",value:function setTrackVideoType(e,t){this._localSourceState[e]||(this._localSourceState[e]={}),this._localSourceState[e].videoType!==t&&(this._localSourceState[e].videoType=t===Hn().CAMERA?void 0:t,this._addLocalSourceInfoToPresence());}},{key:"getTrackSourceName",value:function getTrackSourceName(e){return this._sourceNames.get(e);}},{key:"setTrackSourceName",value:function setTrackSourceName(e,t){if("number"!=typeof e)throw new TypeError("SSRC(".concat(e,") must be a number"));var n=this._sourceNames.get(e);n&&n!==t&&Xc.error("SSRC(".concat(e,") sourceName re-assigned from ").concat(n," to ").concat(t)),this._sourceNames.set(e,t);}}]);return Zc;}(Bo);var ed=(0,g.getLogger)("JitsiConference.js");function td(e){var t;if(!e.name||e.name.toLowerCase()!==e.name.toString()){var _e193="Invalid conference name (no conference name passed or it contains invalid characters like capital letters)!";throw ed.error(_e193),new Error(_e193);}if(this.connection=e.connection,this.xmpp=null===(t=this.connection)||void 0===t?void 0:t.xmpp,this.xmpp.isRoomCreated(e.name,e.customDomain)){var _e194="A coference with the same name has already been created!";throw delete this.connection,delete this.xmpp,ed.error(_e194),new Error(_e194);}this.eventEmitter=new(nt())(),this.options=e,this.eventManager=new Qn(this),this.participants={},this._signalingLayer=new Zc(),this._init(e),this.componentsVersions=new Lc(this),this.jvbJingleSession=null,this.lastDominantSpeaker=null,this.dtmfManager=null,this.somebodySupportsDTMF=!1,this.authEnabled=!1,this.startAudioMuted=!1,this.startVideoMuted=!1,this.startMutedPolicy={audio:!1,video:!1},this.isMutedByFocus=!1,this.mutedByFocusActor=null,this.isVideoMutedByFocus=!1,this.mutedVideoByFocusActor=null,this.wasStopped=!1,this.properties={},this.connectionQuality=new wa(this,this.eventEmitter,e),this.avgRtpStatsReporter=new hc(this,e.config.avgRtpStatsN||15),e.config.disableAudioLevels||(this._audioOutputProblemDetector=new ac(this)),this.isJvbConnectionInterrupted=!1,this.speakerStatsCollector=new mc(this),this.deferredStartP2PTask=null;var n=parseInt(e.config.p2p&&e.config.p2p.backToP2PDelay,10);this.backToP2PDelay=isNaN(n)?5:n,ed.info("backToP2PDelay: ".concat(this.backToP2PDelay)),this.isP2PConnectionInterrupted=!1,this.p2p=!1,this.p2pJingleSession=null,this.videoSIPGWHandler=new Qc(this.room),this.recordingManager=new(/*#__PURE__*/function(){function _class12(e){_classCallCheck(this,_class12);this._sessions={},this._chatRoom=e,this.onPresence=this.onPresence.bind(this),this._chatRoom.eventEmitter.addListener(zn().PRESENCE_RECEIVED,this.onPresence);}_createClass(_class12,[{key:"getSession",value:function getSession(e){return this._sessions[e];}},{key:"onPresence",value:function onPresence(e){var t=e.fromHiddenDomain,n=e.presence;ic.isFromFocus(n)?this._handleFocusPresence(n):t&&this._handleJibriPresence(n);}},{key:"startRecording",value:function startRecording(e){var _this181=this;var t=new sc(_objectSpread(_objectSpread({},e),{},{connection:this._chatRoom.connection}));return t.start({appData:e.appData,broadcastId:e.broadcastId,focusMucJid:this._chatRoom.focusMucJid,streamId:e.streamId}).then(function(){return _this181.getSession(t.getID())||(_this181._addSession(t),_this181._emitSessionUpdate(t)),t;}).catch(function(e){return _this181._emitSessionUpdate(t),Promise.reject(e);});}},{key:"stopRecording",value:function stopRecording(e){var t=this.getSession(e);return t?t.stop({focusMucJid:this._chatRoom.focusMucJid}):Promise.reject(new Error("Could not find session"));}},{key:"_addSession",value:function _addSession(e){this._sessions[e.getID()]=e;}},{key:"_createSession",value:function _createSession(e,t,n){var i=new sc({connection:this._chatRoom.connection,focusMucJid:this._chatRoom.focusMucJid,mode:n,sessionID:e,status:t});return this._addSession(i),i;}},{key:"_emitSessionUpdate",value:function _emitSessionUpdate(e,t){this._chatRoom.eventEmitter.emit(zn().RECORDER_STATE_CHANGED,e,t);}},{key:"_handleFocusPresence",value:function _handleFocusPresence(e){var t=ic.getFocusRecordingUpdate(e);if(!t)return;var n=t.error,i=t.initiator,s=t.recordingMode,r=t.sessionID,o=t.status;var a=this.getSession(r);a||"off"!==o?a&&a.getStatus()===o&&a.getError()===n?rc.warn("Ignoring duplicate presence update: ",JSON.stringify(t)):(a||(a=this._createSession(r,o,s)),a.setStatus(o),n&&a.setError(n),this._emitSessionUpdate(a,i)):rc.warn("Ignoring recording presence update","Received a new session with status off.");}},{key:"_handleJibriPresence",value:function _handleJibriPresence(e){var _ic$getHiddenDomainUp=ic.getHiddenDomainUpdate(e),t=_ic$getHiddenDomainUp.liveStreamViewURL,n=_ic$getHiddenDomainUp.mode,i=_ic$getHiddenDomainUp.sessionID;if(!i)return void rc.warn("Ignoring potential jibri presence due to no session id.");var s=this.getSession(i);s||(s=this._createSession(i,"",n)),s.setLiveStreamViewURL(t),this._emitSessionUpdate(s);}}]);return _class12;}())(this.room),this._conferenceJoinAnalyticsEventSent=void 0,this.isE2EESupported()&&(ed.info("End-to-End Encryption is supported"),this._e2eEncryption=new Vi(this)),this._audioSenderLimitReached=void 0,this._videoSenderLimitReached=void 0;}function nd(e,t,n){this.appID=e,this.token=t,this.options=n,this.xmpp=new Ur(n,t),this.addEventListener(li,function(e,t,n,i){jn.sendAnalyticsAndLog(function(e,t,n){return{type:Ct,action:"connection.failed",attributes:_objectSpread({error_type:e,error_message:t},n)};}(e,t,i));}),this.addEventListener(ci,function(e){e&&jn.sendAnalytics(Rt,{message:e}),jn.sendLog(JSON.stringify({id:Rt,msg:e}));});}td.prototype.constructor=td,td.resourceCreator=function(e,t){var n;if(t)n=Gi().randomHexString(8).toLowerCase();else{var i;n=null===(i=rt.Strophe.getNodeFromJid(e))||void 0===i?void 0:i.substr(0,8).toLowerCase();var _t145=/[0-9a-f]{8}/g;n&&_t145.test(n)||(n=Gi().randomHexString(8).toLowerCase());}return n;},td.prototype._init=function(){var _this182=this;var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.eventManager.setupXMPPListeners();var t=this.options.config,n={disabledCodec:t.videoQuality?t.videoQuality.disabledCodec:t.p2p&&t.p2p.disableH264&&Xs().H264,enforcePreferredCodec:t.videoQuality&&t.videoQuality.enforcePreferredCodec,jvbCodec:t.videoQuality&&t.videoQuality.preferredCodec||t.preferH264&&Xs().H264,p2pCodec:t.p2p?t.p2p.preferredCodec||t.p2p.preferH264&&Xs().H264:Xs().VP8};this.codecSelection=new Vr(this,n),this._statsCurrentId=t.statisticsId?t.statisticsId:Is.callStatsUserName,this.room=this.xmpp.createRoom(this.options.name,_objectSpread(_objectSpread({},t),{},{statsId:this._statsCurrentId}),td.resourceCreator),this._signalingLayer.setChatRoom(this.room),this._onIceConnectionInterrupted=this._onIceConnectionInterrupted.bind(this),this.room.addListener(Kn.CONNECTION_INTERRUPTED,this._onIceConnectionInterrupted),this._onIceConnectionRestored=this._onIceConnectionRestored.bind(this),this.room.addListener(Kn.CONNECTION_RESTORED,this._onIceConnectionRestored),this._onIceConnectionEstablished=this._onIceConnectionEstablished.bind(this),this.room.addListener(Kn.CONNECTION_ESTABLISHED,this._onIceConnectionEstablished),this._updateProperties=this._updateProperties.bind(this),this.room.addListener(Kn.CONFERENCE_PROPERTIES_CHANGED,this._updateProperties),this._sendConferenceJoinAnalyticsEvent=this._sendConferenceJoinAnalyticsEvent.bind(this),this.room.addListener(Kn.MEETING_ID_SET,this._sendConferenceJoinAnalyticsEvent),this._removeLocalSourceOnReject=this._removeLocalSourceOnReject.bind(this),this._updateRoomPresence=this._updateRoomPresence.bind(this),this.room.addListener(Kn.SESSION_ACCEPT,this._updateRoomPresence),this.room.addListener(Kn.SOURCE_ADD,this._updateRoomPresence),this.room.addListener(Kn.SOURCE_ADD_ERROR,this._removeLocalSourceOnReject),this.room.addListener(Kn.SOURCE_REMOVE,this._updateRoomPresence),this.e2eping=new Qa(this,t,function(e,t){try{_this182.sendMessage(e,t,!0);}catch(e){ed.warn("Failed to send E2E ping request or response.",e&&e.msg);}}),this.rtc||(this.rtc=new va(this,e),this.eventManager.setupRTCListeners(),Hs.isSourceNameSignalingEnabled()&&this._registerRtcListeners(this.rtc)),this.receiveVideoController=new tc(this,this.rtc),this.sendVideoController=new nc(this,this.rtc),this.participantConnectionStatus=new oi(this.rtc,this,{p2pRtcMuteTimeout:t._p2pConnStatusRtcMuteTimeout,rtcMuteTimeout:t._peerConnStatusRtcMuteTimeout,outOfLastNTimeout:t._peerConnStatusOutOfLastNTimeout}),this.participantConnectionStatus.init();var i=!0;if(t.testing&&t.testing.callStatsThreshold&&(i=100*Math.random()<=t.testing.callStatsThreshold),this.statistics||(this.statistics=new jn(this.xmpp,{aliasName:this._statsCurrentId,userName:t.statisticsDisplayName?t.statisticsDisplayName:this.myUserId(),confID:t.confID||"".concat(this.connection.options.hosts.domain,"/").concat(this.options.name),siteID:t.siteID,customScriptUrl:t.callStatsCustomScriptUrl,callStatsID:t.callStatsID,callStatsSecret:t.callStatsSecret,callStatsApplicationLogsDisabled:t.callStatsApplicationLogsDisabled,enableCallStats:i,roomName:this.options.name,applicationName:t.applicationName,getWiFiStatsMethod:t.getWiFiStatsMethod,configParams:t.callStatsConfigParams}),jn.analytics.addPermanentProperties({callstats_name:this._statsCurrentId}),t.longTasksStatsInterval&&this.statistics.attachLongTasksStats(this)),this.eventManager.setupChatRoomListeners(),this.eventManager.setupStatisticsListeners(),t.enableTalkWhileMuted&&nn.supportsVADDetection())if(t.createVADProcessor){ed.info("Using VAD detection for generating talk while muted events"),this._audioAnalyser||(this._audioAnalyser=new Ja(this,t.createVADProcessor));var _e195=new Ha();_e195.on(xa,function(){return _this182.eventEmitter.emit(De);}),this._audioAnalyser.addVADDetectionService(_e195);}else ed.warn("No VAD Processor was provided. Talk while muted detection service was not initialized!");if(t.enableNoisyMicDetection&&nn.supportsVADDetection())if(t.createVADProcessor){this._audioAnalyser||(this._audioAnalyser=new Ja(this,t.createVADProcessor));var _e196=new Va();_e196.on(ka,function(){return _this182.eventEmitter.emit(fe);}),this._audioAnalyser.addVADDetectionService(_e196);}else ed.warn("No VAD Processor was provided. Noisy microphone detection service was not initialized!");t.enableNoAudioDetection&&(this._noAudioSignalDetection=new Fa(this),this._noAudioSignalDetection.on(Na,function(){_this182.eventEmitter.emit(me);}),this._noAudioSignalDetection.on(Da,function(e){_this182.eventEmitter.emit(j,e);})),"channelLastN"in t&&this.setLastN(t.channelLastN),this.jvb121Status=new Ya(this),this.p2pDominantSpeakerDetection=new ja(this),t&&t.deploymentInfo&&t.deploymentInfo.userRegion&&this.setLocalParticipantProperty("region",t.deploymentInfo.userRegion),this.setLocalParticipantProperty("codecType",this.codecSelection.getPreferredCodec()),t&&t.transcriptionLanguage&&"en-US"!==t.transcriptionLanguage&&this.setLocalParticipantProperty("transcription_language",t.transcriptionLanguage);},td.prototype.join=function(e){var _this183=this;var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.room&&this.room.join(e,t).then(function(){return _this183._maybeSetSITimeout();});},td.prototype.authenticateAndUpgradeRole=function(e){return Br.call(this,_objectSpread(_objectSpread({},e),{},{onCreateResource:td.resourceCreator}));},td.prototype.isJoined=function(){return this.room&&this.room.joined;},td.prototype.isP2PEnabled=function(){return Boolean(this.options.config.p2p&&this.options.config.p2p.enabled)||void 0===this.options.config.p2p;},td.prototype.isP2PTestModeEnabled=function(){return Boolean(this.options.config.testing&&this.options.config.testing.p2pTestMode);},td.prototype.leave=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee15(){var _this184=this;var e,t;return _regeneratorRuntime().wrap(function _callee15$(_context16){while(1)switch(_context16.prev=_context16.next){case 0:if(!(this.participantConnectionStatus&&(this.participantConnectionStatus.dispose(),this.participantConnectionStatus=null),this.avgRtpStatsReporter&&(this.avgRtpStatsReporter.dispose(),this.avgRtpStatsReporter=null),this._audioOutputProblemDetector&&(this._audioOutputProblemDetector.dispose(),this._audioOutputProblemDetector=null),this.e2eping&&(this.e2eping.stop(),this.e2eping=null),this.getLocalTracks().forEach(function(e){return _this184.onLocalTrackRemoved(e);}),this.rtc.closeBridgeChannel(),this._sendConferenceLeftAnalyticsEvent(),this.statistics&&this.statistics.dispose(),this._delayedIceFailed&&this._delayedIceFailed.cancel(),this._maybeClearSITimeout(),this.jvbJingleSession&&(this.jvbJingleSession.close(),this.jvbJingleSession=null),this.p2pJingleSession&&(this.p2pJingleSession.close(),this.p2pJingleSession=null),!this.room)){_context16.next=2;break;}throw new Error("The conference is has been already left");case 2:e=this.room;e.removeListener(Kn.CONNECTION_INTERRUPTED,this._onIceConnectionInterrupted),e.removeListener(Kn.CONNECTION_RESTORED,this._onIceConnectionRestored),e.removeListener(Kn.CONNECTION_ESTABLISHED,this._onIceConnectionEstablished),e.removeListener(Kn.CONFERENCE_PROPERTIES_CHANGED,this._updateProperties),e.removeListener(Kn.MEETING_ID_SET,this._sendConferenceJoinAnalyticsEvent),e.removeListener(Kn.SESSION_ACCEPT,this._updateRoomPresence),e.removeListener(Kn.SOURCE_ADD,this._updateRoomPresence),e.removeListener(Kn.SOURCE_ADD_ERROR,this._removeLocalSourceOnReject),e.removeListener(Kn.SOURCE_REMOVE,this._updateRoomPresence),this.eventManager.removeXMPPListeners(),this._signalingLayer.setChatRoom(null),this.room=null;_context16.prev=4;_context16.next=7;return e.leave();case 7:_context16.next=12;break;case 9:_context16.prev=9;_context16.t0=_context16["catch"](4);t=_context16.t0,this.getParticipants().forEach(function(e){return _this184.onMemberLeft(e.getJid());});case 12:if(!(this.rtc&&this.rtc.destroy(),t)){_context16.next=14;break;}throw t;case 14:case"end":return _context16.stop();}},_callee15,this,[[4,9]]);})),td.prototype._getActiveMediaSession=function(){return this.isP2PActive()?this.p2pJingleSession:this.jvbJingleSession;},td.prototype._getMediaSessions=function(){var e=[];return this.jvbJingleSession&&e.push(this.jvbJingleSession),this.p2pJingleSession&&e.push(this.p2pJingleSession),e;},td.prototype._registerRtcListeners=function(e){var _this185=this;e.addListener(Jn().DATA_CHANNEL_OPEN,function(){var _iterator80=_createForOfIteratorHelper(_this185.rtc.localTracks),_step80;try{for(_iterator80.s();!(_step80=_iterator80.n()).done;){var _e197=_step80.value;_e197.isVideoTrack()&&_this185._sendBridgeVideoTypeMessage(_e197);}}catch(err){_iterator80.e(err);}finally{_iterator80.f();}});},td.prototype._sendBridgeVideoTypeMessage=function(e){var t=!e||e.isMuted()?Gr().NONE:e.getVideoType();t===Gr().DESKTOP&&this._desktopSharingFrameRate>5&&(t=Gr().DESKTOP_HIGH_FPS),Hs.isSourceNameSignalingEnabled()?this.rtc.sendSourceVideoType($o(this.myUserId(),wn,0),t):this.rtc.setVideoType(t);},td.prototype.getName=function(){return this.options.name.toString();},td.prototype.getConnection=function(){return this.connection;},td.prototype.isAuthEnabled=function(){return this.authEnabled;},td.prototype.isLoggedIn=function(){return Boolean(this.authIdentity);},td.prototype.getAuthLogin=function(){return this.authIdentity;},td.prototype.isExternalAuthEnabled=function(){return this.room&&this.room.moderator.isExternalAuthEnabled();},td.prototype.getExternalAuthUrl=function(e){var _this186=this;return new Promise(function(t,n){_this186.isExternalAuthEnabled()?e?_this186.room.moderator.getPopupLoginUrl(t,n):_this186.room.moderator.getLoginUrl(t,n):n();});},td.prototype.getLocalTracks=function(e){var t=[];return this.rtc&&(t=this.rtc.getLocalTracks(e)),t;},td.prototype.getLocalAudioTrack=function(){return this.rtc?this.rtc.getLocalAudioTrack():null;},td.prototype.getLocalVideoTrack=function(){return this.rtc?this.rtc.getLocalVideoTrack():null;},td.prototype.getPerformanceStats=function(){return{longTasksStats:this.statistics.getLongTasksStats()};},td.prototype.on=function(e,t){this.eventEmitter&&this.eventEmitter.on(e,t);},td.prototype.off=function(e,t){this.eventEmitter&&this.eventEmitter.removeListener(e,t);},td.prototype.addEventListener=td.prototype.on,td.prototype.removeEventListener=td.prototype.off,td.prototype.addCommandListener=function(e,t){this.room&&this.room.addPresenceListener(e,t);},td.prototype.removeCommandListener=function(e,t){this.room&&this.room.removePresenceListener(e,t);},td.prototype.sendTextMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body";this.room&&this.room.sendMessage(e,t);},td.prototype.sendPrivateTextMessage=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"body";this.room&&this.room.sendPrivateMessage(e,t,n);},td.prototype.sendCommand=function(e,t){this.room?this.room.addOrReplaceInPresence(e,t)&&this.room.sendPresence():ed.warn("Not sending a command, room not initialized.");},td.prototype.sendCommandOnce=function(e,t){this.sendCommand(e,t),this.removeCommand(e);},td.prototype.removeCommand=function(e){this.room&&this.room.removeFromPresence(e);},td.prototype.setDisplayName=function(e){if(this.room){var t="nick";if(!e&&!this.room.getFromPresence(t))return;this.room.addOrReplaceInPresence(t,{attributes:{xmlns:"http://jabber.org/protocol/nick"},value:e})&&this.room.sendPresence();}},td.prototype.setSubject=function(e){this.room&&this.isModerator()?this.room.setSubject(e):ed.warn("Failed to set subject, ".concat(this.room?"":"not in a room, ").concat(this.isModerator()?"":"participant is not a moderator"));},td.prototype.getTranscriber=function(){if(void 0===this.transcriber){this.transcriber=new kc();var _e198=this.getLocalTracks(Rn);var _iterator81=_createForOfIteratorHelper(_e198),_step81;try{for(_iterator81.s();!(_step81=_iterator81.n()).done;){var _t146=_step81.value;this.transcriber.addTrack(_t146);}}catch(err){_iterator81.e(err);}finally{_iterator81.f();}var t=this.rtc.getRemoteTracks(Rn);var _iterator82=_createForOfIteratorHelper(t),_step82;try{for(_iterator82.s();!(_step82=_iterator82.n()).done;){var _e199=_step82.value;this.transcriber.addTrack(_e199);}}catch(err){_iterator82.e(err);}finally{_iterator82.f();}}return this.transcriber;},td.prototype.getTranscriptionStatus=function(){return this.room.transcriptionStatus;},td.prototype.addTrack=function(e){var t=e.getType(),n=this.rtc.getLocalTracks(t);return n.length>0?e===n[0]?Promise.resolve(e):Promise.reject(new Error("Cannot add second ".concat(t," track to the conference"))):this.replaceTrack(null,e);},td.prototype._fireAudioLevelChangeEvent=function(e,t){var n=this.getActivePeerConnection();t&&n!==t||this.eventEmitter.emit(ke,this.myUserId(),e);},td.prototype._fireMuteChangeEvent=function(e){var t;if(this.isMutedByFocus&&e.isAudioTrack()&&!e.isMuted()?(this.isMutedByFocus=!1,this.room.muteParticipant(this.room.myroomjid,!1,Rn)):this.isVideoMutedByFocus&&e.isVideoTrack()&&!e.isMuted()&&(this.isVideoMutedByFocus=!1,this.room.muteParticipant(this.room.myroomjid,!1,wn)),this.mutedByFocusActor&&e.isAudioTrack()){var _e200=rt.Strophe.getResourceFromJid(this.mutedByFocusActor);t=this.participants[_e200];}else if(this.mutedVideoByFocusActor&&e.isVideoTrack()){var _e201=rt.Strophe.getResourceFromJid(this.mutedVideoByFocusActor);t=this.participants[_e201];}e.isVideoTrack()&&!nn.doesVideoMuteByStreamRemove()&&this._sendBridgeVideoTypeMessage(e),this.eventEmitter.emit(Oe,e,t);},td.prototype._getInitialLocalTracks=function(){var _this187=this;return this.getLocalTracks().filter(function(e){var t=e.getType();return!(t!==Rn||_this187.isStartAudioMuted()&&!nn.isWebKitBased()&&!nn.isReactNative())||t===wn&&!_this187.isStartVideoMuted();});},td.prototype.onLocalTrackRemoved=function(e){e.setConference(null),this.rtc.removeLocalTrack(e),e.removeEventListener(ei,e.muteHandler),e.isAudioTrack()&&e.removeEventListener(Yn,e.audioLevelHandler),e.isVideoTrack()&&e.videoType===Hn().DESKTOP&&this.statistics.sendScreenSharingEvent(!1),this.eventEmitter.emit(Le,e);},td.prototype.removeTrack=function(e){return this.replaceTrack(e,null);},td.prototype.replaceTrack=function(e,t){var _this188=this;var n=this===(null==e?void 0:e.conference);return n&&e.disposed||null!=t&&t.disposed?Promise.reject(new Et(gt)):(e&&!n&&ed.warn("JitsiConference.replaceTrack oldTrack (".concat(e," does not belong to this conference")),this._doReplaceTrack(n?e:null,t).then(function(){return n&&_this188.onLocalTrackRemoved(e),t&&_this188._setupNewTrack(t),(n&&null!=e&&e.isVideoTrack()||null!=t&&t.isVideoTrack())&&_this188._sendBridgeVideoTypeMessage(t),n&&null!=e&&e.isVideoTrack()&&!(null!=e&&e._setEffectInProgress||null!=t&&t._setEffectInProgress)&&_this188._updateRoomPresence(_this188._getActiveMediaSession()),null!==t&&(_this188.isMutedByFocus||_this188.isVideoMutedByFocus)&&_this188._fireMuteChangeEvent(t),Promise.resolve();}).catch(function(e){return ed.error("replaceTrack failed: ".concat(null==e?void 0:e.stack)),Promise.reject(e);}));},td.prototype._doReplaceTrack=function(e,t){var n=[];return this.jvbJingleSession?n.push(this.jvbJingleSession.replaceTrack(e,t)):ed.info("_doReplaceTrack - no JVB JingleSession"),this.p2pJingleSession?n.push(this.p2pJingleSession.replaceTrack(e,t)):ed.info("_doReplaceTrack - no P2P JingleSession"),Promise.all(n);},td.prototype._removeLocalSourceOnReject=function(e,t,n){if(!e)return;ed.warn("Source-add rejected on ".concat(e,", reason=\\"").concat(null==t?void 0:t.reason,"\\", message=\\"").concat(null==t?void 0:t.msg,"\\""));var i=this.getLocalTracks(n)[0];this.eventEmitter.emit(xe,i);},td.prototype._setupNewTrack=function(e){if(e.isAudioTrack()||e.isVideoTrack()&&e.videoType!==Hn().DESKTOP){var t=va.getCurrentlyAvailableMediaDevices().find(function(t){return t.kind==="".concat(e.getTrack().kind,"input")&&t.label===e.getTrack().label;});t&&jn.sendActiveDeviceListEvent(va.getEventDataForActiveDevice(t));}this.rtc.addLocalTrack(e),e.setConference(this),e.muteHandler=this._fireMuteChangeEvent.bind(this,e),e.addEventListener(ei,e.muteHandler),e.isAudioTrack()&&(e.audioLevelHandler=this._fireAudioLevelChangeEvent.bind(this),e.addEventListener(Yn,e.audioLevelHandler)),this.eventEmitter.emit(Ne,e);},td.prototype._setNewVideoType=function(e){if(Hs.isSourceNameSignalingEnabled()&&e)return this._signalingLayer.setTrackVideoType($o(this.myUserId(),e.getType(),0),e.videoType),!0;var t="videoType",n=e?e.videoType:Hn().CAMERA;return!(n===Hn().CAMERA&&!this.room.getFromPresence(t))&&this.room.addOrReplaceInPresence(t,{value:n});},td.prototype._setTrackMuteStatus=function(e,t,n){return Hs.isSourceNameSignalingEnabled()&&this._signalingLayer.setTrackMuteStatus($o(this.myUserId(),e,0),n),!!this.room&&(e===Rn?this.room.addAudioInfoToPresence(n):this.room.addVideoInfoToPresence(n));},td.prototype._addLocalTrackAsUnmute=function(e){var _this189=this;var t=[];return this.jvbJingleSession?t.push(this.jvbJingleSession.addTrackAsUnmute(e)):ed.debug("Add local MediaStream as unmute - no JVB Jingle session started yet"),this.p2pJingleSession?t.push(this.p2pJingleSession.addTrackAsUnmute(e)):ed.debug("Add local MediaStream as unmute - no P2P Jingle session started yet"),Promise.allSettled(t).then(function(){e.isVideoTrack()&&_this189._sendBridgeVideoTypeMessage(e);});},td.prototype._removeLocalTrackAsMute=function(e){var _this190=this;var t=[];return this.jvbJingleSession?t.push(this.jvbJingleSession.removeTrackAsMute(e)):ed.debug("Remove local MediaStream - no JVB JingleSession started yet"),this.p2pJingleSession?t.push(this.p2pJingleSession.removeTrackAsMute(e)):ed.debug("Remove local MediaStream - no P2P JingleSession started yet"),Promise.allSettled(t).then(function(){e.isVideoTrack()&&_this190._sendBridgeVideoTypeMessage();});},td.prototype.getRole=function(){return this.room.role;},td.prototype.isHidden=function(){return this.connection?rt.Strophe.getDomainFromJid(this.connection.getJid())===this.options.config.hiddenDomain:null;},td.prototype.isModerator=function(){return this.room?this.room.isModerator():null;},td.prototype.lock=function(e){var _this191=this;return this.isModerator()?new Promise(function(t,n){_this191.room.lockRoom(e||"",function(){return t();},function(e){return n(e);},function(){return n(O);});}):Promise.reject(new Error("You are not moderator."));},td.prototype.unlock=function(){return this.lock();},td.prototype.selectParticipant=function(e){this.selectParticipants([e]);},td.prototype.selectParticipants=function(e){if(!Array.isArray(e))throw new Error("Invalid argument; participantIds must be an array.");this.receiveVideoController.selectEndpoints(e);},td.prototype.getLastN=function(){return this.receiveVideoController.getLastN();},td.prototype.setLastN=function(e){if(!Number.isInteger(e)&&!Number.parseInt(e,10))throw new Error("Invalid value for lastN: ".concat(e));var t=Number(e);if(t<-1)throw new RangeError("lastN cannot be smaller than -1");if(this.receiveVideoController.setLastN(t),this.p2pJingleSession){var _e202=0!==t;this.p2pJingleSession.setMediaTransferActive(!0,_e202).catch(function(t){ed.error("Failed to adjust video transfer status (".concat(_e202,")"),t);});}},td.prototype.isInLastN=function(e){return this.rtc.isInLastN(e);},td.prototype.getParticipants=function(){return Object.values(this.participants);},td.prototype.getParticipantCount=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getParticipants();return e||(t=t.filter(function(e){return!e.isHidden();})),t.length+1;},td.prototype.getParticipantById=function(e){return this.participants[e];},td.prototype.grantOwner=function(e){var t=this.getParticipantById(e);t&&this.room.setAffiliation(t.getJid(),"owner");},td.prototype.revokeOwner=function(e){var t=this.getParticipantById(e),n=this.myUserId()===e,i=this.isMembersOnly()?"member":"none";n?this.room.setAffiliation(this.room.myroomjid,i):t&&this.room.setAffiliation(t.getJid(),i);},td.prototype.kickParticipant=function(e,t){var n=this.getParticipantById(e);n&&this.room.kick(n.getJid(),t);},td.prototype._maybeClearSITimeout=function(){this._sessionInitiateTimeout&&(this.jvbJingleSession||this.getParticipantCount()<2)&&(window.clearTimeout(this._sessionInitiateTimeout),this._sessionInitiateTimeout=null);},td.prototype._maybeSetSITimeout=function(){var _this192=this;!this.jvbJingleSession&&this.getParticipantCount()>=2&&!this._sessionInitiateTimeout&&(this._sessionInitiateTimeout=window.setTimeout(function(){_this192._sessionInitiateTimeout=null,jn.sendAnalytics(Mt("session-initiate.timeout",{p2p:!1,value:5e3}));},5e3));},td.prototype.muteParticipant=function(e,t){var n=t||Rn;if(n!==Rn&&n!==wn)return void ed.error("Unsupported media type: ".concat(n));var i=this.getParticipantById(e);i&&this.room.muteParticipant(i.getJid(),!0,n);},td.prototype.onMemberJoined=function(e,t,n,i,s,r,o,a,c,d,l){var h=rt.Strophe.getResourceFromJid(e);if("focus"===h||this.myUserId()===h)return;var u=new ai(e,this,t,i,s,r,o);u.setRole(n),u.setBotType(a),u.setFeatures(d),u.setIsReplacing(l),this.participants[h]=u,this.eventEmitter.emit(je,h,u),this._updateFeatures(u),this.isJoined()&&this._maybeStartOrStopP2P(),this._maybeSetSITimeout();},td.prototype._onMucJoined=function(){this._maybeStartOrStopP2P();},td.prototype._updateFeatures=function(e){var _this193=this;e.getFeatures().then(function(t){e._supportsDTMF=t.has("urn:xmpp:jingle:dtmf:0"),_this193.updateDTMFSupport(),t.has(jr)&&e.setProperty("features_jigasi",!0),t.has($r)&&e.setProperty("features_e2ee",!0);}).catch(function(){return!1;});},td.prototype._onMemberBotTypeChanged=function(e,t){var n=this.getParticipants().find(function(t){return t.getJid()===e;});if(n){n.setBotType(t);var _i100=rt.Strophe.getResourceFromJid(e);this.eventEmitter.emit(Ve,_i100,t);}n.getBotType()||this._maybeStartOrStopP2P();},td.prototype.onMemberLeft=function(e){var _this194=this;var t=rt.Strophe.getResourceFromJid(e);if("focus"===t||this.myUserId()===t)return;var n=this.participants[t],i=this._getMediaSessions();var s=[];var _iterator83=_createForOfIteratorHelper(i),_step83;try{for(_iterator83.s();!(_step83=_iterator83.n()).done;){var _e203=_step83.value;var _n102=_e203.peerconnection.getRemoteTracks(t);_n102&&(s=[].concat(_toConsumableArray(s),_toConsumableArray(_n102))),_e203.removeRemoteStreamsOnLeave(t);}}catch(err){_iterator83.e(err);}finally{_iterator83.f();}s.forEach(function(e){_this194.eventEmitter.emit(Le,e);}),n&&(delete this.participants[t],this.eventEmitter.emit($e,t,n)),null!==this.room&&(this._maybeStartOrStopP2P(!0),this._maybeClearSITimeout());},td.prototype.onMemberKicked=function(e,t,n,i,s){if(t===this.myUserId())return;var r=this.participants[t];if(e)return this.eventEmitter.emit(re,r,i,s),void this.leave();var o=this.participants[n];o.setIsReplaced(s),this.eventEmitter.emit(oe,r,o,i);},td.prototype.onLocalRoleChanged=function(e){this.eventEmitter.emit(Ue,this.myUserId(),e);},td.prototype.onUserRoleChanged=function(e,t){var n=rt.Strophe.getResourceFromJid(e),i=this.getParticipantById(n);i&&(i.setRole(t),this.eventEmitter.emit(Ue,n,t));},td.prototype.onDisplayNameChanged=function(e,t){var n=rt.Strophe.getResourceFromJid(e),i=this.getParticipantById(n);i&&i._displayName!==t&&(i._displayName=t,this.eventEmitter.emit(Y,n,t));},td.prototype.onRemoteTrackAdded=function(e){var _this195=this;if(e.isP2P&&!this.isP2PActive())return void ed.info("Trying to add remote P2P track, when not in P2P - IGNORED");if(!e.isP2P&&this.isP2PActive())return void ed.info("Trying to add remote JVB track, when in P2P - IGNORED");var t=e.getParticipantId(),n=this.getParticipantById(t);if(!n)return void ed.error("No participant found for id: ".concat(t));n._tracks.push(e),this.transcriber&&this.transcriber.addTrack(e);var i=this.eventEmitter;e.addEventListener(ei,function(){return i.emit(Oe,e);}),e.addEventListener(Yn,function(e,n){_this195.getActivePeerConnection()===n&&i.emit(ke,t,e);}),i.emit(Ne,e);},td.prototype.onCallAccepted=function(e,t){this.p2pJingleSession===e&&(ed.info("P2P setAnswer"),this.p2pJingleSession.setAnswer(t),this.eventEmitter.emit(le,this.p2pJingleSession));},td.prototype.onTransportInfo=function(e,t){this.p2pJingleSession===e&&(ed.info("P2P addIceCandidates"),this.p2pJingleSession.addIceCandidates(t));},td.prototype.onRemoteTrackRemoved=function(e){var _this196=this;this.getParticipants().forEach(function(t){var n=t.getTracks();for(var _i101=0;_i101<n.length;_i101++)if(n[_i101]===e){t._tracks.splice(_i101,1),_this196.eventEmitter.emit(Le,e),_this196.transcriber&&_this196.transcriber.removeTrack(e);break;}},this);},td.prototype._onIncomingCallP2P=function(e,t){var n;!this.isP2PEnabled()&&!this.isP2PTestModeEnabled()||nn.isFirefox()||nn.isWebKitBased()?n={reason:"decline",reasonDescription:"P2P disabled",errorMsg:"P2P mode disabled in the configuration"}:this.p2pJingleSession?n={reason:"busy",reasonDescription:"P2P already in progress",errorMsg:\'Duplicated P2P "session-initiate"\'}:this._shouldBeInP2PMode()||(n={reason:"decline",reasonDescription:"P2P requirements not met",errorMsg:\'Received P2P "session-initiate" when should not be in P2P mode\'},jn.sendAnalytics(Mt("decline"))),n?this._rejectIncomingCall(e,n):this._acceptP2PIncomingCall(e,t);},td.prototype.onIncomingCall=function(e,t,n){if(e.isP2P)this._onIncomingCallP2P(e,t);else{if(!this.isFocus(e.remoteJid)){var _t147="Rejecting session-initiate from non-focus.";return void this._rejectIncomingCall(e,{reason:"security-error",reasonDescription:_t147,errorMsg:_t147});}this._acceptJvbIncomingCall(e,t,n);}},td.prototype._acceptJvbIncomingCall=function(e,t,n){var _this197=this;this.jvbJingleSession=e,this.room.connectionTimes["session.initiate"]=n,this._sendConferenceJoinAnalyticsEvent(),this.wasStopped&&jn.sendAnalyticsAndLog(Mt("restart",{p2p:!1}));var i=$CC(t).find(\'>bridge-session[xmlns="http://jitsi.org/protocol/focus"]\').attr("region");this.eventEmitter.emit(de,i),this._maybeClearSITimeout(),jn.sendAnalytics(Mt("session-initiate.received",{p2p:!1,value:n}));try{e.initialize(this.room,this.rtc,this._signalingLayer,_objectSpread(_objectSpread({},this.options.config),{},{enableInsertableStreams:this.isE2EEEnabled()}));}catch(e){return dn().callErrorHandler(e),void ed.error(e);}this._setBridgeChannel(t,e.peerconnection);var s=this._getInitialLocalTracks();try{e.acceptOffer(t,function(){_this197.isP2PActive()&&_this197.jvbJingleSession&&_this197._suspendMediaTransferForJvbConnection(),_this197.eventEmitter.emit(le,e),_this197.isP2PActive()||_this197.eventEmitter.emit(he,e);},function(e){dn().callErrorHandler(e),ed.error("Failed to accept incoming Jingle session",e);},s),this._desktopSharingFrameRate&&e.peerconnection.setDesktopSharingFrameRate(this._desktopSharingFrameRate),ed.info("Starting CallStats for JVB connection..."),this.statistics.startCallStats(this.jvbJingleSession.peerconnection,"jitsi"),this.statistics.startRemoteStats(this.jvbJingleSession.peerconnection);}catch(e){dn().callErrorHandler(e),ed.error(e);}},td.prototype._setBridgeChannel=function(e,t){var n=null;var i=$CC(e).find(">content>transport>web-socket").first();1===i.length&&(n=i[0].getAttribute("url")),n?this.rtc.initializeBridgeChannel(null,n):this.rtc.initializeBridgeChannel(t,null);},td.prototype._rejectIncomingCall=function(e,t){t&&t.errorMsg&&dn().callErrorHandler(new Error(t.errorMsg)),e.terminate(null,function(e){ed.warn("An error occurred while trying to terminate invalid Jingle session",e);},{reason:t&&t.reason,reasonDescription:t&&t.reasonDescription,sendSessionTerminate:!0});},td.prototype.onCallEnded=function(e,t,n){if(ed.info("Call ended: ".concat(t," - ").concat(n," P2P ?").concat(e.isP2P)),e===this.jvbJingleSession)this.wasStopped=!0,jn.sendAnalytics(Mt("terminate",{p2p:!1})),this.statistics&&(this.statistics.stopRemoteStats(this.jvbJingleSession.peerconnection),ed.info("Stopping JVB CallStats"),this.statistics.stopCallStats(this.jvbJingleSession.peerconnection)),this.jvbJingleSession=null,this.rtc.onCallEnded();else if(e===this.p2pJingleSession){var _e204={};"decline"===t&&"force JVB121"===n?(ed.info("In forced JVB 121 mode..."),jn.analytics.addPermanentProperties({forceJvb121:!0})):"connectivity-error"===t&&"ICE FAILED"===n?jn.analytics.addPermanentProperties({p2pFailed:!0}):"success"===t&&"restart"===n&&(_e204.requestRestart=!0),this._stopP2PSession(_e204);}else ed.error("Received onCallEnded for invalid session",e.sid,e.remoteJid,t,n);},td.prototype.onSuspendDetected=function(e){e.isP2P||(this.leave(),this.eventEmitter.emit(Me));},td.prototype.updateDTMFSupport=function(){var e=!1;var t=this.getParticipants();for(var _n103=0;_n103<t.length;_n103+=1)if(t[_n103].supportsDTMF()){e=!0;break;}e!==this.somebodySupportsDTMF&&(this.somebodySupportsDTMF=e,this.eventEmitter.emit(te,e));},td.prototype.isDTMFSupported=function(){return this.somebodySupportsDTMF;},td.prototype.myUserId=function(){return this.room&&this.room.myroomjid?rt.Strophe.getResourceFromJid(this.room.myroomjid):null;},td.prototype.sendTones=function(e,t,n){var i=this.getActivePeerConnection();i?i.sendTones(e,t,n):ed.warn("cannot sendTones: no peer connection");},td.prototype.startRecording=function(e){return this.room?this.recordingManager.startRecording(e):Promise.reject(new Error("The conference is not created yet!"));},td.prototype.stopRecording=function(e){return this.room?this.recordingManager.stopRecording(e):Promise.reject(new Error("The conference is not created yet!"));},td.prototype.isSIPCallingSupported=function(){return!!this.room&&this.room.isSIPCallingSupported();},td.prototype.dial=function(e){return this.room?this.room.dial(e):new Promise(function(e,t){t(new Error("The conference is not created yet!"));});},td.prototype.hangup=function(){return this.room?this.room.hangup():new Promise(function(e,t){t(new Error("The conference is not created yet!"));});},td.prototype.startTranscriber=function(){return this.dial("jitsi_meet_transcribe");},td.prototype.stopTranscriber=td.prototype.hangup,td.prototype.getPhoneNumber=function(){return this.room?this.room.getPhoneNumber():null;},td.prototype.getPhonePin=function(){return this.room?this.room.getPhonePin():null;},td.prototype.getMeetingUniqueId=function(){if(this.room)return this.room.getMeetingId();},td.prototype.getActivePeerConnection=function(){var e=this.isP2PActive()?this.p2pJingleSession:this.jvbJingleSession;return e?e.peerconnection:null;},td.prototype.getConnectionState=function(){var e=this.getActivePeerConnection();return e?e.getConnectionState():null;},td.prototype.setStartMutedPolicy=function(e){this.isModerator()?(this.startMutedPolicy=e,this.room.addOrReplaceInPresence("startmuted",{attributes:{audio:e.audio,video:e.video,xmlns:"http://jitsi.org/jitmeet/start-muted"}})&&this.room.sendPresence()):ed.warn("Failed to set start muted policy, ".concat(this.room?"":"not in a room, ").concat(this.isModerator()?"":"participant is not a moderator"));},td.prototype.getStartMutedPolicy=function(){return this.startMutedPolicy;},td.prototype.isStartAudioMuted=function(){return this.startAudioMuted;},td.prototype.isStartVideoMuted=function(){return this.startVideoMuted;},td.prototype.getConnectionTimes=function(){return this.room.connectionTimes;},td.prototype.setLocalParticipantProperty=function(e,t){this.sendCommand("jitsi_participant_".concat(e),{value:t});},td.prototype.removeLocalParticipantProperty=function(e){this.removeCommand("jitsi_participant_".concat(e)),this.room.sendPresence();},td.prototype.getLocalParticipantProperty=function(e){var t=this.room.presMap.nodes.find(function(t){return t.tagName==="jitsi_participant_".concat(e);});return t?t.value:void 0;},td.prototype.sendFeedback=function(e,t){return this.statistics.sendFeedback(e,t);},td.prototype.isCallstatsEnabled=function(){return this.statistics.isCallstatsEnabled();},td.prototype.getSsrcByTrack=function(e){var t;return e.isLocal()?null===(t=this.getActivePeerConnection())||void 0===t?void 0:t.getLocalSSRC(e):e.getSSRC();},td.prototype._onTrackAttach=function(e,t){var n=e.isLocal();var i=null;var s=e.isP2P,r=s?e.getParticipantId():"jitsi",o=s?this.p2pJingleSession&&this.p2pJingleSession.peerconnection:this.jvbJingleSession&&this.jvbJingleSession.peerconnection;n?o&&(i=o.getLocalSSRC(e)):i=e.getSSRC(),t.id&&i&&o&&this.statistics.associateStreamWithVideoTag(o,i,n,r,e.getUsageLabel(),t.id);},td.prototype.sendApplicationLog=function(e){jn.sendLog(e);},td.prototype.isFocus=function(e){return this.room?this.room.isFocus(e):null;},td.prototype._fireIncompatibleVersionsEvent=function(){this.eventEmitter.emit(V,N);},td.prototype.sendEndpointMessage=function(e,t){this.rtc.sendChannelMessage(e,t);},td.prototype.sendEndpointStatsMessage=function(e){this.rtc.sendEndpointStatsMessage(e);},td.prototype.broadcastEndpointMessage=function(e){this.sendEndpointMessage("",e);},td.prototype.sendMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var i=_typeof(e);if("object"===i||!n&&"string"===i){if(n)this.sendEndpointMessage(t,e);else{var _n104=e,_s45="body";if("object"===i){_s45="json-message",_n104.hasOwnProperty(Fr)||(_n104[Fr]="");try{_n104=JSON.stringify(_n104);}catch(e){return void ed.error("Can not send a message, stringify failed: ",e);}}t?this.sendPrivateTextMessage(t,_n104,_s45):this.sendTextMessage(_n104,_s45);}}else ed.error("Can not send a message of type ".concat(i));},td.prototype.isConnectionInterrupted=function(){return this.isP2PActive()?this.isP2PConnectionInterrupted:this.isJvbConnectionInterrupted;},td.prototype._onConferenceRestarted=function(e){!e.isP2P&&this.options.config.enableForcedReload&&this.eventEmitter.emit(V,T);},td.prototype._onIceConnectionInterrupted=function(e){e.isP2P?this.isP2PConnectionInterrupted=!0:this.isJvbConnectionInterrupted=!0,e.isP2P===this.isP2PActive()&&this.eventEmitter.emit(W);},td.prototype._onIceConnectionFailed=function(e){e.isP2P?(jn.analytics.addPermanentProperties({p2pFailed:!0}),this.p2pJingleSession&&jn.sendAnalyticsAndLog(Dt("failed",{initiator:this.p2pJingleSession.isInitiator})),this._stopP2PSession({reason:"connectivity-error",reasonDescription:"ICE FAILED"})):e&&this.jvbJingleSession===e&&(this._delayedIceFailed=new Pa(this),this._delayedIceFailed.start(e));},td.prototype._onIceConnectionRestored=function(e){e.isP2P?this.isP2PConnectionInterrupted=!1:(this.isJvbConnectionInterrupted=!1,this._delayedIceFailed&&this._delayedIceFailed.cancel()),e.isP2P===this.isP2PActive()&&this.eventEmitter.emit(Q);},td.prototype._acceptP2PIncomingCall=function(e,t){var _this198=this;this.isP2PConnectionInterrupted=!1,this.p2pJingleSession=e,this._sendConferenceJoinAnalyticsEvent(),this.p2pJingleSession.initialize(this.room,this.rtc,this._signalingLayer,_objectSpread(_objectSpread({},this.options.config),{},{enableInsertableStreams:this.isE2EEEnabled()})),ed.info("Starting CallStats for P2P connection...");var n=rt.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid);var i=this.participants[n];i&&(n=i.getStatsID()||n),this.statistics.startCallStats(this.p2pJingleSession.peerconnection,n);var s=this.getLocalTracks();this.p2pJingleSession.acceptOffer(t,function(){ed.debug(\'Got RESULT for P2P "session-accept"\'),_this198.eventEmitter.emit(le,e);},function(e){ed.error("Failed to accept incoming P2P Jingle session",e);},s);},td.prototype._addRemoteJVBTracks=function(){this._addRemoteTracks("JVB",this.jvbJingleSession.peerconnection.getRemoteTracks());},td.prototype._addRemoteP2PTracks=function(){this._addRemoteTracks("P2P",this.p2pJingleSession.peerconnection.getRemoteTracks());},td.prototype._addRemoteTracks=function(e,t){var _iterator84=_createForOfIteratorHelper(t),_step84;try{for(_iterator84.s();!(_step84=_iterator84.n()).done;){var _n105=_step84.value;ed.info("Adding remote ".concat(e," track: ").concat(_n105)),this.onRemoteTrackAdded(_n105);}}catch(err){_iterator84.e(err);}finally{_iterator84.f();}},td.prototype._onIceConnectionEstablished=function(e){null!==this.p2pJingleSession&&(this.p2pEstablishmentDuration=this.p2pJingleSession.establishmentDuration),null!==this.jvbJingleSession&&(this.jvbEstablishmentDuration=this.jvbJingleSession.establishmentDuration);var t=!1;var n=this.options.config.forceJVB121Ratio;if(e.isP2P?this.p2pJingleSession!==e?(ed.error("CONNECTION_ESTABLISHED - wrong P2P session instance ?!"),t=!0):!e.isInitiator&&"number"==typeof n&&Math.random()<n&&(ed.info("Forcing JVB 121 mode (ratio=".concat(n,")...")),jn.analytics.addPermanentProperties({forceJvb121:!0}),this._stopP2PSession({reason:"decline",reasonDescription:"force JVB121"}),t=!0):t=!0,!isNaN(this.p2pEstablishmentDuration)&&!isNaN(this.jvbEstablishmentDuration)){var _e205=this.p2pEstablishmentDuration-this.jvbEstablishmentDuration;jn.sendAnalytics("ice.establishment.duration.diff",{value:_e205});}e.isP2P===this.isP2PActive()&&this.eventEmitter.emit(z),t||(this._setP2PStatus(!0),this.jvbJingleSession?this._removeRemoteJVBTracks():ed.info("Not removing remote JVB tracks - no session yet"),this._addRemoteP2PTracks(),this.jvbJingleSession&&this._suspendMediaTransferForJvbConnection(),ed.info("Starting remote stats with p2p connection"),this.statistics.startRemoteStats(this.p2pJingleSession.peerconnection),jn.sendAnalyticsAndLog(Dt("established",{initiator:this.p2pJingleSession.isInitiator})));},td.prototype._updateProperties=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=!st()(e,this.properties);if(this.properties=e,t){this.eventEmitter.emit(be,this.properties);var _t148="true"===this.properties["audio-limit-reached"],_n106="true"===this.properties["video-limit-reached"];this._audioSenderLimitReached!==_t148&&(this._audioSenderLimitReached=_t148,this.eventEmitter.emit($,_t148),ed.info("Audio unmute permissions set by Jicofo to ".concat(_t148))),this._videoSenderLimitReached!==_n106&&(this._videoSenderLimitReached=_n106,this.eventEmitter.emit(Je,_n106),ed.info("Video unmute permissions set by Jicofo to ".concat(_n106))),["bridge-count","created-ms"].forEach(function(t){void 0!==e[t]&&jn.analytics.addPermanentProperties(_defineProperty({},t.replace("-","_"),e[t]));});}},td.prototype.getProperty=function(e){return this.properties[e];},td.prototype._maybeClearDeferredStartP2P=function(){this.deferredStartP2PTask&&(ed.info("Cleared deferred start P2P task"),clearTimeout(this.deferredStartP2PTask),this.deferredStartP2PTask=null);},td.prototype._removeRemoteJVBTracks=function(){this._removeRemoteTracks("JVB",this.jvbJingleSession.peerconnection.getRemoteTracks());},td.prototype._removeRemoteP2PTracks=function(){this._removeRemoteTracks("P2P",this.p2pJingleSession.peerconnection.getRemoteTracks());},td.prototype._removeRemoteTracks=function(e,t){var _iterator85=_createForOfIteratorHelper(t),_step85;try{for(_iterator85.s();!(_step85=_iterator85.n()).done;){var _n107=_step85.value;ed.info("Removing remote ".concat(e," track: ").concat(_n107)),this.onRemoteTrackRemoved(_n107);}}catch(err){_iterator85.e(err);}finally{_iterator85.f();}},td.prototype._resumeMediaTransferForJvbConnection=function(){ed.info("Resuming media transfer over the JVB connection..."),this.jvbJingleSession.setMediaTransferActive(!0,!0).then(function(){ed.info("Resumed media transfer over the JVB connection!");},function(e){ed.error("Failed to resume media transfer over the JVB connection:",e);});},td.prototype._setP2PStatus=function(e){if(this.p2p!==e){if(this.p2p=e,e){ed.info("Peer to peer connection established!"),jn.analytics.addPermanentProperties({p2pFailed:!1,forceJvb121:!1});var _e206=0!==this.getLastN();this.p2pJingleSession.setMediaTransferActive(!0,_e206).catch(function(t){ed.error("Failed to sync up P2P video transfer status(".concat(_e206,")"),t);});}else ed.info("Peer to peer connection closed!");this.jvbJingleSession&&this.statistics.sendConnectionResumeOrHoldEvent(this.jvbJingleSession.peerconnection,!e),this.dtmfManager=null,this.eventEmitter.emit(Ee,this,this.p2p),this.eventEmitter.emit(he,this._getActiveMediaSession()),this.eventEmitter.emit(this.isConnectionInterrupted()?W:Q);}else ed.debug("Called _setP2PStatus with the same status: ".concat(e));},td.prototype._startP2PSession=function(e){if(this._maybeClearDeferredStartP2P(),this.p2pJingleSession)return void ed.error("P2P session already started!");this.isP2PConnectionInterrupted=!1,this.p2pJingleSession=this.xmpp.connection.jingle.newP2PJingleSession(this.room.myroomjid,e),ed.info("Created new P2P JingleSession",this.room.myroomjid,e),this._sendConferenceJoinAnalyticsEvent(),this.p2pJingleSession.initialize(this.room,this.rtc,this._signalingLayer,_objectSpread(_objectSpread({},this.options.config),{},{enableInsertableStreams:this.isE2EEEnabled()})),ed.info("Starting CallStats for P2P connection...");var t=rt.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid);var n=this.participants[t];n&&(t=n.getStatsID()||t),this.statistics.startCallStats(this.p2pJingleSession.peerconnection,t);var i=this.getLocalTracks();this.p2pJingleSession.invite(i);},td.prototype._suspendMediaTransferForJvbConnection=function(){ed.info("Suspending media transfer over the JVB connection..."),this.jvbJingleSession.setMediaTransferActive(!1,!1).then(function(){ed.info("Suspended media transfer over the JVB connection !");},function(e){ed.error("Failed to suspend media transfer over the JVB connection:",e);});},td.prototype._maybeStartOrStopP2P=function(e){if(!this.isP2PEnabled()||this.isP2PTestModeEnabled()||nn.isFirefox()||nn.isWebKitBased()||this.isE2EEEnabled())return void ed.info("Auto P2P disabled");var t=this.getParticipants(),n=t.length,i=this._shouldBeInP2PMode();if(!i&&this.deferredStartP2PTask&&this._maybeClearDeferredStartP2P(),!this.p2pJingleSession&&i){var _i102=n&&t[0],_s46=this.myUserId(),_r25=_i102.getId();if(_s46>_r25)return void ed.debug("I\'m the bigger peersId - the other peer should start P2P",_s46,_r25);if(_s46===_r25)return void ed.error("The same IDs ? ",_s46,_r25);var _o21=_i102.getJid();if(e){if(this.deferredStartP2PTask)return void ed.error("Deferred start P2P task\'s been set already!");ed.info("Will start P2P with: ".concat(_o21," after ").concat(this.backToP2PDelay," seconds...")),this.deferredStartP2PTask=setTimeout(this._startP2PSession.bind(this,_o21),1e3*this.backToP2PDelay);}else ed.info("Will start P2P with: ".concat(_o21)),this._startP2PSession(_o21);}else this.p2pJingleSession&&!i&&(ed.info("Will stop P2P with: ".concat(this.p2pJingleSession.remoteJid)),this.p2pJingleSession.isInitiator&&n>1&&jn.sendAnalyticsAndLog(Dt("switch.to.jvb")),this._stopP2PSession());},td.prototype._shouldBeInP2PMode=function(){var e=this.getParticipants(),t=e.length,n=void 0!==e.find(function(e){return"poltergeist"===e.getBotType()||e.hasFeature(jr);}),i=1===t&&!n;return ed.debug("P2P? peerCount: ".concat(t,", hasBotPeer: ").concat(n," => ").concat(i)),i;},td.prototype._stopP2PSession=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var _e$reason=e.reason,t=_e$reason===void 0?"success":_e$reason,_e$reasonDescription=e.reasonDescription,n=_e$reasonDescription===void 0?"Turning off P2P session":_e$reasonDescription,_e$requestRestart=e.requestRestart,i=_e$requestRestart===void 0?!1:_e$requestRestart;if(!this.p2pJingleSession)return void ed.error("No P2P session to be stopped!");var s=this.isP2PActive();s&&(this.jvbJingleSession&&!i&&this._resumeMediaTransferForJvbConnection(),this._removeRemoteP2PTracks()),ed.info("Stopping remote stats for P2P connection"),this.statistics.stopRemoteStats(this.p2pJingleSession.peerconnection),ed.info("Stopping CallStats for P2P connection"),this.statistics.stopCallStats(this.p2pJingleSession.peerconnection),this.p2pJingleSession.terminate(function(){ed.info("P2P session terminate RESULT");},function(e){"success"!==t&&ed.error("An error occurred while trying to terminate P2P Jingle session",e);},{reason:t,reasonDescription:n,sendSessionTerminate:this.room&&this.getParticipantById(rt.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid))}),this.p2pJingleSession=null,this._setP2PStatus(!1),s&&(this.jvbJingleSession&&!i?this._addRemoteJVBTracks():ed.info("Not adding remote JVB tracks - no session yet"));},td.prototype._updateRoomPresence=function(e,t){if(!e)return;if(t){if(t.skip)return;t.skip=!0;}var n=e.peerconnection.getLocalTracks(Rn),i=e.peerconnection.getLocalTracks(wn);var s=!1;if(n&&n.length?s=this._setTrackMuteStatus(Rn,n[0],n[0].isMuted()):this._setTrackMuteStatus(Rn,void 0,!0)&&(s=!0),i&&i.length){var _e207=this._setTrackMuteStatus(wn,i[0],i[0].isMuted()),_t149=this._setNewVideoType(i[0]);s=s||_e207||_t149;}else{var _e208=this._setTrackMuteStatus(wn,void 0,!0),_t150=this._setNewVideoType();s=s||_e208||_t150;}s&&this.room.sendPresence();},td.prototype.isP2PActive=function(){return this.p2p;},td.prototype.getP2PConnectionState=function(){return this.isP2PActive()?this.p2pJingleSession.peerconnection.getConnectionState():null;},td.prototype.setDesktopSharingFrameRate=function(e){return"number"!=typeof e||isNaN(e)?(ed.error("Invalid value ".concat(e," specified for desktop capture frame rate")),!1):(this._desktopSharingFrameRate=e,this.jvbJingleSession&&this.jvbJingleSession.peerconnection.setDesktopSharingFrameRate(e),this.rtc.setDesktopSharingFrameRate(e),!0);},td.prototype.startP2PSession=function(){var e=this.getParticipants();if(1!==e.length)throw new Error("There must be exactly 1 participant to start the P2P session !");{var t=e[0].getJid();this._startP2PSession(t);}},td.prototype.stopP2PSession=function(e){this._stopP2PSession(e);},td.prototype.getSpeakerStats=function(){return this.speakerStatsCollector.getStats();},td.prototype.sendFacialExpression=function(e){this.xmpp.sendFacialExpressionEvent(this.room.roomjid,e);},td.prototype.setReceiverConstraints=function(e){this.receiveVideoController.setReceiverConstraints(e);},td.prototype.setReceiverVideoConstraint=function(e){this.receiveVideoController.setPreferredReceiveMaxFrameHeight(e);},td.prototype.setSenderVideoConstraint=function(e){return this.sendVideoController.setPreferredSendMaxFrameHeight(e);},td.prototype.createVideoSIPGWSession=function(e,t){return this.room?this.videoSIPGWHandler.createVideoSIPGWSession(e,t):new Error(Hc);},td.prototype._sendConferenceJoinAnalyticsEvent=function(){var e=this.getMeetingUniqueId();!this._conferenceJoinAnalyticsEventSent&&e&&null!==this.getActivePeerConnection()&&(jn.sendAnalytics(wt("joined",{meetingId:e,participantId:"".concat(e,".").concat(this._statsCurrentId)})),this._conferenceJoinAnalyticsEventSent=Date.now());},td.prototype._sendConferenceLeftAnalyticsEvent=function(){var e=this.getMeetingUniqueId();e&&this._conferenceJoinAnalyticsEventSent&&jn.sendAnalytics(wt("left",{meetingId:e,participantId:"".concat(e,".").concat(this._statsCurrentId),stats:{duration:Math.floor((Date.now()-this._conferenceJoinAnalyticsEventSent)/1e3),perf:this.getPerformanceStats()}}));},td.prototype._restartMediaSessions=function(){this.p2pJingleSession&&this._stopP2PSession({reasonDescription:"restart",requestRestart:!0}),this.jvbJingleSession&&this.jvbJingleSession.terminate(null,function(e){ed.warn("An error occurred while trying to terminate the JVB session",e);},{reason:"success",reasonDescription:"restart required",requestRestart:!0,sendSessionTerminate:!0}),this._maybeStartOrStopP2P(!1);},td.prototype.isE2EEEnabled=function(){return Boolean(this._e2eEncryption&&this._e2eEncryption.isEnabled());},td.prototype.isE2EESupported=function(){return Vi.isSupported(this.options.config);},td.prototype.toggleE2EE=function(e){this.isE2EESupported()?this._e2eEncryption.setEnabled(e):ed.warn("Cannot enable / disable E2EE: platform is not supported.");},td.prototype.setMediaEncryptionKey=function(e){this._e2eEncryption.setEncryptionKey(e);},td.prototype.isLobbySupported=function(){return Boolean(this.room&&this.room.getLobby().isSupported());},td.prototype.isMembersOnly=function(){return Boolean(this.room&&this.room.membersOnlyEnabled);},td.prototype.enableLobby=function(){return this.room&&this.isModerator()?this.room.getLobby().enable():Promise.reject(new Error("The conference not started or user is not moderator"));},td.prototype.disableLobby=function(){this.room&&this.isModerator()?this.room.getLobby().disable():ed.warn("Failed to disable lobby, ".concat(this.room?"":"not in a room, ").concat(this.isModerator()?"":"participant is not a moderator"));},td.prototype.joinLobby=function(e,t){return this.room?this.room.getLobby().join(e,t):Promise.reject(new Error("The conference not started"));},td.prototype.lobbyDenyAccess=function(e){this.room&&this.room.getLobby().denyAccess(e);},td.prototype.lobbyApproveAccess=function(e){this.room&&this.room.getLobby().approveAccess(e);},td.prototype.isAVModerationSupported=function(){return Boolean(this.room&&this.room.getAVModeration().isSupported());},td.prototype.enableAVModeration=function(e){this.room&&this.isModerator()&&(e===Rn||e===wn)?this.room.getAVModeration().enable(!0,e):ed.warn("Failed to enable AV moderation, ".concat(this.room?"":"not in a room, ").concat(this.isModerator()?"":"participant is not a moderator, ").concat(this.room&&this.isModerator()?"wrong media type passed":""));},td.prototype.disableAVModeration=function(e){this.room&&this.isModerator()&&(e===Rn||e===wn)?this.room.getAVModeration().enable(!1,e):ed.warn("Failed to disable AV moderation, ".concat(this.room?"":"not in a room, ").concat(this.isModerator()?"":"participant is not a moderator, ").concat(this.room&&this.isModerator()?"wrong media type passed":""));},td.prototype.avModerationApprove=function(e,t){if(this.room&&this.isModerator()&&(e===Rn||e===wn)){var _n108=this.getParticipantById(t);if(!_n108)return;this.room.getAVModeration().approve(e,_n108.getJid());}else ed.warn("AV moderation approve skipped , ".concat(this.room?"":"not in a room, ").concat(this.isModerator()?"":"participant is not a moderator, ").concat(this.room&&this.isModerator()?"wrong media type passed":""));},td.prototype.avModerationReject=function(e,t){if(this.room&&this.isModerator()&&(e===Rn||e===wn)){var _n109=this.getParticipantById(t);if(!_n109)return;this.room.getAVModeration().reject(e,_n109.getJid());}else ed.warn("AV moderation reject skipped , ".concat(this.room?"":"not in a room, ").concat(this.isModerator()?"":"participant is not a moderator, ").concat(this.room&&this.isModerator()?"wrong media type passed":""));},td.prototype.getBreakoutRooms=function(){var e;return null===(e=this.room)||void 0===e?void 0:e.getBreakoutRooms();},nd.prototype.connect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.xmpp.connect(e.id,e.password);},nd.prototype.attach=function(e){this.xmpp.attach(e);},nd.prototype.disconnect=function(){var _this$xmpp;return(_this$xmpp=this.xmpp).disconnect.apply(_this$xmpp,arguments);},nd.prototype.getJid=function(){return this.xmpp.getJid();},nd.prototype.setToken=function(e){this.token=e;},nd.prototype.initJitsiConference=function(e,t){return new td({name:e,config:t,connection:this});},nd.prototype.addEventListener=function(e,t){this.xmpp.addListener(e,t);},nd.prototype.removeEventListener=function(e,t){this.xmpp.removeListener(e,t);},nd.prototype.getConnectionTimes=function(){return this.xmpp.connectionTimes;},nd.prototype.addFeature=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.xmpp.caps.addFeature(e,t,!0);},nd.prototype.removeFeature=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.xmpp.caps.removeFeature(e,t,!0);},nd.prototype.getLogs=function(){var e=this.xmpp.getJingleLog(),t={};t.time=new Date(),t.url=window.location.href,t.ua=navigator.userAgent;var n=this.xmpp.getXmppLog();return n&&(t.xmpp=n),e.metadata=t,e;};var id="mediaDevices.devicechange",sd="rtc.permissions_changed",rd="mediaDevices.permissionPromptIsShown",od="mediaDevices.slowGetUserMedia",ad="microphone",cd="camera",dd=new(/*#__PURE__*/function(){function _class13(){var _this199=this;_classCallCheck(this,_class13);this._eventEmitter=new(nt())(),this._permissions={},va.addListener(Jn().DEVICE_LIST_CHANGED,function(e){return _this199._eventEmitter.emit(id,e);}),va.addListener(Jn().DEVICE_LIST_AVAILABLE,function(e){return _this199._logOutputDevice(_this199.getAudioOutputDevice(),e);}),va.addListener(Jn().PERMISSIONS_CHANGED,function(e){return _this199._handlePermissionsChange(e);}),this._permissionsApiSupported=new Promise(function(e){if(!navigator.permissions)return void e(!1);var t=_this199,n=[];n.push(navigator.permissions.query({name:cd}).then(function(e){return _this199._handlePermissionsChange(_defineProperty({},wn,_this199._parsePermissionState(e))),e.onchange=function(){try{t._handlePermissionsChange(_defineProperty({},wn,t._parsePermissionState(this)));}catch(e){}},!0;}).catch(function(){return!1;})),n.push(navigator.permissions.query({name:ad}).then(function(e){return _this199._handlePermissionsChange(_defineProperty({},Rn,_this199._parsePermissionState(e))),e.onchange=function(){try{t._handlePermissionsChange(_defineProperty({},Rn,t._parsePermissionState(this)));}catch(e){}},!0;}).catch(function(){return!1;})),Promise.all(n).then(function(t){return e(t.every(function(e){return e;}));});});}_createClass(_class13,[{key:"_parsePermissionState",value:function _parsePermissionState(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=e.state||e.status;if("string"!=typeof t)throw new TypeError();return"granted"===t;}},{key:"_handlePermissionsChange",value:function _handlePermissionsChange(e){var _this200=this;[Rn,wn].some(function(t){return t in e&&e[t]!==_this200._permissions[t];})&&(this._permissions=_objectSpread(_objectSpread({},this._permissions),e),this._eventEmitter.emit(sd,this._permissions),(this._permissions[Rn]||this._permissions[wn])&&this.enumerateDevices(function(){}));}},{key:"_logOutputDevice",value:function _logOutputDevice(e,t){var n=t.find(function(t){return"audiooutput"===t.kind&&t.deviceId===e;});n&&jn.sendActiveDeviceListEvent(va.getEventDataForActiveDevice(n));}},{key:"enumerateDevices",value:function enumerateDevices(e){va.enumerateDevices(e);}},{key:"isDeviceListAvailable",value:function isDeviceListAvailable(){return va.isDeviceListAvailable();}},{key:"isDeviceChangeAvailable",value:function isDeviceChangeAvailable(e){return va.isDeviceChangeAvailable(e);}},{key:"isDevicePermissionGranted",value:function isDevicePermissionGranted(e){var _this201=this;return new Promise(function(t){e in _this201._permissions?t(_this201._permissions[e]):_this201._permissionsApiSupported.then(function(n){if(!n)return void t(!1);var i=[];switch(e){case wn:i.push(navigator.permissions.query({name:cd}));break;case Rn:i.push(navigator.permissions.query({name:ad}));break;default:i.push(navigator.permissions.query({name:cd})),i.push(navigator.permissions.query({name:ad}));}Promise.all(i).then(function(e){return t(e.every(function(e){try{return _this201._parsePermissionState(e);}catch(_unused2){return!1;}}));},function(){return t(!1);});});});}},{key:"isMultipleAudioInputSupported",value:function isMultipleAudioInputSupported(){return!(nn.isFirefox()||nn.isIosBrowser());}},{key:"getAudioOutputDevice",value:function getAudioOutputDevice(){return va.getAudioOutputDevice();}},{key:"setAudioOutputDevice",value:function setAudioOutputDevice(e){return va.getCurrentlyAvailableMediaDevices().length>0&&this._logOutputDevice(e,va.getCurrentlyAvailableMediaDevices()),va.setAudioOutputDevice(e);}},{key:"addEventListener",value:function addEventListener(e,t){this._eventEmitter.addListener(e,t);}},{key:"removeEventListener",value:function removeEventListener(e,t){this._eventEmitter.removeListener(e,t);}},{key:"emitEvent",value:function emitEvent(e){var _this$_eventEmitter;for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];(_this$_eventEmitter=this._eventEmitter).emit.apply(_this$_eventEmitter,[e].concat(n));}}]);return _class13;}())(),ld=(0,g.getLogger)("modules/detection/ActiveDeviceDetector.js");function hd(e){var _iterator86=_createForOfIteratorHelper(e),_step86;try{for(_iterator86.s();!(_step86=_iterator86.n()).done;){var t=_step86.value;t.stopStream();}}catch(err){_iterator86.e(err);}finally{_iterator86.f();}}var ud="connection-error-encountered",pd="session-initiate",md="session-terminate",fd=(0,g.getLogger)("modules/proxyconnection/ProxyConnectionPC.js");var gd=/*#__PURE__*/function(){function gd(){_classCallCheck(this,gd);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._options=_objectSpread({pcConfig:{},isInitiator:!1,receiveAudio:!1,receiveVideo:!1},e),this._tracks=[],this._peerConnection=null,this._onError=this._onError.bind(this),this._onRemoteStream=this._onRemoteStream.bind(this),this._onSendMessage=this._onSendMessage.bind(this);}_createClass(gd,[{key:"getPeerJid",value:function getPeerJid(){return this._options.peerJid;}},{key:"processMessage",value:function processMessage(e){switch(e.attr("action")){case"session-accept":this._onSessionAccept(e);break;case pd:this._onSessionInitiate(e);break;case md:this._onSessionTerminate(e);break;case"transport-info":this._onTransportInfo(e);}}},{key:"start",value:function start(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._peerConnection||(this._tracks=this._tracks.concat(e),this._peerConnection=this._createPeerConnection(),this._peerConnection.invite(e));}},{key:"stop",value:function stop(){this._peerConnection&&this._peerConnection.terminate(),this._onSessionTerminate();}},{key:"_createPeerConnection",value:function _createPeerConnection(){var _this202=this;var e={connected:!0,jingle:{terminate:function terminate(){}},sendIQ:this._onSendMessage,addEventListener:function addEventListener(){return function(){};}},t=_objectSpread({iceServers:xr},this._options.pcConfig),n={addPresenceListener:function addPresenceListener(){},connectionTimes:[],eventEmitter:{emit:function emit(e){switch(e){case zn().CONNECTION_ICE_FAILED:case zn().CONNECTION_FAILED:_this202._onError(ud,e);}}},getMediaPresenceInfo:function getMediaPresenceInfo(){return{};},removePresenceListener:function removePresenceListener(){},supportsRestartByTerminate:function supportsRestartByTerminate(){return!1;}};this._rtc=new va({myUserId:function myUserId(){return"";}},{}),this._rtc.addListener(Jn().REMOTE_TRACK_ADDED,this._onRemoteStream);var i=new Cr(void 0,void 0,this._options.peerJid,e,{offerToReceiveAudio:this._options.receiveAudio,offerToReceiveVideo:this._options.receiveVideo},t,!0,this._options.isInitiator),s=new Zc();return s.setChatRoom(n),i.initialize(n,this._rtc,s,{}),i;}},{key:"_onError",value:function _onError(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._options.onError(this._options.peerJid,e,t);}},{key:"_onRemoteStream",value:function _onRemoteStream(e){this._tracks.push(e),this._options.onRemoteStream(e);}},{key:"_onSendMessage",value:function _onSendMessage(e){this._options.onSendMessage(this._options.peerJid,e);}},{key:"_onSessionAccept",value:function _onSessionAccept(e){this._peerConnection?this._peerConnection.setAnswer(e):fd.error("Received an answer when no peer connection exists.");}},{key:"_onSessionInitiate",value:function _onSessionInitiate(e){var _this203=this;this._peerConnection?fd.error("Received an offer when an offer was already sent."):(this._peerConnection=this._createPeerConnection(),this._peerConnection.acceptOffer(e,function(){},function(){return _this203._onError(_this203._options.peerJid,ud,"session initiate error");}));}},{key:"_onSessionTerminate",value:function _onSessionTerminate(){this._tracks.forEach(function(e){return e.dispose();}),this._tracks=[],this._peerConnection&&this._peerConnection.onTerminated(),this._rtc&&(this._rtc.removeListener(Jn().REMOTE_TRACK_ADDED,this._onRemoteStream),this._rtc.destroy());}},{key:"_onTransportInfo",value:function _onTransportInfo(e){this._peerConnection.addIceCandidates(e);}}]);return gd;}();var _d=(0,g.getLogger)("modules/proxyconnection/ProxyConnectionService.js"),vd="preCallTestResults",Sd=new(nt())();var yd=!1,Ed=null;var Cd={init:function(){var _init=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee16(e){var t,n,i;return _regeneratorRuntime().wrap(function _callee16$(_context17){while(1)switch(_context17.prev=_context17.next){case 0:if(!yd){_context17.next=2;break;}throw new Error("Precall Test already initialized");case 2:t=e.callStatsID,n=e.callStatsSecret,i=e.disableThirdPartyRequests;if(!(!t||!n||i)){_context17.next=5;break;}throw new Error("Callstats is disabled");case 5:_context17.next=7;return function(e){if(!nn.isReactNative())return new Promise(function(t){rn().loadScript(e.callStatsCustomScriptUrl||ot,!0,!0,void 0,t);});}(e);case 7:Ed=new window.callstats();return _context17.abrupt("return",function(e){return new Promise(function(t,n){var i=e.callStatsID,s=e.callStatsSecret,r=e.statisticsId||e.statisticsDisplayName||Is.callStatsUserName;Ed.initialize(i,s,r,function(e,i){"success"===e?(Ed.on(vd,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Sd.emit.apply(Sd,[vd].concat(t));}),yd=!0,t()):n({status:e,message:i});},null,{disablePrecalltest:!0});});}(e));case 9:case"end":return _context17.stop();}},_callee16);}));function init(_x18){return _init.apply(this,arguments);}return init;}(),execute:function execute(){return yd?new Promise(function(e,t){Sd.on(vd,function(n,i){"success"===n?e(i):t({status:n,payload:i});}),Ed.makePrecallTest();}):Promise.reject("uninitialized");}};var bd=n(4424),Td=n.n(bd);var Rd=(0,g.getLogger)("modules/webaudio/AudioMixer.js");var Ad=/*#__PURE__*/function(){function Ad(){_classCallCheck(this,Ad);this._started=!1,this._streamsToMix=[],this._streamMSSArray=[];}_createClass(Ad,[{key:"addMediaStream",value:function addMediaStream(e){e.getAudioTracks()||Rd.warn("Added MediaStream doesn\'t contain audio tracks."),this._streamsToMix.push(e);}},{key:"start",value:function start(){if(this._started)return this._mixedMSD.stream;if(this._audioContext=$a(),!this._streamsToMix.length)return Rd.warn("No MediaStream\'s added to AudioMixer, nothing will happen."),null;this._started=!0,this._mixedMSD=this._audioContext.createMediaStreamDestination();var _iterator87=_createForOfIteratorHelper(this._streamsToMix),_step87;try{for(_iterator87.s();!(_step87=_iterator87.n()).done;){var _e209=_step87.value;var t=this._audioContext.createMediaStreamSource(_e209);t.connect(this._mixedMSD),this._streamMSSArray.push(t);}}catch(err){_iterator87.e(err);}finally{_iterator87.f();}return this._mixedMSD.stream;}},{key:"reset",value:function reset(){this._started=!1,this._streamsToMix=[];var _iterator88=_createForOfIteratorHelper(this._streamMSSArray),_step88;try{for(_iterator88.s();!(_step88=_iterator88.n()).done;){var _e210=_step88.value;_e210.disconnect();}}catch(err){_iterator88.e(err);}finally{_iterator88.f();}this._streamMSSArray=[],this._audioContext&&(this._audioContext=void 0);}}]);return Ad;}();var wd=_().getLogger("JitsiMeetJS.js");function Id(e){var t={audio_requested:e.devices.includes("audio"),video_requested:e.devices.includes("video"),screen_sharing_requested:e.devices.includes("desktop")};return t.video_requested&&(t.resolution=e.resolution),t;}var Pd=function(e){return"object"==_typeof(window.JitsiMeetJS)?Object.assign({},window.JitsiMeetJS,e):e;}({version:"c7962a91",JitsiConnection:nd,ProxyConnectionService:/*#__PURE__*/function(){function ProxyConnectionService(){_classCallCheck(this,ProxyConnectionService);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=e.jitsiConnection,n=_objectWithoutProperties(e,_excluded2);this._options=_objectSpread({pcConfig:t&&t.xmpp.connection.jingle.p2pIceConfig},n),this._peerConnection=null,this._onFatalError=this._onFatalError.bind(this),this._onSendMessage=this._onSendMessage.bind(this),this._onRemoteStream=this._onRemoteStream.bind(this);}_createClass(ProxyConnectionService,[{key:"processMessage",value:function processMessage(e){var t=e.from;if(!t)return;if(this._peerConnection&&this._peerConnection.getPeerJid()!==t)return void this._onFatalError(t,ud,"rejected");var n=this._convertStringToXML(e.data.iq),i=n&&n.find("jingle"),s=i&&i.attr("action");s===pd&&(this._peerConnection=this._createPeerConnection(t,{isInitiator:!1,receiveVideo:!0})),this._peerConnection&&this._peerConnection.processMessage(i),s!==ud&&"unavailable"!==s&&s!==md||this._selfCloseConnection();}},{key:"start",value:function start(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._peerConnection=this._createPeerConnection(e,{isInitiator:!0,receiveVideo:!1}),this._peerConnection.start(t);}},{key:"stop",value:function stop(){this._peerConnection&&this._peerConnection.stop(),this._peerConnection=null;}},{key:"_convertStringToXML",value:function _convertStringToXML(e){try{var t=new DOMParser().parseFromString(e,"text/xml");return $CC(t);}catch(e){return _d.error("Attempted to convert incorrectly formatted xml"),null;}}},{key:"_createPeerConnection",value:function _createPeerConnection(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("Cannot create ProxyConnectionPC without a peer.");var n=_objectSpread({pcConfig:this._options.pcConfig,onError:this._onFatalError,onRemoteStream:this._onRemoteStream,onSendMessage:this._onSendMessage,peerJid:e},t);return new gd(n);}},{key:"_onFatalError",value:function _onFatalError(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";_d.error("Received a proxy connection error",e,t,n);var i=(0,rt.$iq)({to:e,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:t}).c("details").t(n).up();this._onSendMessage(e,i),this._peerConnection&&this._peerConnection.getPeerJid()===e&&this._selfCloseConnection();}},{key:"_onRemoteStream",value:function _onRemoteStream(e){if(!this._options.onRemoteStream)return _d.error("Remote track received without callback."),void e.dispose();var t=e.isVideoTrack();var n;t&&(n=this._options.convertVideoToDesktop?Hn().DESKTOP:Hn().CAMERA);var i=e.getOriginalStream(),s=va.createLocalTracks([{deviceId:"proxy:".concat(this._peerConnection.getPeerJid()),mediaType:t?wn:Rn,sourceType:"proxy",stream:i,track:i.getVideoTracks()[0],videoType:n}]);this._options.onRemoteStream(s[0]);}},{key:"_onSendMessage",value:function _onSendMessage(e,t){if(this._options.onSendMessage)try{var _n110=new XMLSerializer().serializeToString(t.nodeTree||t);this._options.onSendMessage(e,{iq:_n110});}catch(e){_d.error("Attempted to send an incorrectly formatted iq.");}}},{key:"_selfCloseConnection",value:function _selfCloseConnection(){this.stop(),this._options.onConnectionClosed&&this._options.onConnectionClosed();}}]);return ProxyConnectionService;}(),constants:{participantConnectionStatus:ri,recording:{error:{BUSY:"busy",ERROR:"error",RESOURCE_CONSTRAINT:"resource-constraint",UNEXPECTED_REQUEST:"unexpected-request",SERVICE_UNAVAILABLE:"service-unavailable"},mode:{FILE:"file",STREAM:"stream"},status:{OFF:"off",ON:"on",PENDING:"pending"}},sipVideoGW:m,transcriptionStatus:l},events:{conference:s,connection:c,detection:u,track:a,mediaDevices:f,connectionQuality:h,e2eping:p},errors:{conference:i,connection:d,track:r},errorTypes:{JitsiTrackError:Et},logLevels:_().levels,mediaDevices:dd,analytics:jn.analytics,init:function init(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Is.init(e.externalStorage),jn.init(e),Hs.init(e.flags||{}),window.connectionTimes||(window.connectionTimes={}),!0!==e.enableAnalyticsLogging&&(wd.warn("Analytics disabled, disposing."),this.analytics.dispose()),e.enableWindowOnErrorHandler&&dn().addHandler(this.getGlobalOnErrorHandler.bind(this)),this.version){var _e211={id:"component_version",component:"lib-jitsi-meet",version:this.version};jn.sendLog(JSON.stringify(_e211));}return va.init(e);},isDesktopSharingEnabled:function isDesktopSharingEnabled(){return va.isDesktopSharingEnabled();},isWebRtcSupported:function isWebRtcSupported(){return va.isWebRtcSupported();},setLogLevel:function setLogLevel(e){_().setLogLevel(e);},setLogLevelById:function setLogLevelById(e,t){_().setLogLevelById(e,t);},addGlobalLogTransport:function addGlobalLogTransport(e){_().addGlobalTransport(e);},removeGlobalLogTransport:function removeGlobalLogTransport(e){_().removeGlobalTransport(e);},setGlobalLogOptions:function setGlobalLogOptions(e){_().setGlobalOptions(e);},createLocalTracks:function createLocalTracks(){var _this204=this;var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=!1;var i=e.firePermissionPromptIsShownEvent,s=e.fireSlowPromiseEvent,r=_objectWithoutProperties(e,_excluded3);return!i&&!t||va.arePermissionsGrantedForAvailableDevices()?s&&window.setTimeout(function(){n||dd.emitEvent(od);},1e3):dd.emitEvent(rd,nn.getName()),window.connectionTimes||(window.connectionTimes={}),window.connectionTimes["obtainPermissions.start"]=window.performance.now(),va.obtainAudioAndVideoPermissions(r).then(function(e){if(n=!0,window.connectionTimes["obtainPermissions.end"]=window.performance.now(),jn.sendAnalytics(Pt("success",Id(r))),!va.options.disableAudioLevels){var _loop15=function _loop15(){var n=e[_t151],i=n.getOriginalStream();n.getType()===Rn&&(jn.startLocalStats(i,n.setAudioLevel.bind(n)),n.addEventListener(Xn,function(){jn.stopLocalStats(i);}));};for(var _t151=0;_t151<e.length;_t151++){_loop15();}}var t=va.getCurrentlyAvailableMediaDevices();if(t)for(var _n111=0;_n111<e.length;_n111++)e[_n111]._setRealDeviceIdFromDeviceList(t);var _iterator89=_createForOfIteratorHelper(e),_step89;try{for(_iterator89.s();!(_step89=_iterator89.n()).done;){var _t152=_step89.value;_t152.type===wn&&"desktop"===_t152.videoType&&_this204.setVideoTrackContentHints(_t152.track,"detail");}}catch(err){_iterator89.e(err);}finally{_iterator89.f();}return e;}).catch(function(t){if(n=!0,t.name===mt){var _e212={id:"screensharing_user_canceled",message:t.message};jn.sendLog(JSON.stringify(_e212)),jn.sendAnalytics(Pt("warning",{reason:"extension install user canceled"}));}else if(t.name===ht){var _n112={id:"usermedia_missing_device",status:t.gum.devices};jn.sendLog(JSON.stringify(_n112));var _i103=Id(e);_i103.reason="device not found",_i103.devices=t.gum.devices.join("."),jn.sendAnalytics(Pt("error",_i103));}else{jn.sendGetUserMediaFailed(t);var _n113=Id(e);_n113.reason=t.name,jn.sendAnalytics(Pt("error",_n113));}return window.connectionTimes["obtainPermissions.end"]=window.performance.now(),Promise.reject(t);});},createTrackVADEmitter:function createTrackVADEmitter(e,t,n){return Ua.create(e,t,n);},createAudioMixer:function createAudioMixer(){return new Ad();},getActiveAudioDevice:function getActiveAudioDevice(){return new Promise(function(e){va.enumerateDevices(function(t){var n=t.filter(function(e){return"audioinput"===e.kind;}),i=[];var _iterator90=_createForOfIteratorHelper(n),_step90;try{for(_iterator90.s();!(_step90=_iterator90.n()).done;){var _e214=_step90.value;var _t153=va.obtainAudioAndVideoPermissions({devices:["audio"],micDeviceId:_e214.deviceId}).then(function(e){var t=e[0],n=t.getOriginalStream();return jn.startLocalStats(n,t.setAudioLevel.bind(t)),t.addEventListener(Xn,function(){jn.stopLocalStats(n);}),t;});i.push(_t153);}}catch(err){_iterator90.e(err);}finally{_iterator90.f();}Promise.allSettled(i).then(function(t){var n=t.filter(function(e){return"fulfilled"===e.status;}),i=t.filter(function(e){return"rejected"===e.status;}),s=n.map(function(e){return e.value;}),r=i.map(function(e){return e.value;});var _iterator91=_createForOfIteratorHelper(r),_step91;try{for(_iterator91.s();!(_step91=_iterator91.n()).done;){var _e213=_step91.value;ld.error("Failed to acquire audio device with error: ",_e213);}}catch(err){_iterator91.e(err);}finally{_iterator91.f();}var _iterator92=_createForOfIteratorHelper(s),_step92;try{var _loop16=function _loop16(){var t=_step92.value;t.on(Yn,function(n){n>.008&&(hd(s),e({deviceId:t.deviceId,deviceLabel:t.track.label}));});};for(_iterator92.s();!(_step92=_iterator92.n()).done;){_loop16();}}catch(err){_iterator92.e(err);}finally{_iterator92.f();}setTimeout(function(){hd(s),e({deviceId:"",deviceLabel:""});},3e3);});});});},isDeviceListAvailable:function isDeviceListAvailable(){return wd.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.isDeviceListAvailable instead"),this.mediaDevices.isDeviceListAvailable();},isDeviceChangeAvailable:function isDeviceChangeAvailable(e){return wd.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.isDeviceChangeAvailable instead"),this.mediaDevices.isDeviceChangeAvailable(e);},isMultipleAudioInputSupported:function isMultipleAudioInputSupported(){return this.mediaDevices.isMultipleAudioInputSupported();},isCollectingLocalStats:function isCollectingLocalStats(){return jn.audioLevelsEnabled&&vn.isLocalStatsSupported();},enumerateDevices:function enumerateDevices(e){wd.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.enumerateDevices instead"),this.mediaDevices.enumerateDevices(e);},getGlobalOnErrorHandler:function getGlobalOnErrorHandler(e,t,n,i,s){wd.error("UnhandledError: ".concat(e),"Script: ".concat(t),"Line: ".concat(n),"Column: ".concat(i),"StackTrace: ",s),jn.reportGlobalError(s);},setNetworkInfo:function setNetworkInfo(e){var t=e.isOnline;Zi.updateNetworkInfo({isOnline:t});},setVideoTrackContentHints:function setVideoTrackContentHints(e,t){"contentHint"in e?(e.contentHint=t,e.contentHint!==t&&wd.debug("Invalid video track contentHint")):wd.debug("MediaStreamTrack contentHint attribute not supported");},precallTest:Cd,util:{AuthUtil:Td(),ScriptUtil:rn(),browser:nn}});},9755:function _(e,t,n){e.exports=function(){"use strict";var e=void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function t(e){return t="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e);}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e);},t(e);}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n;}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e);}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance");}();}var s=function s(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n;},r=function r(e){if("string"!=typeof e)throw new Error("str2binl was passed a non-string");for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t;},o=function o(e,t,n,i,r,_o22){return s((a=s(s(t,e),s(i,_o22)))<<(c=r)|a>>>32-c,n);var a,c;},a=function a(e,t,n,i,s,r,_a10){return o(t&n|~t&i,e,t,s,r,_a10);},c=function c(e,t,n,i,s,r,a){return o(t&i|n&~i,e,t,s,r,a);},d=function d(e,t,n,i,s,r,a){return o(t^n^i,e,t,s,r,a);},l=function l(e,t,n,i,s,r,a){return o(n^(t|~i),e,t,s,r,a);},h=function h(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n,i,r,o,h=1732584193,u=-271733879,p=-1732584194,m=271733878,f=0;f<e.length;f+=16)n=h,i=u,r=p,o=m,h=a(h,u,p,m,e[f+0],7,-680876936),m=a(m,h,u,p,e[f+1],12,-389564586),p=a(p,m,h,u,e[f+2],17,606105819),u=a(u,p,m,h,e[f+3],22,-1044525330),h=a(h,u,p,m,e[f+4],7,-176418897),m=a(m,h,u,p,e[f+5],12,1200080426),p=a(p,m,h,u,e[f+6],17,-1473231341),u=a(u,p,m,h,e[f+7],22,-45705983),h=a(h,u,p,m,e[f+8],7,1770035416),m=a(m,h,u,p,e[f+9],12,-1958414417),p=a(p,m,h,u,e[f+10],17,-42063),u=a(u,p,m,h,e[f+11],22,-1990404162),h=a(h,u,p,m,e[f+12],7,1804603682),m=a(m,h,u,p,e[f+13],12,-40341101),p=a(p,m,h,u,e[f+14],17,-1502002290),u=a(u,p,m,h,e[f+15],22,1236535329),h=c(h,u,p,m,e[f+1],5,-165796510),m=c(m,h,u,p,e[f+6],9,-1069501632),p=c(p,m,h,u,e[f+11],14,643717713),u=c(u,p,m,h,e[f+0],20,-373897302),h=c(h,u,p,m,e[f+5],5,-701558691),m=c(m,h,u,p,e[f+10],9,38016083),p=c(p,m,h,u,e[f+15],14,-660478335),u=c(u,p,m,h,e[f+4],20,-405537848),h=c(h,u,p,m,e[f+9],5,568446438),m=c(m,h,u,p,e[f+14],9,-1019803690),p=c(p,m,h,u,e[f+3],14,-187363961),u=c(u,p,m,h,e[f+8],20,1163531501),h=c(h,u,p,m,e[f+13],5,-1444681467),m=c(m,h,u,p,e[f+2],9,-51403784),p=c(p,m,h,u,e[f+7],14,1735328473),u=c(u,p,m,h,e[f+12],20,-1926607734),h=d(h,u,p,m,e[f+5],4,-378558),m=d(m,h,u,p,e[f+8],11,-2022574463),p=d(p,m,h,u,e[f+11],16,1839030562),u=d(u,p,m,h,e[f+14],23,-35309556),h=d(h,u,p,m,e[f+1],4,-1530992060),m=d(m,h,u,p,e[f+4],11,1272893353),p=d(p,m,h,u,e[f+7],16,-155497632),u=d(u,p,m,h,e[f+10],23,-1094730640),h=d(h,u,p,m,e[f+13],4,681279174),m=d(m,h,u,p,e[f+0],11,-358537222),p=d(p,m,h,u,e[f+3],16,-722521979),u=d(u,p,m,h,e[f+6],23,76029189),h=d(h,u,p,m,e[f+9],4,-640364487),m=d(m,h,u,p,e[f+12],11,-421815835),p=d(p,m,h,u,e[f+15],16,530742520),u=d(u,p,m,h,e[f+2],23,-995338651),h=l(h,u,p,m,e[f+0],6,-198630844),m=l(m,h,u,p,e[f+7],10,1126891415),p=l(p,m,h,u,e[f+14],15,-1416354905),u=l(u,p,m,h,e[f+5],21,-57434055),h=l(h,u,p,m,e[f+12],6,1700485571),m=l(m,h,u,p,e[f+3],10,-1894986606),p=l(p,m,h,u,e[f+10],15,-1051523),u=l(u,p,m,h,e[f+1],21,-2054922799),h=l(h,u,p,m,e[f+8],6,1873313359),m=l(m,h,u,p,e[f+15],10,-30611744),p=l(p,m,h,u,e[f+6],15,-1560198380),u=l(u,p,m,h,e[f+13],21,1309151649),h=l(h,u,p,m,e[f+4],6,-145523070),m=l(m,h,u,p,e[f+11],10,-1120210379),p=l(p,m,h,u,e[f+2],15,718787259),u=l(u,p,m,h,e[f+9],21,-343485551),h=s(h,n),u=s(u,i),p=s(p,r),m=s(m,o);return[h,u,p,m];},u={hexdigest:function hexdigest(e){return function(e){for(var t="0123456789abcdef",n="",i=0;i<4*e.length;i++)n+=t.charAt(e[i>>2]>>i%4*8+4&15)+t.charAt(e[i>>2]>>i%4*8&15);return n;}(h(r(e),8*e.length));},hash:function hash(e){return function(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t;}(h(r(e),8*e.length));}};function p(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;var n,i,s,r,o,a,c,d,l=new Array(80),h=1732584193,u=-271733879,p=-1732584194,g=271733878,S=-1009589776;for(n=0;n<e.length;n+=16){for(r=h,o=u,a=p,c=g,d=S,i=0;i<80;i++)l[i]=i<16?e[n+i]:v(l[i-3]^l[i-8]^l[i-14]^l[i-16],1),s=_(_(v(h,5),m(i,u,p,g)),_(_(S,l[i]),f(i))),S=g,g=p,p=v(u,30),u=h,h=s;h=_(h,r),u=_(u,o),p=_(p,a),g=_(g,c),S=_(S,d);}return[h,u,p,g,S];}function m(e,t,n,i){return e<20?t&n|~t&i:e<40?t^n^i:e<60?t&n|t&i|n&i:t^n^i;}function f(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514;}function g(e,t){var n=S(e);n.length>16&&(n=p(n,8*e.length));for(var i=new Array(16),s=new Array(16),r=0;r<16;r++)i[r]=909522486^n[r],s[r]=1549556828^n[r];var o=p(i.concat(S(t)),512+8*t.length);return p(s.concat(o),672);}function _(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n;}function v(e,t){return e<<t|e>>>32-t;}function S(e){for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t;}function y(e){for(var t,n,i="",s=0;s<4*e.length;s+=3)for(t=(e[s>>2]>>8*(3-s%4)&255)<<16|(e[s+1>>2]>>8*(3-(s+1)%4)&255)<<8|e[s+2>>2]>>8*(3-(s+2)%4)&255,n=0;n<4;n++)8*s+6*n>32*e.length?i+="=":i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t>>6*(3-n)&63);return i;}function E(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>24-n%32&255);return t;}var C={b64_hmac_sha1:function b64_hmac_sha1(e,t){return y(g(e,t));},b64_sha1:function b64_sha1(e){return y(p(S(e),8*e.length));},binb2str:E,core_hmac_sha1:g,str_hmac_sha1:function str_hmac_sha1(e,t){return E(g(e,t));},str_sha1:function str_sha1(e){return E(p(S(e),8*e.length));}},b=function b(e){var t,n,i="",s=e.length;for(t=0;t<s;t++)(n=e.charCodeAt(t))>=0&&n<=127?i+=e.charAt(t):n>2047?(i+=String.fromCharCode(224|n>>12&15),i+=String.fromCharCode(128|n>>6&63),i+=String.fromCharCode(128|n>>0&63)):(i+=String.fromCharCode(192|n>>6&31),i+=String.fromCharCode(128|n>>0&63));return i;},T=function T(e){for(var n in e=e||{})if(Object.prototype.hasOwnProperty.call(e,n)){var i="",s="",r="",o=e[n],a="object"===t(o),c=escape(unescape(a?o.value:o));a&&(i=o.expires?";expires="+o.expires:"",s=o.domain?";domain="+o.domain:"",r=o.path?";path="+o.path:""),document.cookie=n+"="+c+i+s+r;}};function R(e,t){return new I.Builder(e,t);}function A(e){return new I.Builder("iq",e);}function w(e){return new I.Builder("presence",e);}var I={VERSION:"@VERSION@",NS:{HTTPBIND:"http://jabber.org/protocol/httpbind",BOSH:"urn:xmpp:xbosh",CLIENT:"jabber:client",AUTH:"jabber:iq:auth",ROSTER:"jabber:iq:roster",PROFILE:"jabber:iq:profile",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",MUC:"http://jabber.org/protocol/muc",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",STREAM:"http://etherx.jabber.org/streams",FRAMING:"urn:ietf:params:xml:ns:xmpp-framing",BIND:"urn:ietf:params:xml:ns:xmpp-bind",SESSION:"urn:ietf:params:xml:ns:xmpp-session",VERSION:"jabber:iq:version",STANZAS:"urn:ietf:params:xml:ns:xmpp-stanzas",XHTML_IM:"http://jabber.org/protocol/xhtml-im",XHTML:"http://www.w3.org/1999/xhtml"},XHTML:{tags:["a","blockquote","br","cite","em","img","li","ol","p","span","strong","ul","body"],attributes:{a:["href"],blockquote:["style"],br:[],cite:["style"],em:[],img:["src","alt","style","height","width"],li:["style"],ol:["style"],p:["style"],span:["style"],strong:[],ul:["style"],body:[]},css:["background-color","color","font-family","font-size","font-style","font-weight","margin-left","margin-right","text-align","text-decoration"],validTag:function validTag(e){for(var t=0;t<I.XHTML.tags.length;t++)if(e===I.XHTML.tags[t])return!0;return!1;},validAttribute:function validAttribute(e,t){if(void 0!==I.XHTML.attributes[e]&&I.XHTML.attributes[e].length>0)for(var n=0;n<I.XHTML.attributes[e].length;n++)if(t===I.XHTML.attributes[e][n])return!0;return!1;},validCSS:function validCSS(e){for(var t=0;t<I.XHTML.css.length;t++)if(e===I.XHTML.css[t])return!0;return!1;}},Status:{ERROR:0,CONNECTING:1,CONNFAIL:2,AUTHENTICATING:3,AUTHFAIL:4,CONNECTED:5,DISCONNECTED:6,DISCONNECTING:7,ATTACHED:8,REDIRECT:9,CONNTIMEOUT:10,BINDREQUIRED:11},ErrorCondition:{BAD_FORMAT:"bad-format",CONFLICT:"conflict",MISSING_JID_NODE:"x-strophe-bad-non-anon-jid",NO_AUTH_MECH:"no-auth-mech",UNKNOWN_REASON:"unknown"},LogLevel:{DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},ElementType:{NORMAL:1,TEXT:3,CDATA:4,FRAGMENT:11},TIMEOUT:1.1,SECONDARY_TIMEOUT:.1,addNamespace:function addNamespace(e,t){I.NS[e]=t;},forEachChild:function forEachChild(e,t,n){for(var i=0;i<e.childNodes.length;i++){var s=e.childNodes[i];s.nodeType!==I.ElementType.NORMAL||t&&!this.isTagEqual(s,t)||n(s);}},isTagEqual:function isTagEqual(e,t){return e.tagName===t;},_xmlGenerator:null,_makeGenerator:function _makeGenerator(){var e;return void 0===document.implementation.createDocument||document.implementation.createDocument&&document.documentMode&&document.documentMode<10?(e=this._getIEXmlDom()).appendChild(e.createElement("strophe")):e=document.implementation.createDocument("jabber:client","strophe",null),e;},xmlGenerator:function xmlGenerator(){return I._xmlGenerator||(I._xmlGenerator=I._makeGenerator()),I._xmlGenerator;},_getIEXmlDom:function _getIEXmlDom(){for(var e=null,t=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"],n=0;n<t.length&&null===e;n++)try{e=new ActiveXObject(t[n]);}catch(t){e=null;}return e;},xmlElement:function xmlElement(e){if(!e)return null;for(var n=I.xmlGenerator().createElement(e),i=1;i<arguments.length;i++){var s=arguments[i];if(s)if("string"==typeof s||"number"==typeof s)n.appendChild(I.xmlTextNode(s));else if("object"===t(s)&&"function"==typeof s.sort)for(var r=0;r<s.length;r++){var o=s[r];"object"===t(o)&&"function"==typeof o.sort&&void 0!==o[1]&&null!==o[1]&&n.setAttribute(o[0],o[1]);}else if("object"===t(s))for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&void 0!==s[a]&&null!==s[a]&&n.setAttribute(a,s[a]);}return n;},xmlescape:function xmlescape(e){return(e=(e=(e=(e=e.replace(/\\&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/\'/g,"&apos;")).replace(/"/g,"&quot;");},xmlunescape:function xmlunescape(e){return(e=(e=(e=(e=e.replace(/\\&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&apos;/g,"\'")).replace(/&quot;/g,\'"\');},xmlTextNode:function xmlTextNode(e){return I.xmlGenerator().createTextNode(e);},xmlHtmlNode:function xmlHtmlNode(e){var t;return DOMParser?t=new DOMParser().parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)),t;},getText:function getText(e){if(!e)return null;var t="";0===e.childNodes.length&&e.nodeType===I.ElementType.TEXT&&(t+=e.nodeValue);for(var n=0;n<e.childNodes.length;n++)e.childNodes[n].nodeType===I.ElementType.TEXT&&(t+=e.childNodes[n].nodeValue);return I.xmlescape(t);},copyElement:function copyElement(e){var t;if(e.nodeType===I.ElementType.NORMAL){t=I.xmlElement(e.tagName);for(var n=0;n<e.attributes.length;n++)t.setAttribute(e.attributes[n].nodeName,e.attributes[n].value);for(var i=0;i<e.childNodes.length;i++)t.appendChild(I.copyElement(e.childNodes[i]));}else e.nodeType===I.ElementType.TEXT&&(t=I.xmlGenerator().createTextNode(e.nodeValue));return t;},createHtml:function createHtml(e){var n;if(e.nodeType===I.ElementType.NORMAL){var i=e.nodeName.toLowerCase();if(I.XHTML.validTag(i))try{n=I.xmlElement(i);for(var s=0;s<I.XHTML.attributes[i].length;s++){var r=I.XHTML.attributes[i][s],o=e.getAttribute(r);if(null!=o&&""!==o&&!1!==o&&0!==o)if("style"===r&&"object"===t(o)&&void 0!==o.cssText&&(o=o.cssText),"style"===r){for(var a=[],c=o.split(";"),d=0;d<c.length;d++){var l=c[d].split(":"),h=l[0].replace(/^\\s*/,"").replace(/\\s*$/,"").toLowerCase();if(I.XHTML.validCSS(h)){var u=l[1].replace(/^\\s*/,"").replace(/\\s*$/,"");a.push(h+": "+u);}}a.length>0&&(o=a.join("; "),n.setAttribute(r,o));}else n.setAttribute(r,o);}for(var p=0;p<e.childNodes.length;p++)n.appendChild(I.createHtml(e.childNodes[p]));}catch(e){n=I.xmlTextNode("");}else{n=I.xmlGenerator().createDocumentFragment();for(var m=0;m<e.childNodes.length;m++)n.appendChild(I.createHtml(e.childNodes[m]));}}else if(e.nodeType===I.ElementType.FRAGMENT){n=I.xmlGenerator().createDocumentFragment();for(var f=0;f<e.childNodes.length;f++)n.appendChild(I.createHtml(e.childNodes[f]));}else e.nodeType===I.ElementType.TEXT&&(n=I.xmlTextNode(e.nodeValue));return n;},escapeNode:function escapeNode(e){return"string"!=typeof e?e:e.replace(/^\\s+|\\s+$/g,"").replace(/\\\\/g,"\\\\5c").replace(/ /g,"\\\\20").replace(/\\"/g,"\\\\22").replace(/\\&/g,"\\\\26").replace(/\\\'/g,"\\\\27").replace(/\\//g,"\\\\2f").replace(/:/g,"\\\\3a").replace(/</g,"\\\\3c").replace(/>/g,"\\\\3e").replace(/@/g,"\\\\40");},unescapeNode:function unescapeNode(e){return"string"!=typeof e?e:e.replace(/\\\\20/g," ").replace(/\\\\22/g,\'"\').replace(/\\\\26/g,"&").replace(/\\\\27/g,"\'").replace(/\\\\2f/g,"/").replace(/\\\\3a/g,":").replace(/\\\\3c/g,"<").replace(/\\\\3e/g,">").replace(/\\\\40/g,"@").replace(/\\\\5c/g,"\\\\");},getNodeFromJid:function getNodeFromJid(e){return e.indexOf("@")<0?null:e.split("@")[0];},getDomainFromJid:function getDomainFromJid(e){var t=I.getBareJidFromJid(e);if(t.indexOf("@")<0)return t;var n=t.split("@");return n.splice(0,1),n.join("@");},getResourceFromJid:function getResourceFromJid(e){if(!e)return null;var t=e.split("/");return t.length<2?null:(t.splice(0,1),t.join("/"));},getBareJidFromJid:function getBareJidFromJid(e){return e?e.split("/")[0]:null;},_handleError:function _handleError(e){void 0!==e.stack&&I.fatal(e.stack),e.sourceURL?I.fatal("error: "+this.handler+" "+e.sourceURL+":"+e.line+" - "+e.name+": "+e.message):e.fileName?I.fatal("error: "+this.handler+" "+e.fileName+":"+e.lineNumber+" - "+e.name+": "+e.message):I.fatal("error: "+e.message);},log:function log(e,n){e===this.LogLevel.FATAL&&"object"===t(window.console)&&"function"==typeof window.console.error&&window.console.error(n);},debug:function debug(e){this.log(this.LogLevel.DEBUG,e);},info:function info(e){this.log(this.LogLevel.INFO,e);},warn:function warn(e){this.log(this.LogLevel.WARN,e);},error:function error(e){this.log(this.LogLevel.ERROR,e);},fatal:function fatal(e){this.log(this.LogLevel.FATAL,e);},serialize:function serialize(e){if(!e)return null;"function"==typeof e.tree&&(e=e.tree());var t=i(Array(e.attributes.length).keys()).map(function(t){return e.attributes[t].nodeName;});t.sort();var n=t.reduce(function(t,n){return"".concat(t," ").concat(n,\'="\').concat(I.xmlescape(e.attributes.getNamedItem(n).value),\'"\');},"<".concat(e.nodeName));if(e.childNodes.length>0){n+=">";for(var s=0;s<e.childNodes.length;s++){var r=e.childNodes[s];switch(r.nodeType){case I.ElementType.NORMAL:n+=I.serialize(r);break;case I.ElementType.TEXT:n+=I.xmlescape(r.nodeValue);break;case I.ElementType.CDATA:n+="<![CDATA["+r.nodeValue+"]]>";}}n+="</"+e.nodeName+">";}else n+="/>";return n;},_requestId:0,_connectionPlugins:{},addConnectionPlugin:function addConnectionPlugin(e,t){I._connectionPlugins[e]=t;},Builder:function Builder(e,t){"presence"!==e&&"message"!==e&&"iq"!==e||(t&&!t.xmlns?t.xmlns=I.NS.CLIENT:t||(t={xmlns:I.NS.CLIENT})),this.nodeTree=I.xmlElement(e,t),this.node=this.nodeTree;}};I.Builder.prototype={tree:function tree(){return this.nodeTree;},toString:function toString(){return I.serialize(this.nodeTree);},up:function up(){return this.node=this.node.parentNode,this;},root:function root(){return this.node=this.nodeTree,this;},attrs:function attrs(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(void 0===e[t]?this.node.removeAttribute(t):this.node.setAttribute(t,e[t]));return this;},c:function c(e,t,n){var i=I.xmlElement(e,t,n);return this.node.appendChild(i),"string"!=typeof n&&"number"!=typeof n&&(this.node=i),this;},cnode:function cnode(e){var t,n=I.xmlGenerator();try{t=void 0!==n.importNode;}catch(e){t=!1;}var i=t?n.importNode(e,!0):I.copyElement(e);return this.node.appendChild(i),this.node=i,this;},t:function t(e){var t=I.xmlTextNode(e);return this.node.appendChild(t),this;},h:function h(e){var t=document.createElement("body");t.innerHTML=e;for(var n=I.createHtml(t);n.childNodes.length>0;)this.node.appendChild(n.childNodes[0]);return this;}},I.Handler=function(e,t,n,i,s,r,o){this.handler=e,this.ns=t,this.name=n,this.type=i,this.id=s,this.options=o||{matchBareFromJid:!1,ignoreNamespaceFragment:!1},this.options.matchBare&&(I.warn(\'The "matchBare" option is deprecated, use "matchBareFromJid" instead.\'),this.options.matchBareFromJid=this.options.matchBare,delete this.options.matchBare),this.options.matchBareFromJid?this.from=r?I.getBareJidFromJid(r):null:this.from=r,this.user=!0;},I.Handler.prototype={getNamespace:function getNamespace(e){var t=e.getAttribute("xmlns");return t&&this.options.ignoreNamespaceFragment&&(t=t.split("#")[0]),t;},namespaceMatch:function namespaceMatch(e){var t=this,n=!1;return!this.ns||(I.forEachChild(e,null,function(e){t.getNamespace(e)===t.ns&&(n=!0);}),n||this.getNamespace(e)===this.ns);},isMatch:function isMatch(e){var t=e.getAttribute("from");this.options.matchBareFromJid&&(t=I.getBareJidFromJid(t));var n=e.getAttribute("type");return!(!this.namespaceMatch(e)||this.name&&!I.isTagEqual(e,this.name)||this.type&&(Array.isArray(this.type)?-1===this.type.indexOf(n):n!==this.type)||this.id&&e.getAttribute("id")!==this.id||this.from&&t!==this.from);},run:function run(e){var t=null;try{t=this.handler(e);}catch(e){throw I._handleError(e),e;}return t;},toString:function toString(){return"{Handler: "+this.handler+"("+this.name+","+this.id+","+this.ns+")}";}},I.TimedHandler=function(e,t){this.period=e,this.handler=t,this.lastCalled=new Date().getTime(),this.user=!0;},I.TimedHandler.prototype={run:function run(){return this.lastCalled=new Date().getTime(),this.handler();},reset:function reset(){this.lastCalled=new Date().getTime();},toString:function toString(){return"{TimedHandler: "+this.handler+"("+this.period+")}";}},I.Connection=function(e,t){var n=this;this.service=e,this.options=t||{};var i=this.options.protocol||"";for(var s in 0===e.indexOf("ws:")||0===e.indexOf("wss:")||0===i.indexOf("ws")?this._proto=new I.Websocket(this):this._proto=new I.Bosh(this),this.jid="",this.domain=null,this.features=null,this._sasl_data={},this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.protocolErrorHandlers={HTTP:{},websocket:{}},this._idleTimeout=null,this._disconnectTimeout=null,this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.do_authentication=!0,this.paused=!1,this.restored=!1,this._data=[],this._uniqueId=0,this._sasl_success_handler=null,this._sasl_failure_handler=null,this._sasl_challenge_handler=null,this.maxRetries=5,this._idleTimeout=setTimeout(function(){return n._onIdle();},100),T(this.options.cookies),this.registerSASLMechanisms(this.options.mechanisms),I._connectionPlugins)if(Object.prototype.hasOwnProperty.call(I._connectionPlugins,s)){var r=function r(){};r.prototype=I._connectionPlugins[s],this[s]=new r(),this[s].init(this);}},I.Connection.prototype={reset:function reset(){this._proto._reset(),this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.restored=!1,this._data=[],this._requests=[],this._uniqueId=0;},pause:function pause(){this.paused=!0;},resume:function resume(){this.paused=!1;},getUniqueId:function getUniqueId(e){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16);});return"string"==typeof e||"number"==typeof e?t+":"+e:t+"";},addProtocolErrorHandler:function addProtocolErrorHandler(e,t,n){this.protocolErrorHandlers[e][t]=n;},connect:function connect(e,t,n,i,s,r,o){this.jid=e,this.authzid=I.getBareJidFromJid(this.jid),this.authcid=o||I.getNodeFromJid(this.jid),this.pass=t,this.servtype="xmpp",this.connect_callback=n,this.disconnecting=!1,this.connected=!1,this.authenticated=!1,this.restored=!1,this.domain=I.getDomainFromJid(this.jid),this._changeConnectStatus(I.Status.CONNECTING,null),this._proto._connect(i,s,r);},attach:function attach(e,t,n,i,s,r,o){if(!(this._proto instanceof I.Bosh)){var a=new Error(\'The "attach" method can only be used with a BOSH connection.\');throw a.name="StropheSessionError",a;}this._proto._attach(e,t,n,i,s,r,o);},restore:function restore(e,t,n,i,s){if(!this._sessionCachingSupported()){var r=new Error(\'The "restore" method can only be used with a BOSH connection.\');throw r.name="StropheSessionError",r;}this._proto._restore(e,t,n,i,s);},_sessionCachingSupported:function _sessionCachingSupported(){if(this._proto instanceof I.Bosh){if(!JSON)return!1;try{sessionStorage.setItem("_strophe_","_strophe_"),sessionStorage.removeItem("_strophe_");}catch(e){return!1;}return!0;}return!1;},xmlInput:function xmlInput(e){},xmlOutput:function xmlOutput(e){},rawInput:function rawInput(e){},rawOutput:function rawOutput(e){},nextValidRid:function nextValidRid(e){},send:function send(e){if(null!==e){if("function"==typeof e.sort)for(var t=0;t<e.length;t++)this._queueData(e[t]);else"function"==typeof e.tree?this._queueData(e.tree()):this._queueData(e);this._proto._send();}},flush:function flush(){clearTimeout(this._idleTimeout),this._onIdle();},sendPresence:function sendPresence(e,t,n,i){var s=this,r=null;"function"==typeof e.tree&&(e=e.tree());var o=e.getAttribute("id");if(o||(o=this.getUniqueId("sendPresence"),e.setAttribute("id",o)),"function"==typeof t||"function"==typeof n){var a=this.addHandler(function(e){r&&s.deleteTimedHandler(r),"error"===e.getAttribute("type")?n&&n(e):t&&t(e);},null,"presence",null,o);i&&(r=this.addTimedHandler(i,function(){return s.deleteHandler(a),n&&n(null),!1;}));}return this.send(e),o;},sendIQ:function sendIQ(e,t,n,i){var s=this,r=null;"function"==typeof e.tree&&(e=e.tree());var o=e.getAttribute("id");if(o||(o=this.getUniqueId("sendIQ"),e.setAttribute("id",o)),"function"==typeof t||"function"==typeof n){var a=this.addHandler(function(e){r&&s.deleteTimedHandler(r);var i=e.getAttribute("type");if("result"===i)t&&t(e);else{if("error"!==i){var o=new Error("Got bad IQ type of ".concat(i));throw o.name="StropheError",o;}n&&n(e);}},null,"iq",["error","result"],o);i&&(r=this.addTimedHandler(i,function(){return s.deleteHandler(a),n&&n(null),!1;}));}return this.send(e),o;},_queueData:function _queueData(e){if(null===e||!e.tagName||!e.childNodes){var t=new Error("Cannot queue non-DOMElement.");throw t.name="StropheError",t;}this._data.push(e);},_sendRestart:function _sendRestart(){var e=this;this._data.push("restart"),this._proto._sendRestart(),this._idleTimeout=setTimeout(function(){return e._onIdle();},100);},addTimedHandler:function addTimedHandler(e,t){var n=new I.TimedHandler(e,t);return this.addTimeds.push(n),n;},deleteTimedHandler:function deleteTimedHandler(e){this.removeTimeds.push(e);},addHandler:function addHandler(e,t,n,i,s,r,o){var a=new I.Handler(e,t,n,i,s,r,o);return this.addHandlers.push(a),a;},deleteHandler:function deleteHandler(e){this.removeHandlers.push(e);var t=this.addHandlers.indexOf(e);t>=0&&this.addHandlers.splice(t,1);},registerSASLMechanisms:function registerSASLMechanisms(e){this.mechanisms={},(e=e||[I.SASLAnonymous,I.SASLExternal,I.SASLMD5,I.SASLOAuthBearer,I.SASLXOAuth2,I.SASLPlain,I.SASLSHA1]).forEach(this.registerSASLMechanism.bind(this));},registerSASLMechanism:function registerSASLMechanism(e){this.mechanisms[e.prototype.name]=e;},disconnect:function disconnect(e){if(this._changeConnectStatus(I.Status.DISCONNECTING,e),I.warn("Disconnect was called because: "+e),this.connected){var t=!1;this.disconnecting=!0,this.authenticated&&(t=w({xmlns:I.NS.CLIENT,type:"unavailable"})),this._disconnectTimeout=this._addSysTimedHandler(3e3,this._onDisconnectTimeout.bind(this)),this._proto._disconnect(t);}else I.warn("Disconnect was called before Strophe connected to the server"),this._proto._abortAllRequests(),this._doDisconnect();},_changeConnectStatus:function _changeConnectStatus(e,t,n){for(var i in I._connectionPlugins)if(Object.prototype.hasOwnProperty.call(I._connectionPlugins,i)){var s=this[i];if(s.statusChanged)try{s.statusChanged(e,t);}catch(e){I.error("".concat(i," plugin caused an exception changing status: ").concat(e));}}if(this.connect_callback)try{this.connect_callback(e,t,n);}catch(e){I._handleError(e),I.error("User connection callback caused an exception: ".concat(e));}},_doDisconnect:function _doDisconnect(e){"number"==typeof this._idleTimeout&&clearTimeout(this._idleTimeout),null!==this._disconnectTimeout&&(this.deleteTimedHandler(this._disconnectTimeout),this._disconnectTimeout=null),I.debug("_doDisconnect was called"),this._proto._doDisconnect(),this.authenticated=!1,this.disconnecting=!1,this.restored=!1,this.handlers=[],this.timedHandlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._changeConnectStatus(I.Status.DISCONNECTED,e),this.connected=!1;},_dataRecv:function _dataRecv(e,t){var n=this;I.debug("_dataRecv called");var i=this._proto._reqToData(e);if(null!==i){for(this.xmlInput!==I.Connection.prototype.xmlInput&&(i.nodeName===this._proto.strip&&i.childNodes.length?this.xmlInput(i.childNodes[0]):this.xmlInput(i)),this.rawInput!==I.Connection.prototype.rawInput&&(t?this.rawInput(t):this.rawInput(I.serialize(i)));this.removeHandlers.length>0;){var s=this.removeHandlers.pop(),r=this.handlers.indexOf(s);r>=0&&this.handlers.splice(r,1);}for(;this.addHandlers.length>0;)this.handlers.push(this.addHandlers.pop());if(this.disconnecting&&this._proto._emptyQueue())this._doDisconnect();else{var o=i.getAttribute("type");if(null!==o&&"terminate"===o){if(this.disconnecting)return;var a=i.getAttribute("condition"),c=i.getElementsByTagName("conflict");return null!==a?("remote-stream-error"===a&&c.length>0&&(a="conflict"),this._changeConnectStatus(I.Status.CONNFAIL,a)):this._changeConnectStatus(I.Status.CONNFAIL,I.ErrorCondition.UNKOWN_REASON),void this._doDisconnect(a);}I.forEachChild(i,null,function(e){var t=n.handlers;n.handlers=[];for(var i=0;i<t.length;i++){var s=t[i];try{(!s.isMatch(e)||!n.authenticated&&s.user||s.run(e))&&n.handlers.push(s);}catch(e){I.warn("Removing Strophe handlers due to uncaught exception: "+e.message);}}});}}},mechanisms:{},_connect_cb:function _connect_cb(e,t,n){var i;I.debug("_connect_cb was called"),this.connected=!0;try{i=this._proto._reqToData(e);}catch(e){if(e.name!==I.ErrorCondition.BAD_FORMAT)throw e;this._changeConnectStatus(I.Status.CONNFAIL,I.ErrorCondition.BAD_FORMAT),this._doDisconnect(I.ErrorCondition.BAD_FORMAT);}if(i&&(this.xmlInput!==I.Connection.prototype.xmlInput&&(i.nodeName===this._proto.strip&&i.childNodes.length?this.xmlInput(i.childNodes[0]):this.xmlInput(i)),this.rawInput!==I.Connection.prototype.rawInput&&(n?this.rawInput(n):this.rawInput(I.serialize(i))),this._proto._connect_cb(i)!==I.Status.CONNFAIL))if(i.getElementsByTagNameNS?i.getElementsByTagNameNS(I.NS.STREAM,"features").length>0:i.getElementsByTagName("stream:features").length>0||i.getElementsByTagName("features").length>0){var s=[],r=i.getElementsByTagName("mechanism");if(r.length>0)for(var o=0;o<r.length;o++){var a=I.getText(r[o]);this.mechanisms[a]&&s.push(this.mechanisms[a]);}0!==s.length||0!==i.getElementsByTagName("auth").length?!1!==this.do_authentication&&this.authenticate(s):this._proto._no_auth_received(t);}else this._proto._no_auth_received(t);},sortMechanismsByPriority:function sortMechanismsByPriority(e){for(var t=0;t<e.length-1;++t){for(var n=t,i=t+1;i<e.length;++i)e[i].prototype.priority>e[n].prototype.priority&&(n=i);if(n!==t){var s=e[t];e[t]=e[n],e[n]=s;}}return e;},authenticate:function authenticate(e){this._attemptSASLAuth(e)||this._attemptLegacyAuth();},_attemptSASLAuth:function _attemptSASLAuth(e){e=this.sortMechanismsByPriority(e||[]);for(var t=!1,n=0;n<e.length;++n)if(e[n].prototype.test(this)){this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge_cb.bind(this),null,"challenge",null,null),this._sasl_mechanism=new e[n](),this._sasl_mechanism.onStart(this);var i=R("auth",{xmlns:I.NS.SASL,mechanism:this._sasl_mechanism.name});if(this._sasl_mechanism.isClientFirst){var s=this._sasl_mechanism.onChallenge(this,null);i.t(btoa(s));}this.send(i.tree()),t=!0;break;}return t;},_sasl_challenge_cb:function _sasl_challenge_cb(e){var t=atob(I.getText(e)),n=this._sasl_mechanism.onChallenge(this,t),i=R("response",{xmlns:I.NS.SASL});return""!==n&&i.t(btoa(n)),this.send(i.tree()),!0;},_attemptLegacyAuth:function _attemptLegacyAuth(){null===I.getNodeFromJid(this.jid)?(this._changeConnectStatus(I.Status.CONNFAIL,I.ErrorCondition.MISSING_JID_NODE),this.disconnect(I.ErrorCondition.MISSING_JID_NODE)):(this._changeConnectStatus(I.Status.AUTHENTICATING,null),this._addSysHandler(this._onLegacyAuthIQResult.bind(this),null,null,null,"_auth_1"),this.send(A({type:"get",to:this.domain,id:"_auth_1"}).c("query",{xmlns:I.NS.AUTH}).c("username",{}).t(I.getNodeFromJid(this.jid)).tree()));},_onLegacyAuthIQResult:function _onLegacyAuthIQResult(e){var t=A({type:"set",id:"_auth_2"}).c("query",{xmlns:I.NS.AUTH}).c("username",{}).t(I.getNodeFromJid(this.jid)).up().c("password").t(this.pass);return I.getResourceFromJid(this.jid)||(this.jid=I.getBareJidFromJid(this.jid)+"/strophe"),t.up().c("resource",{}).t(I.getResourceFromJid(this.jid)),this._addSysHandler(this._auth2_cb.bind(this),null,null,null,"_auth_2"),this.send(t.tree()),!1;},_sasl_success_cb:function _sasl_success_cb(e){var t=this;if(this._sasl_data["server-signature"]){var n,i=atob(I.getText(e)).match(/([a-z]+)=([^,]+)(,|$)/);if("v"===i[1]&&(n=i[2]),n!==this._sasl_data["server-signature"])return this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_data={},this._sasl_failure_cb(null);}I.info("SASL authentication succeeded."),this._sasl_mechanism&&this._sasl_mechanism.onSuccess(),this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null);var s=[],r=function r(e,n){for(;e.length;)t.deleteHandler(e.pop());return t._onStreamFeaturesAfterSASL(n),!1;};return s.push(this._addSysHandler(function(e){return r(s,e);},null,"stream:features",null,null)),s.push(this._addSysHandler(function(e){return r(s,e);},I.NS.STREAM,"features",null,null)),this._sendRestart(),!1;},_onStreamFeaturesAfterSASL:function _onStreamFeaturesAfterSASL(e){this.features=e;for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];"bind"===n.nodeName&&(this.do_bind=!0),"session"===n.nodeName&&(this.do_session=!0);}return this.do_bind?(this.options.explicitResourceBinding?this._changeConnectStatus(I.Status.BINDREQUIRED,null):this.bind(),!1):(this._changeConnectStatus(I.Status.AUTHFAIL,null),!1);},bind:function bind(){if(this.do_bind){this._addSysHandler(this._onResourceBindResultIQ.bind(this),null,null,null,"_bind_auth_2");var e=I.getResourceFromJid(this.jid);e?this.send(A({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:I.NS.BIND}).c("resource",{}).t(e).tree()):this.send(A({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:I.NS.BIND}).tree());}else I.log(I.LogLevel.INFO,\'Strophe.Connection.prototype.bind called but "do_bind" is false\');},_onResourceBindResultIQ:function _onResourceBindResultIQ(e){var t;if("error"===e.getAttribute("type"))return I.warn("Resource binding failed."),e.getElementsByTagName("conflict").length>0&&(t=I.ErrorCondition.CONFLICT),this._changeConnectStatus(I.Status.AUTHFAIL,t,e),!1;var n=e.getElementsByTagName("bind");if(!(n.length>0))return I.warn("Resource binding failed."),this._changeConnectStatus(I.Status.AUTHFAIL,null,e),!1;var i=n[0].getElementsByTagName("jid");i.length>0&&(this.jid=I.getText(i[0]),this.do_session?this._establishSession():(this.authenticated=!0,this._changeConnectStatus(I.Status.CONNECTED,null)));},_establishSession:function _establishSession(){if(!this.do_session)throw new Error("Strophe.Connection.prototype._establishSession "+"called but apparently ".concat(I.NS.SESSION," wasn\'t advertised by the server"));this._addSysHandler(this._onSessionResultIQ.bind(this),null,null,null,"_session_auth_2"),this.send(A({type:"set",id:"_session_auth_2"}).c("session",{xmlns:I.NS.SESSION}).tree());},_onSessionResultIQ:function _onSessionResultIQ(e){if("result"===e.getAttribute("type"))this.authenticated=!0,this._changeConnectStatus(I.Status.CONNECTED,null);else if("error"===e.getAttribute("type"))return I.warn("Session creation failed."),this._changeConnectStatus(I.Status.AUTHFAIL,null,e),!1;return!1;},_sasl_failure_cb:function _sasl_failure_cb(e){return this._sasl_success_handler&&(this.deleteHandler(this._sasl_success_handler),this._sasl_success_handler=null),this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_mechanism&&this._sasl_mechanism.onFailure(),this._changeConnectStatus(I.Status.AUTHFAIL,null,e),!1;},_auth2_cb:function _auth2_cb(e){return"result"===e.getAttribute("type")?(this.authenticated=!0,this._changeConnectStatus(I.Status.CONNECTED,null)):"error"===e.getAttribute("type")&&(this._changeConnectStatus(I.Status.AUTHFAIL,null,e),this.disconnect("authentication failed")),!1;},_addSysTimedHandler:function _addSysTimedHandler(e,t){var n=new I.TimedHandler(e,t);return n.user=!1,this.addTimeds.push(n),n;},_addSysHandler:function _addSysHandler(e,t,n,i,s){var r=new I.Handler(e,t,n,i,s);return r.user=!1,this.addHandlers.push(r),r;},_onDisconnectTimeout:function _onDisconnectTimeout(){return I.debug("_onDisconnectTimeout was called"),this._changeConnectStatus(I.Status.CONNTIMEOUT,null),this._proto._onDisconnectTimeout(),this._doDisconnect(),!1;},_onIdle:function _onIdle(){for(var e=this;this.addTimeds.length>0;)this.timedHandlers.push(this.addTimeds.pop());for(;this.removeTimeds.length>0;){var t=this.removeTimeds.pop(),n=this.timedHandlers.indexOf(t);n>=0&&this.timedHandlers.splice(n,1);}for(var i=new Date().getTime(),s=[],r=0;r<this.timedHandlers.length;r++){var o=this.timedHandlers[r];!this.authenticated&&o.user||(o.lastCalled+o.period-i<=0?o.run()&&s.push(o):s.push(o));}this.timedHandlers=s,clearTimeout(this._idleTimeout),this._proto._onIdle(),this.connected&&(this._idleTimeout=setTimeout(function(){return e._onIdle();},100));}},I.SASLMechanism=function(e,t,n){this.name=e,this.isClientFirst=t,this.priority=n;},I.SASLMechanism.prototype={test:function test(e){return!0;},onStart:function onStart(e){this._connection=e;},onChallenge:function onChallenge(e,t){throw new Error("You should implement challenge handling!");},onFailure:function onFailure(){this._connection=null;},onSuccess:function onSuccess(){this._connection=null;}},I.SASLAnonymous=function(){},I.SASLAnonymous.prototype=new I.SASLMechanism("ANONYMOUS",!1,20),I.SASLAnonymous.prototype.test=function(e){return null===e.authcid;},I.SASLPlain=function(){},I.SASLPlain.prototype=new I.SASLMechanism("PLAIN",!0,50),I.SASLPlain.prototype.test=function(e){return null!==e.authcid;},I.SASLPlain.prototype.onChallenge=function(e){var t=e.authzid;return t+="\\0",t+=e.authcid,t+="\\0",t+=e.pass,b(t);},I.SASLSHA1=function(){},I.SASLSHA1.prototype=new I.SASLMechanism("SCRAM-SHA-1",!0,70),I.SASLSHA1.prototype.test=function(e){return null!==e.authcid;},I.SASLSHA1.prototype.onChallenge=function(e,t,n){var i=n||u.hexdigest(""+1234567890*Math.random()),s="n="+b(e.authcid);return s+=",r=",s+=i,e._sasl_data.cnonce=i,e._sasl_data["client-first-message-bare"]=s,s="n,,"+s,this.onChallenge=function(e,t){for(var n,i,s,r,o,a,c,d,l="c=biws,",h="".concat(e._sasl_data["client-first-message-bare"],",").concat(t,","),u=e._sasl_data.cnonce,p=/([a-z]+)=([^,]+)(,|$)/;t.match(p);){var m=t.match(p);switch(t=t.replace(m[0],""),m[1]){case"r":n=m[2];break;case"s":i=m[2];break;case"i":s=m[2];}}if(n.substr(0,u.length)!==u)return e._sasl_data={},e._sasl_failure_cb();h+=l+="r="+n,i=atob(i),i+="\\0\\0\\0";var f=b(e.pass);for(r=a=C.core_hmac_sha1(f,i),c=1;c<s;c++){for(o=C.core_hmac_sha1(f,C.binb2str(a)),d=0;d<5;d++)r[d]^=o[d];a=o;}r=C.binb2str(r);var g=C.core_hmac_sha1(r,"Client Key"),_=C.str_hmac_sha1(r,"Server Key"),v=C.core_hmac_sha1(C.str_sha1(C.binb2str(g)),h);for(e._sasl_data["server-signature"]=C.b64_hmac_sha1(_,h),d=0;d<5;d++)g[d]^=v[d];return l+",p="+btoa(C.binb2str(g));},s;},I.SASLMD5=function(){},I.SASLMD5.prototype=new I.SASLMechanism("DIGEST-MD5",!1,60),I.SASLMD5.prototype.test=function(e){return null!==e.authcid;},I.SASLMD5.prototype._quote=function(e){return\'"\'+e.replace(/\\\\/g,"\\\\\\\\").replace(/"/g,\'\\\\"\')+\'"\';},I.SASLMD5.prototype.onChallenge=function(e,t,n){for(var i=/([a-z]+)=("[^"]+"|[^,"]+)(?:,|$)/,s=n||u.hexdigest(""+1234567890*Math.random()),r="",o=null,a="";t.match(i);){var c=t.match(i);switch(t=t.replace(c[0],""),c[2]=c[2].replace(/^"(.+)"$/,"$1"),c[1]){case"realm":r=c[2];break;case"nonce":a=c[2];break;case"qop":c[2];break;case"host":o=c[2];}}var d=e.servtype+"/"+e.domain;null!==o&&(d=d+"/"+o);var l=b(e.authcid+":"+r+":"+this._connection.pass),h=u.hash(l)+":"+a+":"+s,p="AUTHENTICATE:"+d,m="";return m+="charset=utf-8,",m+="username="+this._quote(b(e.authcid))+",",m+="realm="+this._quote(r)+",",m+="nonce="+this._quote(a)+",",m+="nc=00000001,",m+="cnonce="+this._quote(s)+",",m+="digest-uri="+this._quote(d)+",",m+="response="+u.hexdigest(u.hexdigest(h)+":"+a+":00000001:"+s+":auth:"+u.hexdigest(p))+",",m+="qop=auth",this.onChallenge=function(){return"";},m;},I.SASLOAuthBearer=function(){},I.SASLOAuthBearer.prototype=new I.SASLMechanism("OAUTHBEARER",!0,40),I.SASLOAuthBearer.prototype.test=function(e){return null!==e.pass;},I.SASLOAuthBearer.prototype.onChallenge=function(e){var t="n,";return null!==e.authcid&&(t=t+"a="+e.authzid),t+=",",t+="",t+="auth=Bearer ",t+=e.pass,t+="",b(t+="");},I.SASLExternal=function(){},I.SASLExternal.prototype=new I.SASLMechanism("EXTERNAL",!0,10),I.SASLExternal.prototype.onChallenge=function(e){return e.authcid===e.authzid?"":e.authzid;},I.SASLXOAuth2=function(){},I.SASLXOAuth2.prototype=new I.SASLMechanism("X-OAUTH2",!0,30),I.SASLXOAuth2.prototype.test=function(e){return null!==e.pass;},I.SASLXOAuth2.prototype.onChallenge=function(e){var t="\\0";return null!==e.authcid&&(t+=e.authzid),t+="\\0",t+=e.pass,b(t);};var P={Strophe:I,$build:R,$iq:A,$msg:function $msg(e){return new I.Builder("message",e);},$pres:w,SHA1:C,MD5:u,b64_hmac_sha1:C.b64_hmac_sha1,b64_sha1:C.b64_sha1,str_hmac_sha1:C.str_hmac_sha1,str_sha1:C.str_sha1},M=P.Strophe,D=P.$build;M.Request=function(e,t,n,i){this.id=++M._requestId,this.xmlData=e,this.data=M.serialize(e),this.origFunc=t,this.func=t,this.rid=n,this.date=NaN,this.sends=i||0,this.abort=!1,this.dead=null,this.age=function(){return this.date?(new Date()-this.date)/1e3:0;},this.timeDead=function(){return this.dead?(new Date()-this.dead)/1e3:0;},this.xhr=this._newXHR();},M.Request.prototype={getResponse:function getResponse(){var e=null;if(this.xhr.responseXML&&this.xhr.responseXML.documentElement){if("parsererror"===(e=this.xhr.responseXML.documentElement).tagName)throw M.error("invalid response received"),M.error("responseText: "+this.xhr.responseText),M.error("responseXML: "+M.serialize(this.xhr.responseXML)),new Error("parsererror");}else if(this.xhr.responseText){if(M.debug("Got responseText but no responseXML; attempting to parse it with DOMParser..."),!(e=new DOMParser().parseFromString(this.xhr.responseText,"application/xml").documentElement))throw new Error("Parsing produced null node");if(e.querySelector("parsererror")){M.error("invalid response received: "+e.querySelector("parsererror").textContent),M.error("responseText: "+this.xhr.responseText);var t=new Error();throw t.name=M.ErrorCondition.BAD_FORMAT,t;}}return e;},_newXHR:function _newXHR(){var e=null;return window.XMLHttpRequest?(e=new XMLHttpRequest()).overrideMimeType&&e.overrideMimeType("text/xml; charset=utf-8"):window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e.onreadystatechange=this.func.bind(null,this),e;}},M.Bosh=function(e){this._conn=e,this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.hold=1,this.wait=60,this.window=5,this.errors=0,this.inactivity=null,this.lastResponseHeaders=null,this._requests=[];},M.Bosh.prototype={strip:null,_buildBody:function _buildBody(){var e=D("body",{rid:this.rid++,xmlns:M.NS.HTTPBIND});return null!==this.sid&&e.attrs({sid:this.sid}),this._conn.options.keepalive&&this._conn._sessionCachingSupported()&&this._cacheSession(),e;},_reset:function _reset(){this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.errors=0,this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid);},_connect:function _connect(e,t,n){this.wait=e||this.wait,this.hold=t||this.hold,this.errors=0;var i=this._buildBody().attrs({to:this._conn.domain,"xml:lang":"en",wait:this.wait,hold:this.hold,content:"text/xml; charset=utf-8",ver:"1.6","xmpp:version":"1.0","xmlns:xmpp":M.NS.BOSH});n&&i.attrs({route:n});var s=this._conn._connect_cb;this._requests.push(new M.Request(i.tree(),this._onRequestStateChange.bind(this,s.bind(this._conn)),i.tree().getAttribute("rid"))),this._throttledRequestHandler();},_attach:function _attach(e,t,n,i,s,r,o){this._conn.jid=e,this.sid=t,this.rid=n,this._conn.connect_callback=i,this._conn.domain=M.getDomainFromJid(this._conn.jid),this._conn.authenticated=!0,this._conn.connected=!0,this.wait=s||this.wait,this.hold=r||this.hold,this.window=o||this.window,this._conn._changeConnectStatus(M.Status.ATTACHED,null);},_restore:function _restore(e,t,n,i,s){var r=JSON.parse(window.sessionStorage.getItem("strophe-bosh-session"));if(!(null!=r&&r.rid&&r.sid&&r.jid&&(null==e||M.getBareJidFromJid(r.jid)===M.getBareJidFromJid(e)||null===M.getNodeFromJid(e)&&M.getDomainFromJid(r.jid)===e))){var o=new Error("_restore: no restoreable session.");throw o.name="StropheSessionError",o;}this._conn.restored=!0,this._attach(r.jid,r.sid,r.rid,t,n,i,s);},_cacheSession:function _cacheSession(){this._conn.authenticated?this._conn.jid&&this.rid&&this.sid&&window.sessionStorage.setItem("strophe-bosh-session",JSON.stringify({jid:this._conn.jid,rid:this.rid,sid:this.sid})):window.sessionStorage.removeItem("strophe-bosh-session");},_connect_cb:function _connect_cb(e){var t=e.getAttribute("type");if(null!==t&&"terminate"===t){var n=e.getAttribute("condition");M.error("BOSH-Connection failed: "+n);var i=e.getElementsByTagName("conflict");return null!==n?("remote-stream-error"===n&&i.length>0&&(n="conflict"),this._conn._changeConnectStatus(M.Status.CONNFAIL,n)):this._conn._changeConnectStatus(M.Status.CONNFAIL,"unknown"),this._conn._doDisconnect(n),M.Status.CONNFAIL;}this.sid||(this.sid=e.getAttribute("sid"));var s=e.getAttribute("requests");s&&(this.window=parseInt(s,10));var r=e.getAttribute("hold");r&&(this.hold=parseInt(r,10));var o=e.getAttribute("wait");o&&(this.wait=parseInt(o,10));var a=e.getAttribute("inactivity");a&&(this.inactivity=parseInt(a,10));},_disconnect:function _disconnect(e){this._sendTerminate(e);},_doDisconnect:function _doDisconnect(){this.sid=null,this.rid=Math.floor(4294967295*Math.random()),this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid);},_emptyQueue:function _emptyQueue(){return 0===this._requests.length;},_callProtocolErrorHandlers:function _callProtocolErrorHandlers(e){var t=this._getRequestStatus(e),n=this._conn.protocolErrorHandlers.HTTP[t];n&&n.call(this,t);},_hitError:function _hitError(e){this.errors++,M.warn("request errored, status: "+e+", number of errors: "+this.errors),this.errors>4&&this._conn._onDisconnectTimeout();},_no_auth_received:function _no_auth_received(e){M.warn("Server did not yet offer a supported authentication mechanism. Sending a blank poll request."),e=e?e.bind(this._conn):this._conn._connect_cb.bind(this._conn);var t=this._buildBody();this._requests.push(new M.Request(t.tree(),this._onRequestStateChange.bind(this,e),t.tree().getAttribute("rid"))),this._throttledRequestHandler();},_onDisconnectTimeout:function _onDisconnectTimeout(){this._abortAllRequests();},_abortAllRequests:function _abortAllRequests(){for(;this._requests.length>0;){var e=this._requests.pop();e.abort=!0,e.xhr.abort(),e.xhr.onreadystatechange=function(){};}},_onIdle:function _onIdle(){var e=this._conn._data;if(this._conn.authenticated&&0===this._requests.length&&0===e.length&&!this._conn.disconnecting&&(M.debug("no requests during idle cycle, sending blank request"),e.push(null)),!this._conn.paused){if(this._requests.length<2&&e.length>0){for(var t=this._buildBody(),n=0;n<e.length;n++)null!==e[n]&&("restart"===e[n]?t.attrs({to:this._conn.domain,"xml:lang":"en","xmpp:restart":"true","xmlns:xmpp":M.NS.BOSH}):t.cnode(e[n]).up());delete this._conn._data,this._conn._data=[],this._requests.push(new M.Request(t.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),t.tree().getAttribute("rid"))),this._throttledRequestHandler();}if(this._requests.length>0){var i=this._requests[0].age();null!==this._requests[0].dead&&this._requests[0].timeDead()>Math.floor(M.SECONDARY_TIMEOUT*this.wait)&&this._throttledRequestHandler(),i>Math.floor(M.TIMEOUT*this.wait)&&(M.warn("Request "+this._requests[0].id+" timed out, over "+Math.floor(M.TIMEOUT*this.wait)+" seconds since last activity"),this._throttledRequestHandler());}}},_getRequestStatus:function _getRequestStatus(e,t){var n;if(4===e.xhr.readyState)try{n=e.xhr.status;}catch(e){M.error("Caught an error while retrieving a request\'s status, reqStatus: "+n);}return void 0===n&&(n="number"==typeof t?t:0),n;},_onRequestStateChange:function _onRequestStateChange(e,t){if(M.debug("request id "+t.id+"."+t.sends+" state changed to "+t.xhr.readyState),t.abort)t.abort=!1;else if(4===t.xhr.readyState){var n=this._getRequestStatus(t);if(this.lastResponseHeaders=t.xhr.getAllResponseHeaders(),this.disconnecting&&n>=400)return this._hitError(n),void this._callProtocolErrorHandlers(t);var i=n>0&&n<500,s=t.sends>this._conn.maxRetries;if((i||s)&&(this._removeRequest(t),M.debug("request id "+t.id+" should now be removed")),200===n){var r=this._requests[0]===t;(this._requests[1]===t||r&&this._requests.length>0&&this._requests[0].age()>Math.floor(M.SECONDARY_TIMEOUT*this.wait))&&this._restartRequest(0),this._conn.nextValidRid(Number(t.rid)+1),M.debug("request id "+t.id+"."+t.sends+" got 200"),e(t),this.errors=0;}else 0===n||n>=400&&n<600||n>=12e3?(M.error("request id "+t.id+"."+t.sends+" error "+n+" happened"),this._hitError(n),this._callProtocolErrorHandlers(t),n>=400&&n<500&&(this._conn._changeConnectStatus(M.Status.DISCONNECTING,null),this._conn._doDisconnect())):M.error("request id "+t.id+"."+t.sends+" error "+n+" happened");i||s?s&&!this._conn.connected&&this._conn._changeConnectStatus(M.Status.CONNFAIL,"giving-up"):this._throttledRequestHandler();}},_processRequest:function _processRequest(e){var t=this,n=this._requests[e],i=this._getRequestStatus(n,-1);if(n.sends>this._conn.maxRetries)this._conn._onDisconnectTimeout();else{var s=n.age(),r=!isNaN(s)&&s>Math.floor(M.TIMEOUT*this.wait),o=null!==n.dead&&n.timeDead()>Math.floor(M.SECONDARY_TIMEOUT*this.wait),a=4===n.xhr.readyState&&(i<1||i>=500);if((r||o||a)&&(o&&M.error("Request ".concat(this._requests[e].id," timed out (secondary), restarting")),n.abort=!0,n.xhr.abort(),n.xhr.onreadystatechange=function(){},this._requests[e]=new M.Request(n.xmlData,n.origFunc,n.rid,n.sends),n=this._requests[e]),0===n.xhr.readyState){M.debug("request id "+n.id+"."+n.sends+" posting");try{var c=this._conn.options.contentType||"text/xml; charset=utf-8";n.xhr.open("POST",this._conn.service,!this._conn.options.sync),void 0!==n.xhr.setRequestHeader&&n.xhr.setRequestHeader("Content-Type",c),this._conn.options.withCredentials&&(n.xhr.withCredentials=!0);}catch(e){return M.error("XHR open failed: "+e.toString()),this._conn.connected||this._conn._changeConnectStatus(M.Status.CONNFAIL,"bad-service"),void this._conn.disconnect();}var d=function d(){if(n.date=new Date(),t._conn.options.customHeaders){var e=t._conn.options.customHeaders;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.xhr.setRequestHeader(i,e[i]);}n.xhr.send(n.data);};if(n.sends>1){var l=1e3*Math.min(Math.floor(M.TIMEOUT*this.wait),Math.pow(n.sends,3));setTimeout(function(){d();},l);}else d();n.sends++,this._conn.xmlOutput!==M.Connection.prototype.xmlOutput&&(n.xmlData.nodeName===this.strip&&n.xmlData.childNodes.length?this._conn.xmlOutput(n.xmlData.childNodes[0]):this._conn.xmlOutput(n.xmlData)),this._conn.rawOutput!==M.Connection.prototype.rawOutput&&this._conn.rawOutput(n.data);}else M.debug("_processRequest: "+(0===e?"first":"second")+" request has readyState of "+n.xhr.readyState);}},_removeRequest:function _removeRequest(e){M.debug("removing request");for(var t=this._requests.length-1;t>=0;t--)e===this._requests[t]&&this._requests.splice(t,1);e.xhr.onreadystatechange=function(){},this._throttledRequestHandler();},_restartRequest:function _restartRequest(e){var t=this._requests[e];null===t.dead&&(t.dead=new Date()),this._processRequest(e);},_reqToData:function _reqToData(e){try{return e.getResponse();}catch(e){if("parsererror"!==e.message)throw e;this._conn.disconnect("strophe-parsererror");}},_sendTerminate:function _sendTerminate(e){M.debug("_sendTerminate was called");var t=this._buildBody().attrs({type:"terminate"});e&&t.cnode(e.tree());var n=new M.Request(t.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),t.tree().getAttribute("rid"));this._requests.push(n),this._throttledRequestHandler();},_send:function _send(){var e=this;clearTimeout(this._conn._idleTimeout),this._throttledRequestHandler(),this._conn._idleTimeout=setTimeout(function(){return e._conn._onIdle();},100);},_sendRestart:function _sendRestart(){this._throttledRequestHandler(),clearTimeout(this._conn._idleTimeout);},_throttledRequestHandler:function _throttledRequestHandler(){this._requests?M.debug("_throttledRequestHandler called with "+this._requests.length+" requests"):M.debug("_throttledRequestHandler called with undefined requests"),this._requests&&0!==this._requests.length&&(this._requests.length>0&&this._processRequest(0),this._requests.length>1&&Math.abs(this._requests[0].rid-this._requests[1].rid)<this.window&&this._processRequest(1));}};var N=P.Strophe,k=P.$build;return N.Websocket=function(e){this._conn=e,this.strip="wrapper";var t=e.service;if(0!==t.indexOf("ws:")&&0!==t.indexOf("wss:")){var n="";"ws"===e.options.protocol&&"https:"!==window.location.protocol?n+="ws":n+="wss",n+="://"+window.location.host,0!==t.indexOf("/")?n+=window.location.pathname+t:n+=t,e.service=n;}},N.Websocket.prototype={_buildStream:function _buildStream(){return k("open",{xmlns:N.NS.FRAMING,to:this._conn.domain,version:"1.0"});},_check_streamerror:function _check_streamerror(e,t){var n;if(0===(n=e.getElementsByTagNameNS?e.getElementsByTagNameNS(N.NS.STREAM,"error"):e.getElementsByTagName("stream:error")).length)return!1;for(var i=n[0],s="",r="",o=0;o<i.childNodes.length;o++){var a=i.childNodes[o];if("urn:ietf:params:xml:ns:xmpp-streams"!==a.getAttribute("xmlns"))break;"text"===a.nodeName?r=a.textContent:s=a.nodeName;}var c="WebSocket stream error: ";return c+=s||"unknown",r&&(c+=" - "+r),N.error(c),this._conn._changeConnectStatus(t,s),this._conn._doDisconnect(),!0;},_reset:function _reset(){},_connect:function _connect(){this._closeSocket(),this.socket=new WebSocket(this._conn.service,"xmpp"),this.socket.onopen=this._onOpen.bind(this),this.socket.onerror=this._onError.bind(this),this.socket.onclose=this._onClose.bind(this),this.socket.onmessage=this._connect_cb_wrapper.bind(this);},_connect_cb:function _connect_cb(e){if(this._check_streamerror(e,N.Status.CONNFAIL))return N.Status.CONNFAIL;},_handleStreamStart:function _handleStreamStart(e){var t=!1,n=e.getAttribute("xmlns");"string"!=typeof n?t="Missing xmlns in <open />":n!==N.NS.FRAMING&&(t="Wrong xmlns in <open />: "+n);var i=e.getAttribute("version");return"string"!=typeof i?t="Missing version in <open />":"1.0"!==i&&(t="Wrong version in <open />: "+i),!t||(this._conn._changeConnectStatus(N.Status.CONNFAIL,t),this._conn._doDisconnect(),!1);},_connect_cb_wrapper:function _connect_cb_wrapper(e){if(0===e.data.indexOf("<open ")||0===e.data.indexOf("<?xml")){var t=e.data.replace(/^(<\\?.*?\\?>\\s*)*/,"");if(""===t)return;var n=new DOMParser().parseFromString(t,"text/xml").documentElement;this._conn.xmlInput(n),this._conn.rawInput(e.data),this._handleStreamStart(n)&&this._connect_cb(n);}else if(0===e.data.indexOf("<close ")){var i=new DOMParser().parseFromString(e.data,"text/xml").documentElement;this._conn.xmlInput(i),this._conn.rawInput(e.data);var s=i.getAttribute("see-other-uri");if(s){var r=this._conn.service;(r.indexOf("wss:")>=0&&s.indexOf("wss:")>=0||r.indexOf("ws:")>=0)&&(this._conn._changeConnectStatus(N.Status.REDIRECT,"Received see-other-uri, resetting connection"),this._conn.reset(),this._conn.service=s,this._connect());}else this._conn._changeConnectStatus(N.Status.CONNFAIL,"Received closing stream"),this._conn._doDisconnect();}else{var o=this._streamWrap(e.data),a=new DOMParser().parseFromString(o,"text/xml").documentElement;this.socket.onmessage=this._onMessage.bind(this),this._conn._connect_cb(a,null,e.data);}},_disconnect:function _disconnect(e){if(this.socket&&this.socket.readyState!==WebSocket.CLOSED){e&&this._conn.send(e);var t=k("close",{xmlns:N.NS.FRAMING});this._conn.xmlOutput(t.tree());var n=N.serialize(t);this._conn.rawOutput(n);try{this.socket.send(n);}catch(e){N.warn("Couldn\'t send <close /> tag.");}}this._conn._doDisconnect();},_doDisconnect:function _doDisconnect(){N.debug("WebSockets _doDisconnect was called"),this._closeSocket();},_streamWrap:function _streamWrap(e){return"<wrapper>"+e+"</wrapper>";},_closeSocket:function _closeSocket(){if(this.socket)try{this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close();}catch(e){N.debug(e.message);}this.socket=null;},_emptyQueue:function _emptyQueue(){return!0;},_onClose:function _onClose(e){this._conn.connected&&!this._conn.disconnecting?(N.error("Websocket closed unexpectedly"),this._conn._doDisconnect()):e&&1006===e.code&&!this._conn.connected&&this.socket?(N.error("Websocket closed unexcectedly"),this._conn._changeConnectStatus(N.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._conn._doDisconnect()):N.debug("Websocket closed");},_no_auth_received:function _no_auth_received(e){N.error("Server did not offer a supported authentication mechanism"),this._conn._changeConnectStatus(N.Status.CONNFAIL,N.ErrorCondition.NO_AUTH_MECH),e&&e.call(this._conn),this._conn._doDisconnect();},_onDisconnectTimeout:function _onDisconnectTimeout(){},_abortAllRequests:function _abortAllRequests(){},_onError:function _onError(e){N.error("Websocket error "+e),this._conn._changeConnectStatus(N.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._disconnect();},_onIdle:function _onIdle(){var e=this._conn._data;if(e.length>0&&!this._conn.paused){for(var t=0;t<e.length;t++)if(null!==e[t]){var n;n="restart"===e[t]?this._buildStream().tree():e[t];var i=N.serialize(n);this._conn.xmlOutput(n),this._conn.rawOutput(i),this.socket.send(i);}this._conn._data=[];}},_onMessage:function _onMessage(e){var t,n=\'<close xmlns="urn:ietf:params:xml:ns:xmpp-framing" />\';if(e.data===n)return this._conn.rawInput(n),this._conn.xmlInput(e),void(this._conn.disconnecting||this._conn._doDisconnect());if(0===e.data.search("<open ")){if(t=new DOMParser().parseFromString(e.data,"text/xml").documentElement,!this._handleStreamStart(t))return;}else{var i=this._streamWrap(e.data);t=new DOMParser().parseFromString(i,"text/xml").documentElement;}return this._check_streamerror(t,N.Status.ERROR)?void 0:this._conn.disconnecting&&"presence"===t.firstChild.nodeName&&"unavailable"===t.firstChild.getAttribute("type")?(this._conn.xmlInput(t),void this._conn.rawInput(N.serialize(t))):void this._conn._dataRecv(t,e.data);},_onOpen:function _onOpen(){N.debug("Websocket open");var e=this._buildStream();this._conn.xmlOutput(e.tree());var t=N.serialize(e);this._conn.rawOutput(t),this.socket.send(t);},_reqToData:function _reqToData(e){return e;},_send:function _send(){this._conn.flush();},_sendRestart:function _sendRestart(){clearTimeout(this._conn._idleTimeout),this._conn._onIdle.bind(this._conn)();}},e.Strophe=P.Strophe,e.$build=P.$build,e.$iq=P.$iq,e.$msg=P.$msg,e.$pres=P.$pres,P;}();},5808:function _(e,t,n){!function(e){"use strict";e.Strophe.addConnectionPlugin("disco",{_connection:null,_identities:[],_features:[],_items:[],init:function init(t){this._connection=t,this._identities=[],this._features=[],this._items=[],t.addHandler(this._onDiscoInfo.bind(this),e.Strophe.NS.DISCO_INFO,"iq","get",null,null),t.addHandler(this._onDiscoItems.bind(this),e.Strophe.NS.DISCO_ITEMS,"iq","get",null,null);},addIdentity:function addIdentity(e,t,n,i){for(var s=0;s<this._identities.length;s++)if(this._identities[s].category==e&&this._identities[s].type==t&&this._identities[s].name==n&&this._identities[s].lang==i)return!1;return this._identities.push({category:e,type:t,name:n,lang:i}),!0;},addFeature:function addFeature(e){for(var t=0;t<this._features.length;t++)if(this._features[t]==e)return!1;return this._features.push(e),!0;},removeFeature:function removeFeature(e){for(var t=0;t<this._features.length;t++)if(this._features[t]===e)return this._features.splice(t,1),!0;return!1;},addItem:function addItem(e,t,n,i){return!(n&&!i||(this._items.push({jid:e,name:t,node:n,call_back:i}),0));},info:function info(t,n,i,s,r){var o={xmlns:e.Strophe.NS.DISCO_INFO};n&&(o.node=n);var a=e.$iq({from:this._connection.jid,to:t,type:"get"}).c("query",o);this._connection.sendIQ(a,i,s,r);},items:function items(t,n,i,s,r){var o={xmlns:e.Strophe.NS.DISCO_ITEMS};n&&(o.node=n);var a=e.$iq({from:this._connection.jid,to:t,type:"get"}).c("query",o);this._connection.sendIQ(a,i,s,r);},_buildIQResult:function _buildIQResult(t,n){var i=t.getAttribute("id"),s=t.getAttribute("from"),r=e.$iq({type:"result",id:i});return null!==s&&r.attrs({to:s}),r.c("query",n);},_onDiscoInfo:function _onDiscoInfo(t){var n,i=t.getElementsByTagName("query")[0].getAttribute("node"),s={xmlns:e.Strophe.NS.DISCO_INFO};i&&(s.node=i);var r=this._buildIQResult(t,s);for(n=0;n<this._identities.length;n++)s={category:this._identities[n].category,type:this._identities[n].type},this._identities[n].name&&(s.name=this._identities[n].name),this._identities[n].lang&&(s["xml:lang"]=this._identities[n].lang),r.c("identity",s).up();for(n=0;n<this._features.length;n++)r.c("feature",{var:this._features[n]}).up();return this._connection.send(r.tree()),!0;},_onDiscoItems:function _onDiscoItems(t){var n,i,s={xmlns:e.Strophe.NS.DISCO_ITEMS},r=t.getElementsByTagName("query")[0].getAttribute("node");if(r){for(s.node=r,n=[],i=0;i<this._items.length;i++)if(this._items[i].node==r){n=this._items[i].call_back(t);break;}}else n=this._items;var o=this._buildIQResult(t,s);for(i=0;i<n.length;i++){var a={jid:n[i].jid};n[i].name&&(a.name=n[i].name),n[i].node&&(a.node=n[i].node),o.c("item",a).up();}return this._connection.send(o.tree()),!0;}});}(n(9755));},6552:function _(e,t,n){!function(e){"use strict";e.Strophe.addConnectionPlugin("streamManagement",{logging:!1,autoSendCountOnEveryIncomingStanza:!1,requestResponseInterval:5,_c:null,_NS:"urn:xmpp:sm:3",_isStreamManagementEnabled:!1,_serverProcesssedStanzasCounter:null,_clientProcessedStanzasCounter:null,_clientSentStanzasCounter:null,_originalXMLOutput:null,_requestHandler:null,_incomingHandler:null,_requestResponseIntervalCount:0,_isSupported:!1,_unacknowledgedStanzas:[],_acknowledgedStanzaListeners:[],addAcknowledgedStanzaListener:function addAcknowledgedStanzaListener(e){this._acknowledgedStanzaListeners.push(e);},enable:function enable(t){if(!this._isSupported)throw new Error("The server doesn\'t support urn:xmpp:sm:3 namespace");if(this._connectionStatus!==e.Strophe.Status.CONNECTED)throw new Error("enable() can only be called in the CONNECTED state");this._c.send(e.$build("enable",{xmlns:this._NS,resume:t})),this._c.flush(),this._c.pause();},getResumeToken:function getResumeToken(){return this._resumeToken;},isSupported:function isSupported(){return this._isSupported;},resume:function resume(){if(!this.getResumeToken())throw new Error("No resume token");if(this._connectionStatus!==e.Strophe.Status.DISCONNECTED)throw new Error("resume() can only be called in the DISCONNECTED state");this._c.options.explicitResourceBinding=!0,this._resuming=!0,this._originalConnect.apply(this._c,this._connectArgs);},requestAcknowledgement:function requestAcknowledgement(){if(this._connectionStatus!==e.Strophe.Status.CONNECTED)throw new Error("requestAcknowledgement() can only be called in the CONNECTED state");this._requestResponseIntervalCount=0,this._c.send(e.$build("r",{xmlns:this._NS}));},getOutgoingCounter:function getOutgoingCounter(){return this._clientSentStanzasCounter;},getIncomingCounter:function getIncomingCounter(){return this._clientProcessedStanzasCounter;},init:function init(t){this._c=t,e.Strophe.addNamespace("SM",this._NS),this._originalXMLOutput=this._c.xmlOutput,this._c.xmlOutput=this.xmlOutput.bind(this),this._originalConnect=this._c.connect,this._c.connect=this._interceptConnectArgs.bind(this),this._originalOnStreamFeaturesAfterSASL=this._c._onStreamFeaturesAfterSASL,this._c._onStreamFeaturesAfterSASL=this._onStreamFeaturesAfterSASL.bind(this),this._originalDoDisconnect=this._c._doDisconnect,this._c._doDisconnect=this._interceptDoDisconnect.bind(this),this._originalDisconnect=this._c.disconnect,this._c.disconnect=this._interceptDisconnect.bind(this);},_interceptDisconnect:function _interceptDisconnect(){this._resumeToken=void 0,this._originalDisconnect.apply(this._c,arguments);},_interceptDoDisconnect:function _interceptDoDisconnect(){this.getResumeToken()&&!this._resuming&&this._c.connected&&!this._c.disconnecting&&(this._resumeState={handlers:this._c.handlers,timedHandlers:this._c.timedHandlers,removeTimeds:this._c.removeTimeds,removeHandlers:this._c.removeHandlers,addTimeds:this._c.addTimeds,addHandlers:this._c.addHandlers},this._storedJid=this._c.jid,this.logging&&e.Strophe.debug("SM stored resume state, handler count: "+this._resumeState.handlers.length)),this._c._data=[],this._originalDoDisconnect.apply(this._c,arguments);},_interceptConnectArgs:function _interceptConnectArgs(){this._connectArgs=arguments,this._originalConnect.apply(this._c,arguments);},_onStreamFeaturesAfterSASL:function _onStreamFeaturesAfterSASL(e){return this._isSupported=e.getElementsByTagNameNS(this._NS,"sm").length>0,this._originalOnStreamFeaturesAfterSASL.apply(this._c,arguments);},statusChanged:function statusChanged(t){if(this._connectionStatus=t,this.getResumeToken()||t!==e.Strophe.Status.CONNECTED&&t!==e.Strophe.Status.DISCONNECTED){if(t===e.Strophe.Status.BINDREQUIRED){this._c.jid=this._storedJid;for(var _e215 in this._resumeState)this._c[_e215]=this._resumeState[_e215];this._c.send(e.$build("resume",{xmlns:this._NS,h:this._clientProcessedStanzasCounter,previd:this._resumeToken})),this._c.flush();}else t===e.Strophe.Status.ERROR&&(this.logging&&e.Strophe.debug("SM cleared resume token on error"),this._resumeToken=void 0);}else this.logging&&e.Strophe.debug("SM reset state"),this._serverProcesssedStanzasCounter=0,this._clientProcessedStanzasCounter=0,this._clientSentStanzasCounter=0,this._isStreamManagementEnabled=!1,this._requestResponseIntervalCount=0,this._resuming=!1,t===e.Strophe.Status.DISCONNECTED&&(this._isSupported=!1),this._unacknowledgedStanzas=[],this._requestHandler&&this._c.deleteHandler(this._requestHandler),this._incomingHandler&&this._c.deleteHandler(this._incomingHandler),this._requestHandler=this._c.addHandler(this._handleServerRequestHandler.bind(this),this._NS,"r"),this._ackHandler=this._c.addHandler(this._handleServerAck.bind(this),this._NS,"a"),this._incomingHandler=this._c.addHandler(this._incomingStanzaHandler.bind(this)),this._enabledHandler=this._c._addSysHandler(this._handleEnabled.bind(this),this._NS,"enabled"),this._resumeFailedHandler=this._c._addSysHandler(this._handleResumeFailed.bind(this),this._NS,"failed"),this._resumedHandler=this._c._addSysHandler(this._handleResumed.bind(this),this._NS,"resumed");},xmlOutput:function xmlOutput(t){return(e.Strophe.isTagEqual(t,"iq")||e.Strophe.isTagEqual(t,"presence")||e.Strophe.isTagEqual(t,"message"))&&this._increaseSentStanzasCounter(t),this._originalXMLOutput.call(this._c,t);},_handleEnabled:function _handleEnabled(e){return this._isStreamManagementEnabled=!0,this._resumeToken="true"===e.getAttribute("resume")&&e.getAttribute("id"),this._c.resume(),!0;},_handleResumeFailed:function _handleResumeFailed(t){var n=t&&t.firstElementChild&&t.firstElementChild.tagName;return this._c._changeConnectStatus(e.Strophe.Status.ERROR,n,t),this._c._doDisconnect(),!0;},_handleResumed:function _handleResumed(t){var n=parseInt(t.getAttribute("h"));if(this._handleAcknowledgedStanzas(n,this._serverProcesssedStanzasCounter),this._resuming=!1,this._c.do_bind=!1,this._c.authenticated=!0,this._c.restored=!0,this._unacknowledgedStanzas.length>0){this.logging&&e.Strophe.debug("SM Sending unacknowledged stanzas",this._unacknowledgedStanzas);var _iterator93=_createForOfIteratorHelper(this._unacknowledgedStanzas),_step93;try{for(_iterator93.s();!(_step93=_iterator93.n()).done;){var _e216=_step93.value;this._c.send(_e216);}}catch(err){_iterator93.e(err);}finally{_iterator93.f();}}else this.logging&&e.Strophe.debug("SM No unacknowledged stanzas",this._unacknowledgedStanzas);return this._c._changeConnectStatus(e.Strophe.Status.CONNECTED,null),!0;},_incomingStanzaHandler:function _incomingStanzaHandler(t){return(e.Strophe.isTagEqual(t,"iq")||e.Strophe.isTagEqual(t,"presence")||e.Strophe.isTagEqual(t,"message"))&&(this._increaseReceivedStanzasCounter(),this.autoSendCountOnEveryIncomingStanza&&this._answerProcessedStanzas()),!0;},_handleAcknowledgedStanzas:function _handleAcknowledgedStanzas(t,n){var i=t-n;i<0&&this._throwError("New reported stanza count lower than previous. New: "+t+" - Previous: "+n),i>this._unacknowledgedStanzas.length&&this._throwError("Higher reported acknowledge count than unacknowledged stanzas. Reported Acknowledge Count: "+i+" - Unacknowledge Stanza Count: "+this._unacknowledgedStanzas.length+" - New: "+t+" - Previous: "+n);for(var s=0;s<i;s++)for(var r=this._unacknowledgedStanzas.shift(),o=0;o<this._acknowledgedStanzaListeners.length;o++)this._acknowledgedStanzaListeners[o](r);this.logging&&this._unacknowledgedStanzas.length>0&&e.Strophe.warn("SM Unacknowledged stanzas",this._unacknowledgedStanzas),this._serverProcesssedStanzasCounter=t,this.requestResponseInterval>0&&(this._requestResponseIntervalCount=0);},_handleServerRequestHandler:function _handleServerRequestHandler(){return this._answerProcessedStanzas(),!0;},_handleServerAck:function _handleServerAck(e){var t=parseInt(e.getAttribute("h"));return this._handleAcknowledgedStanzas(t,this._serverProcesssedStanzasCounter),!0;},_answerProcessedStanzas:function _answerProcessedStanzas(){this._isStreamManagementEnabled&&this._c.send(e.$build("a",{xmlns:this._NS,h:this._clientProcessedStanzasCounter}));},_increaseSentStanzasCounter:function _increaseSentStanzasCounter(t){var _this205=this;if(this._isStreamManagementEnabled){if(-1!==this._unacknowledgedStanzas.indexOf(t))return;this._unacknowledgedStanzas.push(t),this._clientSentStanzasCounter++,this.requestResponseInterval>0&&(this._requestResponseIntervalCount++,this._requestResponseIntervalCount===this.requestResponseInterval&&setTimeout(function(){_this205._connectionStatus===e.Strophe.Status.CONNECTED&&_this205.requestAcknowledgement();},1));}},_increaseReceivedStanzasCounter:function _increaseReceivedStanzasCounter(){this._isStreamManagementEnabled&&this._clientProcessedStanzasCounter++;},_throwError:function _throwError(t){throw e.Strophe.error(t),new Error(t);}});}(n(9755));},825:function _(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=[];for(var _e217=0;_e217<256;++_e217)n.push((_e217+256).toString(16).substr(1));t.default=function(e,t){var i=t||0,s=n;return(s[e[i+0]]+s[e[i+1]]+s[e[i+2]]+s[e[i+3]]+"-"+s[e[i+4]]+s[e[i+5]]+"-"+s[e[i+6]]+s[e[i+7]]+"-"+s[e[i+8]]+s[e[i+9]]+"-"+s[e[i+10]]+s[e[i+11]]+s[e[i+12]]+s[e[i+13]]+s[e[i+14]]+s[e[i+15]]).toLowerCase();};},7593:function _(e,t,n){"use strict";Object.defineProperty(t,"v1",{enumerable:!0,get:function get(){return i.default;}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function get(){return s.default;}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function get(){return r.default;}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function get(){return o.default;}});var i=a(n(4922)),s=a(n(6964)),r=a(n(8509)),o=a(n(5669));function a(e){return e&&e.__esModule?e:{default:e};}},489:function _(e,t){"use strict";function n(e){return 14+(e+64>>>9<<4)+1;}function i(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n;}function s(e,t,n,s,r,o){return i((a=i(i(t,e),i(s,o)))<<(c=r)|a>>>32-c,n);var a,c;}function r(e,t,n,i,r,o,a){return s(t&n|~t&i,e,t,r,o,a);}function o(e,t,n,i,r,o,a){return s(t&i|n&~i,e,t,r,o,a);}function a(e,t,n,i,r,o,a){return s(t^n^i,e,t,r,o,a);}function c(e,t,n,i,r,o,a){return s(n^(t|~i),e,t,r,o,a);}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){if("string"==typeof e){var _t154=unescape(encodeURIComponent(e));e=new Uint8Array(_t154.length);for(var _n114=0;_n114<_t154.length;++_n114)e[_n114]=_t154.charCodeAt(_n114);}return function(e){var t=[],n=32*e.length,i="0123456789abcdef";for(var _s47=0;_s47<n;_s47+=8){var _n115=e[_s47>>5]>>>_s47%32&255,_r26=parseInt(i.charAt(_n115>>>4&15)+i.charAt(15&_n115),16);t.push(_r26);}return t;}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;var s=1732584193,d=-271733879,l=-1732584194,h=271733878;for(var _t155=0;_t155<e.length;_t155+=16){var _n116=s,u=d,p=l,m=h;s=r(s,d,l,h,e[_t155],7,-680876936),h=r(h,s,d,l,e[_t155+1],12,-389564586),l=r(l,h,s,d,e[_t155+2],17,606105819),d=r(d,l,h,s,e[_t155+3],22,-1044525330),s=r(s,d,l,h,e[_t155+4],7,-176418897),h=r(h,s,d,l,e[_t155+5],12,1200080426),l=r(l,h,s,d,e[_t155+6],17,-1473231341),d=r(d,l,h,s,e[_t155+7],22,-45705983),s=r(s,d,l,h,e[_t155+8],7,1770035416),h=r(h,s,d,l,e[_t155+9],12,-1958414417),l=r(l,h,s,d,e[_t155+10],17,-42063),d=r(d,l,h,s,e[_t155+11],22,-1990404162),s=r(s,d,l,h,e[_t155+12],7,1804603682),h=r(h,s,d,l,e[_t155+13],12,-40341101),l=r(l,h,s,d,e[_t155+14],17,-1502002290),d=r(d,l,h,s,e[_t155+15],22,1236535329),s=o(s,d,l,h,e[_t155+1],5,-165796510),h=o(h,s,d,l,e[_t155+6],9,-1069501632),l=o(l,h,s,d,e[_t155+11],14,643717713),d=o(d,l,h,s,e[_t155],20,-373897302),s=o(s,d,l,h,e[_t155+5],5,-701558691),h=o(h,s,d,l,e[_t155+10],9,38016083),l=o(l,h,s,d,e[_t155+15],14,-660478335),d=o(d,l,h,s,e[_t155+4],20,-405537848),s=o(s,d,l,h,e[_t155+9],5,568446438),h=o(h,s,d,l,e[_t155+14],9,-1019803690),l=o(l,h,s,d,e[_t155+3],14,-187363961),d=o(d,l,h,s,e[_t155+8],20,1163531501),s=o(s,d,l,h,e[_t155+13],5,-1444681467),h=o(h,s,d,l,e[_t155+2],9,-51403784),l=o(l,h,s,d,e[_t155+7],14,1735328473),d=o(d,l,h,s,e[_t155+12],20,-1926607734),s=a(s,d,l,h,e[_t155+5],4,-378558),h=a(h,s,d,l,e[_t155+8],11,-2022574463),l=a(l,h,s,d,e[_t155+11],16,1839030562),d=a(d,l,h,s,e[_t155+14],23,-35309556),s=a(s,d,l,h,e[_t155+1],4,-1530992060),h=a(h,s,d,l,e[_t155+4],11,1272893353),l=a(l,h,s,d,e[_t155+7],16,-155497632),d=a(d,l,h,s,e[_t155+10],23,-1094730640),s=a(s,d,l,h,e[_t155+13],4,681279174),h=a(h,s,d,l,e[_t155],11,-358537222),l=a(l,h,s,d,e[_t155+3],16,-722521979),d=a(d,l,h,s,e[_t155+6],23,76029189),s=a(s,d,l,h,e[_t155+9],4,-640364487),h=a(h,s,d,l,e[_t155+12],11,-421815835),l=a(l,h,s,d,e[_t155+15],16,530742520),d=a(d,l,h,s,e[_t155+2],23,-995338651),s=c(s,d,l,h,e[_t155],6,-198630844),h=c(h,s,d,l,e[_t155+7],10,1126891415),l=c(l,h,s,d,e[_t155+14],15,-1416354905),d=c(d,l,h,s,e[_t155+5],21,-57434055),s=c(s,d,l,h,e[_t155+12],6,1700485571),h=c(h,s,d,l,e[_t155+3],10,-1894986606),l=c(l,h,s,d,e[_t155+10],15,-1051523),d=c(d,l,h,s,e[_t155+1],21,-2054922799),s=c(s,d,l,h,e[_t155+8],6,1873313359),h=c(h,s,d,l,e[_t155+15],10,-30611744),l=c(l,h,s,d,e[_t155+6],15,-1560198380),d=c(d,l,h,s,e[_t155+13],21,1309151649),s=c(s,d,l,h,e[_t155+4],6,-145523070),h=c(h,s,d,l,e[_t155+11],10,-1120210379),l=c(l,h,s,d,e[_t155+2],15,718787259),d=c(d,l,h,s,e[_t155+9],21,-343485551),s=i(s,_n116),d=i(d,u),l=i(l,p),h=i(h,m);}return[s,d,l,h];}(function(e){if(0===e.length)return[];var t=8*e.length,i=new Uint32Array(n(t));for(var _n117=0;_n117<t;_n117+=8)i[_n117>>5]|=(255&e[_n117/8])<<_n117%32;return i;}(e),8*e.length));};},6827:function _(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i);};var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16);},3558:function _(e,t){"use strict";function n(e,t,n,i){switch(e){case 0:return t&n^~t&i;case 1:case 3:return t^n^i;case 2:return t&n^t&i^n&i;}}function i(e,t){return e<<t|e>>>32-t;}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){var t=[1518500249,1859775393,2400959708,3395469782],s=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var _t156=unescape(encodeURIComponent(e));e=[];for(var _n118=0;_n118<_t156.length;++_n118)e.push(_t156.charCodeAt(_n118));}e.push(128);var r=e.length/4+2,o=Math.ceil(r/16),a=new Array(o);for(var _t157=0;_t157<o;++_t157){var _n119=new Uint32Array(16);for(var _i104=0;_i104<16;++_i104)_n119[_i104]=e[64*_t157+4*_i104]<<24|e[64*_t157+4*_i104+1]<<16|e[64*_t157+4*_i104+2]<<8|e[64*_t157+4*_i104+3];a[_t157]=_n119;}a[o-1][14]=8*(e.length-1)/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=8*(e.length-1)&4294967295;for(var _e218=0;_e218<o;++_e218){var _r27=new Uint32Array(80);for(var _t158=0;_t158<16;++_t158)_r27[_t158]=a[_e218][_t158];for(var _e219=16;_e219<80;++_e219)_r27[_e219]=i(_r27[_e219-3]^_r27[_e219-8]^_r27[_e219-14]^_r27[_e219-16],1);var _o23=s[0],c=s[1],d=s[2],l=s[3],h=s[4];for(var _e220=0;_e220<80;++_e220){var _s48=Math.floor(_e220/20),_a11=i(_o23,5)+n(_s48,c,d,l)+h+t[_s48]+_r27[_e220]>>>0;h=l,l=d,d=i(c,30)>>>0,c=_o23,_o23=_a11;}s[0]=s[0]+_o23>>>0,s[1]=s[1]+c>>>0,s[2]=s[2]+d>>>0,s[3]=s[3]+l>>>0,s[4]=s[4]+h>>>0;}return[s[0]>>24&255,s[0]>>16&255,s[0]>>8&255,255&s[0],s[1]>>24&255,s[1]>>16&255,s[1]>>8&255,255&s[1],s[2]>>24&255,s[2]>>16&255,s[2]>>8&255,255&s[2],s[3]>>24&255,s[3]>>16&255,s[3]>>8&255,255&s[3],s[4]>>24&255,s[4]>>16&255,s[4]>>8&255,255&s[4]];};},4922:function _(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(6827)),s=r(n(825));function r(e){return e&&e.__esModule?e:{default:e};}var o,a,c=0,d=0;t.default=function(e,t,n){var r=t&&n||0;var l=t||[];var h=(e=e||{}).node||o,u=void 0!==e.clockseq?e.clockseq:a;if(null==h||null==u){var _t159=e.random||(e.rng||i.default)();null==h&&(h=o=[1|_t159[0],_t159[1],_t159[2],_t159[3],_t159[4],_t159[5]]),null==u&&(u=a=16383&(_t159[6]<<8|_t159[7]));}var p=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:d+1;var f=p-c+(m-d)/1e4;if(f<0&&void 0===e.clockseq&&(u=u+1&16383),(f<0||p>c)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can\'t create more than 10M uuids/sec");c=p,d=m,a=u,p+=122192928e5;var g=(1e4*(268435455&p)+m)%4294967296;l[r++]=g>>>24&255,l[r++]=g>>>16&255,l[r++]=g>>>8&255,l[r++]=255&g;var _=p/4294967296*1e4&268435455;l[r++]=_>>>8&255,l[r++]=255&_,l[r++]=_>>>24&15|16,l[r++]=_>>>16&255,l[r++]=u>>>8|128,l[r++]=255&u;for(var _e221=0;_e221<6;++_e221)l[r+_e221]=h[_e221];return t||(0,s.default)(l);};},6964:function _(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(9137)),s=r(n(489));function r(e){return e&&e.__esModule?e:{default:e};}var o=(0,i.default)("v3",48,s.default);t.default=o;},9137:function _(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){function i(e,i,r,o){var a=r&&o||0;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));var t=[];for(var _n120=0;_n120<e.length;++_n120)t.push(e.charCodeAt(_n120));return t;}(e)),"string"==typeof i&&(i=function(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,function(e){t.push(parseInt(e,16));}),t;}(i)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(i)||16!==i.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var c=n(i.concat(e));if(c[6]=15&c[6]|t,c[8]=63&c[8]|128,r)for(var _e222=0;_e222<16;++_e222)r[a+_e222]=c[_e222];return r||(0,s.default)(c);}try{i.name=e;}catch(e){}return i.DNS=r,i.URL=o,i;},t.URL=t.DNS=void 0;var i,s=(i=n(825))&&i.__esModule?i:{default:i};var r="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=r;var o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=o;},8509:function _(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(6827)),s=r(n(825));function r(e){return e&&e.__esModule?e:{default:e};}t.default=function(e,t,n){"string"==typeof e&&(t="binary"===e?new Uint8Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||i.default)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){var _e223=n||0;for(var _n121=0;_n121<16;++_n121)t[_e223+_n121]=r[_n121];return t;}return(0,s.default)(r);};},5669:function _(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(9137)),s=r(n(3558));function r(e){return e&&e.__esModule?e:{default:e};}var o=(0,i.default)("v5",80,s.default);t.default=o;},835:function _(e,t,n){"use strict";n.r(t),n.d(t,{default:function _default(){return ae;}});var i={};n.r(i),n.d(i,{fixNegotiationNeeded:function fixNegotiationNeeded(){return M;},shimAddTrackRemoveTrack:function shimAddTrackRemoveTrack(){return I;},shimAddTrackRemoveTrackWithNative:function shimAddTrackRemoveTrackWithNative(){return w;},shimGetDisplayMedia:function shimGetDisplayMedia(){return E;},shimGetSendersWithDtmf:function shimGetSendersWithDtmf(){return T;},shimGetStats:function shimGetStats(){return R;},shimGetUserMedia:function shimGetUserMedia(){return y;},shimMediaStream:function shimMediaStream(){return C;},shimOnTrack:function shimOnTrack(){return b;},shimPeerConnection:function shimPeerConnection(){return P;},shimSenderReceiverGetStats:function shimSenderReceiverGetStats(){return A;}});var s={};n.r(s),n.d(s,{shimAddTransceiver:function shimAddTransceiver(){return $;},shimCreateAnswer:function shimCreateAnswer(){return J;},shimCreateOffer:function shimCreateOffer(){return B;},shimGetDisplayMedia:function shimGetDisplayMedia(){return N;},shimGetParameters:function shimGetParameters(){return U;},shimGetUserMedia:function shimGetUserMedia(){return D;},shimOnTrack:function shimOnTrack(){return k;},shimPeerConnection:function shimPeerConnection(){return O;},shimRTCDataChannel:function shimRTCDataChannel(){return j;},shimReceiverGetStats:function shimReceiverGetStats(){return x;},shimRemoveStream:function shimRemoveStream(){return F;},shimSenderGetStats:function shimSenderGetStats(){return L;}});var r={};n.r(r),n.d(r,{shimAudioContext:function shimAudioContext(){return X;},shimCallbacksAPI:function shimCallbacksAPI(){return G;},shimConstraints:function shimConstraints(){return K;},shimCreateOfferLegacy:function shimCreateOfferLegacy(){return Q;},shimGetUserMedia:function shimGetUserMedia(){return q;},shimLocalStreamsAPI:function shimLocalStreamsAPI(){return V;},shimRTCIceServerUrls:function shimRTCIceServerUrls(){return z;},shimRemoteStreamsAPI:function shimRemoteStreamsAPI(){return H;},shimTrackEventTransceiver:function shimTrackEventTransceiver(){return W;}});var o={};n.r(o),n.d(o,{removeExtmapAllowMixed:function removeExtmapAllowMixed(){return se;},shimAddIceCandidateNullOrEmpty:function shimAddIceCandidateNullOrEmpty(){return re;},shimConnectionState:function shimConnectionState(){return ie;},shimMaxMessageSize:function shimMaxMessageSize(){return te;},shimRTCIceCandidate:function shimRTCIceCandidate(){return ee;},shimSendThrowTypeError:function shimSendThrowTypeError(){return ne;}});var a=!0,c=!0;function d(e,t,n){var i=e.match(t);return i&&i.length>=n&&parseInt(i[n],10);}function l(e,t,n){if(!e.RTCPeerConnection)return;var i=e.RTCPeerConnection.prototype,s=i.addEventListener;i.addEventListener=function(e,i){if(e!==t)return s.apply(this,arguments);var r=function r(e){var t=n(e);t&&(i.handleEvent?i.handleEvent(t):i(t));};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map()),this._eventMap[t].set(i,r),s.apply(this,[e,r]);};var r=i.removeEventListener;i.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return r.apply(this,arguments);if(!this._eventMap[t].has(n))return r.apply(this,arguments);var i=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,r.apply(this,[e,i]);},Object.defineProperty(i,"on"+t,{get:function get(){return this["_on"+t];},set:function set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e);},enumerable:!0,configurable:!0});}function h(e){return"boolean"!=typeof e?new Error("Argument type: "+_typeof(e)+". Please use a boolean."):(a=e,e?"adapter.js logging disabled":"adapter.js logging enabled");}function u(e){return"boolean"!=typeof e?new Error("Argument type: "+_typeof(e)+". Please use a boolean."):(c=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"));}function p(){if("object"==(typeof window==="undefined"?"undefined":_typeof(window))){if(a)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments);}}function m(e,t){c&&console.warn(e+" is deprecated, please use "+t+" instead.");}function f(e){return"[object Object]"===Object.prototype.toString.call(e);}function g(e){return f(e)?Object.keys(e).reduce(function(t,n){var i=f(e[n]),s=i?g(e[n]):e[n],r=i&&!Object.keys(s).length;return void 0===s||r?t:Object.assign(t,_defineProperty({},n,s));},{}):e;}function _(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach(function(i){i.endsWith("Id")?_(e,e.get(t[i]),n):i.endsWith("Ids")&&t[i].forEach(function(t){_(e,e.get(t),n);});}));}function v(e,t,n){var i=n?"outbound-rtp":"inbound-rtp",s=new Map();if(null===t)return s;var r=[];return e.forEach(function(e){"track"===e.type&&e.trackIdentifier===t.id&&r.push(e);}),r.forEach(function(t){e.forEach(function(n){n.type===i&&n.trackId===t.id&&_(e,n,s);});}),s;}var S=p;function y(e,t){var n=e&&e.navigator;if(!n.mediaDevices)return;var i=function i(e){if("object"!=_typeof(e)||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach(function(n){if("require"===n||"advanced"===n||"mediaSource"===n)return;var i="object"==_typeof(e[n])?e[n]:{ideal:e[n]};void 0!==i.exact&&"number"==typeof i.exact&&(i.min=i.max=i.exact);var s=function s(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t;};if(void 0!==i.ideal){t.optional=t.optional||[];var _e224={};"number"==typeof i.ideal?(_e224[s("min",n)]=i.ideal,t.optional.push(_e224),_e224={},_e224[s("max",n)]=i.ideal,t.optional.push(_e224)):(_e224[s("",n)]=i.ideal,t.optional.push(_e224));}void 0!==i.exact&&"number"!=typeof i.exact?(t.mandatory=t.mandatory||{},t.mandatory[s("",n)]=i.exact):["min","max"].forEach(function(e){void 0!==i[e]&&(t.mandatory=t.mandatory||{},t.mandatory[s(e,n)]=i[e]);});}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t;},s=function s(e,_s49){if(t.version>=61)return _s49(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==_typeof(e.audio)){var _t160=function _t160(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t]);};_t160((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),_t160(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=i(e.audio);}if(e&&"object"==_typeof(e.video)){var _r28=e.video.facingMode;_r28=_r28&&("object"==_typeof(_r28)?_r28:{ideal:_r28});var _o24=t.version<66;if(_r28&&("user"===_r28.exact||"environment"===_r28.exact||"user"===_r28.ideal||"environment"===_r28.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||_o24)){var _t161;if(delete e.video.facingMode,"environment"===_r28.exact||"environment"===_r28.ideal?_t161=["back","rear"]:"user"!==_r28.exact&&"user"!==_r28.ideal||(_t161=["front"]),_t161)return n.mediaDevices.enumerateDevices().then(function(n){var o=(n=n.filter(function(e){return"videoinput"===e.kind;})).find(function(e){return _t161.some(function(t){return e.label.toLowerCase().includes(t);});});return!o&&n.length&&_t161.includes("back")&&(o=n[n.length-1]),o&&(e.video.deviceId=_r28.exact?{exact:o.deviceId}:{ideal:o.deviceId}),e.video=i(e.video),S("chrome: "+JSON.stringify(e)),_s49(e);});}e.video=i(e.video);}return S("chrome: "+JSON.stringify(e)),_s49(e);},r=function r(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function toString(){return this.name+(this.message&&": ")+this.message;}};};if(n.getUserMedia=function(e,t,i){s(e,function(e){n.webkitGetUserMedia(e,t,function(e){i&&i(r(e));});});}.bind(n),n.mediaDevices.getUserMedia){var _e225=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(t){return s(t,function(t){return _e225(t).then(function(e){if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(function(e){e.stop();}),new DOMException("","NotFoundError");return e;},function(e){return Promise.reject(r(e));});});};}}function E(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then(function(t){var i=n.video&&n.video.width,s=n.video&&n.video.height,r=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:r||3}},i&&(n.video.mandatory.maxWidth=i),s&&(n.video.mandatory.maxHeight=s),e.navigator.mediaDevices.getUserMedia(n);});}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"));}function C(e){e.MediaStream=e.MediaStream||e.webkitMediaStream;}function b(e){if("object"==_typeof(e)&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function get(){return this._ontrack;},set:function set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e);},enumerable:!0,configurable:!0});var _t162=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var _this206=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",function(n){var i;i=e.RTCPeerConnection.prototype.getReceivers?_this206.getReceivers().find(function(e){return e.track&&e.track.id===n.track.id;}):{track:n.track};var s=new Event("track");s.track=n.track,s.receiver=i,s.transceiver={receiver:i},s.streams=[t.stream],_this206.dispatchEvent(s);}),t.stream.getTracks().forEach(function(n){var i;i=e.RTCPeerConnection.prototype.getReceivers?_this206.getReceivers().find(function(e){return e.track&&e.track.id===n.id;}):{track:n};var s=new Event("track");s.track=n,s.receiver=i,s.transceiver={receiver:i},s.streams=[t.stream],_this206.dispatchEvent(s);});},this.addEventListener("addstream",this._ontrackpoly)),_t162.apply(this,arguments);};}else l(e,"track",function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e;});}function T(e){if("object"==_typeof(e)&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var _t163=function _t163(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf;},_pc:e};};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice();};var _n122=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){var s=_n122.apply(this,arguments);return s||(s=_t163(this,e),this._senders.push(s)),s;};var _i105=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){_i105.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1);};}var _n123=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var _this207=this;this._senders=this._senders||[],_n123.apply(this,[e]),e.getTracks().forEach(function(e){_this207._senders.push(_t163(_this207,e));});};var _i106=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var _this208=this;this._senders=this._senders||[],_i106.apply(this,[e]),e.getTracks().forEach(function(e){var t=_this208._senders.find(function(t){return t.track===e;});t&&_this208._senders.splice(_this208._senders.indexOf(t),1);});};}else if("object"==_typeof(e)&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var _t164=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var _this209=this;var e=_t164.apply(this,[]);return e.forEach(function(e){return e._pc=_this209;}),e;},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf;}});}}function R(e){if(!e.RTCPeerConnection)return;var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var _this210=this;var _arguments=Array.prototype.slice.call(arguments),e=_arguments[0],n=_arguments[1],i=_arguments[2];if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof e))return t.apply(this,[]);var s=function s(e){var t={};return e.result().forEach(function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(function(t){n[t]=e.stat(t);}),t[n.id]=n;}),t;},r=function r(e){return new Map(Object.keys(e).map(function(t){return[t,e[t]];}));};if(arguments.length>=2){var _i107=function _i107(e){n(r(s(e)));};return t.apply(this,[_i107,e]);}return new Promise(function(e,n){t.apply(_this210,[function(t){e(r(s(t)));},n]);}).then(n,i);};}function A(e){if(!("object"==_typeof(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){var _t165=e.RTCPeerConnection.prototype.getSenders;_t165&&(e.RTCPeerConnection.prototype.getSenders=function(){var _this211=this;var e=_t165.apply(this,[]);return e.forEach(function(e){return e._pc=_this211;}),e;});var _n124=e.RTCPeerConnection.prototype.addTrack;_n124&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=_n124.apply(this,arguments);return e._pc=this,e;}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then(function(t){return v(t,e.track,!0);});};}if(!("getStats"in e.RTCRtpReceiver.prototype)){var _t166=e.RTCPeerConnection.prototype.getReceivers;_t166&&(e.RTCPeerConnection.prototype.getReceivers=function(){var _this212=this;var e=_t166.apply(this,[]);return e.forEach(function(e){return e._pc=_this212;}),e;}),l(e,"track",function(e){return e.receiver._pc=e.srcElement,e;}),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then(function(t){return v(t,e.track,!1);});};}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var _e226=arguments[0];var _t167,_n125,_i108;return this.getSenders().forEach(function(n){n.track===_e226&&(_t167?_i108=!0:_t167=n);}),this.getReceivers().forEach(function(t){return t.track===_e226&&(_n125?_i108=!0:_n125=t),t.track===_e226;}),_i108||_t167&&_n125?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):_t167?_t167.getStats():_n125?_n125.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"));}return t.apply(this,arguments);};}function w(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var _this213=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(e){return _this213._shimmedLocalStreams[e][0];});};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var i=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(i)&&this._shimmedLocalStreams[n.id].push(i):this._shimmedLocalStreams[n.id]=[n,i],i;};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var _this214=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(function(e){if(_this214.getSenders().find(function(t){return t.track===e;}))throw new DOMException("Track already exists.","InvalidAccessError");});var t=this.getSenders();n.apply(this,arguments);var i=this.getSenders().filter(function(e){return-1===t.indexOf(e);});this._shimmedLocalStreams[e.id]=[e].concat(i);};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],i.apply(this,arguments);};var s=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var _this215=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(function(t){var n=_this215._shimmedLocalStreams[t].indexOf(e);-1!==n&&_this215._shimmedLocalStreams[t].splice(n,1),1===_this215._shimmedLocalStreams[t].length&&delete _this215._shimmedLocalStreams[t];}),s.apply(this,arguments);};}function I(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return w(e);var n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var _this216=this;var e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map(function(e){return _this216._reverseStreams[e.id];});};var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var _this217=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(function(e){if(_this217.getSenders().find(function(t){return t.track===e;}))throw new DOMException("Track already exists.","InvalidAccessError");}),!this._reverseStreams[t.id]){var _n126=new e.MediaStream(t.getTracks());this._streams[t.id]=_n126,this._reverseStreams[_n126.id]=t,t=_n126;}i.apply(this,[t]);};var s=e.RTCPeerConnection.prototype.removeStream;function r(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(function(t){var i=e._reverseStreams[t],s=e._streams[i.id];n=n.replace(new RegExp(s.id,"g"),i.id);}),new RTCSessionDescription({type:t.type,sdp:n});}function o(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(function(t){var i=e._reverseStreams[t],s=e._streams[i.id];n=n.replace(new RegExp(i.id,"g"),s.id);}),new RTCSessionDescription({type:t.type,sdp:n});}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id];},e.RTCPeerConnection.prototype.addTrack=function(t,n){var _this218=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection\'s signalingState is \'closed\'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find(function(e){return e===t;}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var s=this.getSenders().find(function(e){return e.track===t;});if(s)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var r=this._streams[n.id];if(r)r.addTrack(t),Promise.resolve().then(function(){_this218.dispatchEvent(new Event("negotiationneeded"));});else{var _i109=new e.MediaStream([t]);this._streams[n.id]=_i109,this._reverseStreams[_i109.id]=n,this.addStream(_i109);}return this.getSenders().find(function(e){return e.track===t;});},["createOffer","createAnswer"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t],i=_defineProperty({},t,function(){var _this219=this;var e=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[function(t){var n=r(_this219,t);e[0].apply(null,[n]);},function(t){e[1]&&e[1].apply(null,t);},arguments[2]]):n.apply(this,arguments).then(function(e){return r(_this219,e);});});e.RTCPeerConnection.prototype[t]=i[t];});var a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=o(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments);};var c=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function get(){var e=c.get.apply(this);return""===e.type?e:r(this,e);}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var _this220=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection\'s signalingState is \'closed\'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");var t;this._streams=this._streams||{},Object.keys(this._streams).forEach(function(n){_this220._streams[n].getTracks().find(function(t){return e.track===t;})&&(t=_this220._streams[n]);}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")));};}function P(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t],i=_defineProperty({},t,function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments);});e.RTCPeerConnection.prototype[t]=i[t];});}function M(e,t){l(e,"negotiationneeded",function(e){var n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e;});}function D(e,t){var n=e&&e.navigator,i=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,i){m("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,i);},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var _e227=function _e227(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t]);},_t168=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"==_typeof(n)&&"object"==_typeof(n.audio)&&(n=JSON.parse(JSON.stringify(n)),_e227(n.audio,"autoGainControl","mozAutoGainControl"),_e227(n.audio,"noiseSuppression","mozNoiseSuppression")),_t168(n);},i&&i.prototype.getSettings){var _t169=i.prototype.getSettings;i.prototype.getSettings=function(){var n=_t169.apply(this,arguments);return _e227(n,"mozAutoGainControl","autoGainControl"),_e227(n,"mozNoiseSuppression","noiseSuppression"),n;};}if(i&&i.prototype.applyConstraints){var _t170=i.prototype.applyConstraints;i.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"==_typeof(n)&&(n=JSON.parse(JSON.stringify(n)),_e227(n,"autoGainControl","mozAutoGainControl"),_e227(n,"noiseSuppression","mozNoiseSuppression")),_t170.apply(this,[n]);};}}}function N(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){var _e228=new DOMException("getDisplayMedia without video constraints is undefined");return _e228.name="NotFoundError",_e228.code=8,Promise.reject(_e228);}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n);});}function k(e){"object"==_typeof(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function get(){return{receiver:this.receiver};}});}function O(e,t){if("object"!=_typeof(e)||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t],i=_defineProperty({},t,function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments);});e.RTCPeerConnection.prototype[t]=i[t];});var n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var _arguments2=Array.prototype.slice.call(arguments),e=_arguments2[0],s=_arguments2[1],r=_arguments2[2];return i.apply(this,[e||null]).then(function(e){if(t.version<53&&!s)try{e.forEach(function(e){e.type=n[e.type]||e.type;});}catch(t){if("TypeError"!==t.name)throw t;e.forEach(function(t,i){e.set(i,Object.assign({},t,{type:n[t.type]||t.type}));});}return e;}).then(s,r);};}function L(e){if("object"!=_typeof(e)||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var _this221=this;var e=t.apply(this,[]);return e.forEach(function(e){return e._pc=_this221;}),e;});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e;}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map());};}function x(e){if("object"!=_typeof(e)||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var _this222=this;var e=t.apply(this,[]);return e.forEach(function(e){return e._pc=_this222;}),e;}),l(e,"track",function(e){return e.receiver._pc=e.srcElement,e;}),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track);};}function F(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var _this223=this;m("removeStream","removeTrack"),this.getSenders().forEach(function(t){t.track&&e.getTracks().includes(t.track)&&_this223.removeTrack(t);});});}function j(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel);}function $(e){if("object"!=_typeof(e)||!e.RTCPeerConnection)return;var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach(function(e){if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0");});var i=t.apply(this,arguments);if(n){var _t171=i.sender,_n127=_t171.getParameters();(!("encodings"in _n127)||1===_n127.encodings.length&&0===Object.keys(_n127.encodings[0]).length)&&(_n127.encodings=e.sendEncodings,_t171.sendEncodings=e.sendEncodings,this.setParametersPromises.push(_t171.setParameters(_n127).then(function(){delete _t171.sendEncodings;}).catch(function(){delete _t171.sendEncodings;})));}return i;});}function U(e){if("object"!=_typeof(e)||!e.RTCRtpSender)return;var t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){var e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e;});}function B(e){if("object"!=_typeof(e)||!e.RTCPeerConnection)return;var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var _arguments3=arguments,_this224=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return t.apply(_this224,_arguments3);}).finally(function(){_this224.setParametersPromises=[];}):t.apply(this,arguments);};}function J(e){if("object"!=_typeof(e)||!e.RTCPeerConnection)return;var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var _arguments4=arguments,_this225=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return t.apply(_this225,_arguments4);}).finally(function(){_this225.setParametersPromises=[];}):t.apply(this,arguments);};}function V(e){if("object"==_typeof(e)&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams;}),!("addStream"in e.RTCPeerConnection.prototype)){var _t172=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var _this226=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(function(n){return _t172.call(_this226,n,e);}),e.getVideoTracks().forEach(function(n){return _t172.call(_this226,n,e);});},e.RTCPeerConnection.prototype.addTrack=function(e){var _this227=this;for(var _len=arguments.length,n=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){n[_key-1]=arguments[_key];}return n&&n.forEach(function(e){_this227._localStreams?_this227._localStreams.includes(e)||_this227._localStreams.push(e):_this227._localStreams=[e];}),_t172.apply(this,arguments);};}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var _this228=this;this._localStreams||(this._localStreams=[]);var t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);var n=e.getTracks();this.getSenders().forEach(function(e){n.includes(e.track)&&_this228.removeTrack(e);});});}}function H(e){if("object"==_typeof(e)&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[];}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function get(){return this._onaddstream;},set:function set(e){var _this229=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach(function(e){if(_this229._remoteStreams||(_this229._remoteStreams=[]),_this229._remoteStreams.includes(e))return;_this229._remoteStreams.push(e);var t=new Event("addstream");t.stream=e,_this229.dispatchEvent(t);});});}});var _t173=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(function(t){if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n);});}),_t173.apply(e,arguments);};}}function G(e){if("object"!=_typeof(e)||!e.RTCPeerConnection)return;var t=e.RTCPeerConnection.prototype,n=t.createOffer,i=t.createAnswer,s=t.setLocalDescription,r=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(e,t){var i=arguments.length>=2?arguments[2]:arguments[0],s=n.apply(this,[i]);return t?(s.then(e,t),Promise.resolve()):s;},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],s=i.apply(this,[n]);return t?(s.then(e,t),Promise.resolve()):s;};var a=function a(e,t,n){var i=s.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i;};t.setLocalDescription=a,a=function a(e,t,n){var i=r.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i;},t.setRemoteDescription=a,a=function a(e,t,n){var i=o.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i;},t.addIceCandidate=a;}function q(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var _e229=t.mediaDevices,_n128=_e229.getUserMedia.bind(_e229);t.mediaDevices.getUserMedia=function(e){return _n128(K(e));};}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,i){t.mediaDevices.getUserMedia(e).then(n,i);}.bind(t));}function K(e){return e&&void 0!==e.video?Object.assign({},e,{video:g(e.video)}):e;}function z(e){if(!e.RTCPeerConnection)return;var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){var _t174=[];for(var _n129=0;_n129<e.iceServers.length;_n129++){var _i113=e.iceServers[_n129];!_i113.hasOwnProperty("urls")&&_i113.hasOwnProperty("url")?(m("RTCIceServer.url","RTCIceServer.urls"),_i113=JSON.parse(JSON.stringify(_i113)),_i113.urls=_i113.url,delete _i113.url,_t174.push(_i113)):_t174.push(e.iceServers[_n129]);}e.iceServers=_t174;}return new t(e,n);},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function get(){return t.generateCertificate;}});}function W(e){"object"==_typeof(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function get(){return{receiver:this.receiver};}});}function Q(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var _t175=this.getTransceivers().find(function(e){return"audio"===e.receiver.track.kind;});!1===e.offerToReceiveAudio&&_t175?"sendrecv"===_t175.direction?_t175.setDirection?_t175.setDirection("sendonly"):_t175.direction="sendonly":"recvonly"===_t175.direction&&(_t175.setDirection?_t175.setDirection("inactive"):_t175.direction="inactive"):!0!==e.offerToReceiveAudio||_t175||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var _n130=this.getTransceivers().find(function(e){return"video"===e.receiver.track.kind;});!1===e.offerToReceiveVideo&&_n130?"sendrecv"===_n130.direction?_n130.setDirection?_n130.setDirection("sendonly"):_n130.direction="sendonly":"recvonly"===_n130.direction&&(_n130.setDirection?_n130.setDirection("inactive"):_n130.direction="inactive"):!0!==e.offerToReceiveVideo||_n130||this.addTransceiver("video");}return t.apply(this,arguments);};}function X(e){"object"!=_typeof(e)||e.AudioContext||(e.AudioContext=e.webkitAudioContext);}var Y=n(7539),Z=n.n(Y);function ee(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==_typeof(e)&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var _n131=new t(e),_i114=Z().parseCandidate(e.candidate),_s50=Object.assign(_n131,_i114);return _s50.toJSON=function(){return{candidate:_s50.candidate,sdpMid:_s50.sdpMid,sdpMLineIndex:_s50.sdpMLineIndex,usernameFragment:_s50.usernameFragment};},_s50;}return new t(e);},e.RTCIceCandidate.prototype=t.prototype,l(e,"icecandidate",function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t;});}function te(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function get(){return void 0===this._sctp?null:this._sctp;}});var n=function n(e){if(!e||!e.sdp)return!1;var t=Z().splitSections(e.sdp);return t.shift(),t.some(function(e){var t=Z().parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP");});},i=function i(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!=n?-1:n;},s=function s(e){var n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n;},r=function r(e,n){var i=65536;"firefox"===t.browser&&57===t.version&&(i=65535);var s=Z().matchPrefix(e.sdp,"a=max-message-size:");return s.length>0?i=parseInt(s[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(i=2147483637),i;},o=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){var _this$getConfiguratio=this.getConfiguration(),_e230=_this$getConfiguratio.sdpSemantics;"plan-b"===_e230&&Object.defineProperty(this,"sctp",{get:function get(){return void 0===this._sctp?null:this._sctp;},enumerable:!0,configurable:!0});}if(n(arguments[0])){var _e231=i(arguments[0]),_t176=s(_e231),_n132=r(arguments[0],_e231);var _o25;_o25=0===_t176&&0===_n132?Number.POSITIVE_INFINITY:0===_t176||0===_n132?Math.max(_t176,_n132):Math.min(_t176,_n132);var _a12={};Object.defineProperty(_a12,"maxMessageSize",{get:function get(){return _o25;}}),this._sctp=_a12;}return o.apply(this,arguments);};}function ne(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){var n=e.send;e.send=function(){var i=arguments[0],s=i.length||i.size||i.byteLength;if("open"===e.readyState&&t.sctp&&s>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments);};}var n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=n.apply(this,arguments);return t(e,this),e;},l(e,"datachannel",function(e){return t(e.channel,e.target),e;});}function ie(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState;},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function get(){return this._onconnectionstatechange||null;},set:function set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e);},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(function(e){var n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var _n133=new Event("connectionstatechange",e);t.dispatchEvent(_n133);}return e;},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments);};});}function se(e,t){if(!e.RTCPeerConnection)return;if("chrome"===t.browser&&t.version>=71)return;if("safari"===t.browser&&t.version>=605)return;var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\\na=extmap-allow-mixed")){var _n134=t.sdp.split("\\n").filter(function(e){return"a=extmap-allow-mixed"!==e.trim();}).join("\\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:_n134}):t.sdp=_n134;}return n.apply(this,arguments);};}function re(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;var n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve());});}var oe=function(){var _ref7=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=_ref7.window;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};var n=p,a=function(e){var t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser="Not a browser.",t;var n=e.navigator;if(n.mozGetUserMedia)t.browser="firefox",t.version=d(n.userAgent,/Firefox\\/(\\d+)\\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=d(n.userAgent,/Chrom(e|ium)\\/(\\d+)\\./,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\\/(\\d+)\\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=d(n.userAgent,/AppleWebKit\\/(\\d+)\\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;}return t;}(e),c={browserDetails:a,commonShim:o,extractVersion:d,disableLog:h,disableWarnings:u,sdp:Y};switch(a.browser){case"chrome":if(!i||!P||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),c;if(null===a.version)return n("Chrome shim can not determine version, not shimming."),c;n("adapter.js shimming chrome."),c.browserShim=i,re(e,a),y(e,a),C(e),P(e,a),b(e),I(e,a),T(e),R(e),A(e),M(e,a),ee(e),ie(e),te(e,a),ne(e),se(e,a);break;case"firefox":if(!s||!O||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),c;n("adapter.js shimming firefox."),c.browserShim=s,re(e,a),D(e,a),O(e,a),k(e),F(e),L(e),x(e),j(e),$(e),U(e),B(e),J(e),ee(e),ie(e),te(e,a),ne(e);break;case"safari":if(!r||!t.shimSafari)return n("Safari shim is not included in this adapter release."),c;n("adapter.js shimming safari."),c.browserShim=r,re(e,a),z(e),Q(e),G(e),V(e),H(e),W(e),q(e),X(e),ee(e),te(e,a),ne(e),se(e,a);break;default:n("Unsupported browser!");}return c;}({window:"undefined"==typeof window?void 0:window}),ae=oe;}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports;}__webpack_require__.amdO={},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default;}:function(){return e;};return __webpack_require__.d(t,{a:t}),t;},__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]});},__webpack_require__.g=function(){if("object"==(typeof globalThis==="undefined"?"undefined":_typeof(globalThis)))return globalThis;try{return this||new Function("return this")();}catch(e){if("object"==(typeof window==="undefined"?"undefined":_typeof(window)))return window;}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t);},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0});},__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e;};var __webpack_exports__=__webpack_require__(4449);return __webpack_exports__;}();});'},9278:function(e){e.exports='Strophe.addConnectionPlugin("disco",{_connection:null,_identities:[],_features:[],_items:[],init:function init(conn){this._connection=conn;this._identities=[];this._features=[];this._items=[];conn.addHandler(this._onDiscoInfo.bind(this),Strophe.NS.DISCO_INFO,"iq","get",null,null);conn.addHandler(this._onDiscoItems.bind(this),Strophe.NS.DISCO_ITEMS,"iq","get",null,null);},addIdentity:function addIdentity(category,type,name,lang){for(var i=0;i<this._identities.length;i++){if(this._identities[i].category==category&&this._identities[i].type==type&&this._identities[i].name==name&&this._identities[i].lang==lang){return false;}}this._identities.push({category:category,type:type,name:name,lang:lang});return true;},addFeature:function addFeature(var_name){for(var i=0;i<this._features.length;i++){if(this._features[i]==var_name){return false;}}this._features.push(var_name);return true;},removeFeature:function removeFeature(var_name){for(var i=0;i<this._features.length;i++){if(this._features[i]===var_name){this._features.splice(i,1);return true;}}return false;},addItem:function addItem(jid,name,node,call_back){if(node&&!call_back){return false;}this._items.push({jid:jid,name:name,node:node,call_back:call_back});return true;},info:function info(jid,node,success,error,timeout){var attrs={xmlns:Strophe.NS.DISCO_INFO};if(node){attrs.node=node;}var info=$iq({from:this._connection.jid,to:jid,type:"get"}).c("query",attrs);this._connection.sendIQ(info,success,error,timeout);},items:function items(jid,node,success,error,timeout){var attrs={xmlns:Strophe.NS.DISCO_ITEMS};if(node){attrs.node=node;}var items=$iq({from:this._connection.jid,to:jid,type:"get"}).c("query",attrs);this._connection.sendIQ(items,success,error,timeout);},_buildIQResult:function _buildIQResult(stanza,query_attrs){var id=stanza.getAttribute("id");var from=stanza.getAttribute("from");var iqresult=$iq({type:"result",id:id});if(from!==null){iqresult.attrs({to:from});}return iqresult.c("query",query_attrs);},_onDiscoInfo:function _onDiscoInfo(stanza){var node=stanza.getElementsByTagName("query")[0].getAttribute("node");var attrs={xmlns:Strophe.NS.DISCO_INFO};if(node){attrs.node=node;}var iqresult=this._buildIQResult(stanza,attrs);for(var i=0;i<this._identities.length;i++){var attrs={category:this._identities[i].category,type:this._identities[i].type};if(this._identities[i].name){attrs.name=this._identities[i].name;}if(this._identities[i].lang){attrs["xml:lang"]=this._identities[i].lang;}iqresult.c("identity",attrs).up();}for(var i=0;i<this._features.length;i++){iqresult.c("feature",{var:this._features[i]}).up();}this._connection.send(iqresult.tree());return true;},_onDiscoItems:function _onDiscoItems(stanza){var query_attrs={xmlns:Strophe.NS.DISCO_ITEMS};var node=stanza.getElementsByTagName("query")[0].getAttribute("node");if(node){query_attrs.node=node;var items=[];for(var i=0;i<this._items.length;i++){if(this._items[i].node==node){items=this._items[i].call_back(stanza);break;}}}else{var items=this._items;}var iqresult=this._buildIQResult(stanza,query_attrs);for(var i=0;i<items.length;i++){var attrs={jid:items[i].jid};if(items[i].name){attrs.name=items[i].name;}if(items[i].node){attrs.node=items[i].node;}iqresult.c("item",attrs).up();}this._connection.send(iqresult.tree());return true;}});'},4637:function(e){e.exports='function _typeof(obj){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj;}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;},_typeof(obj);}/** File: strophe.js\r\n *  A JavaScript library for XMPP BOSH/XMPP over Websocket.\r\n *\r\n *  This is the JavaScript version of the Strophe library.  Since JavaScript\r\n *  had no facilities for persistent TCP connections, this library uses\r\n *  Bidirectional-streams Over Synchronous HTTP (BOSH) to emulate\r\n *  a persistent, stateful, two-way connection to an XMPP server.  More\r\n *  information on BOSH can be found in XEP 124.\r\n *\r\n *  This version of Strophe also works with WebSockets.\r\n *  For more information on XMPP-over WebSocket see this RFC:\r\n *  http://tools.ietf.org/html/rfc7395\r\n */ /* All of the Strophe globals are defined in this special function below so\r\n * that references to the globals become closures.  This will ensure that\r\n * on page reload, these references will still be available to callbacks\r\n * that are still executing.\r\n */ /* jshint ignore:start */(function(callback){/* jshint ignore:end */ // This code was written by Tyler Akins and has been placed in the\n// public domain.  It would be nice if you left this header intact.\n// Base64 code from Tyler Akins -- http://rumkin.com\n(function(root,factory){if(typeof define==="function"&&define.amd){define("strophe-base64",function(){return factory();});}else{// Browser globals\nroot.Base64=factory();}})(this,function(){var keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var obj={/**\r\n       * Encodes a string in base64\r\n       * @param {String} input The string to encode in base64.\r\n       */encode:function encode(input){var output="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;do{chr1=input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=(chr1&3)<<4|chr2>>4;enc3=(chr2&15)<<2|chr3>>6;enc4=chr3&63;if(isNaN(chr2)){enc2=(chr1&3)<<4;enc3=enc4=64;}else if(isNaN(chr3)){enc4=64;}output=output+keyStr.charAt(enc1)+keyStr.charAt(enc2)+keyStr.charAt(enc3)+keyStr.charAt(enc4);}while(i<input.length);return output;},/**\r\n       * Decodes a base64 string.\r\n       * @param {String} input The string to decode.\r\n       */decode:function decode(input){var output="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;// remove all characters that are not A-Z, a-z, 0-9, +, /, or =\ninput=input.replace(/[^A-Za-z0-9\\+\\/\\=]/g,"");do{enc1=keyStr.indexOf(input.charAt(i++));enc2=keyStr.indexOf(input.charAt(i++));enc3=keyStr.indexOf(input.charAt(i++));enc4=keyStr.indexOf(input.charAt(i++));chr1=enc1<<2|enc2>>4;chr2=(enc2&15)<<4|enc3>>2;chr3=(enc3&3)<<6|enc4;output=output+String.fromCharCode(chr1);if(enc3!=64){output=output+String.fromCharCode(chr2);}if(enc4!=64){output=output+String.fromCharCode(chr3);}}while(i<input.length);return output;}};return obj;});/*\r\n   * A JavaScript implementation of the Secure Hash Algorithm, SHA-1, as defined\r\n   * in FIPS PUB 180-1\r\n   * Version 2.1a Copyright Paul Johnston 2000 - 2002.\r\n   * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\r\n   * Distributed under the BSD License\r\n   * See http://pajhome.org.uk/crypt/md5 for details.\r\n   */ /* jshint undef: true, unused: true:, noarg: true, latedef: true */ /* global define */ /* Some functions and variables have been stripped for use with Strophe */(function(root,factory){if(typeof define==="function"&&define.amd){define("strophe-sha1",function(){return factory();});}else{// Browser globals\nroot.SHA1=factory();}})(this,function(){/*\r\n     * Calculate the SHA-1 of an array of big-endian words, and a bit length\r\n     */function core_sha1(x,len){/* append padding */x[len>>5]|=0x80<<24-len%32;x[(len+64>>9<<4)+15]=len;var w=new Array(80);var a=1732584193;var b=-271733879;var c=-1732584194;var d=271733878;var e=-1009589776;var i,j,t,olda,oldb,oldc,oldd,olde;for(i=0;i<x.length;i+=16){olda=a;oldb=b;oldc=c;oldd=d;olde=e;for(j=0;j<80;j++){if(j<16){w[j]=x[i+j];}else{w[j]=rol(w[j-3]^w[j-8]^w[j-14]^w[j-16],1);}t=safe_add(safe_add(rol(a,5),sha1_ft(j,b,c,d)),safe_add(safe_add(e,w[j]),sha1_kt(j)));e=d;d=c;c=rol(b,30);b=a;a=t;}a=safe_add(a,olda);b=safe_add(b,oldb);c=safe_add(c,oldc);d=safe_add(d,oldd);e=safe_add(e,olde);}return[a,b,c,d,e];}/*\r\n     * Perform the appropriate triplet combination function for the current\r\n     * iteration\r\n     */function sha1_ft(t,b,c,d){if(t<20){return b&c|~b&d;}if(t<40){return b^c^d;}if(t<60){return b&c|b&d|c&d;}return b^c^d;}/*\r\n     * Determine the appropriate additive constant for the current iteration\r\n     */function sha1_kt(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514;}/*\r\n     * Calculate the HMAC-SHA1 of a key and some data\r\n     */function core_hmac_sha1(key,data){var bkey=str2binb(key);if(bkey.length>16){bkey=core_sha1(bkey,key.length*8);}var ipad=new Array(16),opad=new Array(16);for(var i=0;i<16;i++){ipad[i]=bkey[i]^0x36363636;opad[i]=bkey[i]^0x5c5c5c5c;}var hash=core_sha1(ipad.concat(str2binb(data)),512+data.length*8);return core_sha1(opad.concat(hash),512+160);}/*\r\n     * Add integers, wrapping at 2^32. This uses 16-bit operations internally\r\n     * to work around bugs in some JS interpreters.\r\n     */function safe_add(x,y){var lsw=(x&0xffff)+(y&0xffff);var msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|lsw&0xffff;}/*\r\n     * Bitwise rotate a 32-bit number to the left.\r\n     */function rol(num,cnt){return num<<cnt|num>>>32-cnt;}/*\r\n     * Convert an 8-bit or 16-bit string to an array of big-endian words\r\n     * In 8-bit function, characters >255 have their hi-byte silently ignored.\r\n     */function str2binb(str){var bin=[];var mask=255;for(var i=0;i<str.length*8;i+=8){bin[i>>5]|=(str.charCodeAt(i/8)&mask)<<24-i%32;}return bin;}/*\r\n     * Convert an array of big-endian words to a string\r\n     */function binb2str(bin){var str="";var mask=255;for(var i=0;i<bin.length*32;i+=8){str+=String.fromCharCode(bin[i>>5]>>>24-i%32&mask);}return str;}/*\r\n     * Convert an array of big-endian words to a base-64 string\r\n     */function binb2b64(binarray){var tab="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var str="";var triplet,j;for(var i=0;i<binarray.length*4;i+=3){triplet=(binarray[i>>2]>>8*(3-i%4)&0xff)<<16|(binarray[i+1>>2]>>8*(3-(i+1)%4)&0xff)<<8|binarray[i+2>>2]>>8*(3-(i+2)%4)&0xff;for(j=0;j<4;j++){if(i*8+j*6>binarray.length*32){str+="=";}else{str+=tab.charAt(triplet>>6*(3-j)&0x3f);}}}return str;}/*\r\n     * These are the functions you\'ll usually want to call\r\n     * They take string arguments and return either hex or base-64 encoded strings\r\n     */return{b64_hmac_sha1:function b64_hmac_sha1(key,data){return binb2b64(core_hmac_sha1(key,data));},b64_sha1:function b64_sha1(s){return binb2b64(core_sha1(str2binb(s),s.length*8));},binb2str:binb2str,core_hmac_sha1:core_hmac_sha1,str_hmac_sha1:function str_hmac_sha1(key,data){return binb2str(core_hmac_sha1(key,data));},str_sha1:function str_sha1(s){return binb2str(core_sha1(str2binb(s),s.length*8));}};});/*\r\n   * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\r\n   * Digest Algorithm, as defined in RFC 1321.\r\n   * Version 2.1 Copyright (C) Paul Johnston 1999 - 2002.\r\n   * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\r\n   * Distributed under the BSD License\r\n   * See http://pajhome.org.uk/crypt/md5 for more info.\r\n   */ /*\r\n   * Everything that isn\'t used by Strophe has been stripped here!\r\n   */(function(root,factory){if(typeof define==="function"&&define.amd){define("strophe-md5",function(){return factory();});}else{// Browser globals\nroot.MD5=factory();}})(this,function(b){/*\r\n     * Add integers, wrapping at 2^32. This uses 16-bit operations internally\r\n     * to work around bugs in some JS interpreters.\r\n     */var safe_add=function safe_add(x,y){var lsw=(x&0xffff)+(y&0xffff);var msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|lsw&0xffff;};/*\r\n     * Bitwise rotate a 32-bit number to the left.\r\n     */var bit_rol=function bit_rol(num,cnt){return num<<cnt|num>>>32-cnt;};/*\r\n     * Convert a string to an array of little-endian words\r\n     */var str2binl=function str2binl(str){var bin=[];for(var i=0;i<str.length*8;i+=8){bin[i>>5]|=(str.charCodeAt(i/8)&255)<<i%32;}return bin;};/*\r\n     * Convert an array of little-endian words to a string\r\n     */var binl2str=function binl2str(bin){var str="";for(var i=0;i<bin.length*32;i+=8){str+=String.fromCharCode(bin[i>>5]>>>i%32&255);}return str;};/*\r\n     * Convert an array of little-endian words to a hex string.\r\n     */var binl2hex=function binl2hex(binarray){var hex_tab="0123456789abcdef";var str="";for(var i=0;i<binarray.length*4;i++){str+=hex_tab.charAt(binarray[i>>2]>>i%4*8+4&0xf)+hex_tab.charAt(binarray[i>>2]>>i%4*8&0xf);}return str;};/*\r\n     * These functions implement the four basic operations the algorithm uses.\r\n     */var md5_cmn=function md5_cmn(q,a,b,x,s,t){return safe_add(bit_rol(safe_add(safe_add(a,q),safe_add(x,t)),s),b);};var md5_ff=function md5_ff(a,b,c,d,x,s,t){return md5_cmn(b&c|~b&d,a,b,x,s,t);};var md5_gg=function md5_gg(a,b,c,d,x,s,t){return md5_cmn(b&d|c&~d,a,b,x,s,t);};var md5_hh=function md5_hh(a,b,c,d,x,s,t){return md5_cmn(b^c^d,a,b,x,s,t);};var md5_ii=function md5_ii(a,b,c,d,x,s,t){return md5_cmn(c^(b|~d),a,b,x,s,t);};/*\r\n     * Calculate the MD5 of an array of little-endian words, and a bit length\r\n     */var core_md5=function core_md5(x,len){/* append padding */x[len>>5]|=0x80<<len%32;x[(len+64>>>9<<4)+14]=len;var a=1732584193;var b=-271733879;var c=-1732584194;var d=271733878;var olda,oldb,oldc,oldd;for(var i=0;i<x.length;i+=16){olda=a;oldb=b;oldc=c;oldd=d;a=md5_ff(a,b,c,d,x[i+0],7,-680876936);d=md5_ff(d,a,b,c,x[i+1],12,-389564586);c=md5_ff(c,d,a,b,x[i+2],17,606105819);b=md5_ff(b,c,d,a,x[i+3],22,-1044525330);a=md5_ff(a,b,c,d,x[i+4],7,-176418897);d=md5_ff(d,a,b,c,x[i+5],12,1200080426);c=md5_ff(c,d,a,b,x[i+6],17,-1473231341);b=md5_ff(b,c,d,a,x[i+7],22,-45705983);a=md5_ff(a,b,c,d,x[i+8],7,1770035416);d=md5_ff(d,a,b,c,x[i+9],12,-1958414417);c=md5_ff(c,d,a,b,x[i+10],17,-42063);b=md5_ff(b,c,d,a,x[i+11],22,-1990404162);a=md5_ff(a,b,c,d,x[i+12],7,1804603682);d=md5_ff(d,a,b,c,x[i+13],12,-40341101);c=md5_ff(c,d,a,b,x[i+14],17,-1502002290);b=md5_ff(b,c,d,a,x[i+15],22,1236535329);a=md5_gg(a,b,c,d,x[i+1],5,-165796510);d=md5_gg(d,a,b,c,x[i+6],9,-1069501632);c=md5_gg(c,d,a,b,x[i+11],14,643717713);b=md5_gg(b,c,d,a,x[i+0],20,-373897302);a=md5_gg(a,b,c,d,x[i+5],5,-701558691);d=md5_gg(d,a,b,c,x[i+10],9,38016083);c=md5_gg(c,d,a,b,x[i+15],14,-660478335);b=md5_gg(b,c,d,a,x[i+4],20,-405537848);a=md5_gg(a,b,c,d,x[i+9],5,568446438);d=md5_gg(d,a,b,c,x[i+14],9,-1019803690);c=md5_gg(c,d,a,b,x[i+3],14,-187363961);b=md5_gg(b,c,d,a,x[i+8],20,1163531501);a=md5_gg(a,b,c,d,x[i+13],5,-1444681467);d=md5_gg(d,a,b,c,x[i+2],9,-51403784);c=md5_gg(c,d,a,b,x[i+7],14,1735328473);b=md5_gg(b,c,d,a,x[i+12],20,-1926607734);a=md5_hh(a,b,c,d,x[i+5],4,-378558);d=md5_hh(d,a,b,c,x[i+8],11,-2022574463);c=md5_hh(c,d,a,b,x[i+11],16,1839030562);b=md5_hh(b,c,d,a,x[i+14],23,-35309556);a=md5_hh(a,b,c,d,x[i+1],4,-1530992060);d=md5_hh(d,a,b,c,x[i+4],11,1272893353);c=md5_hh(c,d,a,b,x[i+7],16,-155497632);b=md5_hh(b,c,d,a,x[i+10],23,-1094730640);a=md5_hh(a,b,c,d,x[i+13],4,681279174);d=md5_hh(d,a,b,c,x[i+0],11,-358537222);c=md5_hh(c,d,a,b,x[i+3],16,-722521979);b=md5_hh(b,c,d,a,x[i+6],23,76029189);a=md5_hh(a,b,c,d,x[i+9],4,-640364487);d=md5_hh(d,a,b,c,x[i+12],11,-421815835);c=md5_hh(c,d,a,b,x[i+15],16,530742520);b=md5_hh(b,c,d,a,x[i+2],23,-995338651);a=md5_ii(a,b,c,d,x[i+0],6,-198630844);d=md5_ii(d,a,b,c,x[i+7],10,1126891415);c=md5_ii(c,d,a,b,x[i+14],15,-1416354905);b=md5_ii(b,c,d,a,x[i+5],21,-57434055);a=md5_ii(a,b,c,d,x[i+12],6,1700485571);d=md5_ii(d,a,b,c,x[i+3],10,-1894986606);c=md5_ii(c,d,a,b,x[i+10],15,-1051523);b=md5_ii(b,c,d,a,x[i+1],21,-2054922799);a=md5_ii(a,b,c,d,x[i+8],6,1873313359);d=md5_ii(d,a,b,c,x[i+15],10,-30611744);c=md5_ii(c,d,a,b,x[i+6],15,-1560198380);b=md5_ii(b,c,d,a,x[i+13],21,1309151649);a=md5_ii(a,b,c,d,x[i+4],6,-145523070);d=md5_ii(d,a,b,c,x[i+11],10,-1120210379);c=md5_ii(c,d,a,b,x[i+2],15,718787259);b=md5_ii(b,c,d,a,x[i+9],21,-343485551);a=safe_add(a,olda);b=safe_add(b,oldb);c=safe_add(c,oldc);d=safe_add(d,oldd);}return[a,b,c,d];};var obj={/*\r\n       * These are the functions you\'ll usually want to call.\r\n       * They take string arguments and return either hex or base-64 encoded\r\n       * strings.\r\n       */hexdigest:function hexdigest(s){return binl2hex(core_md5(str2binl(s),s.length*8));},hash:function hash(s){return binl2str(core_md5(str2binl(s),s.length*8));}};return obj;});/*\r\n    This program is distributed under the terms of the MIT license.\r\n    Please see the LICENSE file for details.\r\n\r\n    Copyright 2006-2008, OGG, LLC\r\n*/ /* jshint undef: true, unused: true:, noarg: true, latedef: true */ /** PrivateFunction: Function.prototype.bind\r\n   *  Bind a function to an instance.\r\n   *\r\n   *  This Function object extension method creates a bound method similar\r\n   *  to those in Python.  This means that the \'this\' object will point\r\n   *  to the instance you want.  See\r\n   *  <a href=\'https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/bind\'>MDC\'s bind() documentation</a> and\r\n   *  <a href=\'http://benjamin.smedbergs.us/blog/2007-01-03/bound-functions-and-function-imports-in-javascript/\'>Bound Functions and Function Imports in JavaScript</a>\r\n   *  for a complete explanation.\r\n   *\r\n   *  This extension already exists in some browsers (namely, Firefox 3), but\r\n   *  we provide it to support those that don\'t.\r\n   *\r\n   *  Parameters:\r\n   *    (Object) obj - The object that will become \'this\' in the bound function.\r\n   *    (Object) argN - An option argument that will be prepended to the\r\n   *      arguments given for the function call\r\n   *\r\n   *  Returns:\r\n   *    The bound function.\r\n   */if(!Function.prototype.bind){Function.prototype.bind=function(obj/*, arg1, arg2, ... */){var func=this;var _slice=Array.prototype.slice;var _concat=Array.prototype.concat;var _args=_slice.call(arguments,1);return function(){return func.apply(obj?obj:this,_concat.call(_args,_slice.call(arguments,0)));};};}/** PrivateFunction: Array.isArray\r\n   *  This is a polyfill for the ES5 Array.isArray method.\r\n   */if(!Array.isArray){Array.isArray=function(arg){return Object.prototype.toString.call(arg)==="[object Array]";};}/** PrivateFunction: Array.prototype.indexOf\r\n   *  Return the index of an object in an array.\r\n   *\r\n   *  This function is not supplied by some JavaScript implementations, so\r\n   *  we provide it if it is missing.  This code is from:\r\n   *  http://developer.mozilla.org/En/Core_JavaScript_1.5_Reference:Objects:Array:indexOf\r\n   *\r\n   *  Parameters:\r\n   *    (Object) elt - The object to look for.\r\n   *    (Integer) from - The index from which to start looking. (optional).\r\n   *\r\n   *  Returns:\r\n   *    The index of elt in the array or -1 if not found.\r\n   */if(!Array.prototype.indexOf){Array.prototype.indexOf=function(elt/*, from*/){var len=this.length;var from=Number(arguments[1])||0;from=from<0?Math.ceil(from):Math.floor(from);if(from<0){from+=len;}for(;from<len;from++){if(from in this&&this[from]===elt){return from;}}return-1;};}/*\r\n    This program is distributed under the terms of the MIT license.\r\n    Please see the LICENSE file for details.\r\n\r\n    Copyright 2006-2008, OGG, LLC\r\n*/ /* jshint undef: true, unused: true:, noarg: true, latedef: true */ /*global define, document, window, setTimeout, clearTimeout, console, ActiveXObject, DOMParser */(function(root,factory){if(typeof define==="function"&&define.amd){define("strophe-core",["strophe-sha1","strophe-base64","strophe-md5","strophe-polyfill"],function(){return factory.apply(this,arguments);});}else{// Browser globals\nvar o=factory(root.SHA1,root.Base64,root.MD5);window.Strophe=o.Strophe;window.$build=o.$build;window.$iq=o.$iq;window.$msg=o.$msg;window.$pres=o.$pres;window.SHA1=o.SHA1;window.Base64=o.Base64;window.MD5=o.MD5;window.b64_hmac_sha1=o.SHA1.b64_hmac_sha1;window.b64_sha1=o.SHA1.b64_sha1;window.str_hmac_sha1=o.SHA1.str_hmac_sha1;window.str_sha1=o.SHA1.str_sha1;}})(this,function(SHA1,Base64,MD5){var Strophe;/** Function: $build\r\n     *  Create a Strophe.Builder.\r\n     *  This is an alias for \'new Strophe.Builder(name, attrs)\'.\r\n     *\r\n     *  Parameters:\r\n     *    (String) name - The root element name.\r\n     *    (Object) attrs - The attributes for the root element in object notation.\r\n     *\r\n     *  Returns:\r\n     *    A new Strophe.Builder object.\r\n     */function $build(name,attrs){return new Strophe.Builder(name,attrs);}/** Function: $msg\r\n     *  Create a Strophe.Builder with a <message/> element as the root.\r\n     *\r\n     *  Parmaeters:\r\n     *    (Object) attrs - The <message/> element attributes in object notation.\r\n     *\r\n     *  Returns:\r\n     *    A new Strophe.Builder object.\r\n     */function $msg(attrs){return new Strophe.Builder("message",attrs);}/** Function: $iq\r\n     *  Create a Strophe.Builder with an <iq/> element as the root.\r\n     *\r\n     *  Parameters:\r\n     *    (Object) attrs - The <iq/> element attributes in object notation.\r\n     *\r\n     *  Returns:\r\n     *    A new Strophe.Builder object.\r\n     */function $iq(attrs){return new Strophe.Builder("iq",attrs);}/** Function: $pres\r\n     *  Create a Strophe.Builder with a <presence/> element as the root.\r\n     *\r\n     *  Parameters:\r\n     *    (Object) attrs - The <presence/> element attributes in object notation.\r\n     *\r\n     *  Returns:\r\n     *    A new Strophe.Builder object.\r\n     */function $pres(attrs){return new Strophe.Builder("presence",attrs);}/** Class: Strophe\r\n     *  An object container for all Strophe library functions.\r\n     *\r\n     *  This class is just a container for all the objects and constants\r\n     *  used in the library.  It is not meant to be instantiated, but to\r\n     *  provide a namespace for library objects, constants, and functions.\r\n     */Strophe={/** Constant: VERSION\r\n       *  The version of the Strophe library. Unreleased builds will have\r\n       *  a version of head-HASH where HASH is a partial revision.\r\n       */VERSION:"1.2.2",/** Constants: XMPP Namespace Constants\r\n       *  Common namespace constants from the XMPP RFCs and XEPs.\r\n       *\r\n       *  NS.HTTPBIND - HTTP BIND namespace from XEP 124.\r\n       *  NS.BOSH - BOSH namespace from XEP 206.\r\n       *  NS.CLIENT - Main XMPP client namespace.\r\n       *  NS.AUTH - Legacy authentication namespace.\r\n       *  NS.ROSTER - Roster operations namespace.\r\n       *  NS.PROFILE - Profile namespace.\r\n       *  NS.DISCO_INFO - Service discovery info namespace from XEP 30.\r\n       *  NS.DISCO_ITEMS - Service discovery items namespace from XEP 30.\r\n       *  NS.MUC - Multi-User Chat namespace from XEP 45.\r\n       *  NS.SASL - XMPP SASL namespace from RFC 3920.\r\n       *  NS.STREAM - XMPP Streams namespace from RFC 3920.\r\n       *  NS.BIND - XMPP Binding namespace from RFC 3920.\r\n       *  NS.SESSION - XMPP Session namespace from RFC 3920.\r\n       *  NS.XHTML_IM - XHTML-IM namespace from XEP 71.\r\n       *  NS.XHTML - XHTML body namespace from XEP 71.\r\n       */NS:{HTTPBIND:"http://jabber.org/protocol/httpbind",BOSH:"urn:xmpp:xbosh",CLIENT:"jabber:client",AUTH:"jabber:iq:auth",ROSTER:"jabber:iq:roster",PROFILE:"jabber:iq:profile",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",MUC:"http://jabber.org/protocol/muc",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",STREAM:"http://etherx.jabber.org/streams",FRAMING:"urn:ietf:params:xml:ns:xmpp-framing",BIND:"urn:ietf:params:xml:ns:xmpp-bind",SESSION:"urn:ietf:params:xml:ns:xmpp-session",VERSION:"jabber:iq:version",STANZAS:"urn:ietf:params:xml:ns:xmpp-stanzas",XHTML_IM:"http://jabber.org/protocol/xhtml-im",XHTML:"http://www.w3.org/1999/xhtml"},/** Constants: XHTML_IM Namespace\r\n       *  contains allowed tags, tag attributes, and css properties.\r\n       *  Used in the createHtml function to filter incoming html into the allowed XHTML-IM subset.\r\n       *  See http://xmpp.org/extensions/xep-0071.html#profile-summary for the list of recommended\r\n       *  allowed tags and their attributes.\r\n       */XHTML:{tags:["a","blockquote","br","cite","em","img","li","ol","p","span","strong","ul","body"],attributes:{a:["href"],blockquote:["style"],br:[],cite:["style"],em:[],img:["src","alt","style","height","width"],li:["style"],ol:["style"],p:["style"],span:["style"],strong:[],ul:["style"],body:[]},css:["background-color","color","font-family","font-size","font-style","font-weight","margin-left","margin-right","text-align","text-decoration"],/** Function: XHTML.validTag\r\n         *\r\n         * Utility method to determine whether a tag is allowed\r\n         * in the XHTML_IM namespace.\r\n         *\r\n         * XHTML tag names are case sensitive and must be lower case.\r\n         */validTag:function validTag(tag){for(var i=0;i<Strophe.XHTML.tags.length;i++){if(tag==Strophe.XHTML.tags[i]){return true;}}return false;},/** Function: XHTML.validAttribute\r\n         *\r\n         * Utility method to determine whether an attribute is allowed\r\n         * as recommended per XEP-0071\r\n         *\r\n         * XHTML attribute names are case sensitive and must be lower case.\r\n         */validAttribute:function validAttribute(tag,attribute){if(typeof Strophe.XHTML.attributes[tag]!=="undefined"&&Strophe.XHTML.attributes[tag].length>0){for(var i=0;i<Strophe.XHTML.attributes[tag].length;i++){if(attribute==Strophe.XHTML.attributes[tag][i]){return true;}}}return false;},validCSS:function validCSS(style){for(var i=0;i<Strophe.XHTML.css.length;i++){if(style==Strophe.XHTML.css[i]){return true;}}return false;}},/** Constants: Connection Status Constants\r\n       *  Connection status constants for use by the connection handler\r\n       *  callback.\r\n       *\r\n       *  Status.ERROR - An error has occurred\r\n       *  Status.CONNECTING - The connection is currently being made\r\n       *  Status.CONNFAIL - The connection attempt failed\r\n       *  Status.AUTHENTICATING - The connection is authenticating\r\n       *  Status.AUTHFAIL - The authentication attempt failed\r\n       *  Status.CONNECTED - The connection has succeeded\r\n       *  Status.DISCONNECTED - The connection has been terminated\r\n       *  Status.DISCONNECTING - The connection is currently being terminated\r\n       *  Status.ATTACHED - The connection has been attached\r\n       */Status:{ERROR:0,CONNECTING:1,CONNFAIL:2,AUTHENTICATING:3,AUTHFAIL:4,CONNECTED:5,DISCONNECTED:6,DISCONNECTING:7,ATTACHED:8,REDIRECT:9},/** Constants: Log Level Constants\r\n       *  Logging level indicators.\r\n       *\r\n       *  LogLevel.DEBUG - Debug output\r\n       *  LogLevel.INFO - Informational output\r\n       *  LogLevel.WARN - Warnings\r\n       *  LogLevel.ERROR - Errors\r\n       *  LogLevel.FATAL - Fatal errors\r\n       */LogLevel:{DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},/** PrivateConstants: DOM Element Type Constants\r\n       *  DOM element types.\r\n       *\r\n       *  ElementType.NORMAL - Normal element.\r\n       *  ElementType.TEXT - Text data element.\r\n       *  ElementType.FRAGMENT - XHTML fragment element.\r\n       */ElementType:{NORMAL:1,TEXT:3,CDATA:4,FRAGMENT:11},/** PrivateConstants: Timeout Values\r\n       *  Timeout values for error states.  These values are in seconds.\r\n       *  These should not be changed unless you know exactly what you are\r\n       *  doing.\r\n       *\r\n       *  TIMEOUT - Timeout multiplier. A waiting request will be considered\r\n       *      failed after Math.floor(TIMEOUT * wait) seconds have elapsed.\r\n       *      This defaults to 1.1, and with default wait, 66 seconds.\r\n       *  SECONDARY_TIMEOUT - Secondary timeout multiplier. In cases where\r\n       *      Strophe can detect early failure, it will consider the request\r\n       *      failed if it doesn\'t return after\r\n       *      Math.floor(SECONDARY_TIMEOUT * wait) seconds have elapsed.\r\n       *      This defaults to 0.1, and with default wait, 6 seconds.\r\n       */TIMEOUT:1.1,SECONDARY_TIMEOUT:0.1,/** Function: addNamespace\r\n       *  This function is used to extend the current namespaces in\r\n       *  Strophe.NS.  It takes a key and a value with the key being the\r\n       *  name of the new namespace, with its actual value.\r\n       *  For example:\r\n       *  Strophe.addNamespace(\'PUBSUB\', "http://jabber.org/protocol/pubsub");\r\n       *\r\n       *  Parameters:\r\n       *    (String) name - The name under which the namespace will be\r\n       *      referenced under Strophe.NS\r\n       *    (String) value - The actual namespace.\r\n       */addNamespace:function addNamespace(name,value){Strophe.NS[name]=value;},/** Function: forEachChild\r\n       *  Map a function over some or all child elements of a given element.\r\n       *\r\n       *  This is a small convenience function for mapping a function over\r\n       *  some or all of the children of an element.  If elemName is null, all\r\n       *  children will be passed to the function, otherwise only children\r\n       *  whose tag names match elemName will be passed.\r\n       *\r\n       *  Parameters:\r\n       *    (XMLElement) elem - The element to operate on.\r\n       *    (String) elemName - The child element tag name filter.\r\n       *    (Function) func - The function to apply to each child.  This\r\n       *      function should take a single argument, a DOM element.\r\n       */forEachChild:function forEachChild(elem,elemName,func){var i,childNode;for(i=0;i<elem.childNodes.length;i++){childNode=elem.childNodes[i];if(childNode.nodeType==Strophe.ElementType.NORMAL&&(!elemName||this.isTagEqual(childNode,elemName))){func(childNode);}}},/** Function: isTagEqual\r\n       *  Compare an element\'s tag name with a string.\r\n       *\r\n       *  This function is case sensitive.\r\n       *\r\n       *  Parameters:\r\n       *    (XMLElement) el - A DOM element.\r\n       *    (String) name - The element name.\r\n       *\r\n       *  Returns:\r\n       *    true if the element\'s tag name matches _el_, and false\r\n       *    otherwise.\r\n       */isTagEqual:function isTagEqual(el,name){return el.tagName==name;},/** PrivateVariable: _xmlGenerator\r\n       *  _Private_ variable that caches a DOM document to\r\n       *  generate elements.\r\n       */_xmlGenerator:null,/** PrivateFunction: _makeGenerator\r\n       *  _Private_ function that creates a dummy XML DOM document to serve as\r\n       *  an element and text node generator.\r\n       */_makeGenerator:function _makeGenerator(){var doc;// IE9 does implement createDocument(); however, using it will cause the browser to leak memory on page unload.\n// Here, we test for presence of createDocument() plus IE\'s proprietary documentMode attribute, which would be\n// less than 10 in the case of IE9 and below.\nif(document.implementation.createDocument===undefined||document.implementation.createDocument&&document.documentMode&&document.documentMode<10){doc=this._getIEXmlDom();doc.appendChild(doc.createElement("strophe"));}else{doc=document.implementation.createDocument("jabber:client","strophe",null);}return doc;},/** Function: xmlGenerator\r\n       *  Get the DOM document to generate elements.\r\n       *\r\n       *  Returns:\r\n       *    The currently used DOM document.\r\n       */xmlGenerator:function xmlGenerator(){if(!Strophe._xmlGenerator){Strophe._xmlGenerator=Strophe._makeGenerator();}return Strophe._xmlGenerator;},/** PrivateFunction: _getIEXmlDom\r\n       *  Gets IE xml doc object\r\n       *\r\n       *  Returns:\r\n       *    A Microsoft XML DOM Object\r\n       *  See Also:\r\n       *    http://msdn.microsoft.com/en-us/library/ms757837%28VS.85%29.aspx\r\n       */_getIEXmlDom:function _getIEXmlDom(){var doc=null;var docStrings=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"];for(var d=0;d<docStrings.length;d++){if(doc===null){try{doc=new ActiveXObject(docStrings[d]);}catch(e){doc=null;}}else{break;}}return doc;},/** Function: xmlElement\r\n       *  Create an XML DOM element.\r\n       *\r\n       *  This function creates an XML DOM element correctly across all\r\n       *  implementations. Note that these are not HTML DOM elements, which\r\n       *  aren\'t appropriate for XMPP stanzas.\r\n       *\r\n       *  Parameters:\r\n       *    (String) name - The name for the element.\r\n       *    (Array|Object) attrs - An optional array or object containing\r\n       *      key/value pairs to use as element attributes. The object should\r\n       *      be in the format {\'key\': \'value\'} or {key: \'value\'}. The array\r\n       *      should have the format [[\'key1\', \'value1\'], [\'key2\', \'value2\']].\r\n       *    (String) text - The text child data for the element.\r\n       *\r\n       *  Returns:\r\n       *    A new XML DOM element.\r\n       */xmlElement:function xmlElement(name){if(!name){return null;}var node=Strophe.xmlGenerator().createElement(name);// FIXME: this should throw errors if args are the wrong type or\n// there are more than two optional args\nvar a,i,k;for(a=1;a<arguments.length;a++){var arg=arguments[a];if(!arg){continue;}if(typeof arg=="string"||typeof arg=="number"){node.appendChild(Strophe.xmlTextNode(arg));}else if(_typeof(arg)=="object"&&typeof arg.sort=="function"){for(i=0;i<arg.length;i++){var attr=arg[i];if(_typeof(attr)=="object"&&typeof attr.sort=="function"&&attr[1]!==undefined){node.setAttribute(attr[0],attr[1]);}}}else if(_typeof(arg)=="object"){for(k in arg){if(arg.hasOwnProperty(k)){if(arg[k]!==undefined){node.setAttribute(k,arg[k]);}}}}}return node;},/*  Function: xmlescape\r\n       *  Excapes invalid xml characters.\r\n       *\r\n       *  Parameters:\r\n       *     (String) text - text to escape.\r\n       *\r\n       *  Returns:\r\n       *      Escaped text.\r\n       */xmlescape:function xmlescape(text){text=text.replace(/\\&/g,"&amp;");text=text.replace(/</g,"&lt;");text=text.replace(/>/g,"&gt;");text=text.replace(/\'/g,"&apos;");text=text.replace(/"/g,"&quot;");return text;},/*  Function: xmlunescape\r\n       *  Unexcapes invalid xml characters.\r\n       *\r\n       *  Parameters:\r\n       *     (String) text - text to unescape.\r\n       *\r\n       *  Returns:\r\n       *      Unescaped text.\r\n       */xmlunescape:function xmlunescape(text){text=text.replace(/\\&amp;/g,"&");text=text.replace(/&lt;/g,"<");text=text.replace(/&gt;/g,">");text=text.replace(/&apos;/g,"\'");text=text.replace(/&quot;/g,\'"\');return text;},/** Function: xmlTextNode\r\n       *  Creates an XML DOM text node.\r\n       *\r\n       *  Provides a cross implementation version of document.createTextNode.\r\n       *\r\n       *  Parameters:\r\n       *    (String) text - The content of the text node.\r\n       *\r\n       *  Returns:\r\n       *    A new XML DOM text node.\r\n       */xmlTextNode:function xmlTextNode(text){return Strophe.xmlGenerator().createTextNode(text);},/** Function: xmlHtmlNode\r\n       *  Creates an XML DOM html node.\r\n       *\r\n       *  Parameters:\r\n       *    (String) html - The content of the html node.\r\n       *\r\n       *  Returns:\r\n       *    A new XML DOM text node.\r\n       */xmlHtmlNode:function xmlHtmlNode(html){var node;//ensure text is escaped\nif(window.DOMParser){var parser=new DOMParser();node=parser.parseFromString(html,"text/xml");}else{node=new ActiveXObject("Microsoft.XMLDOM");node.async="false";node.loadXML(html);}return node;},/** Function: getText\r\n       *  Get the concatenation of all text children of an element.\r\n       *\r\n       *  Parameters:\r\n       *    (XMLElement) elem - A DOM element.\r\n       *\r\n       *  Returns:\r\n       *    A String with the concatenated text of all text element children.\r\n       */getText:function getText(elem){if(!elem){return null;}var str="";if(elem.childNodes.length===0&&elem.nodeType==Strophe.ElementType.TEXT){str+=elem.nodeValue;}for(var i=0;i<elem.childNodes.length;i++){if(elem.childNodes[i].nodeType==Strophe.ElementType.TEXT){str+=elem.childNodes[i].nodeValue;}}return Strophe.xmlescape(str);},/** Function: copyElement\r\n       *  Copy an XML DOM element.\r\n       *\r\n       *  This function copies a DOM element and all its descendants and returns\r\n       *  the new copy.\r\n       *\r\n       *  Parameters:\r\n       *    (XMLElement) elem - A DOM element.\r\n       *\r\n       *  Returns:\r\n       *    A new, copied DOM element tree.\r\n       */copyElement:function copyElement(elem){var i,el;if(elem.nodeType==Strophe.ElementType.NORMAL){el=Strophe.xmlElement(elem.tagName);for(i=0;i<elem.attributes.length;i++){el.setAttribute(elem.attributes[i].nodeName,elem.attributes[i].value);}for(i=0;i<elem.childNodes.length;i++){el.appendChild(Strophe.copyElement(elem.childNodes[i]));}}else if(elem.nodeType==Strophe.ElementType.TEXT){el=Strophe.xmlGenerator().createTextNode(elem.nodeValue);}return el;},/** Function: createHtml\r\n       *  Copy an HTML DOM element into an XML DOM.\r\n       *\r\n       *  This function copies a DOM element and all its descendants and returns\r\n       *  the new copy.\r\n       *\r\n       *  Parameters:\r\n       *    (HTMLElement) elem - A DOM element.\r\n       *\r\n       *  Returns:\r\n       *    A new, copied DOM element tree.\r\n       */createHtml:function createHtml(elem){var i,el,j,tag,attribute,value,css,cssAttrs,attr,cssName,cssValue;if(elem.nodeType==Strophe.ElementType.NORMAL){tag=elem.nodeName.toLowerCase();// XHTML tags must be lower case.\nif(Strophe.XHTML.validTag(tag)){try{el=Strophe.xmlElement(tag);for(i=0;i<Strophe.XHTML.attributes[tag].length;i++){attribute=Strophe.XHTML.attributes[tag][i];value=elem.getAttribute(attribute);if(typeof value=="undefined"||value===null||value===""||value===false||value===0){continue;}if(attribute=="style"&&_typeof(value)=="object"){if(typeof value.cssText!="undefined"){value=value.cssText;// we\'re dealing with IE, need to get CSS out\n}}// filter out invalid css styles\nif(attribute=="style"){css=[];cssAttrs=value.split(";");for(j=0;j<cssAttrs.length;j++){attr=cssAttrs[j].split(":");cssName=attr[0].replace(/^\\s*/,"").replace(/\\s*$/,"").toLowerCase();if(Strophe.XHTML.validCSS(cssName)){cssValue=attr[1].replace(/^\\s*/,"").replace(/\\s*$/,"");css.push(cssName+": "+cssValue);}}if(css.length>0){value=css.join("; ");el.setAttribute(attribute,value);}}else{el.setAttribute(attribute,value);}}for(i=0;i<elem.childNodes.length;i++){el.appendChild(Strophe.createHtml(elem.childNodes[i]));}}catch(e){// invalid elements\nel=Strophe.xmlTextNode("");}}else{el=Strophe.xmlGenerator().createDocumentFragment();for(i=0;i<elem.childNodes.length;i++){el.appendChild(Strophe.createHtml(elem.childNodes[i]));}}}else if(elem.nodeType==Strophe.ElementType.FRAGMENT){el=Strophe.xmlGenerator().createDocumentFragment();for(i=0;i<elem.childNodes.length;i++){el.appendChild(Strophe.createHtml(elem.childNodes[i]));}}else if(elem.nodeType==Strophe.ElementType.TEXT){el=Strophe.xmlTextNode(elem.nodeValue);}return el;},/** Function: escapeNode\r\n       *  Escape the node part (also called local part) of a JID.\r\n       *\r\n       *  Parameters:\r\n       *    (String) node - A node (or local part).\r\n       *\r\n       *  Returns:\r\n       *    An escaped node (or local part).\r\n       */escapeNode:function escapeNode(node){if(typeof node!=="string"){return node;}return node.replace(/^\\s+|\\s+$/g,"").replace(/\\\\/g,"\\\\5c").replace(/ /g,"\\\\20").replace(/\\"/g,"\\\\22").replace(/\\&/g,"\\\\26").replace(/\\\'/g,"\\\\27").replace(/\\//g,"\\\\2f").replace(/:/g,"\\\\3a").replace(/</g,"\\\\3c").replace(/>/g,"\\\\3e").replace(/@/g,"\\\\40");},/** Function: unescapeNode\r\n       *  Unescape a node part (also called local part) of a JID.\r\n       *\r\n       *  Parameters:\r\n       *    (String) node - A node (or local part).\r\n       *\r\n       *  Returns:\r\n       *    An unescaped node (or local part).\r\n       */unescapeNode:function unescapeNode(node){if(typeof node!=="string"){return node;}return node.replace(/\\\\20/g," ").replace(/\\\\22/g,\'"\').replace(/\\\\26/g,"&").replace(/\\\\27/g,"\'").replace(/\\\\2f/g,"/").replace(/\\\\3a/g,":").replace(/\\\\3c/g,"<").replace(/\\\\3e/g,">").replace(/\\\\40/g,"@").replace(/\\\\5c/g,"\\\\");},/** Function: getNodeFromJid\r\n       *  Get the node portion of a JID String.\r\n       *\r\n       *  Parameters:\r\n       *    (String) jid - A JID.\r\n       *\r\n       *  Returns:\r\n       *    A String containing the node.\r\n       */getNodeFromJid:function getNodeFromJid(jid){if(jid.indexOf("@")<0){return null;}return jid.split("@")[0];},/** Function: getDomainFromJid\r\n       *  Get the domain portion of a JID String.\r\n       *\r\n       *  Parameters:\r\n       *    (String) jid - A JID.\r\n       *\r\n       *  Returns:\r\n       *    A String containing the domain.\r\n       */getDomainFromJid:function getDomainFromJid(jid){var bare=Strophe.getBareJidFromJid(jid);if(bare.indexOf("@")<0){return bare;}else{var parts=bare.split("@");parts.splice(0,1);return parts.join("@");}},/** Function: getResourceFromJid\r\n       *  Get the resource portion of a JID String.\r\n       *\r\n       *  Parameters:\r\n       *    (String) jid - A JID.\r\n       *\r\n       *  Returns:\r\n       *    A String containing the resource.\r\n       */getResourceFromJid:function getResourceFromJid(jid){var s=jid.split("/");if(s.length<2){return null;}s.splice(0,1);return s.join("/");},/** Function: getBareJidFromJid\r\n       *  Get the bare JID from a JID String.\r\n       *\r\n       *  Parameters:\r\n       *    (String) jid - A JID.\r\n       *\r\n       *  Returns:\r\n       *    A String containing the bare JID.\r\n       */getBareJidFromJid:function getBareJidFromJid(jid){return jid?jid.split("/")[0]:null;},/** Function: log\r\n       *  User overrideable logging function.\r\n       *\r\n       *  This function is called whenever the Strophe library calls any\r\n       *  of the logging functions.  The default implementation of this\r\n       *  function does nothing.  If client code wishes to handle the logging\r\n       *  messages, it should override this with\r\n       *  > Strophe.log = function (level, msg) {\r\n       *  >   (user code here)\r\n       *  > };\r\n       *\r\n       *  Please note that data sent and received over the wire is logged\r\n       *  via Strophe.Connection.rawInput() and Strophe.Connection.rawOutput().\r\n       *\r\n       *  The different levels and their meanings are\r\n       *\r\n       *    DEBUG - Messages useful for debugging purposes.\r\n       *    INFO - Informational messages.  This is mostly information like\r\n       *      \'disconnect was called\' or \'SASL auth succeeded\'.\r\n       *    WARN - Warnings about potential problems.  This is mostly used\r\n       *      to report transient connection errors like request timeouts.\r\n       *    ERROR - Some error occurred.\r\n       *    FATAL - A non-recoverable fatal error occurred.\r\n       *\r\n       *  Parameters:\r\n       *    (Integer) level - The log level of the log message.  This will\r\n       *      be one of the values in Strophe.LogLevel.\r\n       *    (String) msg - The log message.\r\n       */ /* jshint ignore:start */log:function log(level,msg){return;},/* jshint ignore:end */ /** Function: debug\r\n       *  Log a message at the Strophe.LogLevel.DEBUG level.\r\n       *\r\n       *  Parameters:\r\n       *    (String) msg - The log message.\r\n       */debug:function debug(msg){this.log(this.LogLevel.DEBUG,msg);},/** Function: info\r\n       *  Log a message at the Strophe.LogLevel.INFO level.\r\n       *\r\n       *  Parameters:\r\n       *    (String) msg - The log message.\r\n       */info:function info(msg){this.log(this.LogLevel.INFO,msg);},/** Function: warn\r\n       *  Log a message at the Strophe.LogLevel.WARN level.\r\n       *\r\n       *  Parameters:\r\n       *    (String) msg - The log message.\r\n       */warn:function warn(msg){this.log(this.LogLevel.WARN,msg);},/** Function: error\r\n       *  Log a message at the Strophe.LogLevel.ERROR level.\r\n       *\r\n       *  Parameters:\r\n       *    (String) msg - The log message.\r\n       */error:function error(msg){this.log(this.LogLevel.ERROR,msg);},/** Function: fatal\r\n       *  Log a message at the Strophe.LogLevel.FATAL level.\r\n       *\r\n       *  Parameters:\r\n       *    (String) msg - The log message.\r\n       */fatal:function fatal(msg){this.log(this.LogLevel.FATAL,msg);},/** Function: serialize\r\n       *  Render a DOM element and all descendants to a String.\r\n       *\r\n       *  Parameters:\r\n       *    (XMLElement) elem - A DOM element.\r\n       *\r\n       *  Returns:\r\n       *    The serialized element tree as a String.\r\n       */serialize:function serialize(elem){var result;if(!elem){return null;}if(typeof elem.tree==="function"){elem=elem.tree();}var nodeName=elem.nodeName;var i,child;if(elem.getAttribute("_realname")){nodeName=elem.getAttribute("_realname");}result="<"+nodeName;for(i=0;i<elem.attributes.length;i++){if(elem.attributes[i].nodeName!="_realname"){result+=" "+elem.attributes[i].nodeName+"=\'"+elem.attributes[i].value.replace(/&/g,"&amp;").replace(/\\\'/g,"&apos;").replace(/>/g,"&gt;").replace(/</g,"&lt;")+"\'";}}if(elem.childNodes.length>0){result+=">";for(i=0;i<elem.childNodes.length;i++){child=elem.childNodes[i];switch(child.nodeType){case Strophe.ElementType.NORMAL:// normal element, so recurse\nresult+=Strophe.serialize(child);break;case Strophe.ElementType.TEXT:// text element to escape values\nresult+=Strophe.xmlescape(child.nodeValue);break;case Strophe.ElementType.CDATA:// cdata section so don\'t escape values\nresult+="<![CDATA["+child.nodeValue+"]]>";}}result+="</"+nodeName+">";}else{result+="/>";}return result;},/** PrivateVariable: _requestId\r\n       *  _Private_ variable that keeps track of the request ids for\r\n       *  connections.\r\n       */_requestId:0,/** PrivateVariable: Strophe.connectionPlugins\r\n       *  _Private_ variable Used to store plugin names that need\r\n       *  initialization on Strophe.Connection construction.\r\n       */_connectionPlugins:{},/** Function: addConnectionPlugin\r\n       *  Extends the Strophe.Connection object with the given plugin.\r\n       *\r\n       *  Parameters:\r\n       *    (String) name - The name of the extension.\r\n       *    (Object) ptype - The plugin\'s prototype.\r\n       */addConnectionPlugin:function addConnectionPlugin(name,ptype){Strophe._connectionPlugins[name]=ptype;}};/** Class: Strophe.Builder\r\n     *  XML DOM builder.\r\n     *\r\n     *  This object provides an interface similar to JQuery but for building\r\n     *  DOM element easily and rapidly.  All the functions except for toString()\r\n     *  and tree() return the object, so calls can be chained.  Here\'s an\r\n     *  example using the $iq() builder helper.\r\n     *  > $iq({to: \'you\', from: \'me\', type: \'get\', id: \'1\'})\r\n     *  >     .c(\'query\', {xmlns: \'strophe:example\'})\r\n     *  >     .c(\'example\')\r\n     *  >     .toString()\r\n     *  The above generates this XML fragment\r\n     *  > <iq to=\'you\' from=\'me\' type=\'get\' id=\'1\'>\r\n     *  >   <query xmlns=\'strophe:example\'>\r\n     *  >     <example/>\r\n     *  >   </query>\r\n     *  > </iq>\r\n     *  The corresponding DOM manipulations to get a similar fragment would be\r\n     *  a lot more tedious and probably involve several helper variables.\r\n     *\r\n     *  Since adding children makes new operations operate on the child, up()\r\n     *  is provided to traverse up the tree.  To add two children, do\r\n     *  > builder.c(\'child1\', ...).up().c(\'child2\', ...)\r\n     *  The next operation on the Builder will be relative to the second child.\r\n     */ /** Constructor: Strophe.Builder\r\n     *  Create a Strophe.Builder object.\r\n     *\r\n     *  The attributes should be passed in object notation.  For example\r\n     *  > var b = new Builder(\'message\', {to: \'you\', from: \'me\'});\r\n     *  or\r\n     *  > var b = new Builder(\'messsage\', {\'xml:lang\': \'en\'});\r\n     *\r\n     *  Parameters:\r\n     *    (String) name - The name of the root element.\r\n     *    (Object) attrs - The attributes for the root element in object notation.\r\n     *\r\n     *  Returns:\r\n     *    A new Strophe.Builder.\r\n     */Strophe.Builder=function(name,attrs){// Set correct namespace for jabber:client elements\nif(name=="presence"||name=="message"||name=="iq"){if(attrs&&!attrs.xmlns){attrs.xmlns=Strophe.NS.CLIENT;}else if(!attrs){attrs={xmlns:Strophe.NS.CLIENT};}}// Holds the tree being built.\nthis.nodeTree=Strophe.xmlElement(name,attrs);// Points to the current operation node.\nthis.node=this.nodeTree;};Strophe.Builder.prototype={/** Function: tree\r\n       *  Return the DOM tree.\r\n       *\r\n       *  This function returns the current DOM tree as an element object.  This\r\n       *  is suitable for passing to functions like Strophe.Connection.send().\r\n       *\r\n       *  Returns:\r\n       *    The DOM tree as a element object.\r\n       */tree:function tree(){return this.nodeTree;},/** Function: toString\r\n       *  Serialize the DOM tree to a String.\r\n       *\r\n       *  This function returns a string serialization of the current DOM\r\n       *  tree.  It is often used internally to pass data to a\r\n       *  Strophe.Request object.\r\n       *\r\n       *  Returns:\r\n       *    The serialized DOM tree in a String.\r\n       */toString:function toString(){return Strophe.serialize(this.nodeTree);},/** Function: up\r\n       *  Make the current parent element the new current element.\r\n       *\r\n       *  This function is often used after c() to traverse back up the tree.\r\n       *  For example, to add two children to the same element\r\n       *  > builder.c(\'child1\', {}).up().c(\'child2\', {});\r\n       *\r\n       *  Returns:\r\n       *    The Stophe.Builder object.\r\n       */up:function up(){this.node=this.node.parentNode;return this;},/** Function: attrs\r\n       *  Add or modify attributes of the current element.\r\n       *\r\n       *  The attributes should be passed in object notation.  This function\r\n       *  does not move the current element pointer.\r\n       *\r\n       *  Parameters:\r\n       *    (Object) moreattrs - The attributes to add/modify in object notation.\r\n       *\r\n       *  Returns:\r\n       *    The Strophe.Builder object.\r\n       */attrs:function attrs(moreattrs){for(var k in moreattrs){if(moreattrs.hasOwnProperty(k)){if(moreattrs[k]===undefined){this.node.removeAttribute(k);}else{this.node.setAttribute(k,moreattrs[k]);}}}return this;},/** Function: c\r\n       *  Add a child to the current element and make it the new current\r\n       *  element.\r\n       *\r\n       *  This function moves the current element pointer to the child,\r\n       *  unless text is provided.  If you need to add another child, it\r\n       *  is necessary to use up() to go back to the parent in the tree.\r\n       *\r\n       *  Parameters:\r\n       *    (String) name - The name of the child.\r\n       *    (Object) attrs - The attributes of the child in object notation.\r\n       *    (String) text - The text to add to the child.\r\n       *\r\n       *  Returns:\r\n       *    The Strophe.Builder object.\r\n       */c:function c(name,attrs,text){var child=Strophe.xmlElement(name,attrs,text);this.node.appendChild(child);if(typeof text!=="string"){this.node=child;}return this;},/** Function: cnode\r\n       *  Add a child to the current element and make it the new current\r\n       *  element.\r\n       *\r\n       *  This function is the same as c() except that instead of using a\r\n       *  name and an attributes object to create the child it uses an\r\n       *  existing DOM element object.\r\n       *\r\n       *  Parameters:\r\n       *    (XMLElement) elem - A DOM element.\r\n       *\r\n       *  Returns:\r\n       *    The Strophe.Builder object.\r\n       */cnode:function cnode(elem){var impNode;var xmlGen=Strophe.xmlGenerator();try{impNode=xmlGen.importNode!==undefined;}catch(e){impNode=false;}var newElem=impNode?xmlGen.importNode(elem,true):Strophe.copyElement(elem);this.node.appendChild(newElem);this.node=newElem;return this;},/** Function: t\r\n       *  Add a child text element.\r\n       *\r\n       *  This *does not* make the child the new current element since there\r\n       *  are no children of text elements.\r\n       *\r\n       *  Parameters:\r\n       *    (String) text - The text data to append to the current element.\r\n       *\r\n       *  Returns:\r\n       *    The Strophe.Builder object.\r\n       */t:function t(text){var child=Strophe.xmlTextNode(text);this.node.appendChild(child);return this;},/** Function: h\r\n       *  Replace current element contents with the HTML passed in.\r\n       *\r\n       *  This *does not* make the child the new current element\r\n       *\r\n       *  Parameters:\r\n       *    (String) html - The html to insert as contents of current element.\r\n       *\r\n       *  Returns:\r\n       *    The Strophe.Builder object.\r\n       */h:function h(html){var fragment=document.createElement("body");// force the browser to try and fix any invalid HTML tags\nfragment.innerHTML=html;// copy cleaned html into an xml dom\nvar xhtml=Strophe.createHtml(fragment);while(xhtml.childNodes.length>0){this.node.appendChild(xhtml.childNodes[0]);}return this;}};/** PrivateClass: Strophe.Handler\r\n     *  _Private_ helper class for managing stanza handlers.\r\n     *\r\n     *  A Strophe.Handler encapsulates a user provided callback function to be\r\n     *  executed when matching stanzas are received by the connection.\r\n     *  Handlers can be either one-off or persistant depending on their\r\n     *  return value. Returning true will cause a Handler to remain active, and\r\n     *  returning false will remove the Handler.\r\n     *\r\n     *  Users will not use Strophe.Handler objects directly, but instead they\r\n     *  will use Strophe.Connection.addHandler() and\r\n     *  Strophe.Connection.deleteHandler().\r\n     */ /** PrivateConstructor: Strophe.Handler\r\n     *  Create and initialize a new Strophe.Handler.\r\n     *\r\n     *  Parameters:\r\n     *    (Function) handler - A function to be executed when the handler is run.\r\n     *    (String) ns - The namespace to match.\r\n     *    (String) name - The element name to match.\r\n     *    (String) type - The element type to match.\r\n     *    (String) id - The element id attribute to match.\r\n     *    (String) from - The element from attribute to match.\r\n     *    (Object) options - Handler options\r\n     *\r\n     *  Returns:\r\n     *    A new Strophe.Handler object.\r\n     */Strophe.Handler=function(handler,ns,name,type,id,from,options){this.handler=handler;this.ns=ns;this.name=name;this.type=type;this.id=id;this.options=options||{matchBare:false};// default matchBare to false if undefined\nif(!this.options.matchBare){this.options.matchBare=false;}if(this.options.matchBare){this.from=from?Strophe.getBareJidFromJid(from):null;}else{this.from=from;}// whether the handler is a user handler or a system handler\nthis.user=true;};Strophe.Handler.prototype={/** PrivateFunction: isMatch\r\n       *  Tests if a stanza matches the Strophe.Handler.\r\n       *\r\n       *  Parameters:\r\n       *    (XMLElement) elem - The XML element to test.\r\n       *\r\n       *  Returns:\r\n       *    true if the stanza matches and false otherwise.\r\n       */isMatch:function isMatch(elem){var nsMatch;var from=null;if(this.options.matchBare){from=Strophe.getBareJidFromJid(elem.getAttribute("from"));}else{from=elem.getAttribute("from");}nsMatch=false;if(!this.ns){nsMatch=true;}else{var that=this;Strophe.forEachChild(elem,null,function(elem){if(elem.getAttribute("xmlns")==that.ns){nsMatch=true;}});nsMatch=nsMatch||elem.getAttribute("xmlns")==this.ns;}var elem_type=elem.getAttribute("type");if(nsMatch&&(!this.name||Strophe.isTagEqual(elem,this.name))&&(!this.type||(Array.isArray(this.type)?this.type.indexOf(elem_type)!=-1:elem_type==this.type))&&(!this.id||elem.getAttribute("id")==this.id)&&(!this.from||from==this.from)){return true;}return false;},/** PrivateFunction: run\r\n       *  Run the callback on a matching stanza.\r\n       *\r\n       *  Parameters:\r\n       *    (XMLElement) elem - The DOM element that triggered the\r\n       *      Strophe.Handler.\r\n       *\r\n       *  Returns:\r\n       *    A boolean indicating if the handler should remain active.\r\n       */run:function run(elem){var result=null;try{result=this.handler(elem);}catch(e){if(e.sourceURL){Strophe.fatal("error: "+this.handler+" "+e.sourceURL+":"+e.line+" - "+e.name+": "+e.message);}else if(e.fileName){if(typeof console!="undefined"){console.trace();console.error(this.handler," - error - ",e,e.message);}Strophe.fatal("error: "+this.handler+" "+e.fileName+":"+e.lineNumber+" - "+e.name+": "+e.message);}else{Strophe.fatal("error: "+e.message+"\\n"+e.stack);}throw e;}return result;},/** PrivateFunction: toString\r\n       *  Get a String representation of the Strophe.Handler object.\r\n       *\r\n       *  Returns:\r\n       *    A String.\r\n       */toString:function toString(){return"{Handler: "+this.handler+"("+this.name+","+this.id+","+this.ns+")}";}};/** PrivateClass: Strophe.TimedHandler\r\n     *  _Private_ helper class for managing timed handlers.\r\n     *\r\n     *  A Strophe.TimedHandler encapsulates a user provided callback that\r\n     *  should be called after a certain period of time or at regular\r\n     *  intervals.  The return value of the callback determines whether the\r\n     *  Strophe.TimedHandler will continue to fire.\r\n     *\r\n     *  Users will not use Strophe.TimedHandler objects directly, but instead\r\n     *  they will use Strophe.Connection.addTimedHandler() and\r\n     *  Strophe.Connection.deleteTimedHandler().\r\n     */ /** PrivateConstructor: Strophe.TimedHandler\r\n     *  Create and initialize a new Strophe.TimedHandler object.\r\n     *\r\n     *  Parameters:\r\n     *    (Integer) period - The number of milliseconds to wait before the\r\n     *      handler is called.\r\n     *    (Function) handler - The callback to run when the handler fires.  This\r\n     *      function should take no arguments.\r\n     *\r\n     *  Returns:\r\n     *    A new Strophe.TimedHandler object.\r\n     */Strophe.TimedHandler=function(period,handler){this.period=period;this.handler=handler;this.lastCalled=new Date().getTime();this.user=true;};Strophe.TimedHandler.prototype={/** PrivateFunction: run\r\n       *  Run the callback for the Strophe.TimedHandler.\r\n       *\r\n       *  Returns:\r\n       *    true if the Strophe.TimedHandler should be called again, and false\r\n       *      otherwise.\r\n       */run:function run(){this.lastCalled=new Date().getTime();return this.handler();},/** PrivateFunction: reset\r\n       *  Reset the last called time for the Strophe.TimedHandler.\r\n       */reset:function reset(){this.lastCalled=new Date().getTime();},/** PrivateFunction: toString\r\n       *  Get a string representation of the Strophe.TimedHandler object.\r\n       *\r\n       *  Returns:\r\n       *    The string representation.\r\n       */toString:function toString(){return"{TimedHandler: "+this.handler+"("+this.period+")}";}};/** Class: Strophe.Connection\r\n     *  XMPP Connection manager.\r\n     *\r\n     *  This class is the main part of Strophe.  It manages a BOSH or websocket\r\n     *  connection to an XMPP server and dispatches events to the user callbacks\r\n     *  as data arrives. It supports SASL PLAIN, SASL DIGEST-MD5, SASL SCRAM-SHA1\r\n     *  and legacy authentication.\r\n     *\r\n     *  After creating a Strophe.Connection object, the user will typically\r\n     *  call connect() with a user supplied callback to handle connection level\r\n     *  events like authentication failure, disconnection, or connection\r\n     *  complete.\r\n     *\r\n     *  The user will also have several event handlers defined by using\r\n     *  addHandler() and addTimedHandler().  These will allow the user code to\r\n     *  respond to interesting stanzas or do something periodically with the\r\n     *  connection. These handlers will be active once authentication is\r\n     *  finished.\r\n     *\r\n     *  To send data to the connection, use send().\r\n     */ /** Constructor: Strophe.Connection\r\n     *  Create and initialize a Strophe.Connection object.\r\n     *\r\n     *  The transport-protocol for this connection will be chosen automatically\r\n     *  based on the given service parameter. URLs starting with "ws://" or\r\n     *  "wss://" will use WebSockets, URLs starting with "http://", "https://"\r\n     *  or without a protocol will use BOSH.\r\n     *\r\n     *  To make Strophe connect to the current host you can leave out the protocol\r\n     *  and host part and just pass the path, e.g.\r\n     *\r\n     *  > var conn = new Strophe.Connection("/http-bind/");\r\n     *\r\n     *  WebSocket options:\r\n     *\r\n     *  If you want to connect to the current host with a WebSocket connection you\r\n     *  can tell Strophe to use WebSockets through a "protocol" attribute in the\r\n     *  optional options parameter. Valid values are "ws" for WebSocket and "wss"\r\n     *  for Secure WebSocket.\r\n     *  So to connect to "wss://CURRENT_HOSTNAME/xmpp-websocket" you would call\r\n     *\r\n     *  > var conn = new Strophe.Connection("/xmpp-websocket/", {protocol: "wss"});\r\n     *\r\n     *  Note that relative URLs _NOT_ starting with a "/" will also include the path\r\n     *  of the current site.\r\n     *\r\n     *  Also because downgrading security is not permitted by browsers, when using\r\n     *  relative URLs both BOSH and WebSocket connections will use their secure\r\n     *  variants if the current connection to the site is also secure (https).\r\n     *\r\n     *  BOSH options:\r\n     *\r\n     *  By adding "sync" to the options, you can control if requests will\r\n     *  be made synchronously or not. The default behaviour is asynchronous.\r\n     *  If you want to make requests synchronous, make "sync" evaluate to true:\r\n     *  > var conn = new Strophe.Connection("/http-bind/", {sync: true});\r\n     *\r\n     *  You can also toggle this on an already established connection:\r\n     *  > conn.options.sync = true;\r\n     *\r\n     *  The "customHeaders" option can be used to provide custom HTTP headers to be\r\n     *  included in the XMLHttpRequests made.\r\n     *\r\n     *  The "keepalive" option can be used to instruct Strophe to maintain the\r\n     *  current BOSH session across interruptions such as webpage reloads.\r\n     *\r\n     *  It will do this by caching the sessions tokens in sessionStorage, and when\r\n     *  "restore" is called it will check whether there are cached tokens with\r\n     *  which it can resume an existing session.\r\n     *\r\n     *  Parameters:\r\n     *    (String) service - The BOSH or WebSocket service URL.\r\n     *    (Object) options - A hash of configuration options\r\n     *\r\n     *  Returns:\r\n     *    A new Strophe.Connection object.\r\n     */Strophe.Connection=function(service,options){// The service URL\nthis.service=service;// Configuration options\nthis.options=options||{};var proto=this.options.protocol||"";// Select protocal based on service or options\nif(service.indexOf("ws:")===0||service.indexOf("wss:")===0||proto.indexOf("ws")===0){this._proto=new Strophe.Websocket(this);}else{this._proto=new Strophe.Bosh(this);}/* The connected JID. */this.jid="";/* the JIDs domain */this.domain=null;/* stream:features */this.features=null;// SASL\nthis._sasl_data={};this.do_session=false;this.do_bind=false;// handler lists\nthis.timedHandlers=[];this.handlers=[];this.removeTimeds=[];this.removeHandlers=[];this.addTimeds=[];this.addHandlers=[];this._authentication={};this._idleTimeout=null;this._disconnectTimeout=null;this.authenticated=false;this.connected=false;this.disconnecting=false;this.do_authentication=true;this.paused=false;this.restored=false;this._data=[];this._uniqueId=0;this._sasl_success_handler=null;this._sasl_failure_handler=null;this._sasl_challenge_handler=null;// Max retries before disconnecting\nthis.maxRetries=5;// setup onIdle callback every 1/10th of a second\nthis._idleTimeout=setTimeout(this._onIdle.bind(this),100);// initialize plugins\nfor(var k in Strophe._connectionPlugins){if(Strophe._connectionPlugins.hasOwnProperty(k)){var ptype=Strophe._connectionPlugins[k];// jslint complaints about the below line, but this is fine\nvar F=function F(){};// jshint ignore:line\nF.prototype=ptype;this[k]=new F();this[k].init(this);}}};Strophe.Connection.prototype={/** Function: reset\r\n       *  Reset the connection.\r\n       *\r\n       *  This function should be called after a connection is disconnected\r\n       *  before that connection is reused.\r\n       */reset:function reset(){this._proto._reset();// SASL\nthis.do_session=false;this.do_bind=false;// handler lists\nthis.timedHandlers=[];this.handlers=[];this.removeTimeds=[];this.removeHandlers=[];this.addTimeds=[];this.addHandlers=[];this._authentication={};this.authenticated=false;this.connected=false;this.disconnecting=false;this.restored=false;this._data=[];this._requests=[];this._uniqueId=0;},/** Function: pause\r\n       *  Pause the request manager.\r\n       *\r\n       *  This will prevent Strophe from sending any more requests to the\r\n       *  server.  This is very useful for temporarily pausing\r\n       *  BOSH-Connections while a lot of send() calls are happening quickly.\r\n       *  This causes Strophe to send the data in a single request, saving\r\n       *  many request trips.\r\n       */pause:function pause(){this.paused=true;},/** Function: resume\r\n       *  Resume the request manager.\r\n       *\r\n       *  This resumes after pause() has been called.\r\n       */resume:function resume(){this.paused=false;},/** Function: getUniqueId\r\n       *  Generate a unique ID for use in <iq/> elements.\r\n       *\r\n       *  All <iq/> stanzas are required to have unique id attributes.  This\r\n       *  function makes creating these easy.  Each connection instance has\r\n       *  a counter which starts from zero, and the value of this counter\r\n       *  plus a colon followed by the suffix becomes the unique id. If no\r\n       *  suffix is supplied, the counter is used as the unique id.\r\n       *\r\n       *  Suffixes are used to make debugging easier when reading the stream\r\n       *  data, and their use is recommended.  The counter resets to 0 for\r\n       *  every new connection for the same reason.  For connections to the\r\n       *  same server that authenticate the same way, all the ids should be\r\n       *  the same, which makes it easy to see changes.  This is useful for\r\n       *  automated testing as well.\r\n       *\r\n       *  Parameters:\r\n       *    (String) suffix - A optional suffix to append to the id.\r\n       *\r\n       *  Returns:\r\n       *    A unique string to be used for the id attribute.\r\n       */getUniqueId:function getUniqueId(suffix){if(typeof suffix=="string"||typeof suffix=="number"){return++this._uniqueId+":"+suffix;}else{return++this._uniqueId+"";}},/** Function: connect\r\n       *  Starts the connection process.\r\n       *\r\n       *  As the connection process proceeds, the user supplied callback will\r\n       *  be triggered multiple times with status updates.  The callback\r\n       *  should take two arguments - the status code and the error condition.\r\n       *\r\n       *  The status code will be one of the values in the Strophe.Status\r\n       *  constants.  The error condition will be one of the conditions\r\n       *  defined in RFC 3920 or the condition \'strophe-parsererror\'.\r\n       *\r\n       *  The Parameters _wait_, _hold_ and _route_ are optional and only relevant\r\n       *  for BOSH connections. Please see XEP 124 for a more detailed explanation\r\n       *  of the optional parameters.\r\n       *\r\n       *  Parameters:\r\n       *    (String) jid - The user\'s JID.  This may be a bare JID,\r\n       *      or a full JID.  If a node is not supplied, SASL ANONYMOUS\r\n       *      authentication will be attempted.\r\n       *    (String) pass - The user\'s password.\r\n       *    (Function) callback - The connect callback function.\r\n       *    (Integer) wait - The optional HTTPBIND wait value.  This is the\r\n       *      time the server will wait before returning an empty result for\r\n       *      a request.  The default setting of 60 seconds is recommended.\r\n       *    (Integer) hold - The optional HTTPBIND hold value.  This is the\r\n       *      number of connections the server will hold at one time.  This\r\n       *      should almost always be set to 1 (the default).\r\n       *    (String) route - The optional route value.\r\n       *    (String) authcid - The optional alternative authentication identity\r\n       *      (username) if intending to impersonate another user.\r\n       */connect:function connect(jid,pass,callback,wait,hold,route,authcid){this.jid=jid;/** Variable: authzid\r\n         *  Authorization identity.\r\n         */this.authzid=Strophe.getBareJidFromJid(this.jid);/** Variable: authcid\r\n         *  Authentication identity (User name).\r\n         */this.authcid=authcid||Strophe.getNodeFromJid(this.jid);/** Variable: pass\r\n         *  Authentication identity (User password).\r\n         */this.pass=pass;/** Variable: servtype\r\n         *  Digest MD5 compatibility.\r\n         */this.servtype="xmpp";this.connect_callback=callback;this.disconnecting=false;this.connected=false;this.authenticated=false;this.restored=false;// parse jid for domain\nthis.domain=Strophe.getDomainFromJid(this.jid);this._changeConnectStatus(Strophe.Status.CONNECTING,null);this._proto._connect(wait,hold,route);},/** Function: attach\r\n       *  Attach to an already created and authenticated BOSH session.\r\n       *\r\n       *  This function is provided to allow Strophe to attach to BOSH\r\n       *  sessions which have been created externally, perhaps by a Web\r\n       *  application.  This is often used to support auto-login type features\r\n       *  without putting user credentials into the page.\r\n       *\r\n       *  Parameters:\r\n       *    (String) jid - The full JID that is bound by the session.\r\n       *    (String) sid - The SID of the BOSH session.\r\n       *    (String) rid - The current RID of the BOSH session.  This RID\r\n       *      will be used by the next request.\r\n       *    (Function) callback The connect callback function.\r\n       *    (Integer) wait - The optional HTTPBIND wait value.  This is the\r\n       *      time the server will wait before returning an empty result for\r\n       *      a request.  The default setting of 60 seconds is recommended.\r\n       *      Other settings will require tweaks to the Strophe.TIMEOUT value.\r\n       *    (Integer) hold - The optional HTTPBIND hold value.  This is the\r\n       *      number of connections the server will hold at one time.  This\r\n       *      should almost always be set to 1 (the default).\r\n       *    (Integer) wind - The optional HTTBIND window value.  This is the\r\n       *      allowed range of request ids that are valid.  The default is 5.\r\n       */attach:function attach(jid,sid,rid,callback,wait,hold,wind){if(this._proto instanceof Strophe.Bosh){this._proto._attach(jid,sid,rid,callback,wait,hold,wind);}else{throw{name:"StropheSessionError",message:\'The "attach" method can only be used with a BOSH connection.\'};}},/** Function: restore\r\n       *  Attempt to restore a cached BOSH session.\r\n       *\r\n       *  This function is only useful in conjunction with providing the\r\n       *  "keepalive":true option when instantiating a new Strophe.Connection.\r\n       *\r\n       *  When "keepalive" is set to true, Strophe will cache the BOSH tokens\r\n       *  RID (Request ID) and SID (Session ID) and then when this function is\r\n       *  called, it will attempt to restore the session from those cached\r\n       *  tokens.\r\n       *\r\n       *  This function must therefore be called instead of connect or attach.\r\n       *\r\n       *  For an example on how to use it, please see examples/restore.js\r\n       *\r\n       *  Parameters:\r\n       *    (String) jid - The user\'s JID.  This may be a bare JID or a full JID.\r\n       *    (Function) callback - The connect callback function.\r\n       *    (Integer) wait - The optional HTTPBIND wait value.  This is the\r\n       *      time the server will wait before returning an empty result for\r\n       *      a request.  The default setting of 60 seconds is recommended.\r\n       *    (Integer) hold - The optional HTTPBIND hold value.  This is the\r\n       *      number of connections the server will hold at one time.  This\r\n       *      should almost always be set to 1 (the default).\r\n       *    (Integer) wind - The optional HTTBIND window value.  This is the\r\n       *      allowed range of request ids that are valid.  The default is 5.\r\n       */restore:function restore(jid,callback,wait,hold,wind){if(this._sessionCachingSupported()){this._proto._restore(jid,callback,wait,hold,wind);}else{throw{name:"StropheSessionError",message:\'The "restore" method can only be used with a BOSH connection.\'};}},/** PrivateFunction: _sessionCachingSupported\r\n       * Checks whether sessionStorage and JSON are supported and whether we\'re\r\n       * using BOSH.\r\n       */_sessionCachingSupported:function _sessionCachingSupported(){if(this._proto instanceof Strophe.Bosh){if(!JSON){return false;}try{window.sessionStorage.setItem("_strophe_","_strophe_");window.sessionStorage.removeItem("_strophe_");}catch(e){return false;}return true;}return false;},/** Function: xmlInput\r\n       *  User overrideable function that receives XML data coming into the\r\n       *  connection.\r\n       *\r\n       *  The default function does nothing.  User code can override this with\r\n       *  > Strophe.Connection.xmlInput = function (elem) {\r\n       *  >   (user code)\r\n       *  > };\r\n       *\r\n       *  Due to limitations of current Browsers\' XML-Parsers the opening and closing\r\n       *  <stream> tag for WebSocket-Connoctions will be passed as selfclosing here.\r\n       *\r\n       *  BOSH-Connections will have all stanzas wrapped in a <body> tag. See\r\n       *  <Strophe.Bosh.strip> if you want to strip this tag.\r\n       *\r\n       *  Parameters:\r\n       *    (XMLElement) elem - The XML data received by the connection.\r\n       */ /* jshint unused:false */xmlInput:function xmlInput(elem){return;},/* jshint unused:true */ /** Function: xmlOutput\r\n       *  User overrideable function that receives XML data sent to the\r\n       *  connection.\r\n       *\r\n       *  The default function does nothing.  User code can override this with\r\n       *  > Strophe.Connection.xmlOutput = function (elem) {\r\n       *  >   (user code)\r\n       *  > };\r\n       *\r\n       *  Due to limitations of current Browsers\' XML-Parsers the opening and closing\r\n       *  <stream> tag for WebSocket-Connoctions will be passed as selfclosing here.\r\n       *\r\n       *  BOSH-Connections will have all stanzas wrapped in a <body> tag. See\r\n       *  <Strophe.Bosh.strip> if you want to strip this tag.\r\n       *\r\n       *  Parameters:\r\n       *    (XMLElement) elem - The XMLdata sent by the connection.\r\n       */ /* jshint unused:false */xmlOutput:function xmlOutput(elem){return;},/* jshint unused:true */ /** Function: rawInput\r\n       *  User overrideable function that receives raw data coming into the\r\n       *  connection.\r\n       *\r\n       *  The default function does nothing.  User code can override this with\r\n       *  > Strophe.Connection.rawInput = function (data) {\r\n       *  >   (user code)\r\n       *  > };\r\n       *\r\n       *  Parameters:\r\n       *    (String) data - The data received by the connection.\r\n       */ /* jshint unused:false */rawInput:function rawInput(data){return;},/* jshint unused:true */ /** Function: rawOutput\r\n       *  User overrideable function that receives raw data sent to the\r\n       *  connection.\r\n       *\r\n       *  The default function does nothing.  User code can override this with\r\n       *  > Strophe.Connection.rawOutput = function (data) {\r\n       *  >   (user code)\r\n       *  > };\r\n       *\r\n       *  Parameters:\r\n       *    (String) data - The data sent by the connection.\r\n       */ /* jshint unused:false */rawOutput:function rawOutput(data){return;},/* jshint unused:true */ /** Function: send\r\n       *  Send a stanza.\r\n       *\r\n       *  This function is called to push data onto the send queue to\r\n       *  go out over the wire.  Whenever a request is sent to the BOSH\r\n       *  server, all pending data is sent and the queue is flushed.\r\n       *\r\n       *  Parameters:\r\n       *    (XMLElement |\r\n       *     [XMLElement] |\r\n       *     Strophe.Builder) elem - The stanza to send.\r\n       */send:function send(elem){if(elem===null){return;}if(typeof elem.sort==="function"){for(var i=0;i<elem.length;i++){this._queueData(elem[i]);}}else if(typeof elem.tree==="function"){this._queueData(elem.tree());}else{this._queueData(elem);}this._proto._send();},/** Function: flush\r\n       *  Immediately send any pending outgoing data.\r\n       *\r\n       *  Normally send() queues outgoing data until the next idle period\r\n       *  (100ms), which optimizes network use in the common cases when\r\n       *  several send()s are called in succession. flush() can be used to\r\n       *  immediately send all pending data.\r\n       */flush:function flush(){// cancel the pending idle period and run the idle function\n// immediately\nclearTimeout(this._idleTimeout);this._onIdle();},/** Function: sendIQ\r\n       *  Helper function to send IQ stanzas.\r\n       *\r\n       *  Parameters:\r\n       *    (XMLElement) elem - The stanza to send.\r\n       *    (Function) callback - The callback function for a successful request.\r\n       *    (Function) errback - The callback function for a failed or timed\r\n       *      out request.  On timeout, the stanza will be null.\r\n       *    (Integer) timeout - The time specified in milliseconds for a\r\n       *      timeout to occur.\r\n       *\r\n       *  Returns:\r\n       *    The id used to send the IQ.\r\n       */sendIQ:function sendIQ(elem,callback,errback,timeout){var timeoutHandler=null;var that=this;if(typeof elem.tree==="function"){elem=elem.tree();}var id=elem.getAttribute("id");// inject id if not found\nif(!id){id=this.getUniqueId("sendIQ");elem.setAttribute("id",id);}var expectedFrom=elem.getAttribute("to");var fulljid=this.jid;var handler=this.addHandler(function(stanza){// remove timeout handler if there is one\nif(timeoutHandler){that.deleteTimedHandler(timeoutHandler);}var acceptable=false;var from=stanza.getAttribute("from");if(from===expectedFrom||expectedFrom===null&&(from===Strophe.getBareJidFromJid(fulljid)||from===Strophe.getDomainFromJid(fulljid)||from===fulljid)){acceptable=true;}if(!acceptable){console.error("req: ",elem,"Resp:",stanza);throw{name:"StropheError",message:"Got answer to IQ from wrong jid:"+from+"\\nExpected jid: "+expectedFrom+""+"\\n stanza to String: "+stanza.toString()};}var iqtype=stanza.getAttribute("type");if(iqtype=="result"){if(callback){callback(stanza);}}else if(iqtype=="error"){if(errback){errback(stanza);}}else{throw{name:"StropheError",message:"Got bad IQ type of "+iqtype};}},null,"iq",["error","result"],id);// if timeout specified, setup timeout handler.\nif(timeout){timeoutHandler=this.addTimedHandler(timeout,function(){// get rid of normal handler\nthat.deleteHandler(handler);// call errback on timeout with null stanza\nif(errback){errback(null);}return false;});}this.send(elem);return id;},/** PrivateFunction: _queueData\r\n       *  Queue outgoing data for later sending.  Also ensures that the data\r\n       *  is a DOMElement.\r\n       */_queueData:function _queueData(element){if(element===null||!element.tagName||!element.childNodes){throw{name:"StropheError",message:"Cannot queue non-DOMElement."};}this._data.push(element);},/** PrivateFunction: _sendRestart\r\n       *  Send an xmpp:restart stanza.\r\n       */_sendRestart:function _sendRestart(){this._data.push("restart");this._proto._sendRestart();this._idleTimeout=setTimeout(this._onIdle.bind(this),100);},/** Function: addTimedHandler\r\n       *  Add a timed handler to the connection.\r\n       *\r\n       *  This function adds a timed handler.  The provided handler will\r\n       *  be called every period milliseconds until it returns false,\r\n       *  the connection is terminated, or the handler is removed.  Handlers\r\n       *  that wish to continue being invoked should return true.\r\n       *\r\n       *  Because of method binding it is necessary to save the result of\r\n       *  this function if you wish to remove a handler with\r\n       *  deleteTimedHandler().\r\n       *\r\n       *  Note that user handlers are not active until authentication is\r\n       *  successful.\r\n       *\r\n       *  Parameters:\r\n       *    (Integer) period - The period of the handler.\r\n       *    (Function) handler - The callback function.\r\n       *\r\n       *  Returns:\r\n       *    A reference to the handler that can be used to remove it.\r\n       */addTimedHandler:function addTimedHandler(period,handler){var thand=new Strophe.TimedHandler(period,handler);this.addTimeds.push(thand);return thand;},/** Function: deleteTimedHandler\r\n       *  Delete a timed handler for a connection.\r\n       *\r\n       *  This function removes a timed handler from the connection.  The\r\n       *  handRef parameter is *not* the function passed to addTimedHandler(),\r\n       *  but is the reference returned from addTimedHandler().\r\n       *\r\n       *  Parameters:\r\n       *    (Strophe.TimedHandler) handRef - The handler reference.\r\n       */deleteTimedHandler:function deleteTimedHandler(handRef){// this must be done in the Idle loop so that we don\'t change\n// the handlers during iteration\nthis.removeTimeds.push(handRef);},/** Function: addHandler\r\n       *  Add a stanza handler for the connection.\r\n       *\r\n       *  This function adds a stanza handler to the connection.  The\r\n       *  handler callback will be called for any stanza that matches\r\n       *  the parameters.  Note that if multiple parameters are supplied,\r\n       *  they must all match for the handler to be invoked.\r\n       *\r\n       *  The handler will receive the stanza that triggered it as its argument.\r\n       *  *The handler should return true if it is to be invoked again;\r\n       *  returning false will remove the handler after it returns.*\r\n       *\r\n       *  As a convenience, the ns parameters applies to the top level element\r\n       *  and also any of its immediate children.  This is primarily to make\r\n       *  matching /iq/query elements easy.\r\n       *\r\n       *  The options argument contains handler matching flags that affect how\r\n       *  matches are determined. Currently the only flag is matchBare (a\r\n       *  boolean). When matchBare is true, the from parameter and the from\r\n       *  attribute on the stanza will be matched as bare JIDs instead of\r\n       *  full JIDs. To use this, pass {matchBare: true} as the value of\r\n       *  options. The default value for matchBare is false.\r\n       *\r\n       *  The return value should be saved if you wish to remove the handler\r\n       *  with deleteHandler().\r\n       *\r\n       *  Parameters:\r\n       *    (Function) handler - The user callback.\r\n       *    (String) ns - The namespace to match.\r\n       *    (String) name - The stanza name to match.\r\n       *    (String) type - The stanza type attribute to match.\r\n       *    (String) id - The stanza id attribute to match.\r\n       *    (String) from - The stanza from attribute to match.\r\n       *    (String) options - The handler options\r\n       *\r\n       *  Returns:\r\n       *    A reference to the handler that can be used to remove it.\r\n       */addHandler:function addHandler(handler,ns,name,type,id,from,options){var hand=new Strophe.Handler(handler,ns,name,type,id,from,options);this.addHandlers.push(hand);return hand;},/** Function: deleteHandler\r\n       *  Delete a stanza handler for a connection.\r\n       *\r\n       *  This function removes a stanza handler from the connection.  The\r\n       *  handRef parameter is *not* the function passed to addHandler(),\r\n       *  but is the reference returned from addHandler().\r\n       *\r\n       *  Parameters:\r\n       *    (Strophe.Handler) handRef - The handler reference.\r\n       */deleteHandler:function deleteHandler(handRef){// this must be done in the Idle loop so that we don\'t change\n// the handlers during iteration\nthis.removeHandlers.push(handRef);// If a handler is being deleted while it is being added,\n// prevent it from getting added\nvar i=this.addHandlers.indexOf(handRef);if(i>=0){this.addHandlers.splice(i,1);}},/** Function: disconnect\r\n       *  Start the graceful disconnection process.\r\n       *\r\n       *  This function starts the disconnection process.  This process starts\r\n       *  by sending unavailable presence and sending BOSH body of type\r\n       *  terminate.  A timeout handler makes sure that disconnection happens\r\n       *  even if the BOSH server does not respond.\r\n       *  If the Connection object isn\'t connected, at least tries to abort all pending requests\r\n       *  so the connection object won\'t generate successful requests (which were already opened).\r\n       *\r\n       *  The user supplied connection callback will be notified of the\r\n       *  progress as this process happens.\r\n       *\r\n       *  Parameters:\r\n       *    (String) reason - The reason the disconnect is occuring.\r\n       */disconnect:function disconnect(reason){this._changeConnectStatus(Strophe.Status.DISCONNECTING,reason);Strophe.info("Disconnect was called because: "+reason);if(this.connected){var pres=false;this.disconnecting=true;if(this.authenticated){pres=$pres({xmlns:Strophe.NS.CLIENT,type:"unavailable"});}// setup timeout handler\nthis._disconnectTimeout=this._addSysTimedHandler(3000,this._onDisconnectTimeout.bind(this));this._proto._disconnect(pres);}else{Strophe.info("Disconnect was called before Strophe connected to the server");this._proto._abortAllRequests();}},/** PrivateFunction: _changeConnectStatus\r\n       *  _Private_ helper function that makes sure plugins and the user\'s\r\n       *  callback are notified of connection status changes.\r\n       *\r\n       *  Parameters:\r\n       *    (Integer) status - the new connection status, one of the values\r\n       *      in Strophe.Status\r\n       *    (String) condition - the error condition or null\r\n       */_changeConnectStatus:function _changeConnectStatus(status,condition){// notify all plugins listening for status changes\nfor(var k in Strophe._connectionPlugins){if(Strophe._connectionPlugins.hasOwnProperty(k)){var plugin=this[k];if(plugin.statusChanged){try{plugin.statusChanged(status,condition);}catch(err){Strophe.error(""+k+" plugin caused an exception "+"changing status: "+err);}}}}// notify the user\'s callback\nif(this.connect_callback){try{this.connect_callback(status,condition);}catch(e){Strophe.error("User connection callback caused an "+"exception: "+e);}}},/** PrivateFunction: _doDisconnect\r\n       *  _Private_ function to disconnect.\r\n       *\r\n       *  This is the last piece of the disconnection logic.  This resets the\r\n       *  connection and alerts the user\'s connection callback.\r\n       */_doDisconnect:function _doDisconnect(condition){if(typeof this._idleTimeout=="number"){clearTimeout(this._idleTimeout);}// Cancel Disconnect Timeout\nif(this._disconnectTimeout!==null){this.deleteTimedHandler(this._disconnectTimeout);this._disconnectTimeout=null;}Strophe.info("_doDisconnect was called");this._proto._doDisconnect();this.authenticated=false;this.disconnecting=false;this.restored=false;// delete handlers\nthis.handlers=[];this.timedHandlers=[];this.removeTimeds=[];this.removeHandlers=[];this.addTimeds=[];this.addHandlers=[];// tell the parent we disconnected\nthis._changeConnectStatus(Strophe.Status.DISCONNECTED,condition);this.connected=false;},/** PrivateFunction: _dataRecv\r\n       *  _Private_ handler to processes incoming data from the the connection.\r\n       *\r\n       *  Except for _connect_cb handling the initial connection request,\r\n       *  this function handles the incoming data for all requests.  This\r\n       *  function also fires stanza handlers that match each incoming\r\n       *  stanza.\r\n       *\r\n       *  Parameters:\r\n       *    (Strophe.Request) req - The request that has data ready.\r\n       *    (string) req - The stanza a raw string (optiona).\r\n       */_dataRecv:function _dataRecv(req,raw){Strophe.info("_dataRecv called");var elem=this._proto._reqToData(req);if(elem===null){return;}if(this.xmlInput!==Strophe.Connection.prototype.xmlInput){if(elem.nodeName===this._proto.strip&&elem.childNodes.length){this.xmlInput(elem.childNodes[0]);}else{this.xmlInput(elem);}}if(this.rawInput!==Strophe.Connection.prototype.rawInput){if(raw){this.rawInput(raw);}else{this.rawInput(Strophe.serialize(elem));}}// remove handlers scheduled for deletion\nvar i,hand;while(this.removeHandlers.length>0){hand=this.removeHandlers.pop();i=this.handlers.indexOf(hand);if(i>=0){this.handlers.splice(i,1);}}// add handlers scheduled for addition\nwhile(this.addHandlers.length>0){this.handlers.push(this.addHandlers.pop());}// handle graceful disconnect\nif(this.disconnecting&&this._proto._emptyQueue()){this._doDisconnect();return;}var type=elem.getAttribute("type");var cond,conflict;if(type!==null&&type=="terminate"){// Don\'t process stanzas that come in after disconnect\nif(this.disconnecting){return;}// an error occurred\ncond=elem.getAttribute("condition");conflict=elem.getElementsByTagName("conflict");if(cond!==null){if(cond=="remote-stream-error"&&conflict.length>0){cond="conflict";}this._changeConnectStatus(Strophe.Status.CONNFAIL,cond);}else{this._changeConnectStatus(Strophe.Status.CONNFAIL,"unknown");}this._doDisconnect(cond);return;}// send each incoming stanza through the handler chain\nvar that=this;Strophe.forEachChild(elem,null,function(child){var i,newList;// process handlers\nnewList=that.handlers;that.handlers=[];for(i=0;i<newList.length;i++){var hand=newList[i];// encapsulate \'handler.run\' not to lose the whole handler list if\n// one of the handlers throws an exception\ntry{if(hand.isMatch(child)&&(that.authenticated||!hand.user)){if(hand.run(child)){that.handlers.push(hand);}}else{that.handlers.push(hand);}}catch(e){// if the handler throws an exception, we consider it as false\nStrophe.warn("Removing Strophe handlers due to uncaught exception: "+e.message);}}});},/** Attribute: mechanisms\r\n       *  SASL Mechanisms available for Conncection.\r\n       */mechanisms:{},/** PrivateFunction: _connect_cb\r\n       *  _Private_ handler for initial connection request.\r\n       *\r\n       *  This handler is used to process the initial connection request\r\n       *  response from the BOSH server. It is used to set up authentication\r\n       *  handlers and start the authentication process.\r\n       *\r\n       *  SASL authentication will be attempted if available, otherwise\r\n       *  the code will fall back to legacy authentication.\r\n       *\r\n       *  Parameters:\r\n       *    (Strophe.Request) req - The current request.\r\n       *    (Function) _callback - low level (xmpp) connect callback function.\r\n       *      Useful for plugins with their own xmpp connect callback (when their)\r\n       *      want to do something special).\r\n       */_connect_cb:function _connect_cb(req,_callback,raw){Strophe.info("_connect_cb was called");this.connected=true;var bodyWrap=this._proto._reqToData(req);if(!bodyWrap){return;}if(this.xmlInput!==Strophe.Connection.prototype.xmlInput){if(bodyWrap.nodeName===this._proto.strip&&bodyWrap.childNodes.length){this.xmlInput(bodyWrap.childNodes[0]);}else{this.xmlInput(bodyWrap);}}if(this.rawInput!==Strophe.Connection.prototype.rawInput){if(raw){this.rawInput(raw);}else{this.rawInput(Strophe.serialize(bodyWrap));}}var conncheck=this._proto._connect_cb(bodyWrap);if(conncheck===Strophe.Status.CONNFAIL){return;}this._authentication.sasl_scram_sha1=false;this._authentication.sasl_plain=false;this._authentication.sasl_digest_md5=false;this._authentication.sasl_anonymous=false;this._authentication.legacy_auth=false;// Check for the stream:features tag\nvar hasFeatures;if(bodyWrap.getElementsByTagNameNS){hasFeatures=bodyWrap.getElementsByTagNameNS(Strophe.NS.STREAM,"features").length>0;}else{hasFeatures=bodyWrap.getElementsByTagName("stream:features").length>0||bodyWrap.getElementsByTagName("features").length>0;}var mechanisms=bodyWrap.getElementsByTagName("mechanism");var matched=[];var i,mech,found_authentication=false;if(!hasFeatures){this._proto._no_auth_received(_callback);return;}if(mechanisms.length>0){for(i=0;i<mechanisms.length;i++){mech=Strophe.getText(mechanisms[i]);if(this.mechanisms[mech])matched.push(this.mechanisms[mech]);}}this._authentication.legacy_auth=bodyWrap.getElementsByTagName("auth").length>0;found_authentication=this._authentication.legacy_auth||matched.length>0;if(!found_authentication){this._proto._no_auth_received(_callback);return;}if(this.do_authentication!==false)this.authenticate(matched);},/** Function: authenticate\r\n       * Set up authentication\r\n       *\r\n       *  Contiunues the initial connection request by setting up authentication\r\n       *  handlers and start the authentication process.\r\n       *\r\n       *  SASL authentication will be attempted if available, otherwise\r\n       *  the code will fall back to legacy authentication.\r\n       *\r\n       */authenticate:function authenticate(matched){var i;// Sorting matched mechanisms according to priority.\nfor(i=0;i<matched.length-1;++i){var higher=i;for(var j=i+1;j<matched.length;++j){if(matched[j].prototype.priority>matched[higher].prototype.priority){higher=j;}}if(higher!=i){var swap=matched[i];matched[i]=matched[higher];matched[higher]=swap;}}// run each mechanism\nvar mechanism_found=false;for(i=0;i<matched.length;++i){if(!matched[i].test(this))continue;this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null);this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null);this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge_cb.bind(this),null,"challenge",null,null);this._sasl_mechanism=new matched[i]();this._sasl_mechanism.onStart(this);var request_auth_exchange=$build("auth",{xmlns:Strophe.NS.SASL,mechanism:this._sasl_mechanism.name});if(this._sasl_mechanism.isClientFirst){var response=this._sasl_mechanism.onChallenge(this,null);request_auth_exchange.t(Base64.encode(response));}this.send(request_auth_exchange.tree());mechanism_found=true;break;}if(!mechanism_found){// if none of the mechanism worked\nif(Strophe.getNodeFromJid(this.jid)===null){// we don\'t have a node, which is required for non-anonymous\n// client connections\nthis._changeConnectStatus(Strophe.Status.CONNFAIL,"x-strophe-bad-non-anon-jid");this.disconnect("x-strophe-bad-non-anon-jid");}else{// fall back to legacy authentication\nthis._changeConnectStatus(Strophe.Status.AUTHENTICATING,null);this._addSysHandler(this._auth1_cb.bind(this),null,null,null,"_auth_1");this.send($iq({type:"get",to:this.domain,id:"_auth_1"}).c("query",{xmlns:Strophe.NS.AUTH}).c("username",{}).t(Strophe.getNodeFromJid(this.jid)).tree());}}},_sasl_challenge_cb:function _sasl_challenge_cb(elem){var challenge=Base64.decode(Strophe.getText(elem));var response=this._sasl_mechanism.onChallenge(this,challenge);var stanza=$build("response",{xmlns:Strophe.NS.SASL});if(response!==""){stanza.t(Base64.encode(response));}this.send(stanza.tree());return true;},/** PrivateFunction: _auth1_cb\r\n       *  _Private_ handler for legacy authentication.\r\n       *\r\n       *  This handler is called in response to the initial <iq type=\'get\'/>\r\n       *  for legacy authentication.  It builds an authentication <iq/> and\r\n       *  sends it, creating a handler (calling back to _auth2_cb()) to\r\n       *  handle the result\r\n       *\r\n       *  Parameters:\r\n       *    (XMLElement) elem - The stanza that triggered the callback.\r\n       *\r\n       *  Returns:\r\n       *    false to remove the handler.\r\n       */ /* jshint unused:false */_auth1_cb:function _auth1_cb(elem){// build plaintext auth iq\nvar iq=$iq({type:"set",id:"_auth_2"}).c("query",{xmlns:Strophe.NS.AUTH}).c("username",{}).t(Strophe.getNodeFromJid(this.jid)).up().c("password").t(this.pass);if(!Strophe.getResourceFromJid(this.jid)){// since the user has not supplied a resource, we pick\n// a default one here.  unlike other auth methods, the server\n// cannot do this for us.\nthis.jid=Strophe.getBareJidFromJid(this.jid)+"/strophe";}iq.up().c("resource",{}).t(Strophe.getResourceFromJid(this.jid));this._addSysHandler(this._auth2_cb.bind(this),null,null,null,"_auth_2");this.send(iq.tree());return false;},/* jshint unused:true */ /** PrivateFunction: _sasl_success_cb\r\n       *  _Private_ handler for succesful SASL authentication.\r\n       *\r\n       *  Parameters:\r\n       *    (XMLElement) elem - The matching stanza.\r\n       *\r\n       *  Returns:\r\n       *    false to remove the handler.\r\n       */_sasl_success_cb:function _sasl_success_cb(elem){if(this._sasl_data["server-signature"]){var serverSignature;var success=Base64.decode(Strophe.getText(elem));var attribMatch=/([a-z]+)=([^,]+)(,|$)/;var matches=success.match(attribMatch);if(matches[1]=="v"){serverSignature=matches[2];}if(serverSignature!=this._sasl_data["server-signature"]){// remove old handlers\nthis.deleteHandler(this._sasl_failure_handler);this._sasl_failure_handler=null;if(this._sasl_challenge_handler){this.deleteHandler(this._sasl_challenge_handler);this._sasl_challenge_handler=null;}this._sasl_data={};return this._sasl_failure_cb(null);}}Strophe.info("SASL authentication succeeded.");if(this._sasl_mechanism)this._sasl_mechanism.onSuccess();// remove old handlers\nthis.deleteHandler(this._sasl_failure_handler);this._sasl_failure_handler=null;if(this._sasl_challenge_handler){this.deleteHandler(this._sasl_challenge_handler);this._sasl_challenge_handler=null;}var streamfeature_handlers=[];var wrapper=function wrapper(handlers,elem){while(handlers.length){this.deleteHandler(handlers.pop());}this._sasl_auth1_cb.bind(this)(elem);return false;};streamfeature_handlers.push(this._addSysHandler(function(elem){wrapper.bind(this)(streamfeature_handlers,elem);}.bind(this),null,"stream:features",null,null));streamfeature_handlers.push(this._addSysHandler(function(elem){wrapper.bind(this)(streamfeature_handlers,elem);}.bind(this),Strophe.NS.STREAM,"features",null,null));// we must send an xmpp:restart now\nthis._sendRestart();return false;},/** PrivateFunction: _sasl_auth1_cb\r\n       *  _Private_ handler to start stream binding.\r\n       *\r\n       *  Parameters:\r\n       *    (XMLElement) elem - The matching stanza.\r\n       *\r\n       *  Returns:\r\n       *    false to remove the handler.\r\n       */_sasl_auth1_cb:function _sasl_auth1_cb(elem){// save stream:features for future usage\nthis.features=elem;var i,child;for(i=0;i<elem.childNodes.length;i++){child=elem.childNodes[i];if(child.nodeName=="bind"){this.do_bind=true;}if(child.nodeName=="session"){this.do_session=true;}}if(!this.do_bind){this._changeConnectStatus(Strophe.Status.AUTHFAIL,null);return false;}else{this._addSysHandler(this._sasl_bind_cb.bind(this),null,null,null,"_bind_auth_2");var resource=Strophe.getResourceFromJid(this.jid);if(resource){this.send($iq({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:Strophe.NS.BIND}).c("resource",{}).t(resource).tree());}else{this.send($iq({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:Strophe.NS.BIND}).tree());}}return false;},/** PrivateFunction: _sasl_bind_cb\r\n       *  _Private_ handler for binding result and session start.\r\n       *\r\n       *  Parameters:\r\n       *    (XMLElement) elem - The matching stanza.\r\n       *\r\n       *  Returns:\r\n       *    false to remove the handler.\r\n       */_sasl_bind_cb:function _sasl_bind_cb(elem){if(elem.getAttribute("type")=="error"){Strophe.info("SASL binding failed.");var conflict=elem.getElementsByTagName("conflict"),condition;if(conflict.length>0){condition="conflict";}this._changeConnectStatus(Strophe.Status.AUTHFAIL,condition);return false;}// TODO - need to grab errors\nvar bind=elem.getElementsByTagName("bind");var jidNode;if(bind.length>0){// Grab jid\njidNode=bind[0].getElementsByTagName("jid");if(jidNode.length>0){this.jid=Strophe.getText(jidNode[0]);if(this.do_session){this._addSysHandler(this._sasl_session_cb.bind(this),null,null,null,"_session_auth_2");this.send($iq({type:"set",id:"_session_auth_2"}).c("session",{xmlns:Strophe.NS.SESSION}).tree());}else{this.authenticated=true;this._changeConnectStatus(Strophe.Status.CONNECTED,null);}}}else{Strophe.info("SASL binding failed.");this._changeConnectStatus(Strophe.Status.AUTHFAIL,null);return false;}},/** PrivateFunction: _sasl_session_cb\r\n       *  _Private_ handler to finish successful SASL connection.\r\n       *\r\n       *  This sets Connection.authenticated to true on success, which\r\n       *  starts the processing of user handlers.\r\n       *\r\n       *  Parameters:\r\n       *    (XMLElement) elem - The matching stanza.\r\n       *\r\n       *  Returns:\r\n       *    false to remove the handler.\r\n       */_sasl_session_cb:function _sasl_session_cb(elem){if(elem.getAttribute("type")=="result"){this.authenticated=true;this._changeConnectStatus(Strophe.Status.CONNECTED,null);}else if(elem.getAttribute("type")=="error"){Strophe.info("Session creation failed.");this._changeConnectStatus(Strophe.Status.AUTHFAIL,null);return false;}return false;},/** PrivateFunction: _sasl_failure_cb\r\n       *  _Private_ handler for SASL authentication failure.\r\n       *\r\n       *  Parameters:\r\n       *    (XMLElement) elem - The matching stanza.\r\n       *\r\n       *  Returns:\r\n       *    false to remove the handler.\r\n       */ /* jshint unused:false */_sasl_failure_cb:function _sasl_failure_cb(elem){// delete unneeded handlers\nif(this._sasl_success_handler){this.deleteHandler(this._sasl_success_handler);this._sasl_success_handler=null;}if(this._sasl_challenge_handler){this.deleteHandler(this._sasl_challenge_handler);this._sasl_challenge_handler=null;}if(this._sasl_mechanism)this._sasl_mechanism.onFailure();this._changeConnectStatus(Strophe.Status.AUTHFAIL,null);return false;},/* jshint unused:true */ /** PrivateFunction: _auth2_cb\r\n       *  _Private_ handler to finish legacy authentication.\r\n       *\r\n       *  This handler is called when the result from the jabber:iq:auth\r\n       *  <iq/> stanza is returned.\r\n       *\r\n       *  Parameters:\r\n       *    (XMLElement) elem - The stanza that triggered the callback.\r\n       *\r\n       *  Returns:\r\n       *    false to remove the handler.\r\n       */_auth2_cb:function _auth2_cb(elem){if(elem.getAttribute("type")=="result"){this.authenticated=true;this._changeConnectStatus(Strophe.Status.CONNECTED,null);}else if(elem.getAttribute("type")=="error"){this._changeConnectStatus(Strophe.Status.AUTHFAIL,null);this.disconnect("authentication failed");}return false;},/** PrivateFunction: _addSysTimedHandler\r\n       *  _Private_ function to add a system level timed handler.\r\n       *\r\n       *  This function is used to add a Strophe.TimedHandler for the\r\n       *  library code.  System timed handlers are allowed to run before\r\n       *  authentication is complete.\r\n       *\r\n       *  Parameters:\r\n       *    (Integer) period - The period of the handler.\r\n       *    (Function) handler - The callback function.\r\n       */_addSysTimedHandler:function _addSysTimedHandler(period,handler){var thand=new Strophe.TimedHandler(period,handler);thand.user=false;this.addTimeds.push(thand);return thand;},/** PrivateFunction: _addSysHandler\r\n       *  _Private_ function to add a system level stanza handler.\r\n       *\r\n       *  This function is used to add a Strophe.Handler for the\r\n       *  library code.  System stanza handlers are allowed to run before\r\n       *  authentication is complete.\r\n       *\r\n       *  Parameters:\r\n       *    (Function) handler - The callback function.\r\n       *    (String) ns - The namespace to match.\r\n       *    (String) name - The stanza name to match.\r\n       *    (String) type - The stanza type attribute to match.\r\n       *    (String) id - The stanza id attribute to match.\r\n       */_addSysHandler:function _addSysHandler(handler,ns,name,type,id){var hand=new Strophe.Handler(handler,ns,name,type,id);hand.user=false;this.addHandlers.push(hand);return hand;},/** PrivateFunction: _onDisconnectTimeout\r\n       *  _Private_ timeout handler for handling non-graceful disconnection.\r\n       *\r\n       *  If the graceful disconnect process does not complete within the\r\n       *  time allotted, this handler finishes the disconnect anyway.\r\n       *\r\n       *  Returns:\r\n       *    false to remove the handler.\r\n       */_onDisconnectTimeout:function _onDisconnectTimeout(){Strophe.info("_onDisconnectTimeout was called");this._proto._onDisconnectTimeout();// actually disconnect\nthis._doDisconnect();return false;},/** PrivateFunction: _onIdle\r\n       *  _Private_ handler to process events during idle cycle.\r\n       *\r\n       *  This handler is called every 100ms to fire timed handlers that\r\n       *  are ready and keep poll requests going.\r\n       */_onIdle:function _onIdle(){var i,thand,since,newList;// add timed handlers scheduled for addition\n// NOTE: we add before remove in the case a timed handler is\n// added and then deleted before the next _onIdle() call.\nwhile(this.addTimeds.length>0){this.timedHandlers.push(this.addTimeds.pop());}// remove timed handlers that have been scheduled for deletion\nwhile(this.removeTimeds.length>0){thand=this.removeTimeds.pop();i=this.timedHandlers.indexOf(thand);if(i>=0){this.timedHandlers.splice(i,1);}}// call ready timed handlers\nvar now=new Date().getTime();newList=[];for(i=0;i<this.timedHandlers.length;i++){thand=this.timedHandlers[i];if(this.authenticated||!thand.user){since=thand.lastCalled+thand.period;if(since-now<=0){if(thand.run()){newList.push(thand);}}else{newList.push(thand);}}}this.timedHandlers=newList;clearTimeout(this._idleTimeout);this._proto._onIdle();// reactivate the timer only if connected\nif(this.connected){this._idleTimeout=setTimeout(this._onIdle.bind(this),100);}}};/** Class: Strophe.SASLMechanism\r\n     *\r\n     *  encapsulates SASL authentication mechanisms.\r\n     *\r\n     *  User code may override the priority for each mechanism or disable it completely.\r\n     *  See <priority> for information about changing priority and <test> for informatian on\r\n     *  how to disable a mechanism.\r\n     *\r\n     *  By default, all mechanisms are enabled and the priorities are\r\n     *\r\n     *  SCRAM-SHA1 - 40\r\n     *  DIGEST-MD5 - 30\r\n     *  Plain - 20\r\n     */ /**\r\n     * PrivateConstructor: Strophe.SASLMechanism\r\n     * SASL auth mechanism abstraction.\r\n     *\r\n     *  Parameters:\r\n     *    (String) name - SASL Mechanism name.\r\n     *    (Boolean) isClientFirst - If client should send response first without challenge.\r\n     *    (Number) priority - Priority.\r\n     *\r\n     *  Returns:\r\n     *    A new Strophe.SASLMechanism object.\r\n     */Strophe.SASLMechanism=function(name,isClientFirst,priority){/** PrivateVariable: name\r\n       *  Mechanism name.\r\n       */this.name=name;/** PrivateVariable: isClientFirst\r\n       *  If client sends response without initial server challenge.\r\n       */this.isClientFirst=isClientFirst;/** Variable: priority\r\n       *  Determines which <SASLMechanism> is chosen for authentication (Higher is better).\r\n       *  Users may override this to prioritize mechanisms differently.\r\n       *\r\n       *  In the default configuration the priorities are\r\n       *\r\n       *  SCRAM-SHA1 - 40\r\n       *  DIGEST-MD5 - 30\r\n       *  Plain - 20\r\n       *\r\n       *  Example: (This will cause Strophe to choose the mechanism that the server sent first)\r\n       *\r\n       *  > Strophe.SASLMD5.priority = Strophe.SASLSHA1.priority;\r\n       *\r\n       *  See <SASL mechanisms> for a list of available mechanisms.\r\n       *\r\n       */this.priority=priority;};Strophe.SASLMechanism.prototype={/**\r\n       *  Function: test\r\n       *  Checks if mechanism able to run.\r\n       *  To disable a mechanism, make this return false;\r\n       *\r\n       *  To disable plain authentication run\r\n       *  > Strophe.SASLPlain.test = function() {\r\n       *  >   return false;\r\n       *  > }\r\n       *\r\n       *  See <SASL mechanisms> for a list of available mechanisms.\r\n       *\r\n       *  Parameters:\r\n       *    (Strophe.Connection) connection - Target Connection.\r\n       *\r\n       *  Returns:\r\n       *    (Boolean) If mechanism was able to run.\r\n       */ /* jshint unused:false */test:function test(connection){return true;},/* jshint unused:true */ /** PrivateFunction: onStart\r\n       *  Called before starting mechanism on some connection.\r\n       *\r\n       *  Parameters:\r\n       *    (Strophe.Connection) connection - Target Connection.\r\n       */onStart:function onStart(connection){this._connection=connection;},/** PrivateFunction: onChallenge\r\n       *  Called by protocol implementation on incoming challenge. If client is\r\n       *  first (isClientFirst == true) challenge will be null on the first call.\r\n       *\r\n       *  Parameters:\r\n       *    (Strophe.Connection) connection - Target Connection.\r\n       *    (String) challenge - current challenge to handle.\r\n       *\r\n       *  Returns:\r\n       *    (String) Mechanism response.\r\n       */ /* jshint unused:false */onChallenge:function onChallenge(connection,challenge){throw new Error("You should implement challenge handling!");},/* jshint unused:true */ /** PrivateFunction: onFailure\r\n       *  Protocol informs mechanism implementation about SASL failure.\r\n       */onFailure:function onFailure(){this._connection=null;},/** PrivateFunction: onSuccess\r\n       *  Protocol informs mechanism implementation about SASL success.\r\n       */onSuccess:function onSuccess(){this._connection=null;}};/** Constants: SASL mechanisms\r\n     *  Available authentication mechanisms\r\n     *\r\n     *  Strophe.SASLAnonymous - SASL Anonymous authentication.\r\n     *  Strophe.SASLPlain - SASL Plain authentication.\r\n     *  Strophe.SASLMD5 - SASL Digest-MD5 authentication\r\n     *  Strophe.SASLSHA1 - SASL SCRAM-SHA1 authentication\r\n     */ // Building SASL callbacks\n/** PrivateConstructor: SASLAnonymous\r\n     *  SASL Anonymous authentication.\r\n     */Strophe.SASLAnonymous=function(){};Strophe.SASLAnonymous.prototype=new Strophe.SASLMechanism("ANONYMOUS",false,10);Strophe.SASLAnonymous.test=function(connection){return connection.authcid===null;};Strophe.Connection.prototype.mechanisms[Strophe.SASLAnonymous.prototype.name]=Strophe.SASLAnonymous;/** PrivateConstructor: SASLPlain\r\n     *  SASL Plain authentication.\r\n     */Strophe.SASLPlain=function(){};Strophe.SASLPlain.prototype=new Strophe.SASLMechanism("PLAIN",true,20);Strophe.SASLPlain.test=function(connection){return connection.authcid!==null;};Strophe.SASLPlain.prototype.onChallenge=function(connection){var auth_str=connection.authzid;auth_str=auth_str+"\\0";auth_str=auth_str+connection.authcid;auth_str=auth_str+"\\0";auth_str=auth_str+connection.pass;return auth_str;};Strophe.Connection.prototype.mechanisms[Strophe.SASLPlain.prototype.name]=Strophe.SASLPlain;/** PrivateConstructor: SASLSHA1\r\n     *  SASL SCRAM SHA 1 authentication.\r\n     */Strophe.SASLSHA1=function(){};/* TEST:\r\n     * This is a simple example of a SCRAM-SHA-1 authentication exchange\r\n     * when the client doesn\'t support channel bindings (username \'user\' and\r\n     * password \'pencil\' are used):\r\n     *\r\n     * C: n,,n=user,r=fyko+d2lbbFgONRv9qkxdawL\r\n     * S: r=fyko+d2lbbFgONRv9qkxdawL3rfcNHYJY1ZVvWVs7j,s=QSXCR+Q6sek8bf92,\r\n     * i=4096\r\n     * C: c=biws,r=fyko+d2lbbFgONRv9qkxdawL3rfcNHYJY1ZVvWVs7j,\r\n     * p=v0X8v3Bz2T0CJGbJQyF0X+HI4Ts=\r\n     * S: v=rmF9pqV8S7suAoZWja4dJRkFsKQ=\r\n     *\r\n     */Strophe.SASLSHA1.prototype=new Strophe.SASLMechanism("SCRAM-SHA-1",true,40);Strophe.SASLSHA1.test=function(connection){return connection.authcid!==null;};Strophe.SASLSHA1.prototype.onChallenge=function(connection,challenge,test_cnonce){var cnonce=test_cnonce||MD5.hexdigest(Math.random()*1234567890);var auth_str="n="+connection.authcid;auth_str+=",r=";auth_str+=cnonce;connection._sasl_data.cnonce=cnonce;connection._sasl_data["client-first-message-bare"]=auth_str;auth_str="n,,"+auth_str;this.onChallenge=function(connection,challenge){var nonce,salt,iter,Hi,U,U_old,i,k;var clientKey,serverKey,clientSignature;var responseText="c=biws,";var authMessage=connection._sasl_data["client-first-message-bare"]+","+challenge+",";var cnonce=connection._sasl_data.cnonce;var attribMatch=/([a-z]+)=([^,]+)(,|$)/;while(challenge.match(attribMatch)){var matches=challenge.match(attribMatch);challenge=challenge.replace(matches[0],"");switch(matches[1]){case"r":nonce=matches[2];break;case"s":salt=matches[2];break;case"i":iter=matches[2];break;}}if(nonce.substr(0,cnonce.length)!==cnonce){connection._sasl_data={};return connection._sasl_failure_cb();}responseText+="r="+nonce;authMessage+=responseText;salt=Base64.decode(salt);salt+="\\x00\\x00\\x00\\x01";Hi=U_old=SHA1.core_hmac_sha1(connection.pass,salt);for(i=1;i<iter;i++){U=SHA1.core_hmac_sha1(connection.pass,SHA1.binb2str(U_old));for(k=0;k<5;k++){Hi[k]^=U[k];}U_old=U;}Hi=SHA1.binb2str(Hi);clientKey=SHA1.core_hmac_sha1(Hi,"Client Key");serverKey=SHA1.str_hmac_sha1(Hi,"Server Key");clientSignature=SHA1.core_hmac_sha1(SHA1.str_sha1(SHA1.binb2str(clientKey)),authMessage);connection._sasl_data["server-signature"]=SHA1.b64_hmac_sha1(serverKey,authMessage);for(k=0;k<5;k++){clientKey[k]^=clientSignature[k];}responseText+=",p="+Base64.encode(SHA1.binb2str(clientKey));return responseText;}.bind(this);return auth_str;};Strophe.Connection.prototype.mechanisms[Strophe.SASLSHA1.prototype.name]=Strophe.SASLSHA1;/** PrivateConstructor: SASLMD5\r\n     *  SASL DIGEST MD5 authentication.\r\n     */Strophe.SASLMD5=function(){};Strophe.SASLMD5.prototype=new Strophe.SASLMechanism("DIGEST-MD5",false,30);Strophe.SASLMD5.test=function(connection){return connection.authcid!==null;};/** PrivateFunction: _quote\r\n     *  _Private_ utility function to backslash escape and quote strings.\r\n     *\r\n     *  Parameters:\r\n     *    (String) str - The string to be quoted.\r\n     *\r\n     *  Returns:\r\n     *    quoted string\r\n     */Strophe.SASLMD5.prototype._quote=function(str){return\'"\'+str.replace(/\\\\/g,"\\\\\\\\").replace(/"/g,\'\\\\"\')+\'"\';//" end string workaround for emacs\n};Strophe.SASLMD5.prototype.onChallenge=function(connection,challenge,test_cnonce){var attribMatch=/([a-z]+)=("[^"]+"|[^,"]+)(?:,|$)/;var cnonce=test_cnonce||MD5.hexdigest(""+Math.random()*1234567890);var realm="";var host=null;var nonce="";var qop="";var matches;while(challenge.match(attribMatch)){matches=challenge.match(attribMatch);challenge=challenge.replace(matches[0],"");matches[2]=matches[2].replace(/^"(.+)"$/,"$1");switch(matches[1]){case"realm":realm=matches[2];break;case"nonce":nonce=matches[2];break;case"qop":qop=matches[2];break;case"host":host=matches[2];break;}}var digest_uri=connection.servtype+"/"+connection.domain;if(host!==null){digest_uri=digest_uri+"/"+host;}var A1=MD5.hash(connection.authcid+":"+realm+":"+this._connection.pass)+":"+nonce+":"+cnonce;var A2="AUTHENTICATE:"+digest_uri;var responseText="";responseText+="charset=utf-8,";responseText+="username="+this._quote(connection.authcid)+",";responseText+="realm="+this._quote(realm)+",";responseText+="nonce="+this._quote(nonce)+",";responseText+="nc=00000001,";responseText+="cnonce="+this._quote(cnonce)+",";responseText+="digest-uri="+this._quote(digest_uri)+",";responseText+="response="+MD5.hexdigest(MD5.hexdigest(A1)+":"+nonce+":00000001:"+cnonce+":auth:"+MD5.hexdigest(A2))+",";responseText+="qop=auth";this.onChallenge=function(){return"";}.bind(this);return responseText;};Strophe.Connection.prototype.mechanisms[Strophe.SASLMD5.prototype.name]=Strophe.SASLMD5;return{Strophe:Strophe,$build:$build,$msg:$msg,$iq:$iq,$pres:$pres,SHA1:SHA1,Base64:Base64,MD5:MD5};});/*\r\n    This program is distributed under the terms of the MIT license.\r\n    Please see the LICENSE file for details.\r\n\r\n    Copyright 2006-2008, OGG, LLC\r\n*/ /* jshint undef: true, unused: true:, noarg: true, latedef: true */ /* global define, window, setTimeout, clearTimeout, XMLHttpRequest, ActiveXObject, Strophe, $build */(function(root,factory){if(typeof define==="function"&&define.amd){define("strophe-bosh",["strophe-core"],function(core){return factory(core.Strophe,core.$build);});}else{// Browser globals\nreturn factory(Strophe,$build);}})(this,function(Strophe,$build){/** PrivateClass: Strophe.Request\r\n     *  _Private_ helper class that provides a cross implementation abstraction\r\n     *  for a BOSH related XMLHttpRequest.\r\n     *\r\n     *  The Strophe.Request class is used internally to encapsulate BOSH request\r\n     *  information.  It is not meant to be used from user\'s code.\r\n     */ /** PrivateConstructor: Strophe.Request\r\n     *  Create and initialize a new Strophe.Request object.\r\n     *\r\n     *  Parameters:\r\n     *    (XMLElement) elem - The XML data to be sent in the request.\r\n     *    (Function) func - The function that will be called when the\r\n     *      XMLHttpRequest readyState changes.\r\n     *    (Integer) rid - The BOSH rid attribute associated with this request.\r\n     *    (Integer) sends - The number of times this same request has been\r\n     *      sent.\r\n     */Strophe.Request=function(elem,func,rid,sends){this.id=++Strophe._requestId;this.xmlData=elem;this.data=Strophe.serialize(elem);// save original function in case we need to make a new request\n// from this one.\nthis.origFunc=func;this.func=func;this.rid=rid;this.date=NaN;this.sends=sends||0;this.abort=false;this.dead=null;this.age=function(){if(!this.date){return 0;}var now=new Date();return(now-this.date)/1000;};this.timeDead=function(){if(!this.dead){return 0;}var now=new Date();return(now-this.dead)/1000;};this.xhr=this._newXHR();};Strophe.Request.prototype={/** PrivateFunction: getResponse\r\n       *  Get a response from the underlying XMLHttpRequest.\r\n       *\r\n       *  This function attempts to get a response from the request and checks\r\n       *  for errors.\r\n       *\r\n       *  Throws:\r\n       *    "parsererror" - A parser error occured.\r\n       *\r\n       *  Returns:\r\n       *    The DOM element tree of the response.\r\n       */getResponse:function getResponse(){var node=null;if(this.xhr.responseXML&&this.xhr.responseXML.documentElement){node=this.xhr.responseXML.documentElement;if(node.tagName=="parsererror"){Strophe.error("invalid response received");Strophe.error("responseText: "+this.xhr.responseText);Strophe.error("responseXML: "+Strophe.serialize(this.xhr.responseXML));throw"parsererror";}}else if(this.xhr.responseText){Strophe.error("invalid response received");Strophe.error("responseText: "+this.xhr.responseText);Strophe.error("responseXML: "+Strophe.serialize(this.xhr.responseXML));}return node;},/** PrivateFunction: _newXHR\r\n       *  _Private_ helper function to create XMLHttpRequests.\r\n       *\r\n       *  This function creates XMLHttpRequests across all implementations.\r\n       *\r\n       *  Returns:\r\n       *    A new XMLHttpRequest.\r\n       */_newXHR:function _newXHR(){var xhr=null;if(window.XMLHttpRequest){xhr=new XMLHttpRequest();if(xhr.overrideMimeType){xhr.overrideMimeType("text/xml; charset=utf-8");}}else if(window.ActiveXObject){xhr=new ActiveXObject("Microsoft.XMLHTTP");}// use Function.bind() to prepend ourselves as an argument\nxhr.onreadystatechange=this.func.bind(null,this);return xhr;}};/** Class: Strophe.Bosh\r\n     *  _Private_ helper class that handles BOSH Connections\r\n     *\r\n     *  The Strophe.Bosh class is used internally by Strophe.Connection\r\n     *  to encapsulate BOSH sessions. It is not meant to be used from user\'s code.\r\n     */ /** File: bosh.js\r\n     *  A JavaScript library to enable BOSH in Strophejs.\r\n     *\r\n     *  this library uses Bidirectional-streams Over Synchronous HTTP (BOSH)\r\n     *  to emulate a persistent, stateful, two-way connection to an XMPP server.\r\n     *  More information on BOSH can be found in XEP 124.\r\n     */ /** PrivateConstructor: Strophe.Bosh\r\n     *  Create and initialize a Strophe.Bosh object.\r\n     *\r\n     *  Parameters:\r\n     *    (Strophe.Connection) connection - The Strophe.Connection that will use BOSH.\r\n     *\r\n     *  Returns:\r\n     *    A new Strophe.Bosh object.\r\n     */Strophe.Bosh=function(connection){this._conn=connection;/* request id for body tags */this.rid=Math.floor(Math.random()*4294967295);/* The current session ID. */this.sid=null;// default BOSH values\nthis.hold=1;this.wait=60;this.window=5;this.errors=0;this._requests=[];};Strophe.Bosh.prototype={/** Variable: strip\r\n       *\r\n       *  BOSH-Connections will have all stanzas wrapped in a <body> tag when\r\n       *  passed to <Strophe.Connection.xmlInput> or <Strophe.Connection.xmlOutput>.\r\n       *  To strip this tag, User code can set <Strophe.Bosh.strip> to "body":\r\n       *\r\n       *  > Strophe.Bosh.prototype.strip = "body";\r\n       *\r\n       *  This will enable stripping of the body tag in both\r\n       *  <Strophe.Connection.xmlInput> and <Strophe.Connection.xmlOutput>.\r\n       */strip:null,/** PrivateFunction: _buildBody\r\n       *  _Private_ helper function to generate the <body/> wrapper for BOSH.\r\n       *\r\n       *  Returns:\r\n       *    A Strophe.Builder with a <body/> element.\r\n       */_buildBody:function _buildBody(){var bodyWrap=$build("body",{rid:this.rid++,xmlns:Strophe.NS.HTTPBIND});if(this.sid!==null){bodyWrap.attrs({sid:this.sid});}if(this._conn.options.keepalive){this._cacheSession();}return bodyWrap;},/** PrivateFunction: _reset\r\n       *  Reset the connection.\r\n       *\r\n       *  This function is called by the reset function of the Strophe Connection\r\n       */_reset:function _reset(){this.rid=Math.floor(Math.random()*4294967295);this.sid=null;this.errors=0;window.sessionStorage.removeItem("strophe-bosh-session");},/** PrivateFunction: _connect\r\n       *  _Private_ function that initializes the BOSH connection.\r\n       *\r\n       *  Creates and sends the Request that initializes the BOSH connection.\r\n       */_connect:function _connect(wait,hold,route){this.wait=wait||this.wait;this.hold=hold||this.hold;this.errors=0;// build the body tag\nvar body=this._buildBody().attrs({to:this._conn.domain,"xml:lang":"en",wait:this.wait,hold:this.hold,content:"text/xml; charset=utf-8",ver:"1.6","xmpp:version":"1.0","xmlns:xmpp":Strophe.NS.BOSH});if(route){body.attrs({route:route});}var _connect_cb=this._conn._connect_cb;this._requests.push(new Strophe.Request(body.tree(),this._onRequestStateChange.bind(this,_connect_cb.bind(this._conn)),body.tree().getAttribute("rid")));this._throttledRequestHandler();},/** PrivateFunction: _attach\r\n       *  Attach to an already created and authenticated BOSH session.\r\n       *\r\n       *  This function is provided to allow Strophe to attach to BOSH\r\n       *  sessions which have been created externally, perhaps by a Web\r\n       *  application.  This is often used to support auto-login type features\r\n       *  without putting user credentials into the page.\r\n       *\r\n       *  Parameters:\r\n       *    (String) jid - The full JID that is bound by the session.\r\n       *    (String) sid - The SID of the BOSH session.\r\n       *    (String) rid - The current RID of the BOSH session.  This RID\r\n       *      will be used by the next request.\r\n       *    (Function) callback The connect callback function.\r\n       *    (Integer) wait - The optional HTTPBIND wait value.  This is the\r\n       *      time the server will wait before returning an empty result for\r\n       *      a request.  The default setting of 60 seconds is recommended.\r\n       *      Other settings will require tweaks to the Strophe.TIMEOUT value.\r\n       *    (Integer) hold - The optional HTTPBIND hold value.  This is the\r\n       *      number of connections the server will hold at one time.  This\r\n       *      should almost always be set to 1 (the default).\r\n       *    (Integer) wind - The optional HTTBIND window value.  This is the\r\n       *      allowed range of request ids that are valid.  The default is 5.\r\n       */_attach:function _attach(jid,sid,rid,callback,wait,hold,wind){this._conn.jid=jid;this.sid=sid;this.rid=rid;this._conn.connect_callback=callback;this._conn.domain=Strophe.getDomainFromJid(this._conn.jid);this._conn.authenticated=true;this._conn.connected=true;this.wait=wait||this.wait;this.hold=hold||this.hold;this.window=wind||this.window;this._conn._changeConnectStatus(Strophe.Status.ATTACHED,null);},/** PrivateFunction: _restore\r\n       *  Attempt to restore a cached BOSH session\r\n       *\r\n       *  Parameters:\r\n       *    (String) jid - The full JID that is bound by the session.\r\n       *      This parameter is optional but recommended, specifically in cases\r\n       *      where prebinded BOSH sessions are used where it\'s important to know\r\n       *      that the right session is being restored.\r\n       *    (Function) callback The connect callback function.\r\n       *    (Integer) wait - The optional HTTPBIND wait value.  This is the\r\n       *      time the server will wait before returning an empty result for\r\n       *      a request.  The default setting of 60 seconds is recommended.\r\n       *      Other settings will require tweaks to the Strophe.TIMEOUT value.\r\n       *    (Integer) hold - The optional HTTPBIND hold value.  This is the\r\n       *      number of connections the server will hold at one time.  This\r\n       *      should almost always be set to 1 (the default).\r\n       *    (Integer) wind - The optional HTTBIND window value.  This is the\r\n       *      allowed range of request ids that are valid.  The default is 5.\r\n       */_restore:function _restore(jid,callback,wait,hold,wind){var session=JSON.parse(window.sessionStorage.getItem("strophe-bosh-session"));if(typeof session!=="undefined"&&session!==null&&session.rid&&session.sid&&session.jid&&(typeof jid==="undefined"||Strophe.getBareJidFromJid(session.jid)==Strophe.getBareJidFromJid(jid))){this._conn.restored=true;this._attach(session.jid,session.sid,session.rid,callback,wait,hold,wind);}else{throw{name:"StropheSessionError",message:"_restore: no restoreable session."};}},/** PrivateFunction: _cacheSession\r\n       *  _Private_ handler for the beforeunload event.\r\n       *\r\n       *  This handler is used to process the Bosh-part of the initial request.\r\n       *  Parameters:\r\n       *    (Strophe.Request) bodyWrap - The received stanza.\r\n       */_cacheSession:function _cacheSession(){if(this._conn.authenticated){if(this._conn.jid&&this.rid&&this.sid){window.sessionStorage.setItem("strophe-bosh-session",JSON.stringify({jid:this._conn.jid,rid:this.rid,sid:this.sid}));}}else{window.sessionStorage.removeItem("strophe-bosh-session");}},/** PrivateFunction: _connect_cb\r\n       *  _Private_ handler for initial connection request.\r\n       *\r\n       *  This handler is used to process the Bosh-part of the initial request.\r\n       *  Parameters:\r\n       *    (Strophe.Request) bodyWrap - The received stanza.\r\n       */_connect_cb:function _connect_cb(bodyWrap){var typ=bodyWrap.getAttribute("type");var cond,conflict;if(typ!==null&&typ=="terminate"){// an error occurred\ncond=bodyWrap.getAttribute("condition");Strophe.error("BOSH-Connection failed: "+cond);conflict=bodyWrap.getElementsByTagName("conflict");if(cond!==null){if(cond=="remote-stream-error"&&conflict.length>0){cond="conflict";}this._conn._changeConnectStatus(Strophe.Status.CONNFAIL,cond);}else{this._conn._changeConnectStatus(Strophe.Status.CONNFAIL,"unknown");}this._conn._doDisconnect(cond);return Strophe.Status.CONNFAIL;}// check to make sure we don\'t overwrite these if _connect_cb is\n// called multiple times in the case of missing stream:features\nif(!this.sid){this.sid=bodyWrap.getAttribute("sid");}var wind=bodyWrap.getAttribute("requests");if(wind){this.window=parseInt(wind,10);}var hold=bodyWrap.getAttribute("hold");if(hold){this.hold=parseInt(hold,10);}var wait=bodyWrap.getAttribute("wait");if(wait){this.wait=parseInt(wait,10);}},/** PrivateFunction: _disconnect\r\n       *  _Private_ part of Connection.disconnect for Bosh\r\n       *\r\n       *  Parameters:\r\n       *    (Request) pres - This stanza will be sent before disconnecting.\r\n       */_disconnect:function _disconnect(pres){this._sendTerminate(pres);},/** PrivateFunction: _doDisconnect\r\n       *  _Private_ function to disconnect.\r\n       *\r\n       *  Resets the SID and RID.\r\n       */_doDisconnect:function _doDisconnect(){this.sid=null;this.rid=Math.floor(Math.random()*4294967295);window.sessionStorage.removeItem("strophe-bosh-session");},/** PrivateFunction: _emptyQueue\r\n       * _Private_ function to check if the Request queue is empty.\r\n       *\r\n       *  Returns:\r\n       *    True, if there are no Requests queued, False otherwise.\r\n       */_emptyQueue:function _emptyQueue(){return this._requests.length===0;},/** PrivateFunction: _hitError\r\n       *  _Private_ function to handle the error count.\r\n       *\r\n       *  Requests are resent automatically until their error count reaches\r\n       *  5.  Each time an error is encountered, this function is called to\r\n       *  increment the count and disconnect if the count is too high.\r\n       *\r\n       *  Parameters:\r\n       *    (Integer) reqStatus - The request status.\r\n       */_hitError:function _hitError(reqStatus){this.errors++;Strophe.warn("request errored, status: "+reqStatus+", number of errors: "+this.errors);if(this.errors>4){this._conn._onDisconnectTimeout();}},/** PrivateFunction: _no_auth_received\r\n       *\r\n       * Called on stream start/restart when no stream:features\r\n       * has been received and sends a blank poll request.\r\n       */_no_auth_received:function _no_auth_received(_callback){if(_callback){_callback=_callback.bind(this._conn);}else{_callback=this._conn._connect_cb.bind(this._conn);}var body=this._buildBody();this._requests.push(new Strophe.Request(body.tree(),this._onRequestStateChange.bind(this,_callback.bind(this._conn)),body.tree().getAttribute("rid")));this._throttledRequestHandler();},/** PrivateFunction: _onDisconnectTimeout\r\n       *  _Private_ timeout handler for handling non-graceful disconnection.\r\n       *\r\n       *  Cancels all remaining Requests and clears the queue.\r\n       */_onDisconnectTimeout:function _onDisconnectTimeout(){this._abortAllRequests();},/** PrivateFunction: _abortAllRequests\r\n       *  _Private_ helper function that makes sure all pending requests are aborted.\r\n       */_abortAllRequests:function _abortAllRequests(){var req;while(this._requests.length>0){req=this._requests.pop();req.abort=true;req.xhr.abort();// jslint complains, but this is fine. setting to empty func\n// is necessary for IE6\nreq.xhr.onreadystatechange=function(){};// jshint ignore:line\n}},/** PrivateFunction: _onIdle\r\n       *  _Private_ handler called by Strophe.Connection._onIdle\r\n       *\r\n       *  Sends all queued Requests or polls with empty Request if there are none.\r\n       */_onIdle:function _onIdle(){var data=this._conn._data;// if no requests are in progress, poll\nif(this._conn.authenticated&&this._requests.length===0&&data.length===0&&!this._conn.disconnecting){Strophe.info("no requests during idle cycle, sending "+"blank request");data.push(null);}if(this._conn.paused){return;}if(this._requests.length<2&&data.length>0){var body=this._buildBody();for(var i=0;i<data.length;i++){if(data[i]!==null){if(data[i]==="restart"){body.attrs({to:this._conn.domain,"xml:lang":"en","xmpp:restart":"true","xmlns:xmpp":Strophe.NS.BOSH});}else{body.cnode(data[i]).up();}}}delete this._conn._data;this._conn._data=[];this._requests.push(new Strophe.Request(body.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),body.tree().getAttribute("rid")));this._throttledRequestHandler();}if(this._requests.length>0){var time_elapsed=this._requests[0].age();if(this._requests[0].dead!==null){if(this._requests[0].timeDead()>Math.floor(Strophe.SECONDARY_TIMEOUT*this.wait)){this._throttledRequestHandler();}}if(time_elapsed>Math.floor(Strophe.TIMEOUT*this.wait)){Strophe.warn("Request "+this._requests[0].id+" timed out, over "+Math.floor(Strophe.TIMEOUT*this.wait)+" seconds since last activity");this._throttledRequestHandler();}}},/** PrivateFunction: _onRequestStateChange\r\n       *  _Private_ handler for Strophe.Request state changes.\r\n       *\r\n       *  This function is called when the XMLHttpRequest readyState changes.\r\n       *  It contains a lot of error handling logic for the many ways that\r\n       *  requests can fail, and calls the request callback when requests\r\n       *  succeed.\r\n       *\r\n       *  Parameters:\r\n       *    (Function) func - The handler for the request.\r\n       *    (Strophe.Request) req - The request that is changing readyState.\r\n       */_onRequestStateChange:function _onRequestStateChange(func,req){Strophe.debug("request id "+req.id+"."+req.sends+" state changed to "+req.xhr.readyState);if(req.abort){req.abort=false;return;}// request complete\nvar reqStatus;if(req.xhr.readyState==4){reqStatus=0;try{reqStatus=req.xhr.status;}catch(e){// ignore errors from undefined status attribute.  works\n// around a browser bug\n}if(typeof reqStatus=="undefined"){reqStatus=0;}if(this.disconnecting){if(reqStatus>=400){this._hitError(reqStatus);return;}}var reqIs0=this._requests[0]==req;var reqIs1=this._requests[1]==req;if(reqStatus>0&&reqStatus<500||req.sends>5){// remove from internal queue\nthis._removeRequest(req);Strophe.debug("request id "+req.id+" should now be removed");}// request succeeded\nif(reqStatus==200){// if request 1 finished, or request 0 finished and request\n// 1 is over Strophe.SECONDARY_TIMEOUT seconds old, we need to\n// restart the other - both will be in the first spot, as the\n// completed request has been removed from the queue already\nif(reqIs1||reqIs0&&this._requests.length>0&&this._requests[0].age()>Math.floor(Strophe.SECONDARY_TIMEOUT*this.wait)){this._restartRequest(0);}// call handler\nStrophe.debug("request id "+req.id+"."+req.sends+" got 200");func(req);this.errors=0;}else{Strophe.error("request id "+req.id+"."+req.sends+" error "+reqStatus+" happened");if(reqStatus===0||reqStatus>=400&&reqStatus<600||reqStatus>=12000){this._hitError(reqStatus);if(reqStatus>=400&&reqStatus<500){this._conn._changeConnectStatus(Strophe.Status.DISCONNECTING,null);this._conn._doDisconnect();}}}if(!(reqStatus>0&&reqStatus<500||req.sends>5)){this._throttledRequestHandler();}}},/** PrivateFunction: _processRequest\r\n       *  _Private_ function to process a request in the queue.\r\n       *\r\n       *  This function takes requests off the queue and sends them and\r\n       *  restarts dead requests.\r\n       *\r\n       *  Parameters:\r\n       *    (Integer) i - The index of the request in the queue.\r\n       */_processRequest:function _processRequest(i){var self=this;var req=this._requests[i];var reqStatus=-1;try{if(req.xhr.readyState==4){reqStatus=req.xhr.status;}}catch(e){Strophe.error("caught an error in _requests["+i+"], reqStatus: "+reqStatus);}if(typeof reqStatus=="undefined"){reqStatus=-1;}// make sure we limit the number of retries\nif(req.sends>this._conn.maxRetries){this._conn._onDisconnectTimeout();return;}var time_elapsed=req.age();var primaryTimeout=!isNaN(time_elapsed)&&time_elapsed>Math.floor(Strophe.TIMEOUT*this.wait);var secondaryTimeout=req.dead!==null&&req.timeDead()>Math.floor(Strophe.SECONDARY_TIMEOUT*this.wait);var requestCompletedWithServerError=req.xhr.readyState==4&&(reqStatus<1||reqStatus>=500);if(primaryTimeout||secondaryTimeout||requestCompletedWithServerError){if(secondaryTimeout){Strophe.error("Request "+this._requests[i].id+" timed out (secondary), restarting");}req.abort=true;req.xhr.abort();// setting to null fails on IE6, so set to empty function\nreq.xhr.onreadystatechange=function(){};this._requests[i]=new Strophe.Request(req.xmlData,req.origFunc,req.rid,req.sends);req=this._requests[i];}if(req.xhr.readyState===0){Strophe.debug("request id "+req.id+"."+req.sends+" posting");try{req.xhr.open("POST",this._conn.service,this._conn.options.sync?false:true);req.xhr.setRequestHeader("Content-Type","text/xml; charset=utf-8");}catch(e2){Strophe.error("XHR open failed.");if(!this._conn.connected){this._conn._changeConnectStatus(Strophe.Status.CONNFAIL,"bad-service");}this._conn.disconnect();return;}// Fires the XHR request -- may be invoked immediately\n// or on a gradually expanding retry window for reconnects\nvar sendFunc=function sendFunc(){req.date=new Date();if(self._conn.options.customHeaders){var headers=self._conn.options.customHeaders;for(var header in headers){if(headers.hasOwnProperty(header)){req.xhr.setRequestHeader(header,headers[header]);}}}req.xhr.send(req.data);};// Implement progressive backoff for reconnects --\n// First retry (send == 1) should also be instantaneous\nif(req.sends>1){// Using a cube of the retry number creates a nicely\n// expanding retry window\nvar backoff=Math.min(Math.floor(Strophe.TIMEOUT*this.wait),Math.pow(req.sends,3))*1000;setTimeout(sendFunc,backoff);}else{sendFunc();}req.sends++;if(this._conn.xmlOutput!==Strophe.Connection.prototype.xmlOutput){if(req.xmlData.nodeName===this.strip&&req.xmlData.childNodes.length){this._conn.xmlOutput(req.xmlData.childNodes[0]);}else{this._conn.xmlOutput(req.xmlData);}}if(this._conn.rawOutput!==Strophe.Connection.prototype.rawOutput){this._conn.rawOutput(req.data);}}else{Strophe.debug("_processRequest: "+(i===0?"first":"second")+" request has readyState of "+req.xhr.readyState);}},/** PrivateFunction: _removeRequest\r\n       *  _Private_ function to remove a request from the queue.\r\n       *\r\n       *  Parameters:\r\n       *    (Strophe.Request) req - The request to remove.\r\n       */_removeRequest:function _removeRequest(req){Strophe.debug("removing request");var i;for(i=this._requests.length-1;i>=0;i--){if(req==this._requests[i]){this._requests.splice(i,1);}}// IE6 fails on setting to null, so set to empty function\nreq.xhr.onreadystatechange=function(){};this._throttledRequestHandler();},/** PrivateFunction: _restartRequest\r\n       *  _Private_ function to restart a request that is presumed dead.\r\n       *\r\n       *  Parameters:\r\n       *    (Integer) i - The index of the request in the queue.\r\n       */_restartRequest:function _restartRequest(i){var req=this._requests[i];if(req.dead===null){req.dead=new Date();}this._processRequest(i);},/** PrivateFunction: _reqToData\r\n       * _Private_ function to get a stanza out of a request.\r\n       *\r\n       * Tries to extract a stanza out of a Request Object.\r\n       * When this fails the current connection will be disconnected.\r\n       *\r\n       *  Parameters:\r\n       *    (Object) req - The Request.\r\n       *\r\n       *  Returns:\r\n       *    The stanza that was passed.\r\n       */_reqToData:function _reqToData(req){try{return req.getResponse();}catch(e){if(e!="parsererror"){throw e;}this._conn.disconnect("strophe-parsererror");}},/** PrivateFunction: _sendTerminate\r\n       *  _Private_ function to send initial disconnect sequence.\r\n       *\r\n       *  This is the first step in a graceful disconnect.  It sends\r\n       *  the BOSH server a terminate body and includes an unavailable\r\n       *  presence if authentication has completed.\r\n       */_sendTerminate:function _sendTerminate(pres){Strophe.info("_sendTerminate was called");var body=this._buildBody().attrs({type:"terminate"});if(pres){body.cnode(pres.tree());}var req=new Strophe.Request(body.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),body.tree().getAttribute("rid"));this._requests.push(req);this._throttledRequestHandler();},/** PrivateFunction: _send\r\n       *  _Private_ part of the Connection.send function for BOSH\r\n       *\r\n       * Just triggers the RequestHandler to send the messages that are in the queue\r\n       */_send:function _send(){clearTimeout(this._conn._idleTimeout);this._throttledRequestHandler();this._conn._idleTimeout=setTimeout(this._conn._onIdle.bind(this._conn),100);},/** PrivateFunction: _sendRestart\r\n       *\r\n       *  Send an xmpp:restart stanza.\r\n       */_sendRestart:function _sendRestart(){this._throttledRequestHandler();clearTimeout(this._conn._idleTimeout);},/** PrivateFunction: _throttledRequestHandler\r\n       *  _Private_ function to throttle requests to the connection window.\r\n       *\r\n       *  This function makes sure we don\'t send requests so fast that the\r\n       *  request ids overflow the connection window in the case that one\r\n       *  request died.\r\n       */_throttledRequestHandler:function _throttledRequestHandler(){if(!this._requests){Strophe.debug("_throttledRequestHandler called with "+"undefined requests");}else{Strophe.debug("_throttledRequestHandler called with "+this._requests.length+" requests");}if(!this._requests||this._requests.length===0){return;}if(this._requests.length>0){this._processRequest(0);}if(this._requests.length>1&&Math.abs(this._requests[0].rid-this._requests[1].rid)<this.window){this._processRequest(1);}}};return Strophe;});/*\r\n    This program is distributed under the terms of the MIT license.\r\n    Please see the LICENSE file for details.\r\n\r\n    Copyright 2006-2008, OGG, LLC\r\n*/ /* jshint undef: true, unused: true:, noarg: true, latedef: true */ /* global define, window, clearTimeout, WebSocket, DOMParser, Strophe, $build */(function(root,factory){if(typeof define==="function"&&define.amd){define("strophe-websocket",["strophe-core"],function(core){return factory(core.Strophe,core.$build);});}else{// Browser globals\nreturn factory(Strophe,$build);}})(this,function(Strophe,$build){/** Class: Strophe.WebSocket\r\n     *  _Private_ helper class that handles WebSocket Connections\r\n     *\r\n     *  The Strophe.WebSocket class is used internally by Strophe.Connection\r\n     *  to encapsulate WebSocket sessions. It is not meant to be used from user\'s code.\r\n     */ /** File: websocket.js\r\n     *  A JavaScript library to enable XMPP over Websocket in Strophejs.\r\n     *\r\n     *  This file implements XMPP over WebSockets for Strophejs.\r\n     *  If a Connection is established with a Websocket url (ws://...)\r\n     *  Strophe will use WebSockets.\r\n     *  For more information on XMPP-over-WebSocket see RFC 7395:\r\n     *  http://tools.ietf.org/html/rfc7395\r\n     *\r\n     *  WebSocket support implemented by Andreas Guth (andreas.guth@rwth-aachen.de)\r\n     */ /** PrivateConstructor: Strophe.Websocket\r\n     *  Create and initialize a Strophe.WebSocket object.\r\n     *  Currently only sets the connection Object.\r\n     *\r\n     *  Parameters:\r\n     *    (Strophe.Connection) connection - The Strophe.Connection that will use WebSockets.\r\n     *\r\n     *  Returns:\r\n     *    A new Strophe.WebSocket object.\r\n     */Strophe.Websocket=function(connection){this._conn=connection;this.strip="wrapper";var service=connection.service;if(service.indexOf("ws:")!==0&&service.indexOf("wss:")!==0){// If the service is not an absolute URL, assume it is a path and put the absolute\n// URL together from options, current URL and the path.\nvar new_service="";if(connection.options.protocol==="ws"&&window.location.protocol!=="https:"){new_service+="ws";}else{new_service+="wss";}new_service+="://"+window.location.host;if(service.indexOf("/")!==0){new_service+=window.location.pathname+service;}else{new_service+=service;}connection.service=new_service;}};Strophe.Websocket.prototype={/** PrivateFunction: _buildStream\r\n       *  _Private_ helper function to generate the <stream> start tag for WebSockets\r\n       *\r\n       *  Returns:\r\n       *    A Strophe.Builder with a <stream> element.\r\n       */_buildStream:function _buildStream(){return $build("open",{xmlns:Strophe.NS.FRAMING,to:this._conn.domain,version:"1.0"});},/** PrivateFunction: _check_streamerror\r\n       * _Private_ checks a message for stream:error\r\n       *\r\n       *  Parameters:\r\n       *    (Strophe.Request) bodyWrap - The received stanza.\r\n       *    connectstatus - The ConnectStatus that will be set on error.\r\n       *  Returns:\r\n       *     true if there was a streamerror, false otherwise.\r\n       */_check_streamerror:function _check_streamerror(bodyWrap,connectstatus){var errors;if(bodyWrap.getElementsByTagNameNS){errors=bodyWrap.getElementsByTagNameNS(Strophe.NS.STREAM,"error");}else{errors=bodyWrap.getElementsByTagName("stream:error");}if(errors.length===0){return false;}var error=errors[0];var condition="";var text="";var ns="urn:ietf:params:xml:ns:xmpp-streams";for(var i=0;i<error.childNodes.length;i++){var e=error.childNodes[i];if(e.getAttribute("xmlns")!==ns){break;}if(e.nodeName==="text"){text=e.textContent;}else{condition=e.nodeName;}}var errorString="WebSocket stream error: ";if(condition){errorString+=condition;}else{errorString+="unknown";}if(text){errorString+=" - "+condition;}Strophe.error(errorString);// close the connection on stream_error\nthis._conn._changeConnectStatus(connectstatus,condition);this._conn._doDisconnect();return true;},/** PrivateFunction: _reset\r\n       *  Reset the connection.\r\n       *\r\n       *  This function is called by the reset function of the Strophe Connection.\r\n       *  Is not needed by WebSockets.\r\n       */_reset:function _reset(){return;},/** PrivateFunction: _connect\r\n       *  _Private_ function called by Strophe.Connection.connect\r\n       *\r\n       *  Creates a WebSocket for a connection and assigns Callbacks to it.\r\n       *  Does nothing if there already is a WebSocket.\r\n       */_connect:function _connect(){// Ensure that there is no open WebSocket from a previous Connection.\nthis._closeSocket();// Create the new WobSocket\nthis.socket=new WebSocket(this._conn.service,"xmpp");this.socket.onopen=this._onOpen.bind(this);this.socket.onerror=this._onError.bind(this);this.socket.onclose=this._onClose.bind(this);this.socket.onmessage=this._connect_cb_wrapper.bind(this);},/** PrivateFunction: _connect_cb\r\n       *  _Private_ function called by Strophe.Connection._connect_cb\r\n       *\r\n       * checks for stream:error\r\n       *\r\n       *  Parameters:\r\n       *    (Strophe.Request) bodyWrap - The received stanza.\r\n       */_connect_cb:function _connect_cb(bodyWrap){var error=this._check_streamerror(bodyWrap,Strophe.Status.CONNFAIL);if(error){return Strophe.Status.CONNFAIL;}},/** PrivateFunction: _handleStreamStart\r\n       * _Private_ function that checks the opening <open /> tag for errors.\r\n       *\r\n       * Disconnects if there is an error and returns false, true otherwise.\r\n       *\r\n       *  Parameters:\r\n       *    (Node) message - Stanza containing the <open /> tag.\r\n       */_handleStreamStart:function _handleStreamStart(message){var error=false;// Check for errors in the <open /> tag\nvar ns=message.getAttribute("xmlns");if(typeof ns!=="string"){error="Missing xmlns in <open />";}else if(ns!==Strophe.NS.FRAMING){error="Wrong xmlns in <open />: "+ns;}var ver=message.getAttribute("version");if(typeof ver!=="string"){error="Missing version in <open />";}else if(ver!=="1.0"){error="Wrong version in <open />: "+ver;}if(error){this._conn._changeConnectStatus(Strophe.Status.CONNFAIL,error);this._conn._doDisconnect();return false;}return true;},/** PrivateFunction: _connect_cb_wrapper\r\n       * _Private_ function that handles the first connection messages.\r\n       *\r\n       * On receiving an opening stream tag this callback replaces itself with the real\r\n       * message handler. On receiving a stream error the connection is terminated.\r\n       */_connect_cb_wrapper:function _connect_cb_wrapper(message){if(message.data.indexOf("<open ")===0||message.data.indexOf("<?xml")===0){// Strip the XML Declaration, if there is one\nvar data=message.data.replace(/^(<\\?.*?\\?>\\s*)*/,"");if(data==="")return;var streamStart=new DOMParser().parseFromString(data,"text/xml").documentElement;this._conn.xmlInput(streamStart);this._conn.rawInput(message.data);//_handleStreamSteart will check for XML errors and disconnect on error\nif(this._handleStreamStart(streamStart)){//_connect_cb will check for stream:error and disconnect on error\nthis._connect_cb(streamStart);}}else if(message.data.indexOf("<close ")===0){//\'<close xmlns="urn:ietf:params:xml:ns:xmpp-framing />\') {\nthis._conn.rawInput(message.data);this._conn.xmlInput(message);var see_uri=message.getAttribute("see-other-uri");if(see_uri){this._conn._changeConnectStatus(Strophe.Status.REDIRECT,"Received see-other-uri, resetting connection");this._conn.reset();this._conn.service=see_uri;this._connect();}else{this._conn._changeConnectStatus(Strophe.Status.CONNFAIL,"Received closing stream");this._conn._doDisconnect();}}else{var string=this._streamWrap(message.data);var elem=new DOMParser().parseFromString(string,"text/xml").documentElement;this.socket.onmessage=this._onMessage.bind(this);this._conn._connect_cb(elem,null,message.data);}},/** PrivateFunction: _disconnect\r\n       *  _Private_ function called by Strophe.Connection.disconnect\r\n       *\r\n       *  Disconnects and sends a last stanza if one is given\r\n       *\r\n       *  Parameters:\r\n       *    (Request) pres - This stanza will be sent before disconnecting.\r\n       */_disconnect:function _disconnect(pres){if(this.socket&&this.socket.readyState!==WebSocket.CLOSED){if(pres){this._conn.send(pres);}var close=$build("close",{xmlns:Strophe.NS.FRAMING});this._conn.xmlOutput(close);var closeString=Strophe.serialize(close);this._conn.rawOutput(closeString);try{this.socket.send(closeString);}catch(e){Strophe.info("Couldn\'t send <close /> tag.");}}this._conn._doDisconnect();},/** PrivateFunction: _doDisconnect\r\n       *  _Private_ function to disconnect.\r\n       *\r\n       *  Just closes the Socket for WebSockets\r\n       */_doDisconnect:function _doDisconnect(){Strophe.info("WebSockets _doDisconnect was called");this._closeSocket();},/** PrivateFunction _streamWrap\r\n       *  _Private_ helper function to wrap a stanza in a <stream> tag.\r\n       *  This is used so Strophe can process stanzas from WebSockets like BOSH\r\n       */_streamWrap:function _streamWrap(stanza){return"<wrapper>"+stanza+"</wrapper>";},/** PrivateFunction: _closeSocket\r\n       *  _Private_ function to close the WebSocket.\r\n       *\r\n       *  Closes the socket if it is still open and deletes it\r\n       */_closeSocket:function _closeSocket(){if(this.socket){try{this.socket.close();}catch(e){}}this.socket=null;},/** PrivateFunction: _emptyQueue\r\n       * _Private_ function to check if the message queue is empty.\r\n       *\r\n       *  Returns:\r\n       *    True, because WebSocket messages are send immediately after queueing.\r\n       */_emptyQueue:function _emptyQueue(){return true;},/** PrivateFunction: _onClose\r\n       * _Private_ function to handle websockets closing.\r\n       *\r\n       * Nothing to do here for WebSockets\r\n       */_onClose:function _onClose(){if(this._conn.connected&&!this._conn.disconnecting){Strophe.error("Websocket closed unexcectedly");this._conn._doDisconnect();}else{Strophe.info("Websocket closed");}},/** PrivateFunction: _no_auth_received\r\n       *\r\n       * Called on stream start/restart when no stream:features\r\n       * has been received.\r\n       */_no_auth_received:function _no_auth_received(_callback){Strophe.error("Server did not send any auth methods");this._conn._changeConnectStatus(Strophe.Status.CONNFAIL,"Server did not send any auth methods");if(_callback){_callback=_callback.bind(this._conn);_callback();}this._conn._doDisconnect();},/** PrivateFunction: _onDisconnectTimeout\r\n       *  _Private_ timeout handler for handling non-graceful disconnection.\r\n       *\r\n       *  This does nothing for WebSockets\r\n       */_onDisconnectTimeout:function _onDisconnectTimeout(){},/** PrivateFunction: _abortAllRequests\r\n       *  _Private_ helper function that makes sure all pending requests are aborted.\r\n       */_abortAllRequests:function _abortAllRequests(){},/** PrivateFunction: _onError\r\n       * _Private_ function to handle websockets errors.\r\n       *\r\n       * Parameters:\r\n       * (Object) error - The websocket error.\r\n       */_onError:function _onError(error){Strophe.error("Websocket error "+error);this._conn._changeConnectStatus(Strophe.Status.CONNFAIL,"The WebSocket connection could not be established was disconnected.");this._disconnect();},/** PrivateFunction: _onIdle\r\n       *  _Private_ function called by Strophe.Connection._onIdle\r\n       *\r\n       *  sends all queued stanzas\r\n       */_onIdle:function _onIdle(){var data=this._conn._data;if(data.length>0&&!this._conn.paused){for(var i=0;i<data.length;i++){if(data[i]!==null){var stanza,rawStanza;if(data[i]==="restart"){stanza=this._buildStream().tree();}else{stanza=data[i];}rawStanza=Strophe.serialize(stanza);this._conn.xmlOutput(stanza);this._conn.rawOutput(rawStanza);this.socket.send(rawStanza);}}this._conn._data=[];}},/** PrivateFunction: _onMessage\r\n       * _Private_ function to handle websockets messages.\r\n       *\r\n       * This function parses each of the messages as if they are full documents. [TODO : We may actually want to use a SAX Push parser].\r\n       *\r\n       * Since all XMPP traffic starts with "<stream:stream version=\'1.0\' xml:lang=\'en\' xmlns=\'jabber:client\' xmlns:stream=\'http://etherx.jabber.org/streams\' id=\'3697395463\' from=\'SERVER\'>"\r\n       * The first stanza will always fail to be parsed...\r\n       * Addtionnaly, the seconds stanza will always be a <stream:features> with the stream NS defined in the previous stanza... so we need to \'force\' the inclusion of the NS in this stanza!\r\n       *\r\n       * Parameters:\r\n       * (string) message - The websocket message.\r\n       */_onMessage:function _onMessage(message){var elem,data;// check for closing stream\nvar close=\'<close xmlns="urn:ietf:params:xml:ns:xmpp-framing" />\';if(message.data===close){this._conn.rawInput(close);this._conn.xmlInput(message);if(!this._conn.disconnecting){this._conn._doDisconnect();}return;}else if(message.data.search("<open ")===0){// This handles stream restarts\nelem=new DOMParser().parseFromString(message.data,"text/xml").documentElement;if(!this._handleStreamStart(elem)){return;}}else{data=this._streamWrap(message.data);elem=new DOMParser().parseFromString(data,"text/xml").documentElement;}if(this._check_streamerror(elem,Strophe.Status.ERROR)){return;}//handle unavailable presence stanza before disconnecting\nif(this._conn.disconnecting&&elem.firstChild.nodeName==="presence"&&elem.firstChild.getAttribute("type")==="unavailable"){this._conn.xmlInput(elem);this._conn.rawInput(Strophe.serialize(elem));// if we are already disconnecting we will ignore the unavailable stanza and\n// wait for the </stream:stream> tag before we close the connection\nreturn;}this._conn._dataRecv(elem,message.data);},/** PrivateFunction: _onOpen\r\n       * _Private_ function to handle websockets connection setup.\r\n       *\r\n       * The opening stream tag is sent here.\r\n       */_onOpen:function _onOpen(){Strophe.info("Websocket open");var start=this._buildStream();this._conn.xmlOutput(start.tree());var startString=Strophe.serialize(start);this._conn.rawOutput(startString);this.socket.send(startString);},/** PrivateFunction: _reqToData\r\n       * _Private_ function to get a stanza out of a request.\r\n       *\r\n       * WebSockets don\'t use requests, so the passed argument is just returned.\r\n       *\r\n       *  Parameters:\r\n       *    (Object) stanza - The stanza.\r\n       *\r\n       *  Returns:\r\n       *    The stanza that was passed.\r\n       */_reqToData:function _reqToData(stanza){return stanza;},/** PrivateFunction: _send\r\n       *  _Private_ part of the Connection.send function for WebSocket\r\n       *\r\n       * Just flushes the messages that are in the queue\r\n       */_send:function _send(){this._conn.flush();},/** PrivateFunction: _sendRestart\r\n       *\r\n       *  Send an xmpp:restart stanza.\r\n       */_sendRestart:function _sendRestart(){clearTimeout(this._conn._idleTimeout);this._conn._onIdle.bind(this._conn)();}};return Strophe;});/* jshint ignore:start */if(callback){return callback(Strophe,$build,$msg,$iq,$pres);}})(function(Strophe,build,msg,iq,pres){window.Strophe=Strophe;window.$build=build;window.$msg=msg;window.$iq=iq;window.$pres=pres;});/* jshint ignore:end */'},991:function(e,t,n){var r;r=function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}));var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"undefined"!=typeof window&&(this.image=new Image,this.resolve=null,this.video=document.createElement("video"),this.events())}return function(e,t){t&&r(e.prototype,t)}(e,[{key:"events",value:function(){var e=this;this.video.addEventListener("loadeddata",(function(){return e.resolve&&e.resolve(!0)})),this.video.addEventListener("loadeddata",(function(){return e.resolve&&e.resolve(!1)})),this.image.onload=function(){return e.resolve&&e.resolve(!0)},this.image.onerror=function(){return e.resolve&&e.resolve(!1)}}},{key:"load",value:function(e){var t=this;return new Promise((function(n){e||n(!0),t.resolve=n,t.loading=!0,t.ended=!1,e.match(/\.(mp4|webm)/i)&&t.video.setAttribute("src",e),e.match(/\.(png|jp(e)?g|gif|webp)/i)&&(t.image.src=e,(t.image.width>0||t.image.height>0)&&n(!0))}))}},{key:"loadImage",value:function(e){var t=this,n=new Image,r=!1;n.onload=function(){r||t.pumpLoaded()},n.onerror=function(){r||t.pumpLoaded()},n.src=e,!1===r&&(n.width>0||n.height>0)&&(r=!0,this.pumpLoaded())}},{key:"loadVideo",value:function(e){var t=this,n=document.createElement("video");n.addEventListener("loadeddata",(function(){t.pumpLoaded()})),n.addEventListener("error",(function(){t.pumpLoaded()})),n.setAttribute("src",e)}},{key:"pumpLoaded",value:function(){this.loaded+=1,this.loaded===this.toLoad&&this.resolver(!0)}},{key:"startLoad",value:function(e){e.match(/\.(mp4|webm)/i)&&this.loadVideo(e),e.match(/\.(png|jp(e)?g|gif|webp)/i)&&this.loadImage(e)}},{key:"loadMultiple",value:function(e){var t=this;return this.loaded=0,this.toLoad=e.length,new Promise((function(n){t.resolver=n,e.forEach((function(e){t.startLoad(e)}))}))}}]),e}();function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(!t)return e.join(" ").trim();for(var n=[],r=e.length;r--;)t[e[r]]&&n.push(t[e[r]]);return n}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t&&t[e]||e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return p}));var r=n(0);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e,t){"string"==typeof t&&e&&t.split(" ").forEach((function(t){e.classList.add(t)}))},c=function(e,t){"string"==typeof t&&e&&t.split(" ").forEach((function(t){e.classList.remove(t)}))},l=function(e){return"string"==typeof e&&e.split(" ")[0]||""},u=function(e){var t=Array.isArray(e)?e:[e];if(1===t.length)return t[0];for(var n=o({},t[0]),r=1;r<t.length;r+=1){for(var i in n)t[r][i]&&(n[i]=[n[i],t[r][i]].join(" "));for(var a in t[r])n[a]||(n[a]=t[r][a])}return n};function d(e){var t,n=e.rootElement,i=e.cssModule,o=e.disabled,a=e.organicArrows,s=e.className,c=e.total,l=e.current,u=e.infinite,d=e.animation,h=e.fillParent,p=[n];return d&&p.push("".concat(n,"--").concat(d)),!0===a&&p.push("".concat(n,"--organic-arrows")),!0===o&&p.push("".concat(n,"--disabled")),h&&p.push("".concat(n,"--fill-parent")),!1===u&&(0===l&&p.push("".concat(n,"--first")),l===c-1&&p.push("".concat(n,"--last"))),i&&i[n]&&(p=Object(r.b)(p,i)),s&&(t=p).push.apply(t,function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(s.split(" "))),p.join(" ").trim().replace(/[\s]+/gi," ")}function h(e){var t=[];return(e.constructor===Array?e:[e]).forEach((function(e){var n=o({},e.props);e.props["data-src"]&&(n.source=e.props["data-src"]),e.props["data-slug"]&&(n.slug=e.props["data-slug"]),t.push(n)})),t}function p(e,t){return{boxA:Object(r.c)("".concat(e,"__boxA"),t),boxB:Object(r.c)("".concat(e,"__boxB"),t),box:Object(r.c)("".concat(e,"__box"),t),container:Object(r.c)("".concat(e,"__container"),t),wrapper:Object(r.c)("".concat(e,"__wrapper"),t),bar:Object(r.c)("".concat(e,"__bar"),t),barActive:Object(r.c)("".concat(e,"__bar--active"),t),barEnd:Object(r.c)("".concat(e,"__bar--end"),t),content:Object(r.c)("".concat(e,"__content"),t),contentStatic:Object(r.c)("".concat(e,"__content--static"),t),contentMoveLeft:Object(r.c)("".concat(e,"__content--moveLeft"),t),contentMoveRight:Object(r.c)("".concat(e,"__content--moveRight"),t),controlsHidden:Object(r.c)("".concat(e,"__controls--hidden"),t),controlsActive:Object(r.c)("".concat(e,"__controls--active"),t),animated:Object(r.c)("".concat(e,"--animated"),t),animatedMobile:Object(r.c)("".concat(e,"--animated-mobile"),t),contentExit:Object(r.c)("".concat(e,"__content--exit"),t),exit:Object(r.c)("".concat(e,"--exit"),t),active:Object(r.c)("".concat(e,"--active"),t),moveLeft:Object(r.c)("".concat(e,"--moveLeft"),t),moveRight:Object(r.c)("".concat(e,"--moveRight"),t),startUp:Object(r.c)("".concat(e,"__startUp"),t),bulletsLoading:Object(r.c)("".concat(e,"__bullets--loading"),t)}}},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.tolerance,i=void 0===r?0:r,o=n.propertyName;return new Promise((function(n){if(e){var r=null,a=t.charAt(0).toUpperCase()+t.slice(1),s=0;void 0!==e.style["Webkit"+a]&&(r="webkit"+a+"End"),void 0!==e.style.OTransition&&(r="o"+t+"End"),void 0!==e.style[t]&&(r=t+"end"),e.clearCssEndEvent&&e.clearCssEndEvent(),e.clearCssEndEvent=function(){e.removeEventListener(r,c)},e.addEventListener(r,c)}else n(!1);function c(t){if((t.srcElement||t.target)===e){if(s>=i){if(o&&o!==t.propertyName)return;e.removeEventListener(r,c),n(t)}s+=1}}}))}function i(e){window&&window.requestAnimationFrame((function(){window.requestAnimationFrame(e)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.setCssEndEvent=r,t.beforeCssLayout=function(e){window&&window.requestAnimationFrame(e)},t.beforeNextCssLayout=i,t.beforeFutureCssLayout=function(e,t){!function e(t,n){window&&t&&Number.isInteger(t)&&t>0?window.requestAnimationFrame((function(){e(t-1,n)})):n()}(e+1,t)},t.onceNextCssLayout=function(){return new Promise((function(e){i(e)}))},t.onceTransitionEnd=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n){r(e,"transition",t).then(n)}))},t.onceAnimationEnd=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n){r(e,"animation",t).then(n)}))}}])},function(e,t,n){e.exports=n(13)},,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(2),a=n.n(o),s=n(4),c=n(0),l=n(1);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?p(e):t}(this,h(t).call(this,e)),m(p(n),"bulletClick",(function(e){var t=e.currentTarget;t.classList.add(Object(c.c)("".concat(n.rootElement,"__bullets--loading"),n.props.cssModule));var r=parseInt(t.getAttribute("data-index"),10),i=!(n.props.selected>r);n.props.onClick({index:r,direction:i})})),n.rootElement=e.rootElement,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),function(e,t){t&&d(e.prototype,t)}(t,[{key:"renderBullets",value:function(){var e=this,t=this.props,n=t.cssModule,r=t.selected,o=t.media;return(void 0===o?[]:o).map((function(t,o){var a=o===r?Object(c.c)("".concat(e.rootElement,"__bullets--active"),n):null;return i.a.createElement("button",{key:"bullet-".concat(o),"data-index":o,onClick:e.bulletClick,className:a},o)}))}},{key:"render",value:function(){var e=this.props,t=e.cssModule,n=e.rootElement;return i.a.createElement("nav",{className:Object(c.c)("".concat(n,"__bullets"),t)},this.renderBullets())}}]),t}(i.a.Component);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}m(v,"propTypes",{cssModule:a.a.object,rootElement:a.a.string.isRequired,media:a.a.array,onClick:a.a.func,selected:a.a.number}),m(v,"defaultProps",{cssModule:null,selected:0,media:[],onClick:function(){}});var w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,_(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),function(e,t){t&&y(e.prototype,t)}(t,[{key:"componentDidMount",value:function(){this.props.onMount({element:this.controls,next:this.next,prev:this.prev})}},{key:"render",value:function(){var e=this,t=this.props,n=t.rootElement,r=t.cssModule,o=t.organicArrows,a=t.buttonContentLeft,s=t.buttonContentRight,l=t.onNext,u=t.onPrev;return i.a.createElement("div",{ref:function(t){e.controls=t,e.props.onMount({element:e.controls,next:e.next||null,prev:e.prev||null})},className:[Object(c.c)("".concat(n,"__controls"),r),Object(c.c)("".concat(n,"__controls--hidden"),r)].join(" ")},i.a.createElement("button",{ref:function(t){e.next=t},"aria-label":"next",className:Object(c.c)("".concat(n,"__next"),r),onClick:l},o?i.a.createElement("span",{className:Object(c.c)("".concat(n,"__controls__arrow-right"),r)}):s),i.a.createElement("button",{ref:function(t){e.prev=t},"aria-label":"previous",className:Object(c.c)("".concat(n,"__prev"),r),onClick:u},o?i.a.createElement("span",{className:Object(c.c)("".concat(n,"__controls__arrow-left"),r)}):a))}}]),t}(i.a.Component);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}S(w,"propTypes",{cssModule:a.a.object,rootElement:a.a.string.isRequired,onMount:a.a.func.isRequired,onNext:a.a.func.isRequired,onPrev:a.a.func.isRequired,buttonContentLeft:a.a.node,buttonContentRight:a.a.node,organicArrows:a.a.bool}),S(w,"defaultProps",{cssModule:null,organicArrows:!0,buttonContentLeft:null,buttonContentRight:null});var I=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=function(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?x(e):t}(this,(e=T(t)).call.apply(e,[this].concat(i))),R(x(n),"state",{}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,e),function(e,t){t&&k(e.prototype,t)}(t,[{key:"render",value:function(){var e=this.props,t=e.media,n=e.className,r=t.source,o=t.children,a=t.style,s=(t.loader,t["data-src"],t["data-alt"],t.className),c=(t.onTransitionEnd,t.onTransitionStartOut,t.onTransitionStartIn,t.onTransitionRequestOut,t.onTransitionRequestIn,function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["source","children","style","loader","data-src","data-alt","className","onTransitionEnd","onTransitionStartOut","onTransitionStartIn","onTransitionRequestOut","onTransitionRequestIn"])),l=null;return r&&(l=r.match(/\.(mp4|webm)/)?i.a.createElement("video",{title:t.title||t["data-title"],src:r,type:"video/mp4",controls:!0}):i.a.createElement("img",{alt:t.alt||t.title||t["data-alt"]||null,src:r})),i.a.createElement("div",C({className:n,style:a||null},c),l,o&&i.a.createElement("div",{className:s},t.children))}}]),t}(i.a.Component);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}R(I,"propTypes",{media:a.a.object.isRequired,className:a.a.string.isRequired});var H="awssld",V=new c.a,z=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?F(e):t}(this,j(t).call(this,e)),U(F(n),"clickNext",(function(){var e=null===n.index?0:n.index+1;n.onTransitionRequest("next",e),n.goTo({index:e,direction:!0})})),U(F(n),"clickPrev",(function(){var e=n.index-1;n.onTransitionRequest("prev",e),n.goTo({index:e,direction:!1})})),U(F(n),"touchStart",(function(e){if(!n.animating&&null!==n.index){var t=e.nativeEvent;n.touchStartPoint=t.touches[0].clientX}})),U(F(n),"touchMove",(function(e){if(!n.animating&&n.touchStartPoint){var t=e.nativeEvent,r=t.touches[0].clientX-n.touchStartPoint,i=n[n.active],o=n[n.loader],a=!(r>0),s=Math.abs(r);!1!==n.touchEnabled?s>=10&&(!1===n.loading?n.goTo({index:a?n.index+1:n.index-1,direction:a,touch:!0}):!0===n.direction?(r+=10,Math.abs(r)>i.offsetWidth?r=-i.offsetWidth:r>0&&(r=0),i.style.transform="translate3d(".concat(r,"px, 0, 0)"),o.style.transform="translate3d(calc(100% + ".concat(r,"px), 0, 0)")):(r-=10,Math.abs(r)>i.offsetWidth?r=i.offsetWidth:r<0&&(r=0),i.style.transform="translate3d(".concat(r,"px, 0, 0)"),o.style.transform="translate3d(calc(-100% + ".concat(r,"px), 0, 0)"))):s>20&&(n.touchEnabled=!0,n.touchStartPoint=t.touches[0].clientX)}})),U(F(n),"touchEnd",(function(){!n.animating&&n.touchStartPoint&&n.loading&&(n.touchStartPoint=null,n.animating=!0,n.touchEnabled=!1,n.animateMobileEnd((function(){n.index=n.nextIndex,n.setState({index:n.index}),n.onTransitionEnd(),n.animating=!1,n.loading=!1,n.unchargeIndex()})))})),U(F(n),"bulletClick",(function(e){var t=e.currentTarget,r=parseInt(t.getAttribute("data-index"),10);n.goTo({index:r,direction:!(n.index>r)},(function(){Object(s.onceNextCssLayout)().then((function(){Object(l.a)(t,n.classNames.bulletsLoading)}))}))})),n.rootElement=e.rootElement||H,n.boxA=null,n.boxB=null,n.loaded=[],n.active="boxA",n.loader="boxB",n.nextIndex=null,n.loading=!1,n.media=null,n.started=!1,n.touchEnabled=!1,n.setupStartup(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,e),function(e,t){t&&D(e.prototype,t)}(t,[{key:"componentDidMount",value:function(){var e=this;Object(l.a)(this.boxA,this.classNames.active),this.props.startupScreen&&(this.buttons&&(Object(l.a)(this.buttons.element,this.classNames.controlsHidden),Object(l.a)(this.buttons.element,this.classNames.controlsActive)),!0===this.props.startup&&this.media.length>0&&this.startup()),this.props.onFirstMount&&this.props.onFirstMount(L({},this.getInfo())),this.buttons&&Object(s.onceNextCssLayout)().then((function(){e.buttons&&e.buttons.element&&Object(l.b)(e.buttons.element,e.classNames.controlsHidden)}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.checkChildren(e),this.setupClassNames(Object(l.e)(e.cssModule)),e.name===this.props.name)if(!0!==e.startup||!1!==this.started)if(e.selected===this.props.selected)this.refreshSlider();else{var t=this.getIndex(e.selected),n=!0===e.infinite&&0===t&&this.index===this.media.length-1||!(this.index>t);this.goTo({index:t,direction:n})}else this.startup();else this.resetSlider(e.selected)}},{key:"onTransitionStart",value:function(){var e=this.media[this.index],t=this.media[this.nextIndex],n=L({},this.getInfo(),{nextSlide:this[this.loader],nextIndex:this.nextIndex,nextMedia:t});this.props.onTransitionStart&&this.props.onTransitionStart(n),e&&e.onTransitionStartOut&&e.onTransitionStartOut(n),t&&t.onTransitionStartIn&&t.onTransitionStartIn(n)}},{key:"onTransitionRequest",value:function(e,t){var n=this.media[this.index],r=this.checkIndex(t),i=this.media[r],o=L({eventName:e},this.getInfo(),{nextSlide:null,nextIndex:r,nextMedia:i});this.props.onTransitionRequest&&this.props.onTransitionRequest(o),n&&n.onTransitionRequestOut&&n.onTransitionRequestOut(o),i&&i.onTransitionRequestIn&&i.onTransitionRequestIn(o)}},{key:"onTransitionEnd",value:function(){var e=this.media[this.index],t=L({},this.getInfo());this.props.onTransitionEnd&&this.props.onTransitionEnd(t),e&&e.onTransitionEnd&&e.onTransitionEnd(t)}},{key:"getRootClassName",value:function(){var e=this.props,t=e.animation,n=e.className,r=e.cssModule,i=e.disabled,o=e.fillParent,a=e.infinite,s=e.organicArrows;return Object(l.d)({animation:t,className:n,cssModule:Object(l.e)(r),current:this.state.index,disabled:i,fillParent:o,infinite:a,organicArrows:s,rootElement:this.rootElement,total:this.media.length})}},{key:"setupStartup",value:function(e){if(this.checkChildren(e),this.setupClassNames(Object(l.e)(e.cssModule)),e.startupScreen){var t=this.getIndex(this.props.selected);this.index=null,this.state={index:this.index,boxA:{className:this.classNames.startUp,children:e.startupScreen},boxB:this.media[t]||null}}else this.started=!0,this.index=this.getIndex(this.props.selected),this.state={index:this.index,boxA:this.media[this.index]||null,boxB:null}}},{key:"getInfo",value:function(){return{slides:this.media.length,currentIndex:this.index,currentSlide:this[this.active],currentMedia:this.media[this.index],element:this.slider}}},{key:"getProgressBar",value:function(){if(!document)return{};var e=document.createElement("div");return e.className=this.classNames.bar,e}},{key:"setupClassNames",value:function(e){this.classNames=Object(l.f)(this.rootElement,e)}},{key:"getIndex",value:function(e){var t=0;return"number"==typeof e?e:("string"==typeof e&&this.media.forEach((function(n,r){n.slug===e&&(t=r)})),t)}},{key:"refreshSlider",value:function(){var e;if(!0!==this.loading&&!1!==this.props.startup&&null!==this.index){var t=this.index;this.setState((U(e={index:t},this.active,this.media[this.getIndex(t)]),U(e,this.loader,null),e))}}},{key:"startup",value:function(){var e=this;this.started=!0,setTimeout((function(){e.goTo({index:e.props.selected,direction:!0,touch:!1})}),this.props.startupDelay||75)}},{key:"resetSlider",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.index=n,this.setState((U(e={index:n},this.active,this.media[this.getIndex(n)]),U(e,this.loader,null),e),(function(){t.props.onResetSlider&&t.props.onResetSlider(L({},t.getInfo()))}))}},{key:"checkChildren",value:function(e){e.children&&(e.children!==this.props.children||this.props.children&&!this.media)?this.media=Object(l.g)(e.children):e.media&&e.media.length?this.media=e.media:this.media||(this.media=[])}},{key:"startBarAnimation",value:function(e){var t=this,n=e.active;return new Promise((function(e){t.bar=t.getProgressBar(),n.appendChild(t.bar),Object(s.onceNextCssLayout)().then((function(){Object(s.onceNextCssLayout)().then((function(){Object(l.a)(t.bar,t.classNames.barActive),e()}))}))}))}},{key:"endBarAnimation",value:function(e){var t=this;this.bar&&Object(s.onceNextCssLayout)().then((function(){Object(s.onceTransitionEnd)(t.bar).then((function(){e()})),Object(l.a)(t.bar,t.classNames.barEnd)}))}},{key:"loadContent",value:function(e,t){var n=this;return new Promise((function(r,i){if(n.props.onLoadStart||t&&t.onLoadStart){var o=n.props.onLoadStart||t&&t.onLoadStart;return n.startBarAnimation({active:e}),void o(L({next:function(){n.endBarAnimation((function(){r(n.bar)}))},error:i},n.getInfo()))}if(t&&(t.source||t.preload)){var a=t.preload?t.preload:t.source&&[t.source]||[];return!0===n.checkLoadedUrls(a)?void r(null):(n.startBarAnimation({active:e}),void V.loadMultiple(a).then((function(){n.pushLoaded(a),n.endBarAnimation((function(){r(n.bar)}))})))}r(null)}))}},{key:"pushLoaded",value:function(e){this.loaded=[].concat(M(this.loaded),M(e))}},{key:"checkLoadedUrls",value:function(e){var t=this,n=!0;return e.forEach((function(e){t.loaded.includes(e)||(n=!1)})),n}},{key:"startAnimationMobile",value:function(){var e=this.direction,t=this[this.active],n=this[this.loader],r=e?this.classNames.contentMoveRight:this.classNames.contentMoveLeft,i=e?this.classNames.contentMoveLeft:this.classNames.contentMoveRight;this.props.onTransitionStart&&this.props.onTransitionStart(L({},this.getInfo(),{nextSlide:this[this.loader],nextIndex:this.nextIndex,nextMedia:this.media[this.nextIndex]}));var o=t.querySelector(".".concat(Object(l.c)(this.classNames.content)));Object(l.a)(o,i),Object(l.a)(o,this.classNames.contentExit);var a=n.querySelector(".".concat(Object(l.c)(this.classNames.content)));Object(l.a)(a,r),Object(l.a)(a,this.classNames.contentStatic),Object(l.a)(t,this.classNames.animated),Object(l.a)(n,this.classNames.animated)}},{key:"animateMobileEnd",value:function(e){var t=this,n=this.direction,r=this[this.active],i=this[this.loader],o=n?this.classNames.moveLeft:this.classNames.moveRight,a=n?this.classNames.contentMoveRight:this.classNames.contentMoveLeft,c=n?this.classNames.contentMoveLeft:this.classNames.contentMoveRight,u=i.querySelector(".".concat(Object(l.c)(this.classNames.content))),d=r.querySelector(".".concat(Object(l.c)(this.classNames.content)));Object(l.b)(u,this.classNames.contentStatic),Object(l.a)(i,this.classNames.animatedMobile),Object(l.a)(r,this.classNames.animatedMobile),Object(s.onceNextCssLayout)().then((function(){i.style.transform="translate3d(0, 0, 0)",r.style.transform="translate3d(".concat(t.direction?"-":"","100%, 0, 0)"),Object(s.onceTransitionEnd)(r).then((function(){t.loading&&(Object(l.b)(r,t.classNames.animated),Object(l.b)(i,t.classNames.animated),Object(l.a)(i,t.classNames.active),Object(l.b)(r,t.classNames.active),Object(l.b)(r,o),Object(l.b)(i,t.classNames.animatedMobile),Object(l.b)(r,t.classNames.animatedMobile),Object(l.b)(d,c),Object(l.b)(d,t.classNames.contentExit),Object(l.b)(u,a),t.buttons&&setTimeout((function(){t.buttons&&Object(l.b)(t.buttons.element,t.classNames.controlsActive)}),t.props.controlsReturnDelay),t.activeArrow&&(Object(l.b)(t.activeArrow,t.activeArrowClass),t.activeArrow=null,t.activeArrowClass=null),t.active="boxA"===t.active?"boxB":"boxA",t.loader="boxA"===t.active?"boxB":"boxA",e&&e())}))}))}},{key:"runAnimation",value:function(e){var t=this,n=e.active,r=e.media,i=e.contentExitMoveClass,o=e.contentEnterMoveClass,a=e.activeContentElement,c=e.loaderContentElement,u=e.loader,d=e.loaderPosition,h=e.exitPosition,p=e.callback,f=e.transitionDelay;this.loadContent(n,r).then((function(e){Object(l.a)(a,i),Object(l.a)(a,t.classNames.contentExit),Object(l.a)(c,o),Object(l.a)(c,t.classNames.contentStatic),setTimeout((function(){Object(s.onceNextCssLayout)().then((function(){Object(l.a)(n,t.classNames.animated),Object(l.a)(u,t.classNames.animated),Object(l.b)(c,t.classNames.contentStatic),Object(l.a)(n,t.classNames.exit),Object(l.a)(u,d),Object(l.a)(n,h),Object(s.onceAnimationEnd)(n).then((function(){Object(l.a)(u,t.classNames.active),Object(l.b)(u,d),Object(l.b)(u,t.classNames.animated),Object(l.b)(n,t.classNames.animated),Object(l.b)(n,t.classNames.active),Object(l.b)(n,h),Object(l.b)(n,t.classNames.exit),Object(l.b)(a,i),Object(l.b)(a,t.classNames.contentExit),Object(l.b)(c,o),e&&n.removeChild(e),t.buttons&&setTimeout((function(){t.buttons&&Object(l.b)(t.buttons.element,t.classNames.controlsActive)}),t.props.controlsReturnDelay),t.active="boxA"===t.active?"boxB":"boxA",t.loader="boxA"===t.active?"boxB":"boxA";var r=!t.activeArrow;t.activeArrow&&(Object(s.onceTransitionEnd)(t.activeArrow,{tolerance:null===t.index?0:2}).then((function(){t.releaseTransition()})),Object(l.b)(t.activeArrow,t.activeArrowClass),t.activeArrow=null,t.activeArrowClass=null),p({release:r})}))}))}),f)}))}},{key:"releaseTransition",value:function(){this.loading=!1}},{key:"startAnimation",value:function(e,t,n){var r=this.props.transitionDelay,i=this[this.active],o=this[this.loader],a=e?this.classNames.moveRight:this.classNames.moveLeft,s=e?this.classNames.moveLeft:this.classNames.moveRight,c=e?this.classNames.contentMoveRight:this.classNames.contentMoveLeft,u=e?this.classNames.contentMoveLeft:this.classNames.contentMoveRight,d=i.querySelector(".".concat(Object(l.c)(this.classNames.content))),h=o.querySelector(".".concat(Object(l.c)(this.classNames.content)));i.style.removeProperty("transform"),o.style.removeProperty("transform"),this.onTransitionStart();var p={active:i,media:t,contentExitMoveClass:u,contentEnterMoveClass:c,activeContentElement:d,loaderContentElement:h,loader:o,loaderPosition:a,exitPosition:s,callback:n,transitionDelay:r};this.runAnimation(p)}},{key:"goTo",value:function(e){var t=this,n=e.index,r=e.direction,i=e.touch,o=void 0!==i&&i,a=this.getIndex(n);!0!==this.loading&&n!==this.index?(this.loading=!0,this.direction=r,!0!==o?this.activateArrows(r,(function(){t.chargeIndex(a,(function(e){t.renderedLoader=!0,t.startAnimation(r,e,(function(e){var n=e.release,r=void 0===n||n;t.index=t.nextIndex,t.setState({index:t.index},(function(){t.onTransitionEnd(),!0===r&&t.releaseTransition()}))}))}))})):this.chargeIndex(a,(function(){t.activateArrows(r),t.startAnimationMobile()}))):this.props.onTransitionReject&&this.props.onTransitionReject(L({},this.getInfo(),{forceTransition:function(){t.goTo({index:n,direction:r,touch:o})}}))}},{key:"checkIndex",value:function(e){return e>this.media.length-1?0:e<0?this.media.length-1:e}},{key:"chargeIndex",value:function(e,t){this.nextIndex=this.checkIndex(e);var n={},r=this.media[this.nextIndex];n[this.loader]=L({loader:!0},r),this.setState(n,(function(){t(r)}))}},{key:"unchargeIndex",value:function(){var e={};e[this.loader]=null,this.setState(e,(function(){}))}},{key:"activateArrows",value:function(e,t){var n=e?"right":"left",r=Object(l.e)(this.props.cssModule),i=Object(l.c)(Object(c.c)("".concat(this.rootElement,"__controls__arrow-").concat(n),r));if(this.buttons){var o=e?this.buttons.next:this.buttons.prev;this.activeArrow=o.querySelector(".".concat(i))}!this.activeArrow||this.buttons&&this.buttons.element&&this.buttons.element.classList.contains(this.classNames.controlsActive)?t&&t():(this.activeArrowClass=Object(c.c)("".concat(this.rootElement,"__controls__arrow-").concat(n,"--active"),r),Object(s.onceTransitionEnd)(this.activeArrow,{tolerance:null===this.index?0:2}).then((function(){t&&t()})),this.buttons&&this.buttons.element&&(Object(l.a)(this.buttons.element,this.classNames.controlsActive),Object(l.a)(this.activeArrow,this.activeArrowClass)))}},{key:"renderBox",value:function(e){var t=this,n={};return this.props.mobileTouch&&(n.onTouchStart=this.touchStart,n.onTouchMove=this.touchMove,n.onTouchEnd=this.touchEnd),i.a.createElement("div",P({ref:function(n){t["box".concat(e)]=n},className:this.classNames.box},n),this.state["box".concat(e)]&&i.a.createElement(I,{media:this.state["box".concat(e)],className:this.classNames.content}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.cssModule,r=t.organicArrows,o=t.bullets,a=t.style,s=t.customContent,c=t.buttons,u=t.buttonContentLeft,d=t.buttonContentRight,h=this.rootElement;return i.a.createElement("div",{ref:function(t){e.slider=t},className:this.getRootClassName(),style:a},i.a.createElement("div",{ref:function(t){e.wrapper=t},className:this.classNames.wrapper},i.a.createElement("div",{ref:function(t){e.container=t},className:this.classNames.container},this.renderBox("A"),this.renderBox("B")),c&&i.a.createElement(w,{rootElement:h,cssModule:Object(l.e)(n),onMount:function(t){e.buttons=t},onNext:this.clickNext,onPrev:this.clickPrev,organicArrows:r,buttonContentLeft:u,buttonContentRight:d}),s),o&&i.a.createElement(v,{cssModule:Object(l.e)(n),rootElement:h,media:this.media,selected:this.state.index,onClick:function(t){e.onTransitionRequest("bullet",t.index),e.goTo(t)}}))}}]),t}(i.a.Component);U(z,"propTypes",{animation:a.a.string,bullets:a.a.bool,buttonContentLeft:a.a.node,buttonContentRight:a.a.node,buttons:a.a.bool,children:a.a.node,className:a.a.string,controlsReturnDelay:a.a.number,cssModule:a.a.any,customContent:a.a.node,onLoadStart:a.a.func,disabled:a.a.bool,fillParent:a.a.bool,infinite:a.a.bool,media:a.a.array,name:a.a.string,onFirstMount:a.a.func,onResetSlider:a.a.func,onStartupRelease:a.a.func,onTransitionEnd:a.a.func,onTransitionRequest:a.a.func,onTransitionStart:a.a.func,organicArrows:a.a.bool,rootElement:a.a.string,selected:a.a.any,startup:a.a.bool,startupDelay:a.a.number,startupScreen:a.a.object,style:a.a.object,transitionDelay:a.a.number,mobileTouch:a.a.bool}),U(z,"defaultProps",{animation:null,bullets:!0,buttonContentLeft:null,buttonContentRight:null,buttons:!0,children:null,className:null,controlsReturnDelay:0,cssModule:null,customContent:null,onLoadStart:null,disabled:!1,fillParent:!1,infinite:!0,media:[],name:"awesome-slider",onFirstMount:null,onResetSlider:null,onStartupRelease:null,onTransitionEnd:null,onTransitionRequest:null,onTransitionStart:null,organicArrows:!0,rootElement:H,selected:0,startup:!0,startupDelay:0,startupScreen:null,style:{},transitionDelay:0,mobileTouch:!0}),t.default=z}])},e.exports=r(n(5697),n(7294))},4448:function(e,t,n){"use strict";var r=n(7294),i=n(7418),o=n(3840);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,c={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(c[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,f={},m={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!p.call(m,e)||!p.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,_);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,_);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,_);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var S=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,E=60106,C=60107,k=60108,T=60114,x=60109,A=60110,R=60112,I=60113,O=60120,P=60115,M=60116,N=60121,L=60128,D=60129,j=60130,F=60131;if("function"==typeof Symbol&&Symbol.for){var B=Symbol.for;w=B("react.element"),E=B("react.portal"),C=B("react.fragment"),k=B("react.strict_mode"),T=B("react.profiler"),x=B("react.provider"),A=B("react.context"),R=B("react.forward_ref"),I=B("react.suspense"),O=B("react.suspense_list"),P=B("react.memo"),M=B("react.lazy"),N=B("react.block"),B("react.scope"),L=B("react.opaque.id"),D=B("react.debug_trace_mode"),j=B("react.offscreen"),F=B("react.legacy_hidden")}var U,H="function"==typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=H&&e[H]||e["@@iterator"])?e:null}function z(e){if(void 0===U)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var q=!1;function J(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function G(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return J(e.type,!1);case 11:return J(e.type.render,!1);case 22:return J(e.type._render,!1);case 1:return J(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case C:return"Fragment";case E:return"Portal";case T:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case O:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case R:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return W(e.type);case N:return W(e._render);case M:t=e._payload,e=e._init;try{return W(e(t))}catch(e){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Z(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function le(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var fe,me,ve=(me=function(e,t){if(e.namespaceURI!==de.svg||"innerHTML"in e)e.innerHTML=t;else{for((fe=fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function Se(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var we=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(we[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,xe=null,Ae=null;function Re(e){if(e=ni(e)){if("function"!=typeof Te)throw Error(a(280));var t=e.stateNode;t&&(t=ii(t),Te(e.stateNode,e.type,t))}}function Ie(e){xe?Ae?Ae.push(e):Ae=[e]:xe=e}function Oe(){if(xe){var e=xe,t=Ae;if(Ae=xe=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function Pe(e,t){return e(t)}function Me(e,t,n,r,i){return e(t,n,r,i)}function Ne(){}var Le=Pe,De=!1,je=!1;function Fe(){null===xe&&null===Ae||(Ne(),Oe())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Ue=!1;if(d)try{var He={};Object.defineProperty(He,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",He,He),window.removeEventListener("test",He,He)}catch(me){Ue=!1}function Ve(e,t,n,r,i,o,a,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var ze=!1,qe=null,Je=!1,Ge=null,We={onError:function(e){ze=!0,qe=e}};function Qe(e,t,n,r,i,o,a,s,c){ze=!1,qe=null,Ve.apply(We,arguments)}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ke(e){if(Ze(e)!==e)throw Error(a(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ye(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,ct=null,lt=new Map,ut=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ft(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&null!==(t=ni(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vt(e){var t=ti(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){gt(e)&&n.delete(t)}function _t(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&gt(at)&&(at=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(yt),ut.forEach(yt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,_t)))}function St(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&bt(at,e),null!==st&&bt(st,e),null!==ct&&bt(ct,e),lt.forEach(t),ut.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)vt(n),null===n.blockedOn&&dt.shift()}function wt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:wt("Animation","AnimationEnd"),animationiteration:wt("Animation","AnimationIteration"),animationstart:wt("Animation","AnimationStart"),transitionend:wt("Transition","TransitionEnd")},Ct={},kt={};function Tt(e){if(Ct[e])return Ct[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return Ct[e]=n[t];return e}d&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var xt=Tt("animationend"),At=Tt("animationiteration"),Rt=Tt("animationstart"),It=Tt("transitionend"),Ot=new Map,Pt=new Map,Mt=["abort","abort",xt,"animationEnd",At,"animationIteration",Rt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",It,"transitionEnd","waiting","waiting"];function Nt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Ot.set(r,i),l(i,[r])}}(0,o.unstable_now)();var Lt=8;function Dt(e){if(1&e)return Lt=15,1;if(2&e)return Lt=14,2;if(4&e)return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):32&e?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):256&e?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):4096&e?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):134217728&e?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):1073741824&e?(Lt=1,1073741824):(Lt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!=(o=134217727&n)){var c=o&~a;0!==c?(r=Dt(c),i=Lt):0!=(s&=o)&&(r=Dt(s),i=Lt)}else 0!=(o=n&~a)?(r=Dt(o),i=Lt):0!==s&&(r=Dt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&!(t&a)){if(Dt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ut(24&~t))?Bt(10,t):e;case 10:return 0===(e=Ut(192&~t))?Bt(8,t):e;case 8:return 0===(e=Ut(3584&~t))&&0===(e=Ut(4186112&~t))&&(e=512),e;case 2:return 0===(t=Ut(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Ut(e){return e&-e}function Ht(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(qt(e)/Jt|0)|0},qt=Math.log,Jt=Math.LN2,Gt=o.unstable_UserBlockingPriority,Wt=o.unstable_runWithPriority,Qt=!0;function Zt(e,t,n,r){De||Ne();var i=Kt,o=De;De=!0;try{Me(i,e,t,n,r)}finally{(De=o)||Fe()}}function $t(e,t,n,r){Wt(Gt,Kt.bind(null,e,t,n,r))}function Kt(e,t,n,r){var i;if(Qt)if((i=!(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var o=Xt(e,t,n,r);if(null===o)i&&ft(e,r);else{if(i){if(-1<ht.indexOf(e))return e=pt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=mt(at,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,mt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ut.set(o,mt(ut.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;ft(e,r)}Nr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=ke(r);if(null!==(i=ti(i))){var o=Ze(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=$e(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Nr(e,t,r,i,n),null}var Yt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,un,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(dn),pn=i({},dn,{view:0,detail:0}),fn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(cn=e.screenX-un.screenX,ln=e.screenY-un.screenY):ln=cn=0,un=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),vn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),yn=sn(i({},pn,{relatedTarget:0})),_n=sn(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sn=sn(bn),wn=sn(i({},dn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function xn(){return Tn}var An=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Rn=sn(An),In=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Pn=sn(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=sn(Mn),Ln=[9,13,27,32],Dn=d&&"CompositionEvent"in window,jn=null;d&&"documentMode"in document&&(jn=document.documentMode);var Fn=d&&"TextEvent"in window&&!jn,Bn=d&&(!Dn||jn&&8<jn&&11>=jn),Un=String.fromCharCode(32),Hn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1,Jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Jn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ie(r),0<(t=Dr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Zn=null;function $n(e){Ar(e,0)}function Kn(e){if(K(ri(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(d){var er;if(d){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"==typeof nr.oninput}er=tr}else er=!1;Yn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Qn&&(Qn.detachEvent("onpropertychange",ir),Zn=Qn=null)}function ir(e){if("value"===e.propertyName&&Kn(Zn)){var t=[];if(Wn(t,Zn,e,ke(e)),e=$n,De)e(t);else{De=!0;try{Pe(e,t)}finally{De=!1,Fe()}}}}function or(e,t,n){"focusin"===e?(rr(),Zn=n,(Qn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Zn)}function sr(e,t){if("click"===e)return Kn(t)}function cr(e,t){if("input"===e||"change"===e)return Kn(t)}var lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ur=Object.prototype.hasOwnProperty;function dr(e,t){if(lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=d&&"documentMode"in document&&11>=document.documentMode,yr=null,_r=null,br=null,Sr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Sr||null==yr||yr!==X(r)||(r="selectionStart"in(r=yr)&&vr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&dr(br,r)||(br=r,0<(r=Dr(_r,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Nt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Nt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Nt(Mt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Cr=0;Cr<Er.length;Cr++)Pt.set(Er[Cr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function xr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,c,l){if(Qe.apply(this,arguments),ze){if(!ze)throw Error(a(198));var u=qe;ze=!1,qe=null,Je||(Je=!0,Ge=u)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;xr(i,s,l),o=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,l=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;xr(i,s,l),o=c}}}if(Je)throw e=Ge,Je=!1,Ge=null,e}function Rr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Mr(t,e,2,!1),n.add(r))}var Ir="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Ir]||(e[Ir]=!0,s.forEach((function(t){Tr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=oi(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Mr(o,e,i,t),a.add(s))}function Mr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Zt;break;case 1:i=$t;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Nr(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ti(s)))return;if(5===(c=a.tag)||6===c){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(je)return e();je=!0;try{return Le(e,t,n)}finally{je=!1,Fe()}}((function(){var r=o,i=ke(n),a=[];e:{var s=Ot.get(e);if(void 0!==s){var c=hn,l=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":c=Rn;break;case"focusin":l="focus",c=yn;break;case"focusout":l="blur",c=yn;break;case"beforeblur":case"afterblur":c=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=On;break;case xt:case At:case Rt:c=_n;break;case It:c=Pn;break;case"scroll":c=fn;break;case"wheel":c=Nn;break;case"copy":case"cut":case"paste":c=Sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=In}var u=!!(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&null!=(m=Be(f,h))&&u.push(Lr(f,m,p))),d)break;f=f.return}0<u.length&&(s=new c(s,l,null,n,i),a.push({event:s,listeners:u}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||16&t||!(l=n.relatedTarget||n.fromElement)||!ti(l)&&!l[Yr])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?ti(l):null)&&(l!==(d=Ze(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=vn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==c?s:ri(c),p=null==l?s:ri(l),(s=new u(m,f+"leave",c,n,i)).target=d,s.relatedTarget=p,m=null,ti(i)===r&&((u=new u(h,f+"enter",l,n,i)).target=p,u.relatedTarget=d,m=u),d=m,c&&l)e:{for(h=l,f=0,p=u=c;p;p=jr(p))f++;for(p=0,m=h;m;m=jr(m))p++;for(;0<f-p;)u=jr(u),f--;for(;0<p-f;)h=jr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=jr(u),h=jr(h)}u=null}else u=null;null!==c&&Fr(a,s,c,u,!1),null!==l&&null!==d&&Fr(a,d,l,u,!0)}if("select"===(c=(s=r?ri(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=Xn;else if(Gn(s))if(Yn)v=cr;else{v=ar;var g=or}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=sr);switch(v&&(v=v(e,r))?Wn(a,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ri(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(yr=g,_r=r,br=null);break;case"focusout":br=_r=yr=null;break;case"mousedown":Sr=!0;break;case"contextmenu":case"mouseup":case"dragend":Sr=!1,wr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else qn?Vn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Bn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==_?"onCompositionEnd"===_&&qn&&(y=nn()):(en="value"in(Yt=i)?Yt.value:Yt.textContent,qn=!0)),0<(g=Dr(r,_)).length&&(_=new wn(_,e,null,n,i),a.push({event:_,listeners:g}),(y||null!==(y=zn(n)))&&(_.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Hn=!0,Un);case"textInput":return(e=t.data)===Un&&Hn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=nn(),tn=en=Yt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Dr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y)}Ar(a,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Be(e,n))&&r.unshift(Lr(e,o,i)),null!=(o=Be(e,t))&&r.push(Lr(e,o,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(c=Be(n,o))&&a.unshift(Lr(n,c,s)):i||null!=(c=Be(n,o))&&a.push(Lr(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Br(){}var Ur=null,Hr=null;function Vr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var qr="function"==typeof setTimeout?setTimeout:void 0,Jr="function"==typeof clearTimeout?clearTimeout:void 0;function Gr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Wr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Zr=0,$r=Math.random().toString(36).slice(2),Kr="__reactFiber$"+$r,Xr="__reactProps$"+$r,Yr="__reactContainer$"+$r,ei="__reactEvents$"+$r;function ti(e){var t=e[Kr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yr]||n[Kr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Kr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Kr]||e[Yr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ii(e){return e[Xr]||null}function oi(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var ai=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function ui(e,t){si++,ai[si]=e.current,e.current=t}var di={},hi=ci(di),pi=ci(!1),fi=di;function mi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vi(e){return null!=e.childContextTypes}function gi(){li(pi),li(hi)}function yi(e,t,n){if(hi.current!==di)throw Error(a(168));ui(hi,t),ui(pi,n)}function _i(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,W(t)||"Unknown",o));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,fi=hi.current,ui(hi,e),ui(pi,pi.current),!0}function Si(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=_i(e,t,fi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(hi),ui(hi,e)):li(pi),ui(pi,n)}var wi=null,Ei=null,Ci=o.unstable_runWithPriority,ki=o.unstable_scheduleCallback,Ti=o.unstable_cancelCallback,xi=o.unstable_shouldYield,Ai=o.unstable_requestPaint,Ri=o.unstable_now,Ii=o.unstable_getCurrentPriorityLevel,Oi=o.unstable_ImmediatePriority,Pi=o.unstable_UserBlockingPriority,Mi=o.unstable_NormalPriority,Ni=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Di={},ji=void 0!==Ai?Ai:function(){},Fi=null,Bi=null,Ui=!1,Hi=Ri(),Vi=1e4>Hi?Ri:function(){return Ri()-Hi};function zi(){switch(Ii()){case Oi:return 99;case Pi:return 98;case Mi:return 97;case Ni:return 96;case Li:return 95;default:throw Error(a(332))}}function qi(e){switch(e){case 99:return Oi;case 98:return Pi;case 97:return Mi;case 96:return Ni;case 95:return Li;default:throw Error(a(332))}}function Ji(e,t){return e=qi(e),Ci(e,t)}function Gi(e,t,n){return e=qi(e),ki(e,t,n)}function Wi(){if(null!==Bi){var e=Bi;Bi=null,Ti(e)}Qi()}function Qi(){if(!Ui&&null!==Fi){Ui=!0;var e=0;try{var t=Fi;Ji(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(t){throw null!==Fi&&(Fi=Fi.slice(e+1)),ki(Oi,Wi),t}finally{Ui=!1}}}var Zi=S.ReactCurrentBatchConfig;function $i(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ki=ci(null),Xi=null,Yi=null,eo=null;function to(){eo=Yi=Xi=null}function no(e){var t=Ki.current;li(Ki),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function io(e,t){Xi=e,eo=Yi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(Da=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Yi){if(null===Xi)throw Error(a(308));Yi=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else Yi=Yi.next=t;return e._currentValue}var ao=!1;function so(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;ao=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,c=o.shared.pending;if(null!==c){o.shared.pending=null;var l=c,u=l.next;l.next=null,null===s?a=u:s.next=u,s=l;var d=e.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==s&&(null===h?d.firstBaseUpdate=u:h.next=u,d.lastBaseUpdate=l)}}if(null!==a){for(h=o.baseState,s=0,d=u=l=null;;){c=a.lane;var p=a.eventTime;if((r&c)===c){null!==d&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,m=a;switch(c=t,p=n,m.tag){case 1:if("function"==typeof(f=m.payload)){h=f.call(p,h,c);break e}h=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null==(c="function"==typeof(f=m.payload)?f.call(p,h,c):f))break e;h=i({},h,c);break e;case 2:ao=!0}}null!==a.callback&&(e.flags|=32,null===(c=o.effects)?o.effects=[a]:c.push(a))}else p={eventTime:p,lane:c,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(u=d=p,l=h):d=d.next=p,s|=c;if(null===(a=a.next)){if(null===(c=o.shared.pending))break;a=c.next,c.next=null,o.lastBaseUpdate=c,o.shared.pending=null}}null===d&&(l=h),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=d,Bs|=s,e.lanes=s,e.memoizedState=h}}function fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var mo=(new r.Component).refs;function vo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=uc(),i=dc(e),o=lo(r,i);o.payload=t,null!=n&&(o.callback=n),uo(e,o),hc(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=uc(),i=dc(e),o=lo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),uo(e,o),hc(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=uc(),r=dc(e),i=lo(n,r);i.tag=2,null!=t&&(i.callback=t),uo(e,i),hc(e,r,n)}};function yo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&dr(n,r)&&dr(i,o))}function _o(e,t,n){var r=!1,i=di,o=t.contextType;return"object"==typeof o&&null!==o?o=oo(o):(i=vi(t)?fi:hi.current,o=(r=null!=(r=t.contextTypes))?mi(e,i):di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function So(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,so(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=oo(o):(o=vi(t)?fi:hi.current,i.context=mi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(vo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&go.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var wo=Array.isArray;function Eo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Co(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ko(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=qc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Qc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Eo(e,t,n),r.return=e,r):((r=Jc(n.type,n.key,n.props,null,e.mode,r)).ref=Eo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Zc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Gc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Qc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Jc(t.type,t.key,t.props,null,e.mode,n)).ref=Eo(e,null,t),n.return=e,n;case E:return(t=Zc(t,e.mode,n)).return=e,t}if(wo(t)||V(t))return(t=Gc(t,e.mode,n,null)).return=e,t;Co(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===C?d(e,t,n.props.children,r,i):l(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null}if(wo(n)||V(n))return null!==i?null:d(e,t,n,r,null);Co(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return e=e.get(null===r.key?n:r.key)||null,r.type===C?d(t,e,r.props.children,i,r.key):l(t,e,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(wo(r)||V(r))return d(t,e=e.get(n)||null,r,i,null);Co(t,r)}return null}function m(i,a,s,c){for(var l=null,u=null,d=a,m=a=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=p(i,d,s[m],c);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,m),null===u?l=g:u.sibling=g,u=g,d=v}if(m===s.length)return n(i,d),l;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],c))&&(a=o(d,a,m),null===u?l=d:u.sibling=d,u=d);return l}for(d=r(i,d);m<s.length;m++)null!==(v=f(d,i,m,s[m],c))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),a=o(v,a,m),null===u?l=v:u.sibling=v,u=v);return e&&d.forEach((function(e){return t(i,e)})),l}function v(i,s,c,l){var u=V(c);if("function"!=typeof u)throw Error(a(150));if(null==(c=u.call(c)))throw Error(a(151));for(var d=u=null,m=s,v=s=0,g=null,y=c.next();null!==m&&!y.done;v++,y=c.next()){m.index>v?(g=m,m=null):g=m.sibling;var _=p(i,m,y.value,l);if(null===_){null===m&&(m=g);break}e&&m&&null===_.alternate&&t(i,m),s=o(_,s,v),null===d?u=_:d.sibling=_,d=_,m=g}if(y.done)return n(i,m),u;if(null===m){for(;!y.done;v++,y=c.next())null!==(y=h(i,y.value,l))&&(s=o(y,s,v),null===d?u=y:d.sibling=y,d=y);return u}for(m=r(i,m);!y.done;v++,y=c.next())null!==(y=f(m,i,v,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,r,o,c){var l="object"==typeof o&&null!==o&&o.type===C&&null===o.key;l&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case w:e:{for(u=o.key,l=r;null!==l;){if(l.key===u){if(7===l.tag){if(o.type===C){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}}else if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=Eo(e,l,o),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===C?((r=Gc(o.props.children,e.mode,c,o.key)).return=e,e=r):((c=Jc(o.type,o.key,o.props,null,e.mode,c)).ref=Eo(e,r,o),c.return=e,e=c)}return s(e);case E:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Zc(o,e.mode,c)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Qc(o,e.mode,c)).return=e,e=r),s(e);if(wo(o))return m(e,r,o,c);if(V(o))return v(e,r,o,c);if(u&&Co(e,o),void 0===o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,W(e.type)||"Component"))}return n(e,r)}}var To=ko(!0),xo=ko(!1),Ao={},Ro=ci(Ao),Io=ci(Ao),Oo=ci(Ao);function Po(e){if(e===Ao)throw Error(a(174));return e}function Mo(e,t){switch(ui(Oo,t),ui(Io,e),ui(Ro,Ao),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Ro),ui(Ro,t)}function No(){li(Ro),li(Io),li(Oo)}function Lo(e){Po(Oo.current);var t=Po(Ro.current),n=pe(t,e.type);t!==n&&(ui(Io,e),ui(Ro,n))}function Do(e){Io.current===e&&(li(Ro),li(Io))}var jo=ci(0);function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(64&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bo=null,Uo=null,Ho=!1;function Vo(e,t){var n=Vc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function qo(e){if(Ho){var t=Uo;if(t){var n=t;if(!zo(e,t)){if(!(t=Wr(n.nextSibling))||!zo(e,t))return e.flags=-1025&e.flags|2,Ho=!1,void(Bo=e);Vo(Bo,n)}Bo=e,Uo=Wr(t.firstChild)}else e.flags=-1025&e.flags|2,Ho=!1,Bo=e}}function Jo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Bo=e}function Go(e){if(e!==Bo)return!1;if(!Ho)return Jo(e),Ho=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=Uo;t;)Vo(e,t),t=Wr(t.nextSibling);if(Jo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Uo=Wr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Uo=null}}else Uo=Bo?Wr(e.stateNode.nextSibling):null;return!0}function Wo(){Uo=Bo=null,Ho=!1}var Qo=[];function Zo(){for(var e=0;e<Qo.length;e++)Qo[e]._workInProgressVersionPrimary=null;Qo.length=0}var $o=S.ReactCurrentDispatcher,Ko=S.ReactCurrentBatchConfig,Xo=0,Yo=null,ea=null,ta=null,na=!1,ra=!1;function ia(){throw Error(a(321))}function oa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function aa(e,t,n,r,i,o){if(Xo=o,Yo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$o.current=null===e||null===e.memoizedState?Pa:Ma,e=n(r,i),ra){o=0;do{if(ra=!1,!(25>o))throw Error(a(301));o+=1,ta=ea=null,t.updateQueue=null,$o.current=Na,e=n(r,i)}while(ra)}if($o.current=Oa,t=null!==ea&&null!==ea.next,Xo=0,ta=ea=Yo=null,na=!1,t)throw Error(a(300));return e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ta?Yo.memoizedState=ta=e:ta=ta.next=e,ta}function ca(){if(null===ea){var e=Yo.alternate;e=null!==e?e.memoizedState:null}else e=ea.next;var t=null===ta?Yo.memoizedState:ta.next;if(null!==t)ta=t,ea=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ea=e).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===ta?Yo.memoizedState=ta=e:ta=ta.next=e}return ta}function la(e,t){return"function"==typeof t?t(e):t}function ua(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ea,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=s=o=null,l=i;do{var u=l.lane;if((Xo&u)===u)null!==c&&(c=c.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var d={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===c?(s=c=d,o=r):c=c.next=d,Yo.lanes|=u,Bs|=u}l=l.next}while(null!==l&&l!==i);null===c?o=r:c.next=s,lr(r,t.memoizedState)||(Da=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function da(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);lr(o,t.memoizedState)||(Da=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xo&e)===e)&&(t._workInProgressVersionPrimary=r,Qo.push(t))),e)return n(t._source);throw Qo.push(t),Error(a(350))}function pa(e,t,n,r){var i=Os;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),c=$o.current,l=c.useState((function(){return ha(i,t,n)})),u=l[1],d=l[0];l=ta;var h=e.memoizedState,p=h.refs,f=p.getSnapshot,m=h.source;h=h.subscribe;var v=Yo;return e.memoizedState={refs:p,source:t,subscribe:r},c.useEffect((function(){p.getSnapshot=n,p.setSnapshot=u;var e=o(t._source);if(!lr(s,e)){e=n(t._source),lr(d,e)||(u(e),e=dc(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var c=31-zt(a),l=1<<c;r[c]|=e,a&=~l}}}),[n,t,r]),c.useEffect((function(){return r(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=dc(v);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),lr(f,n)&&lr(m,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:d}).dispatch=u=Ia.bind(null,Yo,e),l.queue=e,l.baseQueue=null,d=ha(i,t,n),l.memoizedState=l.baseState=d),d}function fa(e,t,n){return pa(ca(),e,t,n)}function ma(e){var t=sa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Ia.bind(null,Yo,e),[t.memoizedState,e]}function va(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Yo.updateQueue)?(t={lastEffect:null},Yo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ga(e){return e={current:e},sa().memoizedState=e}function ya(){return ca().memoizedState}function _a(e,t,n,r){var i=sa();Yo.flags|=e,i.memoizedState=va(1|t,n,void 0,void 0===r?null:r)}function ba(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ea){var a=ea.memoizedState;if(o=a.destroy,null!==r&&oa(r,a.deps))return void va(t,n,o,r)}Yo.flags|=e,i.memoizedState=va(1|t,n,o,r)}function Sa(e,t){return _a(516,4,e,t)}function wa(e,t){return ba(516,4,e,t)}function Ea(e,t){return ba(4,2,e,t)}function Ca(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ka(e,t,n){return n=null!=n?n.concat([e]):null,ba(4,2,Ca.bind(null,t,e),n)}function Ta(){}function xa(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Aa(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ra(e,t){var n=zi();Ji(98>n?98:n,(function(){e(!0)})),Ji(97<n?97:n,(function(){var n=Ko.transition;Ko.transition=1;try{e(!1),t()}finally{Ko.transition=n}}))}function Ia(e,t,n){var r=uc(),i=dc(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Yo||null!==a&&a===Yo)ra=na=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,c=a(s,n);if(o.eagerReducer=a,o.eagerState=c,lr(c,s))return}catch(e){}hc(e,i,r)}}var Oa={readContext:oo,useCallback:ia,useContext:ia,useEffect:ia,useImperativeHandle:ia,useLayoutEffect:ia,useMemo:ia,useReducer:ia,useRef:ia,useState:ia,useDebugValue:ia,useDeferredValue:ia,useTransition:ia,useMutableSource:ia,useOpaqueIdentifier:ia,unstable_isNewReconciler:!1},Pa={readContext:oo,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:Sa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,_a(4,2,Ca.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _a(4,2,e,t)},useMemo:function(e,t){var n=sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ia.bind(null,Yo,e),[r.memoizedState,e]},useRef:ga,useState:ma,useDebugValue:Ta,useDeferredValue:function(e){var t=ma(e),n=t[0],r=t[1];return Sa((function(){var t=Ko.transition;Ko.transition=1;try{r(e)}finally{Ko.transition=t}}),[e]),n},useTransition:function(){var e=ma(!1),t=e[0];return ga(e=Ra.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=sa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(Ho){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Zr++).toString(36))),Error(a(355))})),n=ma(t)[1];return!(2&Yo.mode)&&(Yo.flags|=516,va(5,(function(){n("r:"+(Zr++).toString(36))}),void 0,null)),t}return ma(t="r:"+(Zr++).toString(36)),t},unstable_isNewReconciler:!1},Ma={readContext:oo,useCallback:xa,useContext:oo,useEffect:wa,useImperativeHandle:ka,useLayoutEffect:Ea,useMemo:Aa,useReducer:ua,useRef:ya,useState:function(){return ua(la)},useDebugValue:Ta,useDeferredValue:function(e){var t=ua(la),n=t[0],r=t[1];return wa((function(){var t=Ko.transition;Ko.transition=1;try{r(e)}finally{Ko.transition=t}}),[e]),n},useTransition:function(){var e=ua(la)[0];return[ya().current,e]},useMutableSource:fa,useOpaqueIdentifier:function(){return ua(la)[0]},unstable_isNewReconciler:!1},Na={readContext:oo,useCallback:xa,useContext:oo,useEffect:wa,useImperativeHandle:ka,useLayoutEffect:Ea,useMemo:Aa,useReducer:da,useRef:ya,useState:function(){return da(la)},useDebugValue:Ta,useDeferredValue:function(e){var t=da(la),n=t[0],r=t[1];return wa((function(){var t=Ko.transition;Ko.transition=1;try{r(e)}finally{Ko.transition=t}}),[e]),n},useTransition:function(){var e=da(la)[0];return[ya().current,e]},useMutableSource:fa,useOpaqueIdentifier:function(){return da(la)[0]},unstable_isNewReconciler:!1},La=S.ReactCurrentOwner,Da=!1;function ja(e,t,n,r){t.child=null===e?xo(t,null,n,r):To(t,e.child,n,r)}function Fa(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=aa(e,t,n,r,o,i),null===e||Da?(t.flags|=1,ja(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,rs(e,t,i))}function Ba(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||zc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Jc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ua(e,t,a,r,i,o))}return a=e.child,i&o||(i=a.memoizedProps,!(n=null!==(n=n.compare)?n:dr)(i,r)||e.ref!==t.ref)?(t.flags|=1,(e=qc(a,r)).ref=t.ref,e.return=t,t.child=e):rs(e,t,o)}function Ua(e,t,n,r,i,o){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Da=!1,!(o&i))return t.lanes=e.lanes,rs(e,t,o);16384&e.flags&&(Da=!0)}return za(e,t,n,r,o)}function Ha(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(4&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bc(0,e),null;t.memoizedState={baseLanes:0},bc(0,null!==o?o.baseLanes:n)}else t.memoizedState={baseLanes:0},bc(0,n);else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,bc(0,r);return ja(e,t,i,n),t.child}function Va(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function za(e,t,n,r,i){var o=vi(n)?fi:hi.current;return o=mi(t,o),io(t,i),n=aa(e,t,n,r,o,i),null===e||Da?(t.flags|=1,ja(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,rs(e,t,i))}function qa(e,t,n,r,i){if(vi(n)){var o=!0;bi(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),_o(t,n,r),So(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,l=n.contextType;l="object"==typeof l&&null!==l?oo(l):mi(t,l=vi(n)?fi:hi.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||c!==l)&&bo(t,a,r,l),ao=!1;var h=t.memoizedState;a.state=h,po(t,r,a,i),c=t.memoizedState,s!==r||h!==c||pi.current||ao?("function"==typeof u&&(vo(t,n,u,r),c=t.memoizedState),(s=ao||yo(t,n,s,r,h,c,l))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=l,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,co(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:$i(t.type,s),a.props=l,d=t.pendingProps,h=a.context,c="object"==typeof(c=n.contextType)&&null!==c?oo(c):mi(t,c=vi(n)?fi:hi.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==c)&&bo(t,a,r,c),ao=!1,h=t.memoizedState,a.state=h,po(t,r,a,i);var f=t.memoizedState;s!==d||h!==f||pi.current||ao?("function"==typeof p&&(vo(t,n,p,r),f=t.memoizedState),(l=ao||yo(t,n,l,r,h,f,c))?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,c)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=c,r=l):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ja(e,t,n,r,o,i)}function Ja(e,t,n,r,i,o){Va(e,t);var a=!!(64&t.flags);if(!r&&!a)return i&&Si(t,n,!1),rs(e,t,o);r=t.stateNode,La.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=To(t,e.child,null,o),t.child=To(t,null,s,o)):ja(e,t,s,o),t.memoizedState=r.state,i&&Si(t,n,!0),t.child}function Ga(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Mo(e,t.containerInfo)}var Wa,Qa,Za,$a,Ka={dehydrated:null,retryLane:0};function Xa(e,t,n){var r,i=t.pendingProps,o=jo.current,a=!1;return(r=!!(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&!!(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ui(jo,1&o),null===e?(void 0!==i.fallback&&qo(t),e=i.children,o=i.fallback,a?(e=Ya(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ka,e):"number"==typeof i.unstable_expectedLoadTime?(e=Ya(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ka,t.lanes=33554432,e):((n=Wc({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=function(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 2&o||t.child===a?n=qc(a,s):((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null),null!==e?r=qc(e,r):(r=Gc(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ka,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=qc(i,{mode:"visible",children:n}),!(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Ya(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},2&i||null===o?o=Wc(t,i,0,null):(o.childLanes=0,o.pendingProps=t),n=Gc(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ro(e.return,t)}function ts(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ns(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ja(e,t,r.children,n),2&(r=jo.current))r=1&r|2,t.flags|=64;else{if(null!==e&&64&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&es(e,n);else if(19===e.tag)es(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(jo,r),2&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ts(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ts(t,!0,n,null,o,t.lastEffect);break;case"together":ts(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function rs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,n&t.childLanes){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=qc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function is(e,t){if(!Ho)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function os(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return vi(t.type)&&gi(),null;case 3:return No(),li(pi),li(hi),Zo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Go(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Qa(t),null;case 5:Do(t);var o=Po(Oo.current);if(n=t.type,null!==e&&null!=t.stateNode)Za(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Po(Ro.current),Go(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Kr]=t,r[Xr]=s,n){case"dialog":Rr("cancel",r),Rr("close",r);break;case"iframe":case"object":case"embed":Rr("load",r);break;case"video":case"audio":for(e=0;e<kr.length;e++)Rr(kr[e],r);break;case"source":Rr("error",r);break;case"img":case"image":case"link":Rr("error",r),Rr("load",r);break;case"details":Rr("toggle",r);break;case"input":ee(r,s),Rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Rr("invalid",r);break;case"textarea":ce(r,s),Rr("invalid",r)}for(var l in Ee(n,s),e=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):c.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Rr("scroll",r));switch(n){case"input":$(r),re(r,s,!0);break;case"textarea":$(r),ue(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Br)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,e===de.html&&(e=he(n)),e===de.html?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Kr]=t,e[Xr]=r,Wa(e,t,!1,!1),t.stateNode=e,l=Ce(n,r),n){case"dialog":Rr("cancel",e),Rr("close",e),o=r;break;case"iframe":case"object":case"embed":Rr("load",e),o=r;break;case"video":case"audio":for(o=0;o<kr.length;o++)Rr(kr[o],e);o=r;break;case"source":Rr("error",e),o=r;break;case"img":case"image":case"link":Rr("error",e),Rr("load",e),o=r;break;case"details":Rr("toggle",e),o=r;break;case"input":ee(e,r),o=Y(e,r),Rr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Rr("invalid",e);break;case"textarea":ce(e,r),o=se(e,r),Rr("invalid",e);break;default:o=r}Ee(n,o);var u=o;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?Se(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ve(e,d):"children"===s?"string"==typeof d?("textarea"!==n||""!==d)&&ge(e,d):"number"==typeof d&&ge(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(c.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Rr("scroll",e):null!=d&&b(e,s,d,l))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Br)}Vr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$a(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Po(Oo.current),Po(Ro.current),Go(t)?(r=t.stateNode,n=t.memoizedProps,r[Kr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Kr]=t,t.stateNode=r)}return null;case 13:return li(jo),r=t.memoizedState,64&t.flags?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Go(t):n=null!==e.memoizedState,r&&!n&&!!(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||1&jo.current?0===Ds&&(Ds=3):(0!==Ds&&3!==Ds||(Ds=4),null===Os||!(134217727&Bs)&&!(134217727&Us)||vc(Os,Ms))),(r||n)&&(t.flags|=4),null);case 4:return No(),Qa(t),null===e&&Or(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(li(jo),null===(r=t.memoizedState))return null;if(s=!!(64&t.flags),null===(l=r.rendering))if(s)is(r,!1);else{if(0!==Ds||null!==e&&64&e.flags)for(e=t.child;null!==e;){if(null!==(l=Fo(e))){for(t.flags|=64,is(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ui(jo,1&jo.current|2),t.child}e=e.sibling}null!==r.tail&&Vi()>qs&&(t.flags|=64,s=!0,is(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fo(l))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),is(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Ho)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Vi()-r.renderingStartTime>qs&&1073741824!==n&&(t.flags|=64,s=!0,is(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Vi(),n.sibling=null,t=jo.current,ui(jo,s?1&t|2:1&t),n):null;case 23:case 24:return Sc(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function as(e){switch(e.tag){case 1:vi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(No(),li(pi),li(hi),Zo(),64&(t=e.flags))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Do(e),null;case 13:return li(jo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(jo),null;case 4:return No(),null;case 10:return no(e),null;case 23:case 24:return Sc(),null;default:return null}}function ss(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function cs(e,t){}Wa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qa=function(){},Za=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Po(Ro.current);var a,s=null;switch(n){case"input":o=Y(e,o),r=Y(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Br)}for(d in Ee(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var l=o[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(c.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(l=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&u!==l&&(null!=u||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(d,n)),n=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(d,u)):"children"===d?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(c.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&Rr("scroll",e),s||l===u||(s=[])):"object"==typeof u&&null!==u&&u.$$typeof===L?u.toString():(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},$a=function(e,t,n,r){n!==r&&(t.flags|=4)};var ls="function"==typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qs||(Qs=!0,Zs=r),cs(0,t)},n}function ds(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return cs(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===$s?$s=new Set([this]):$s.add(this),cs(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var hs="function"==typeof WeakSet?WeakSet:Set;function ps(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Fc(e,t)}else t.current=null}function fs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$i(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(a(163))}function ms(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(!(3&~e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,!!(4&(i=i.tag))&&!!(1&i)&&(Lc(n,e),Nc(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:$i(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}fo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Vr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&St(n)))))}throw Error(a(163))}function vs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function gs(e,t){if(Ei&&"function"==typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(wi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(4&r)Lc(t,n);else{r=t;try{i()}catch(e){Fc(r,e)}}n=n.next}while(n!==e)}break;case 1:if(ps(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Fc(t,e)}break;case 5:ps(t);break;case 4:Es(e,t)}}function ys(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function _s(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:{for(var t=e.return;null!==t;){if(_s(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_s(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ss(e,n,t):ws(e,n,t)}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Br));else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function ws(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ws(e,t,n),e=e.sibling;null!==e;)ws(e,t,n),e=e.sibling}function Es(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,c=i,l=c;;)if(gs(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===c)break e;for(;null===l.sibling;){if(null===l.return||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,c=i.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(gs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Cs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{!(3&~r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ce(e,i),t=Ce(e,r),i=0;i<o.length;i+=2){var s=o[i],c=o[i+1];"style"===s?Se(n,c):"dangerouslySetInnerHTML"===s?ve(n,c):"children"===s?ge(n,c):b(n,s,c,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,St(n.containerInfo)));case 13:return null!==t.memoizedState&&(zs=Vi(),vs(t.child,!0)),void ks(t);case 19:return void ks(t);case 23:case 24:return void vs(t,null!==t.memoizedState)}throw Error(a(163))}function ks(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new hs),t.forEach((function(t){var r=Uc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ts(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var xs=Math.ceil,As=S.ReactCurrentDispatcher,Rs=S.ReactCurrentOwner,Is=0,Os=null,Ps=null,Ms=0,Ns=0,Ls=ci(0),Ds=0,js=null,Fs=0,Bs=0,Us=0,Hs=0,Vs=null,zs=0,qs=1/0;function Js(){qs=Vi()+500}var Gs,Ws=null,Qs=!1,Zs=null,$s=null,Ks=!1,Xs=null,Ys=90,ec=[],tc=[],nc=null,rc=0,ic=null,oc=-1,ac=0,sc=0,cc=null,lc=!1;function uc(){return 48&Is?Vi():-1!==oc?oc:oc=Vi()}function dc(e){if(!(2&(e=e.mode)))return 1;if(!(4&e))return 99===zi()?1:2;if(0===ac&&(ac=Fs),0!==Zi.transition){0!==sc&&(sc=null!==Vs?Vs.pendingLanes:0),e=ac;var t=4186112&~sc;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=zi(),Bt(4&Is&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ac)}function hc(e,t,n){if(50<rc)throw rc=0,ic=null,Error(a(185));if(null===(e=pc(e,t)))return null;Vt(e,t,n),e===Os&&(Us|=t,4===Ds&&vc(e,Ms));var r=zi();1===t?8&Is&&!(48&Is)?gc(e):(fc(e,n),0===Is&&(Js(),Wi())):(!(4&Is)||98!==r&&99!==r||(null===nc?nc=new Set([e]):nc.add(e)),fc(e,n)),Vs=e}function pc(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function fc(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var c=31-zt(s),l=1<<c,u=o[c];if(-1===u){if(!(l&r)||l&i){u=t,Dt(l);var d=Lt;o[c]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=l);s&=~l}if(r=jt(e,e===Os?Ms:0),t=Lt,0===r)null!==n&&(n!==Di&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Di&&Ti(n)}15===t?(n=gc.bind(null,e),null===Fi?(Fi=[n],Bi=ki(Oi,Qi)):Fi.push(n),n=Di):14===t?n=Gi(99,gc.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Gi(n,mc.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function mc(e){if(oc=-1,sc=ac=0,48&Is)throw Error(a(327));var t=e.callbackNode;if(Mc()&&e.callbackNode!==t)return null;var n=jt(e,e===Os?Ms:0);if(0===n)return null;var r=n,i=Is;Is|=16;var o=Cc();for(Os===e&&Ms===r||(Js(),wc(e,r));;)try{xc();break}catch(t){Ec(e,t)}if(to(),As.current=o,Is=i,null!==Ps?r=0:(Os=null,Ms=0,r=Ds),Fs&Us)wc(e,0);else if(0!==r){if(2===r&&(Is|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ft(e))&&(r=kc(e,n))),1===r)throw t=js,wc(e,0),vc(e,n),fc(e,Vi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Ic(e);break;case 3:if(vc(e,n),(62914560&n)===n&&10<(r=zs+500-Vi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){uc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qr(Ic.bind(null,e),r);break}Ic(e);break;case 4:if(vc(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-zt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Vi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xs(n/1960))-n)){e.timeoutHandle=qr(Ic.bind(null,e),n);break}Ic(e);break;default:throw Error(a(329))}}return fc(e,Vi()),e.callbackNode===t?mc.bind(null,e):null}function vc(e,t){for(t&=~Hs,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function gc(e){if(48&Is)throw Error(a(327));if(Mc(),e===Os&&e.expiredLanes&Ms){var t=Ms,n=kc(e,t);Fs&Us&&(n=kc(e,t=jt(e,t)))}else n=kc(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Is|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ft(e))&&(n=kc(e,t))),1===n)throw n=js,wc(e,0),vc(e,t),fc(e,Vi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ic(e),fc(e,Vi()),null}function yc(e,t){var n=Is;Is|=1;try{return e(t)}finally{0===(Is=n)&&(Js(),Wi())}}function _c(e,t){var n=Is;Is&=-2,Is|=8;try{return e(t)}finally{0===(Is=n)&&(Js(),Wi())}}function bc(e,t){ui(Ls,Ns),Ns|=t,Fs|=t}function Sc(){Ns=Ls.current,li(Ls)}function wc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Jr(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&gi();break;case 3:No(),li(pi),li(hi),Zo();break;case 5:Do(r);break;case 4:No();break;case 13:case 19:li(jo);break;case 10:no(r);break;case 23:case 24:Sc()}n=n.return}Os=e,Ps=qc(e.current,null),Ms=Ns=Fs=t,Ds=0,js=null,Hs=Us=Bs=0}function Ec(e,t){for(;;){var n=Ps;try{if(to(),$o.current=Oa,na){for(var r=Yo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}na=!1}if(Xo=0,ta=ea=Yo=null,ra=!1,Rs.current=null,null===n||null===n.return){Ds=1,js=t,Ps=null;break}e:{var o=e,a=n.return,s=n,c=t;if(t=Ms,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==c&&"object"==typeof c&&"function"==typeof c.then){var l=c;if(!(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=!!(1&jo.current),h=a;do{var p;if(p=13===h.tag){var f=h.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var m=h.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(p){var v=h.updateQueue;if(null===v){var g=new Set;g.add(l),h.updateQueue=g}else v.add(l);if(!(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=lo(-1,1);y.tag=2,uo(s,y)}s.lanes|=1;break e}c=void 0,s=t;var _=o.pingCache;if(null===_?(_=o.pingCache=new ls,c=new Set,_.set(l,c)):void 0===(c=_.get(l))&&(c=new Set,_.set(l,c)),!c.has(s)){c.add(s);var b=Bc.bind(null,o,l,s);l.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);c=Error((W(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ds&&(Ds=2),c=ss(c,s),h=a;do{switch(h.tag){case 3:o=c,h.flags|=4096,t&=-t,h.lanes|=t,ho(h,us(0,o,t));break e;case 1:o=c;var S=h.type,w=h.stateNode;if(!(64&h.flags||"function"!=typeof S.getDerivedStateFromError&&(null===w||"function"!=typeof w.componentDidCatch||null!==$s&&$s.has(w)))){h.flags|=4096,t&=-t,h.lanes|=t,ho(h,ds(h,o,t));break e}}h=h.return}while(null!==h)}Rc(n)}catch(e){t=e,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function Cc(){var e=As.current;return As.current=Oa,null===e?Oa:e}function kc(e,t){var n=Is;Is|=16;var r=Cc();for(Os===e&&Ms===t||wc(e,t);;)try{Tc();break}catch(t){Ec(e,t)}if(to(),Is=n,As.current=r,null!==Ps)throw Error(a(261));return Os=null,Ms=0,Ds}function Tc(){for(;null!==Ps;)Ac(Ps)}function xc(){for(;null!==Ps&&!xi();)Ac(Ps)}function Ac(e){var t=Gs(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,null===t?Rc(e):Ps=t,Rs.current=null}function Rc(e){var t=e;do{var n=t.alternate;if(e=t.return,2048&t.flags){if(null!==(n=as(t)))return n.flags&=2047,void(Ps=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(null!==(n=os(n,t,Ns)))return void(Ps=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||1073741824&Ns||!(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&!(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===Ds&&(Ds=5)}function Ic(e){var t=zi();return Ji(99,Oc.bind(null,e,t)),null}function Oc(e,t){do{Mc()}while(null!==Xs);if(48&Is)throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,c=e.expirationTimes;0<o;){var l=31-zt(o),u=1<<l;i[l]=0,s[l]=-1,c[l]=-1,o&=~u}if(null!==nc&&!(24&r)&&nc.has(e)&&nc.delete(e),e===Os&&(Ps=Os=null,Ms=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Is,Is|=32,Rs.current=null,Ur=Qt,vr(s=mr())){if("selectionStart"in s)c={start:s.selectionStart,end:s.selectionEnd};else e:if(c=(c=s.ownerDocument)&&c.defaultView||window,(u=c.getSelection&&c.getSelection())&&0!==u.rangeCount){c=u.anchorNode,o=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{c.nodeType,l.nodeType}catch(e){c=null;break e}var d=0,h=-1,p=-1,f=0,m=0,v=s,g=null;t:for(;;){for(var y;v!==c||0!==o&&3!==v.nodeType||(h=d+o),v!==l||0!==u&&3!==v.nodeType||(p=d+u),3===v.nodeType&&(d+=v.nodeValue.length),null!==(y=v.firstChild);)g=v,v=y;for(;;){if(v===s)break t;if(g===c&&++f===o&&(h=d),g===l&&++m===u&&(p=d),null!==(y=v.nextSibling))break;g=(v=g).parentNode}v=y}c=-1===h||-1===p?null:{start:h,end:p}}else c=null;c=c||{start:0,end:0}}else c=null;Hr={focusedElem:s,selectionRange:c},Qt=!1,cc=null,lc=!1,Ws=r;do{try{Pc()}catch(e){if(null===Ws)throw Error(a(330));Fc(Ws,e),Ws=Ws.nextEffect}}while(null!==Ws);cc=null,Ws=r;do{try{for(s=e;null!==Ws;){var _=Ws.flags;if(16&_&&ge(Ws.stateNode,""),128&_){var b=Ws.alternate;if(null!==b){var S=b.ref;null!==S&&("function"==typeof S?S(null):S.current=null)}}switch(1038&_){case 2:bs(Ws),Ws.flags&=-3;break;case 6:bs(Ws),Ws.flags&=-3,Cs(Ws.alternate,Ws);break;case 1024:Ws.flags&=-1025;break;case 1028:Ws.flags&=-1025,Cs(Ws.alternate,Ws);break;case 4:Cs(Ws.alternate,Ws);break;case 8:Es(s,c=Ws);var w=c.alternate;ys(c),null!==w&&ys(w)}Ws=Ws.nextEffect}}catch(e){if(null===Ws)throw Error(a(330));Fc(Ws,e),Ws=Ws.nextEffect}}while(null!==Ws);if(S=Hr,b=mr(),_=S.focusedElem,s=S.selectionRange,b!==_&&_&&_.ownerDocument&&fr(_.ownerDocument.documentElement,_)){null!==s&&vr(_)&&(b=s.start,void 0===(S=s.end)&&(S=b),"selectionStart"in _?(_.selectionStart=b,_.selectionEnd=Math.min(S,_.value.length)):(S=(b=_.ownerDocument||document)&&b.defaultView||window).getSelection&&(S=S.getSelection(),c=_.textContent.length,w=Math.min(s.start,c),s=void 0===s.end?w:Math.min(s.end,c),!S.extend&&w>s&&(c=s,s=w,w=c),c=pr(_,w),o=pr(_,s),c&&o&&(1!==S.rangeCount||S.anchorNode!==c.node||S.anchorOffset!==c.offset||S.focusNode!==o.node||S.focusOffset!==o.offset)&&((b=b.createRange()).setStart(c.node,c.offset),S.removeAllRanges(),w>s?(S.addRange(b),S.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),S.addRange(b))))),b=[];for(S=_;S=S.parentNode;)1===S.nodeType&&b.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"==typeof _.focus&&_.focus(),_=0;_<b.length;_++)(S=b[_]).element.scrollLeft=S.left,S.element.scrollTop=S.top}Qt=!!Ur,Hr=Ur=null,e.current=n,Ws=r;do{try{for(_=e;null!==Ws;){var E=Ws.flags;if(36&E&&ms(_,Ws.alternate,Ws),128&E){b=void 0;var C=Ws.ref;if(null!==C){var k=Ws.stateNode;Ws.tag,b=k,"function"==typeof C?C(b):C.current=b}}Ws=Ws.nextEffect}}catch(e){if(null===Ws)throw Error(a(330));Fc(Ws,e),Ws=Ws.nextEffect}}while(null!==Ws);Ws=null,ji(),Is=i}else e.current=n;if(Ks)Ks=!1,Xs=e,Ys=t;else for(Ws=r;null!==Ws;)t=Ws.nextEffect,Ws.nextEffect=null,8&Ws.flags&&((E=Ws).sibling=null,E.stateNode=null),Ws=t;if(0===(r=e.pendingLanes)&&($s=null),1===r?e===ic?rc++:(rc=0,ic=e):rc=0,n=n.stateNode,Ei&&"function"==typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(wi,n,void 0,!(64&~n.current.flags))}catch(e){}if(fc(e,Vi()),Qs)throw Qs=!1,e=Zs,Zs=null,e;return!!(8&Is)||Wi(),null}function Pc(){for(;null!==Ws;){var e=Ws.alternate;lc||null===cc||(8&Ws.flags?Ye(Ws,cc)&&(lc=!0):13===Ws.tag&&Ts(e,Ws)&&Ye(Ws,cc)&&(lc=!0));var t=Ws.flags;!!(256&t)&&fs(e,Ws),!(512&t)||Ks||(Ks=!0,Gi(97,(function(){return Mc(),null}))),Ws=Ws.nextEffect}}function Mc(){if(90!==Ys){var e=97<Ys?97:Ys;return Ys=90,Ji(e,Dc)}return!1}function Nc(e,t){ec.push(t,e),Ks||(Ks=!0,Gi(97,(function(){return Mc(),null})))}function Lc(e,t){tc.push(t,e),Ks||(Ks=!0,Gi(97,(function(){return Mc(),null})))}function Dc(){if(null===Xs)return!1;var e=Xs;if(Xs=null,48&Is)throw Error(a(331));var t=Is;Is|=32;var n=tc;tc=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));Fc(o,e)}}for(n=ec,ec=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var c=i.create;i.destroy=c()}catch(e){if(null===o)throw Error(a(330));Fc(o,e)}}for(c=e.current.firstEffect;null!==c;)e=c.nextEffect,c.nextEffect=null,8&c.flags&&(c.sibling=null,c.stateNode=null),c=e;return Is=t,Wi(),!0}function jc(e,t,n){uo(e,t=us(0,t=ss(n,t),1)),t=uc(),null!==(e=pc(e,1))&&(Vt(e,1,t),fc(e,t))}function Fc(e,t){if(3===e.tag)jc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){jc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===$s||!$s.has(r))){var i=ds(n,e=ss(t,e),1);if(uo(n,i),i=uc(),null!==(n=pc(n,1)))Vt(n,1,i),fc(n,i);else if("function"==typeof r.componentDidCatch&&(null===$s||!$s.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Bc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=uc(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(Ms&n)===n&&(4===Ds||3===Ds&&(62914560&Ms)===Ms&&500>Vi()-zs?wc(e,0):Hs|=n),fc(e,t)}function Uc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(2&(t=e.mode)?4&t?(0===ac&&(ac=Fs),0===(t=Ut(62914560&~ac))&&(t=4194304)):t=99===zi()?1:2:t=1),n=uc(),null!==(e=pc(e,t))&&(Vt(e,t,n),fc(e,n))}function Hc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Vc(e,t,n,r){return new Hc(e,t,n,r)}function zc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qc(e,t){var n=e.alternate;return null===n?((n=Vc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jc(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)zc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case C:return Gc(n.children,i,o,t);case D:s=8,i|=16;break;case k:s=8,i|=1;break;case T:return(e=Vc(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=o,e;case I:return(e=Vc(13,n,t,i)).type=I,e.elementType=I,e.lanes=o,e;case O:return(e=Vc(19,n,t,i)).elementType=O,e.lanes=o,e;case j:return Wc(n,i,o,t);case F:return(e=Vc(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case A:s=9;break e;case R:s=11;break e;case P:s=14;break e;case M:s=16,r=null;break e;case N:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Vc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Gc(e,t,n,r){return(e=Vc(7,e,r,t)).lanes=n,e}function Wc(e,t,n,r){return(e=Vc(23,e,r,t)).elementType=j,e.lanes=n,e}function Qc(e,t,n){return(e=Vc(6,e,null,t)).lanes=n,e}function Zc(e,t,n){return(t=Vc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ht(0),this.expirationTimes=Ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ht(0),this.mutableSourceEagerHydrationData=null}function Kc(e,t,n,r){var i=t.current,o=uc(),s=dc(i);e:if(n){t:{if(Ze(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(vi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(a(171))}if(1===n.tag){var l=n.type;if(vi(l)){n=_i(n,l,c);break e}}n=c}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),uo(i,t),hc(i,s,o),s}function Xc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function el(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}function tl(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $c(e,t,null!=n&&!0===n.hydrate),t=Vc(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,so(t),e[Yr]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Xc(a);s.call(e)}}Kc(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tl(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var c=i;i=function(){var e=Xc(a);c.call(e)}}_c((function(){Kc(t,a,e,i)}))}return Xc(a)}function il(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Gs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Da=!0;else{if(!(n&r)){switch(Da=!1,t.tag){case 3:Ga(t),Wo();break;case 5:Lo(t);break;case 1:vi(t.type)&&bi(t);break;case 4:Mo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ui(Ki,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return n&t.child.childLanes?Xa(e,t,n):(ui(jo,1&jo.current),null!==(t=rs(e,t,n))?t.sibling:null);ui(jo,1&jo.current);break;case 19:if(r=!!(n&t.childLanes),64&e.flags){if(r)return ns(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(jo,jo.current),r)break;return null;case 23:case 24:return t.lanes=0,Ha(e,t,n)}return rs(e,t,n)}Da=!!(16384&e.flags)}else Da=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,hi.current),io(t,n),i=aa(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&vo(t,r,s,e),i.updater=go,t.stateNode=i,i._reactInternals=t,So(t,r,e,n),t=Ja(null,t,r,!0,o,n)}else t.tag=0,ja(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return zc(e)?1:0;if(null!=e){if((e=e.$$typeof)===R)return 11;if(e===P)return 14}return 2}(i),e=$i(i,e),o){case 0:t=za(null,t,i,e,n);break e;case 1:t=qa(null,t,i,e,n);break e;case 11:t=Fa(null,t,i,e,n);break e;case 14:t=Ba(null,t,i,$i(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 1:return r=t.type,i=t.pendingProps,qa(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 3:if(Ga(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Wo(),t=rs(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Uo=Wr(t.stateNode.containerInfo.firstChild),Bo=t,o=Ho=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Qo.push(o);for(n=xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else ja(e,t,r,n),Wo();t=t.child}return t;case 5:return Lo(t),null===e&&qo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,zr(r,i)?s=null:null!==o&&zr(r,o)&&(t.flags|=16),Va(e,t),ja(e,t,s,n),t.child;case 6:return null===e&&qo(t),null;case 13:return Xa(e,t,n);case 4:return Mo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=To(t,null,r,n):ja(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 7:return ja(e,t,t.pendingProps,n),t.child;case 8:case 12:return ja(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var c=t.type._context;if(ui(Ki,c._currentValue),c._currentValue=o,null!==s)if(c=s.value,0==(o=lr(c,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(c,o):1073741823))){if(s.children===i.children&&!pi.current){t=rs(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){s=c.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&u.observedBits&o){1===c.tag&&((u=lo(-1,n&-n)).tag=2,uo(c,u)),c.lanes|=n,null!==(u=c.alternate)&&(u.lanes|=n),ro(c.return,n),l.lanes|=n;break}u=u.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}ja(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,io(t,n),r=r(i=oo(i,o.unstable_observedBits)),t.flags|=1,ja(e,t,r,n),t.child;case 14:return o=$i(i=t.type,t.pendingProps),Ba(e,t,i,o=$i(i.type,o),r,n);case 15:return Ua(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$i(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,vi(r)?(e=!0,bi(t)):e=!1,io(t,n),_o(t,r,i),So(t,r,i,n),Ja(null,t,r,!0,e,n);case 19:return ns(e,t,n);case 23:case 24:return Ha(e,t,n)}throw Error(a(156,t.tag))},tl.prototype.render=function(e){Kc(e,this._internalRoot,null,null)},tl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Kc(null,e,null,(function(){t[Yr]=null}))},et=function(e){13===e.tag&&(hc(e,4,uc()),el(e,4))},tt=function(e){13===e.tag&&(hc(e,67108864,uc()),el(e,67108864))},nt=function(e){if(13===e.tag){var t=uc(),n=dc(e);hc(e,n,t),el(e,n)}},rt=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(a(90));K(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Pe=yc,Me=function(e,t,n,r,i){var o=Is;Is|=4;try{return Ji(98,e.bind(null,t,n,r,i))}finally{0===(Is=o)&&(Js(),Wi())}},Ne=function(){!(49&Is)&&(function(){if(null!==nc){var e=nc;nc=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,fc(e,Vi())}))}Wi()}(),Mc())},Le=function(e,t){var n=Is;Is|=2;try{return e(t)}finally{0===(Is=n)&&(Js(),Wi())}};var ol={Events:[ni,ri,ii,Ie,Oe,Mc,{current:!1}]},al={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},sl={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{wi=cl.inject(sl),Ei=cl}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ol,t.createPortal=il,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Is;if(48&n)return e(t);Is|=1;try{if(e)return Ji(99,e.bind(null,t))}finally{Is=n,Wi()}},t.hydrate=function(e,t,n){if(!nl(t))throw Error(a(200));return rl(null,e,t,!0,n)},t.render=function(e,t,n){if(!nl(t))throw Error(a(200));return rl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nl(e))throw Error(a(40));return!!e._reactRootContainer&&(_c((function(){rl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Yr]=null}))})),!0)},t.unstable_batchedUpdates=yc,t.unstable_createPortal=function(e,t){return il(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return rl(e,t,n,!1,r)},t.version="17.0.2"},3935:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){}}(),e.exports=n(4448)},9921:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function S(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case l:case h:case v:case m:case c:return e;default:return t}}case i:return t}}}function w(e){return S(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=v,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return w(e)||S(e)===u},t.isConcurrentMode=w,t.isContextConsumer=function(e){return S(e)===l},t.isContextProvider=function(e){return S(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return S(e)===h},t.isFragment=function(e){return S(e)===o},t.isLazy=function(e){return S(e)===v},t.isMemo=function(e){return S(e)===m},t.isPortal=function(e){return S(e)===i},t.isProfiler=function(e){return S(e)===s},t.isStrictMode=function(e){return S(e)===a},t.isSuspense=function(e){return S(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===s||e===a||e===p||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h||e.$$typeof===y||e.$$typeof===_||e.$$typeof===b||e.$$typeof===g)},t.typeOf=S},9864:function(e,t,n){"use strict";e.exports=n(9921)},2408:function(e,t,n){"use strict";var r=n(7418),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,c=60112;t.Suspense=60113;var l=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),s=d("react.context"),c=d("react.forward_ref"),t.Suspense=d("react.suspense"),l=d("react.memo"),u=d("react.lazy")}var h="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var _=y.prototype=new g;_.constructor=y,r(_,v.prototype),_.isPureReactComponent=!0;var b={current:null},S=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,r)&&!w.hasOwnProperty(r)&&(o[r]=t[r]);var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===o[r]&&(o[r]=c[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:b.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var k=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case i:case o:c=!0}}if(c)return a=a(c=e),e=""===r?"."+T(c,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),x(a,t,n,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(c=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var u=r+T(s=e[l],l);c+=x(s,t,n,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),l=0;!(s=e.next()).done;)c+=x(s=s.value,t,n,u=r+T(s,l++),a);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function A(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var I={current:null};function O(){var e=I.current;if(null===e)throw Error(p(321));return e}var P={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error(p(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null==e)throw Error(p(267,e));var o=r({},e.props),a=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=b.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!w.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},7294:function(e,t,n){"use strict";e.exports=n(2408)},53:function(e,t){"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,d=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(d,0),e}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(d,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,p=window.clearTimeout;"undefined"!=typeof console&&(window.cancelAnimationFrame,window.requestAnimationFrame);var f=!1,m=null,v=-1,g=5,y=0;t.unstable_shouldYield=function(){return t.unstable_now()>=y},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e||(g=0<e?Math.floor(1e3/e):5)};var _=new MessageChannel,b=_.port2;_.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();y=e+g;try{m(!0,e)?b.postMessage(null):(f=!1,m=null)}catch(e){throw b.postMessage(null),e}}else f=!1},n=function(e){m=e,f||(f=!0,b.postMessage(null))},r=function(e,n){v=h((function(){e(t.unstable_now())}),n)},i=function(){p(v),v=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function w(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,c=e[s];if(void 0!==a&&0>C(a,n))void 0!==c&&0>C(c,a)?(e[r]=c,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==c&&0>C(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],T=[],x=1,A=null,R=3,I=!1,O=!1,P=!1;function M(e){for(var t=w(T);null!==t;){if(null===t.callback)E(T);else{if(!(t.startTime<=e))break;E(T),t.sortIndex=t.expirationTime,S(k,t)}t=w(T)}}function N(e){if(P=!1,M(e),!O)if(null!==w(k))O=!0,n(L);else{var t=w(T);null!==t&&r(N,t.startTime-e)}}function L(e,n){O=!1,P&&(P=!1,i()),I=!0;var o=R;try{for(M(n),A=w(k);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=A.callback;if("function"==typeof a){A.callback=null,R=A.priorityLevel;var s=a(A.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?A.callback=s:A===w(k)&&E(k),M(n)}else E(k);A=w(k)}if(null!==A)var c=!0;else{var l=w(T);null!==l&&r(N,l.startTime-n),c=!1}return c}finally{A=null,R=o,I=!1}}var D=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||I||(O=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return w(k)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=D,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:x++,callback:o,priorityLevel:e,startTime:a,expirationTime:c=a+c,sortIndex:-1},a>s?(e.sortIndex=a,S(T,e),null===w(k)&&e===w(T)&&(P?i():P=!0,r(N,a-s))):(e.sortIndex=c,S(k,e),O||I||(O=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},3840:function(e,t,n){"use strict";e.exports=n(53)},9685:function(e){e.exports=function(e){function t(e){"undefined"!=typeof console&&(console.error||console.log)("[Script Loader]",e)}try{"undefined"!=typeof execScript&&"undefined"!=typeof attachEvent&&"undefined"==typeof addEventListener?execScript(e):"undefined"!=typeof eval?eval.call(null,e):t("EvalError: No eval function available")}catch(e){t(e)}}},7260:function(e,t,n){n(9685)(n(4598))},6847:function(e,t,n){n(9685)(n(8275))},1515:function(e,t,n){n(9685)(n(9278))},6206:function(e,t,n){n(9685)(n(4637))},4099:function(e,t,n){var r=n(3379),i=n(3762);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},485:function(e,t,n){var r=n(3379),i=n(2058);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},3494:function(e,t,n){var r=n(3379),i=n(2569);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},5335:function(e,t,n){var r=n(3379),i=n(3349);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},6923:function(e,t,n){var r=n(3379),i=n(5252);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},7275:function(e,t,n){var r=n(3379),i=n(2386);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},4363:function(e,t,n){var r=n(3379),i=n(8855);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},3147:function(e,t,n){var r=n(3379),i=n(4255);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},3307:function(e,t,n){var r=n(3379),i=n(7690);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},2931:function(e,t,n){var r=n(3379),i=n(5088);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},3514:function(e,t,n){var r=n(3379),i=n(825);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},3379:function(e,t,n){"use strict";var r,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function a(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],i=0;i<e.length;i++){var s=e[i],c=t.base?s[0]+t.base:s[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var d=a(u),h={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(o[d].references++,o[d].updater(h)):o.push({identifier:u,updater:m(h,t),references:1}),r.push(u)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var l,u=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function d(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=u(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function h(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,f=0;function m(e,t){var n,r,i;if(t.singleton){var o=f++;n=p||(p=c(t)),r=d.bind(null,n,o,!1),i=d.bind(null,n,o,!0)}else n=c(t),r=h.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=a(n[r]);o[i].references--}for(var c=s(e,t),l=0;l<n.length;l++){var u=a(n[l]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}n=c}}}},5877:function(e,t,n){var r=n(3570),i=n(1171),o=i;o.v1=r,o.v4=i,e.exports=o},5327:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},5217:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)!(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},3570:function(e,t,n){var r,i,o=n(5217),a=n(5327),s=0,c=0;e.exports=function(e,t,n){var l=t&&n||0,u=t||[],d=(e=e||{}).node||r,h=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==h){var p=o();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=i=16383&(p[6]<<8|p[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:c+1,v=f-s+(m-c)/1e4;if(v<0&&void 0===e.clockseq&&(h=h+1&16383),(v<0||f>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=f,c=m,i=h;var g=(1e4*(268435455&(f+=122192928e5))+m)%4294967296;u[l++]=g>>>24&255,u[l++]=g>>>16&255,u[l++]=g>>>8&255,u[l++]=255&g;var y=f/4294967296*1e4&268435455;u[l++]=y>>>8&255,u[l++]=255&y,u[l++]=y>>>24&15|16,u[l++]=y>>>16&255,u[l++]=h>>>8|128,u[l++]=255&h;for(var _=0;_<6;++_)u[l+_]=d[_];return t||a(u)}},1171:function(e,t,n){var r=n(5217),i=n(5327);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},7618:function(e){"use strict";function t(e,t){if(!r)return!1;const i=e.buffer;let o=d.get(i);if(null==o){if((o=n.validate(i))&&t)try{new n.Instance(new n.Module(i)).exports[0]()}catch(e){o=!1}d.set(i,o)}return o}const n=this.WebAssembly||globalThis.WebAssembly,r="object"==typeof n,i=e=>void 0!==e,o=(...e)=>Uint8Array.of(0,97,115,109,1,0,0,0,...e),a=(...e)=>Uint32Array.of(1836278016,1,...e),s=(...e)=>a(1610679297,33751040,...e,40239360,259),c=(...e)=>o(1,4,1,96,0,0,3,2,1,0,...e,11,0,10,4,110,97,109,101,2,3,1,0,0),l=(...e)=>Uint16Array.of(24832,28019,1,0,1025,24577,0,515,1,...e),u=(...e)=>l(...e,2842,4096,28164,28001,357,260,256,560,259,0),d=new WeakMap,h=a(1610679553,58589440,117440770,805372165,101318656,1107297281,268438272,1835101700,17039717,36700416,259),p=o(5,3,1,4,1,0,8,4,110,97,109,101,2,1,0),f=l(773,1,2561,269,11,65,65,65,3068,2816,2560,28164,28001,613,259,0),m=a(1610679297,33751040,134873089,100664833,185276736),v=o(2,8,1,1,97,1,98,3,127,1,6,6,1,127,1,65,0,11,7,5,1,1,97,3,1,0,8,4,110,97,109,101,2,1,0),g=Uint16Array.of(24832,28019,1,0,1537,24577,512,32639,515,1,2058,1537,16640,16640,2816,2560,28164,28001,613,259,0),y=u(3082,2561,17152,0,0,252),_=u(2058,1537,16640,49152),b=s(101318657,301990913,268438272,1835101700,17039717),S=c(5,4,1,3,1,1,10,7,1,5,0,254,3,0),w=s(84344833,6357249,17369600,4259847,186257917,1845758464),E=c(10,7,1,5,0,208,112,26);e.exports={support:(e=1)=>r&&t(Uint32Array.of(1836278016,e)),get supportStreaming(){return r&&i(n.instantiateStreaming)},feature:{get bigInt(){return t(h,!0)},get bulk(){return t(f)},get exceptions(){return t(m)},get memory64(){return t(p)},get mutableGlobal(){return t(v)},get multiValue(){return t(g)},get saturateConversions(){return t(y)},get signExtensions(){return t(_)},get tailCall(){return t(b)},get threads(){return t(S)},get simd(){return t(w)},get references(){return t(E)},get typeReflection(){return r&&i(n.Memory.type)},get funcReferences(){return r&&i(n.Function)}}}},8416:function(e,t,n){var r=n(4062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},434:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5263:function(e,t,n){var r=n(8698).default;function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var c=a?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(o,s,c):o[s]=e[s]}return o.default=e,n&&n.set(e,o),o},e.exports.__esModule=!0,e.exports.default=e.exports},215:function(e,t,n){var r=n(7071);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},7071:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(9142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},1721:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,{Z:function(){return i}})},5987:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(5245);function i(e,t){if(null==e)return{};var n,i,o=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},5245:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},885:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2982:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907),i=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e){if("object"!==(0,r.Z)(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==(0,r.Z)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},4147:function(e){"use strict";e.exports={i8:"4.2.1"}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="",n.nc=void 0;var r={};return function(){"use strict";n.r(r),n.d(r,{default:function(){return Av},getAppRef:function(){return xv},startSession:function(){return Tv}});var e=n(7294),t=n(3935),i=n(6010),o=n(7462),a=n(5987),s=n(9437),c=n(5245),l=n(1721),u=e.createContext(null),d="unmounted",h="exited",p="entering",f="entered",m="exiting",v=function(n){function r(e,t){var r;r=n.call(this,e,t)||this;var i,o=t&&!t.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=h,r.appearStatus=p):i=f:i=e.unmountOnExit||e.mountOnEnter?d:h,r.state={status:i},r.nextCallback=null,r}(0,l.Z)(r,n),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===d?{status:h}:null};var i=r.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==p&&n!==f&&(t=p):n!==p&&n!==f||(t=m)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,n){if(void 0===e&&(e=!1),null!==n)if(this.cancelNextCallback(),n===p){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:t.findDOMNode(this);r&&function(e){e.scrollTop}(r)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===h&&this.setState({status:d})},i.performEnter=function(e){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:e,o=this.props.nodeRef?[i]:[t.findDOMNode(this),i],a=o[0],s=o[1],c=this.getTimeouts(),l=i?c.appear:c.enter;e||r?(this.props.onEnter(a,s),this.safeSetState({status:p},(function(){n.props.onEntering(a,s),n.onTransitionEnd(l,(function(){n.safeSetState({status:f},(function(){n.props.onEntered(a,s)}))}))}))):this.safeSetState({status:f},(function(){n.props.onEntered(a)}))},i.performExit=function(){var e=this,n=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:t.findDOMNode(this);n?(this.props.onExit(i),this.safeSetState({status:m},(function(){e.props.onExiting(i),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:h},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:h},(function(){e.props.onExited(i)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,n){this.setNextCallback(n);var r=this.props.nodeRef?this.props.nodeRef.current:t.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(r&&!i){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],a=o[0],s=o[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var t=this.state.status;if(t===d)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,c.Z)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(u.Provider,{value:null},"function"==typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},r}(e.Component);function g(){}v.contextType=u,v.propTypes={},v.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g},v.UNMOUNTED=d,v.EXITED=h,v.ENTERING=p,v.ENTERED=f,v.EXITING=m;var y=v,_=n(3834),b=n(159),S=n(9700);function w(){return(0,b.Z)()||S.Z}var E=n(3366),C=function(e){return e.scrollTop};function k(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"==typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}function T(e,t){var n=function(e,t){var n,r=t.getBoundingClientRect();if(t.fakeTransform)n=t.fakeTransform;else{var i=window.getComputedStyle(t);n=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform")}var o=0,a=0;if(n&&"none"!==n&&"string"==typeof n){var s=n.split("(")[1].split(")")[0].split(",");o=parseInt(s[4],10),a=parseInt(s[5],10)}return"left"===e?"translateX(".concat(window.innerWidth,"px) translateX(").concat(o-r.left,"px)"):"right"===e?"translateX(-".concat(r.left+r.width-o,"px)"):"up"===e?"translateY(".concat(window.innerHeight,"px) translateY(").concat(a-r.top,"px)"):"translateY(-".concat(r.top+r.height-a,"px)")}(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}var x={enter:E.x9.enteringScreen,exit:E.x9.leavingScreen},A=e.forwardRef((function(n,r){var i=n.children,c=n.direction,l=void 0===c?"down":c,u=n.in,d=n.onEnter,h=n.onEntered,p=n.onEntering,f=n.onExit,m=n.onExited,v=n.onExiting,g=n.style,b=n.timeout,S=void 0===b?x:b,E=n.TransitionComponent,A=void 0===E?y:E,R=(0,a.Z)(n,["children","direction","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),I=w(),O=e.useRef(null),P=e.useCallback((function(e){O.current=t.findDOMNode(e)}),[]),M=(0,_.Z)(i.ref,P),N=(0,_.Z)(M,r),L=function(e){return function(t){e&&(void 0===t?e(O.current):e(O.current,t))}},D=L((function(e,t){T(l,e),C(e),d&&d(e,t)})),j=L((function(e,t){var n=k({timeout:S,style:g},{mode:"enter"});e.style.webkitTransition=I.transitions.create("-webkit-transform",(0,o.Z)({},n,{easing:I.transitions.easing.easeOut})),e.style.transition=I.transitions.create("transform",(0,o.Z)({},n,{easing:I.transitions.easing.easeOut})),e.style.webkitTransform="none",e.style.transform="none",p&&p(e,t)})),F=L(h),B=L(v),U=L((function(e){var t=k({timeout:S,style:g},{mode:"exit"});e.style.webkitTransition=I.transitions.create("-webkit-transform",(0,o.Z)({},t,{easing:I.transitions.easing.sharp})),e.style.transition=I.transitions.create("transform",(0,o.Z)({},t,{easing:I.transitions.easing.sharp})),T(l,e),f&&f(e)})),H=L((function(e){e.style.webkitTransition="",e.style.transition="",m&&m(e)})),V=e.useCallback((function(){O.current&&T(l,O.current)}),[l]);return e.useEffect((function(){if(!u&&"down"!==l&&"right"!==l){var e=(0,s.Z)((function(){O.current&&T(l,O.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[l,u]),e.useEffect((function(){u||V()}),[u,V]),e.createElement(A,(0,o.Z)({nodeRef:O,onEnter:D,onEntered:F,onEntering:j,onExit:U,onExited:H,onExiting:B,appear:!0,in:u,timeout:S},R),(function(t,n){return e.cloneElement(i,(0,o.Z)({ref:N,style:(0,o.Z)({visibility:"exited"!==t||u?void 0:"hidden"},g,i.props.style)},n))}))})),R=A,I=n(150);function O(e){return(0,I.Z)(e)}var P=n(2543),M=n(9693),N=n(3914),L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,N.Z)(e,(0,o.Z)({defaultTheme:S.Z},t))},D=n(885),j=e.forwardRef((function(t,n){var r=t.children,s=t.classes,c=t.className,l=t.collapsedHeight,u=t.collapsedSize,d=void 0===u?"0px":u,h=t.component,p=void 0===h?"div":h,f=t.disableStrictModeCompat,m=void 0!==f&&f,v=t.in,g=t.onEnter,b=t.onEntered,S=t.onEntering,C=t.onExit,T=t.onExited,x=t.onExiting,A=t.style,R=t.timeout,I=void 0===R?E.x9.standard:R,O=t.TransitionComponent,P=void 0===O?y:O,M=(0,a.Z)(t,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),N=w(),L=e.useRef(),j=e.useRef(null),F=e.useRef(),B="number"==typeof(l||d)?"".concat(l||d,"px"):l||d;e.useEffect((function(){return function(){clearTimeout(L.current)}}),[]);var U=N.unstable_strictMode&&!m,H=e.useRef(null),V=(0,_.Z)(n,U?H:void 0),z=function(e){return function(t,n){if(e){var r=U?[H.current,t]:[t,n],i=(0,D.Z)(r,2),o=i[0],a=i[1];void 0===a?e(o):e(o,a)}}},q=z((function(e,t){e.style.height=B,g&&g(e,t)})),J=z((function(e,t){var n=j.current?j.current.clientHeight:0,r=k({style:A,timeout:I},{mode:"enter"}).duration;if("auto"===I){var i=N.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(i,"ms"),F.current=i}else e.style.transitionDuration="string"==typeof r?r:"".concat(r,"ms");e.style.height="".concat(n,"px"),S&&S(e,t)})),G=z((function(e,t){e.style.height="auto",b&&b(e,t)})),W=z((function(e){var t=j.current?j.current.clientHeight:0;e.style.height="".concat(t,"px"),C&&C(e)})),Q=z(T),Z=z((function(e){var t=j.current?j.current.clientHeight:0,n=k({style:A,timeout:I},{mode:"exit"}).duration;if("auto"===I){var r=N.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(r,"ms"),F.current=r}else e.style.transitionDuration="string"==typeof n?n:"".concat(n,"ms");e.style.height=B,x&&x(e)}));return e.createElement(P,(0,o.Z)({in:v,onEnter:q,onEntered:G,onEntering:J,onExit:W,onExited:Q,onExiting:Z,addEndListener:function(e,t){var n=U?e:t;"auto"===I&&(L.current=setTimeout(n,F.current||0))},nodeRef:U?H:void 0,timeout:"auto"===I?null:I},M),(function(t,n){return e.createElement(p,(0,o.Z)({className:(0,i.Z)(s.root,s.container,c,{entered:s.entered,exited:!v&&"0px"===B&&s.hidden}[t]),style:(0,o.Z)({minHeight:B},A),ref:V},n),e.createElement("div",{className:s.wrapper,ref:j},e.createElement("div",{className:s.wrapperInner},r)))}))}));j.muiSupportAuto=!0;var F=(0,P.Z)((function(e){return{root:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(j),B=n(2087),U=n(626),H=n(5192);function V(e){return e.substring(2).toLowerCase()}var z=function(n){var r=n.children,i=n.disableReactTree,o=void 0!==i&&i,a=n.mouseEvent,s=void 0===a?"onClick":a,c=n.onClickAway,l=n.touchEvent,u=void 0===l?"onTouchEnd":l,d=e.useRef(!1),h=e.useRef(null),p=e.useRef(!1),f=e.useRef(!1);e.useEffect((function(){return setTimeout((function(){p.current=!0}),0),function(){p.current=!1}}),[]);var m=e.useCallback((function(e){h.current=t.findDOMNode(e)}),[]),v=(0,_.Z)(r.ref,m),g=(0,H.Z)((function(e){var t=f.current;f.current=!1,p.current&&h.current&&!function(e){return document.documentElement.clientWidth<e.clientX||document.documentElement.clientHeight<e.clientY}(e)&&(d.current?d.current=!1:(e.composedPath?e.composedPath().indexOf(h.current)>-1:!(0,U.Z)(h.current).documentElement.contains(e.target)||h.current.contains(e.target))||!o&&t||c(e))})),y=function(e){return function(t){f.current=!0;var n=r.props[e];n&&n(t)}},b={ref:v};return!1!==u&&(b[u]=y(u)),e.useEffect((function(){if(!1!==u){var e=V(u),t=(0,U.Z)(h.current),n=function(){d.current=!0};return t.addEventListener(e,g),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,g),t.removeEventListener("touchmove",n)}}}),[g,u]),!1!==s&&(b[s]=y(s)),e.useEffect((function(){if(!1!==s){var e=V(s),t=(0,U.Z)(h.current);return t.addEventListener(e,g),function(){t.removeEventListener(e,g)}}}),[g,s]),e.createElement(e.Fragment,null,e.cloneElement(r,b))},q=n(8679),J=n.n(q);function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}function Q(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Z=e.createContext(),$={root:{},anchorOriginTopCenter:{},anchorOriginBottomCenter:{},anchorOriginTopRight:{},anchorOriginBottomRight:{},anchorOriginTopLeft:{},anchorOriginBottomLeft:{}},K={containerRoot:{},containerAnchorOriginTopCenter:{},containerAnchorOriginBottomCenter:{},containerAnchorOriginTopRight:{},containerAnchorOriginBottomRight:{},containerAnchorOriginTopLeft:{},containerAnchorOriginBottomLeft:{}},X=20,Y=6,ee=2,te={maxSnack:3,dense:!1,hideIconVariant:!1,variant:"default",autoHideDuration:5e3,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:R,transitionDuration:{enter:225,exit:195}},ne=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},re=function(e){return Object.keys(e).filter((function(e){return!K[e]})).reduce((function(t,n){var r;return W({},t,((r={})[n]=e[n],r))}),{})},ie={TIMEOUT:"timeout",CLICKAWAY:"clickaway",MAXSNACK:"maxsnack",INSTRUCTED:"instructed"},oe=function(e){return"containerAnchorOrigin"+e},ae=function(e){var t=e.vertical,n=e.horizontal;return"anchorOrigin"+ne(t)+ne(n)},se=function(e){return"variant"+ne(e)},ce=function(e){return!!e||0===e},le=function(e){return"number"==typeof e||null===e};function ue(e,t,n){return void 0===e&&(e={}),void 0===t&&(t={}),void 0===n&&(n={}),W({},n,{},t,{},e)}var de=function(e){var t;return O({root:(t={display:"flex",flexWrap:"wrap",flexGrow:1},t[e.breakpoints.up("sm")]={flexGrow:"initial",minWidth:288},t)})},he=(0,e.forwardRef)((function(t,n){var r=t.classes,o=t.className,a=Q(t,["classes","className"]);return e.createElement("div",Object.assign({ref:n,className:(0,i.Z)(r.root,o)},a))})),pe=(0,P.Z)(de)(he),fe={right:"left",left:"right",bottom:"up",top:"down"},me=function(e){return"center"!==e.horizontal?fe[e.horizontal]:fe[e.vertical]},ve=function(t){return e.createElement(B.Z,Object.assign({},t),e.createElement("path",{d:"M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41\n        10.59L10 14.17L17.59 6.58L19 8L10 17Z"}))},ge=function(t){return e.createElement(B.Z,Object.assign({},t),e.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},ye=function(t){return e.createElement(B.Z,Object.assign({},t),e.createElement("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,\n        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,\n        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"}))},_e=function(t){return e.createElement(B.Z,Object.assign({},t),e.createElement("path",{d:"M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,\n        0 22,12A10,10 0 0,0 12,2Z"}))},be={fontSize:20,marginInlineEnd:8},Se={default:void 0,success:e.createElement(ve,{style:be}),warning:e.createElement(ge,{style:be}),error:e.createElement(ye,{style:be}),info:e.createElement(_e,{style:be})};function we(e,t){return e.reduce((function(e,n){return null==n?e:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=[].concat(i);t&&-1===a.indexOf(t)&&a.push(t),e.apply(this,a),n.apply(this,a)}}),(function(){}))}var Ee="undefined"!=typeof window?e.useLayoutEffect:e.useEffect;function Ce(t){var n=(0,e.useRef)(t);return Ee((function(){n.current=t})),(0,e.useCallback)((function(){return n.current.apply(void 0,arguments)}),[])}var ke=(0,e.forwardRef)((function(t,n){var r=t.children,i=t.autoHideDuration,o=t.ClickAwayListenerProps,a=t.disableWindowBlurListener,s=void 0!==a&&a,c=t.onClose,l=t.onMouseEnter,u=t.onMouseLeave,d=t.open,h=t.resumeHideDuration,p=Q(t,["children","autoHideDuration","ClickAwayListenerProps","disableWindowBlurListener","onClose","onMouseEnter","onMouseLeave","open","resumeHideDuration"]),f=(0,e.useRef)(),m=Ce((function(){c&&c.apply(void 0,arguments)})),v=Ce((function(e){c&&null!=e&&(clearTimeout(f.current),f.current=setTimeout((function(){m(null,ie.TIMEOUT)}),e))}));(0,e.useEffect)((function(){return d&&v(i),function(){clearTimeout(f.current)}}),[d,i,v]);var g=function(){clearTimeout(f.current)},y=(0,e.useCallback)((function(){null!=i&&v(null!=h?h:.5*i)}),[i,h,v]);return(0,e.useEffect)((function(){if(!s&&d)return window.addEventListener("focus",y),window.addEventListener("blur",g),function(){window.removeEventListener("focus",y),window.removeEventListener("blur",g)}}),[s,y,d]),(0,e.createElement)(z,W({onClickAway:function(e){c&&c(e,ie.CLICKAWAY)}},o),(0,e.createElement)("div",W({onMouseEnter:function(e){l&&l(e),g()},onMouseLeave:function(e){u&&u(e),y()},ref:n},p),r))})),Te=function(e){var t=e.palette.mode||e.palette.type,n=(0,M._4)(e.palette.background.default,"light"===t?.8:.98);return O(W({},$,{contentRoot:W({},e.typography.body2,{backgroundColor:n,color:e.palette.getContrastText(n),alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"}),lessPadding:{paddingLeft:20},variantSuccess:{backgroundColor:"#43a047",color:"#fff"},variantError:{backgroundColor:"#d32f2f",color:"#fff"},variantInfo:{backgroundColor:"#2196f3",color:"#fff"},variantWarning:{backgroundColor:"#ff9800",color:"#fff"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8},wrappedRoot:{position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0}}))},xe=function(t){var n=t.classes,r=Q(t,["classes"]),o=(0,e.useRef)(),a=(0,e.useState)(!0),s=a[0],c=a[1];(0,e.useEffect)((function(){return function(){o.current&&clearTimeout(o.current)}}),[]);var l=we([r.snack.onClose,r.onClose],r.snack.key),u=r.style,d=r.ariaAttributes,h=r.className,p=r.hideIconVariant,f=r.iconVariant,m=r.snack,v=r.action,g=r.content,y=r.TransitionComponent,_=r.TransitionProps,b=r.transitionDuration,S=Q(r,["style","dense","ariaAttributes","className","hideIconVariant","iconVariant","snack","action","content","TransitionComponent","TransitionProps","transitionDuration","onEnter","onEntered","onEntering","onExit","onExited","onExiting"]),w=m.key,E=m.open,C=m.className,k=m.variant,T=m.content,x=m.action,A=m.ariaAttributes,R=m.anchorOrigin,I=m.message,O=m.TransitionComponent,P=m.TransitionProps,M=m.transitionDuration,N=Q(m,["persist","key","open","entered","requestClose","className","variant","content","action","ariaAttributes","anchorOrigin","message","TransitionComponent","TransitionProps","transitionDuration","onEnter","onEntered","onEntering","onExit","onExited","onExiting"]),L=W({},Se,{},f)[k],D=W({"aria-describedby":"notistack-snackbar"},ue(A,d)),j=O||y||te.TransitionComponent,B=ue(M,b,te.transitionDuration),U=W({direction:me(R)},ue(P,_)),H=x||v;"function"==typeof H&&(H=H(w));var V=T||g;"function"==typeof V&&(V=V(w,m.message));var z=["onEnter","onEntering","onEntered","onExit","onExiting","onExited"].reduce((function(e,t){var n;return W({},e,((n={})[t]=we([r.snack[t],r[t]],r.snack.key),n))}),{});return e.createElement(F,{unmountOnExit:!0,timeout:175,in:s,onExited:z.onExited},e.createElement(ke,Object.assign({},S,N,{open:E,className:(0,i.Z)(n.root,n.wrappedRoot,n[ae(R)]),onClose:l}),e.createElement(j,Object.assign({appear:!0,in:E,timeout:B},U,{onExit:z.onExit,onExiting:z.onExiting,onExited:function(){o.current=setTimeout((function(){c(!s)}),125)},onEnter:z.onEnter,onEntering:z.onEntering,onEntered:we([z.onEntered,function(){r.snack.requestClose&&l(null,ie.INSTRCUTED)}])}),V||e.createElement(pe,Object.assign({},D,{role:"alert",style:u,className:(0,i.Z)(n.contentRoot,n[se(k)],h,C,!p&&L&&n.lessPadding)}),e.createElement("div",{id:D["aria-describedby"],className:n.message},p?null:L,I),H&&e.createElement("div",{className:n.action},H)))))},Ae=(0,P.Z)(Te)(xe),Re="& > .MuiCollapse-container > .MuiCollapse-wrapper, & > .MuiCollapse-root > .MuiCollapse-wrapper",Ie=L((function(e){var t,n,r,i,o;return{root:(t={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:e.zIndex.snackbar,height:"auto",width:"auto",transition:"top 300ms ease 0ms, right 300ms ease 0ms, bottom 300ms ease 0ms, left 300ms ease 0ms, margin 300ms ease 0ms, max-width 300ms ease 0ms",pointerEvents:"none"},t["& > .MuiCollapse-container, & > .MuiCollapse-root"]={pointerEvents:"all"},t[Re]={padding:Y+"px 0px",transition:"padding 300ms ease 0ms"},t.maxWidth="calc(100% - "+2*X+"px)",t[e.breakpoints.down("xs")]={width:"100%",maxWidth:"calc(100% - 32px)"},t),rootDense:(n={},n[Re]={padding:ee+"px 0px"},n),top:{top:X-Y,flexDirection:"column"},bottom:{bottom:X-Y,flexDirection:"column-reverse"},left:(r={left:X},r[e.breakpoints.up("sm")]={alignItems:"flex-start"},r[e.breakpoints.down("xs")]={left:"16px"},r),right:(i={right:X},i[e.breakpoints.up("sm")]={alignItems:"flex-end"},i[e.breakpoints.down("xs")]={right:"16px"},i),center:(o={left:"50%",transform:"translateX(-50%)"},o[e.breakpoints.up("sm")]={alignItems:"center"},o)}})),Oe=function(t){var n=Ie(),r=t.className,o=t.anchorOrigin,a=t.dense,s=Q(t,["className","anchorOrigin","dense"]),c=(0,i.Z)(n[o.vertical],n[o.horizontal],n.root,r,a&&n.rootDense);return e.createElement("div",Object.assign({className:c},s))},Pe=e.memo(Oe),Me=function(n){var r,o,a;function s(e){var t;return(t=n.call(this,e)||this).enqueueSnackbar=function(e,n){void 0===n&&(n={});var r=n,i=r.key,o=r.preventDuplicate,a=Q(r,["key","preventDuplicate"]),s=ce(i),c=s?i:(new Date).getTime()+Math.random(),l=function(e,t,n){return function(r){return"autoHideDuration"===r?le(e.autoHideDuration)?e.autoHideDuration:le(t.autoHideDuration)?t.autoHideDuration:te.autoHideDuration:e[r]||t[r]||n[r]}}(a,t.props,te),u=W({key:c},a,{message:e,open:!0,entered:!1,requestClose:!1,variant:l("variant"),anchorOrigin:l("anchorOrigin"),autoHideDuration:l("autoHideDuration")});return a.persist&&(u.autoHideDuration=void 0),t.setState((function(n){if(void 0===o&&t.props.preventDuplicate||o){var r=function(t){return s?t.key===i:t.message===e},a=n.queue.findIndex(r)>-1,c=n.snacks.findIndex(r)>-1;if(a||c)return n}return t.handleDisplaySnack(W({},n,{queue:[].concat(n.queue,[u])}))})),c},t.handleDisplaySnack=function(e){return e.snacks.length>=t.maxSnack?t.handleDismissOldest(e):t.processQueue(e)},t.processQueue=function(e){var t=e.queue,n=e.snacks;return t.length>0?W({},e,{snacks:[].concat(n,[t[0]]),queue:t.slice(1,t.length)}):e},t.handleDismissOldest=function(e){if(e.snacks.some((function(e){return!e.open||e.requestClose})))return e;var n=!1,r=!1;e.snacks.reduce((function(e,t){return e+(t.open&&t.persist?1:0)}),0)===t.maxSnack&&(r=!0);var i=e.snacks.map((function(e){return n||e.persist&&!r?W({},e):(n=!0,e.entered?(e.onClose&&e.onClose(null,ie.MAXSNACK,e.key),t.props.onClose&&t.props.onClose(null,ie.MAXSNACK,e.key),W({},e,{open:!1})):W({},e,{requestClose:!0}))}));return W({},e,{snacks:i})},t.handleEnteredSnack=function(e,n,r){if(!ce(r))throw new Error("handleEnteredSnack Cannot be called with undefined key");t.setState((function(e){return{snacks:e.snacks.map((function(e){return e.key===r?W({},e,{entered:!0}):W({},e)}))}}))},t.handleCloseSnack=function(e,n,r){if(t.props.onClose&&t.props.onClose(e,n,r),n!==ie.CLICKAWAY){var i=void 0===r;t.setState((function(e){var t=e.snacks,n=e.queue;return{snacks:t.map((function(e){return i||e.key===r?e.entered?W({},e,{open:!1}):W({},e,{requestClose:!0}):W({},e)})),queue:n.filter((function(e){return e.key!==r}))}}))}},t.closeSnackbar=function(e){var n=t.state.snacks.find((function(t){return t.key===e}));ce(e)&&n&&n.onClose&&n.onClose(null,ie.INSTRUCTED,e),t.handleCloseSnack(null,ie.INSTRUCTED,e)},t.handleExitedSnack=function(e,n,r){var i=n||r;if(!ce(i))throw new Error("handleExitedSnack Cannot be called with undefined key");t.setState((function(e){var n=t.processQueue(W({},e,{snacks:e.snacks.filter((function(e){return e.key!==i}))}));return 0===n.queue.length?n:t.handleDismissOldest(n)}))},t.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:t.enqueueSnackbar,closeSnackbar:t.closeSnackbar}},t}return o=n,(r=s).prototype=Object.create(o.prototype),r.prototype.constructor=r,r.__proto__=o,s.prototype.render=function(){var n=this,r=this.state.contextValue,o=this.props,a=o.iconVariant,s=o.dense,c=void 0===s?te.dense:s,l=o.hideIconVariant,u=void 0===l?te.hideIconVariant:l,d=o.domRoot,h=o.children,p=o.classes,f=void 0===p?{}:p,m=Q(o,["maxSnack","preventDuplicate","variant","anchorOrigin","iconVariant","dense","hideIconVariant","domRoot","children","classes"]),v=this.state.snacks.reduce((function(e,t){var n,r,i=(r=t.anchorOrigin,""+ne(r.vertical)+ne(r.horizontal)),o=e[i]||[];return W({},e,((n={})[i]=[].concat(o,[t]),n))}),{}),g=Object.keys(v).map((function(t){var r=v[t];return e.createElement(Pe,{key:t,dense:c,anchorOrigin:r[0].anchorOrigin,className:(0,i.Z)(f.containerRoot,f[oe(t)])},r.map((function(t){return e.createElement(Ae,Object.assign({},m,{key:t.key,snack:t,dense:c,iconVariant:a,hideIconVariant:u,classes:re(f),onClose:n.handleCloseSnack,onExited:we([n.handleExitedSnack,n.props.onExited]),onEntered:we([n.handleEnteredSnack,n.props.onEntered])}))})))}));return e.createElement(Z.Provider,{value:r},h,d?(0,t.createPortal)(g,d):g)},(a=[{key:"maxSnack",get:function(){return this.props.maxSnack||te.maxSnack}}])&&G(s.prototype,a),s}(e.Component),Ne=(n(3494),n.p,n(3457)),Le=n(8225);function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ue(r.key),r)}}function Fe(e,t,n){return t&&je(e.prototype,t),n&&je(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Be(e,t,n){return(t=Ue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e){var t=function(e){if("object"!==De(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==De(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===De(t)?t:String(t)}var He=Fe((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));Be(He,"theme",{palette:{primaryIconColor:{main:"#3399ff"},secondaryIconColor:{main:"#808080"},fontHeadingColor:{main:"#292A2c"},fontTitleColor:{main:"#292A2c"},fontSubTitleColor:{main:"#808080"},fontTextColor:{main:"#808080"},textColor:{main:"#fff"}},typography:{h4:{fontFamily:"Inter-Bold"},h5:{fontFamily:"Inter-Semibold"},h6:{fontFamily:"Inter-Regular"}},spacing:function(e){return"".concat(1*e,"vh")},margin:function(e){return"".concat(4*e,"px")}}),Be(He,"setTheme",(function(e){He.theme=e}));var Ve="NOISY_MIC",ze="NOISY_MIC_MUTED",qe="SCREEN_SHARING_STARTED",Je="SCREEN_SHARING_STOPPED",Ge="SCREEN_SHARE_STARTED",We="SCREEN_SHARE_ENDED",Qe="START_SCREEN_RECORDING",Ze="stopScreenRecording",$e="participantMuted",Ke="tryingToStartScreenRecording",Xe="CONVERT_TO_VIDEO_REQUEST",Ye="CONVERT_TO_VIDEO_RESPONSE",et="tryingToStopStartScreenRecording",tt="endSessionForAll",nt={disableAudioLevels:!1,desktopSharingChromeDisabled:!1,desktopSharingChromeExtId:"kglhbbefdnlheedjiejgomgmfplipfeb",desktopSharingSources:["screen","window"],desktopSharingFirefoxDisabled:!1,enableTalkWhileMuted:!0,enableNoisyMicDetection:!0,channelLastN:15,lastNLimits:{5:20,30:15,50:10,70:5,90:2},flags:{receiveMultipleVideoStreams:!0,sendMultipleVideoStreams:!0,sourceNameSignaling:!0,ssrcRewritingEnabled:!0},enableNoAudioDetection:!0,enableWelcomePage:!0,p2p:{enabled:!0},analytics:{},deploymentInfo:{},mouseMoveCallbackInterval:1e3,audioQuality:{stereo:!1},bridgeChannel:{preferSctp:!0},constraints:{video:{height:{ideal:720,max:720,min:180},width:{ideal:1280,max:1280,min:320}}},resolution:720},rt={openBridgeChannel:"websocket",enableNoisyMicDetection:!0,channelLastN:10,websocketKeepAlive:-1,testing:{octo:{probability:1}},e2eping:{pingInterval:-1},deploymentInfo:{userRegion:"eu-west-1"},enableTalkWhileMuted:!0,p2p:{enabled:!1}},it="onUserListChanged",ot="onCallEndButtonPressed",at="onDeviceChange",st="onRecordingToggled",ct="onUserMuted",lt="onUserUnMuted",ut="timeout-click",dt="timeout-leave",ht="timeout-auto",pt="video",ft="audio",mt="audioinput",vt="audiooutput",gt={REQUESTING_TO_SWITCH_VIDEO_CALL:"Requesting to switch to a video call",REQUESTING_TO_SWITCH_VIDEO_CALL_REJECTED:"Requesting to switch to a video call rejected",SWITCH_TO_VIDEO_CALL:"Switch to video call",SELECT_VIDEO_SOURCE:"Select video source",SELECT_INPUT_AUDIO_SOURCE:"Select input audio source",SELECT_OUTPUT_AUDIO_SOURCE:"Select output audio source",SELECT_MODE:"Select mode",CALL_RECORDING_STARTED_MSG:"This call is being recorded",USER_JOINED_CALL_MSG:"has joined the call",CALL_RECORDING_ENDED_MSG:"Call recording has been stopped",USER_LEFT_CALL_MSG:"has left the call",USERS_LEFT_CALL_MSG:"__USERS__ and __USER__ has left the call",CAMERA_ERROR_MSG:"No camera detected. Kindly fix your camera or allow permission to use the camera",MIC_ERROR_MSG:"No microphone detected. Kindly fix your microphone or allow permission to use the microphone",CAMERA_MIC_ERROR_MSG:"No microphone & camera detected. Kindly fix your microphone & camera or allow permission to use the microphone & camera",RECORDING_TEXT:"Recording",TRYING_TO_START_RECORDING_TEXT:"Trying to start recording...",JOINING_TEXT:"Joining...",CONNECTION_ERROR_TEXT:"Couldn't connect, something went wrong!",UN_MUTE_AUDIO_TEXT:"Unmute audio",MUTE_AUDIO_TEXT:"Mute audio",END_CALL_TEXT:"End call",START_RECORDING_TEXT:"Start recording",STOP_RECORDING_TEXT:"Stop recording",START_SCREEN_SHARE_TEXT:"Start screenShare",STOP_SCREEN_SHARE_TEXT:"Stop screenShare",MUTE_VIDEO_TEXT:"Mute video",UN_MUTE_VIDEO_TEXT:"Unmute video",SELECT_LAYOUT_HEADER:"Select layout",NO_OF_USER_IN_TILE_TEXT:"Select the number of users to be shown in Tile mode",CHANGE_AUDIO_SOURCE:"Change audio source",CHANGE_AUDIO_SOURCE_DESC:"You can select the desired audio input and output",AUDIO_INPUT_DEVICE_LABEL:"Audio input device",NO_AUDIO_DEVICE_AVAILABLE:"No device available",AUDIO_OUTPUT_DEVICE_LABEL:"Audio output device",CHANGE_VIDEO_SOURCE:"Change video source",CHANGE_VIDEO_SOURCE_DESC:"You can select the desired video device",VIDEO_DEVICES_LABEL:"Video device",FULL_SCREEN:"Full screen",EXIT_FULL_SCREEN:"Exit full screen",CHANGE_LAYOUT:"Change layout",AUDIO_SETTING:"Audio setting",VIDEO_SETTING:"Video setting",USER_LIST:"User list",MORE:"More",MUTE_USER:"Mute",PIN_USER:"Pin",UNPIN_USER:"Unpin",UN_MUTE_USER:"Unmute",MUTED:"muted",IOS_BROWSER_WARNING:"We recommend to use Safari browser for a better experience with video calls",PEOPLE_TEXT:"People",SPOTLIGHT_DETAIL_TEXT1:"Video of",SPOTLIGHT_DETAIL_TEXT2:"Active Speaker",SPOTLIGHT_DETAIL_TEXT3:"will automatically be displayed on the main screen. If you wish to see a particular person, please click on the name below to",SPOTLIGHT_DETAIL_TEXT4:"Pin or Unpin",STOP_RECORDING_ERROR:"Recording can only be stopped by the recorder",VIRTUAL_BACKGROUND:"Virtual Background",SCREEN_SHARE_MSG:"You are currently sharing your screen.",RECONNECTING_TEXT:"Connection lost. Trying to reconnect...",NO_NETWORK_TEXT:"No network connection. Please check your connection.",NOISY_MIC:"You have a noisy mic.",TALK_WHILE_MUTED:"Your mic is on mute.",NO_OF_USER_IN_PAGINATED_TEXT:"Select the maximum number of user displayed on one page",SCREEN_SHARE_POSTFIX:"(Screen)",ARE_YOU_STILL_THERE:"Are you still there?",MEETING_ENDED:"Meeting Ended",SOLO_CALL_WARNING_MINUTE:"Looks like you are the only one here! This call will end in less than __MINUTES__ minute. Want to keep it going?",SOLO_CALL_WARNING_MINUTES:"Looks like you are the only one here! This call will end in less than __MINUTES__ minutes. Want to keep it going?",CALL_ENDED_MESSAGE:'The call has ended as there were no participants. Click "Leave now" to exit the meeting.',LEAVE_NOW:"Leave now?",STAY_IN_CALL:"Stay in the call?",NONE:"None",ADD:"Add",CANCEL:"Cancel",APPLY:"Apply",DOWNLOADING_REQUIRED_FILES:"Downloading required files...",CHOOSE_BACKGROUND:"Choose Background",SELECT:"Select",TILE_MODE:"Tile Mode",SPOTLIGHT_MODE:"Spotlight Mode",SIDEBAR_MODE:"Sidebar Mode",RECORDER_LABEL:"Recorder"};Object.keys(gt).length!==new Set(Object.values(gt)).size&&alert("Duplicate keys found in LocalizedString");var yt={fit:"contain",fitButton:{visible:!0,position:"bottom-right"},nameLabel:{visible:!0,position:"bottom-left",background:"rgba(27, 27, 27, 0.4)"},network:{visible:!0,position:"bottom-right"}},_t="PRESENTER",bt=(n(2931),n(3514),n(1296)),St=n.n(bt);function wt(e){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wt(e)}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=function(e){if("object"!==wt(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==wt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===wt(i)?i:String(i)),r)}var i}var Ct=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"getSVGAvatar",value:function(e,t){var n=document.createElement("canvas"),r=n.getContext("2d");return n.width=200,n.height=200,r.fillStyle=function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);for(var r="#",i=0;i<3;i++)r+=("00"+(t>>8*i&255).toString(16)).substr(-2);return r}(e),r.fillRect(0,0,n.width,n.height),r.font="bold 100px 'Inter', sans-serif",r.fillStyle="white",r.textAlign="center",r.textBaseline="middle",r.fillText(/^[a-z0-9]+$/i.test(t)?t.toUpperCase():"U",n.width/2,n.height/2),n.toDataURL("image/png")}},{key:"stringToColour",value:function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);for(var r="#",i=0;i<3;i++)r+=("00"+(t>>8*i&240).toString(16)).substr(-2);return r+""}}],n&&Et(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),kt=function(e){return null==e?void 0:e.replace(/(\w)(\w*)/g,(function(e,t,n){return t.toUpperCase()+n.toLowerCase()}))};function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=function(e){if("object"!==Tt(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==Tt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Tt(i)?i:String(i)),r)}var i}var At=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"log",value:function(){var e;Sm&&(e=console).log.apply(e,arguments)}}],n&&xt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Rt={addLocalUrl:function(e){return{type:"ADD_LOCAL_URL",payload:{localUrl:e}}},addLocalTrackId:function(e){return{type:"ADD_LOCAL_TRACK_ID",payload:e}},addRemoteUrl:function(e){return{type:"ADD_REMOTE_URL",payload:{remoteUrl:e}}},addLocalTracks:function(e){return{type:"ADD_LOCAL_TRACK",payload:{localTracks:e}}},addRemoteTracks:function(e){return{type:"ADD_REMOTE_TRACK",payload:{remoteTracks:e}}},addRemoteVideoTrack:function(e){return{type:"ADD_REMOTE_VIDEO_TRACK",payload:{remoteVideoTrack:e}}},changeReadyState:function(e){return{type:"CHANGE_READY_STATE",payload:{ready:e}}},changeRoomName:function(e){return{type:"CHANGE_ROOM_NAME",payload:{room:e}}},changeAudioState:function(e){return{type:"CHANGE_AUDIO_STATE",payload:{audioMute:e}}},changeAudioMode:function(e){return{type:"CHANGE_AUDIO_MODE",payload:{audioMode:e}}},changeVideoState:function(e){return{type:"CHANGE_VIDEO_STATE",payload:{videoMute:e}}},connectionFailed:function(e){return{type:"CONNECTION_FAILED",payload:{status:e}}},updateDominantVideoId:function(e){return{type:"UPDATE_DOMINANT_VIDEO_ID",payload:e}},removeRemoteTrack:function(e){return{type:"REMOVE_REMOTE_TRACK",payload:e}},removeLocalTracks:function(){return{type:"REMOVE_LOCAL_TRACKS",payload:"localVideo"}},removeRemoteTracks:function(){return{type:"REMOVE_REMOTE_TRACKS",payload:"remoteVideo"}}};function It(e){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It(e)}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=function(e){if("object"!==It(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==It(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===It(i)?i:String(i)),r)}var i}var Pt,Mt=null,Nt=[],Lt=!1,Dt=null,jt="Conference",Ft={},Bt="RTCManager.js",Ut={hosts:{domain:"rtc-namaste.cometchat.io",muc:"conference.rtc-namaste.cometchat.io"},bosh:"https://rtc-namaste.cometchat.io/http-bind",clientNode:"http://jitsi.org/jitsimeet"},Ht={openBridgeChannel:!1},Vt={disableAudioLevels:!0,desktopSharingChromeExtId:"mbocklcggfhnbahlnepmldehdhpjfcjp",desktopSharingChromeDisabled:!1,desktopSharingChromeSources:["screen","window"],desktopSharingChromeMinExtVersion:"0.1",desktopSharingFirefoxDisabled:!1};function zt(){At.log(Bt,"RoomName = ",jt),(Dt=Mt.initJitsiConference(jt,Ht)).on(JitsiMeetJS.events.conference.TRACK_ADDED,Wt),Dt.on(JitsiMeetJS.events.conference.TRACK_REMOVED,qt),Dt.on(JitsiMeetJS.events.conference.CONFERENCE_JOINED,Qt),Dt.on(JitsiMeetJS.events.conference.USER_JOINED,(function(e){At.log("User Joined ...."),Ft[e]=[]})),Dt.on(JitsiMeetJS.events.conference.USER_LEFT,Zt),Dt.on(JitsiMeetJS.events.conference.TRACK_MUTE_CHANGED,(function(e){At.log("".concat(e.getType()," - ").concat(e.isMuted()))})),Dt.on(JitsiMeetJS.events.conference.DISPLAY_NAME_CHANGED,(function(e,t){return At.log("".concat(e," - ").concat(t))})),Dt.on(JitsiMeetJS.events.conference.TRACK_AUDIO_LEVEL_CHANGED,(function(e,t){return At.log("".concat(e," - ").concat(t))})),Dt.on(JitsiMeetJS.events.conference.PHONE_NUMBER_CHANGED,(function(){return At.log("".concat(Dt.getPhoneNumber()," - ").concat(Dt.getPhonePin()))})),Dt.join()}function qt(e){At.log(Bt,"onRemoteTrackRemoved-------- : ",e),Pt(Rt.removeRemoteTrack(e.getParticipantId()))}function Jt(){At.log("onConnectionFailed.....")}function Gt(){At.log("onDisconnect called....."),Mt.removeEventListener(JitsiMeetJS.events.connection.CONNECTION_ESTABLISHED,zt),Mt.removeEventListener(JitsiMeetJS.events.connection.CONNECTION_FAILED,Jt),Mt.removeEventListener(JitsiMeetJS.events.connection.CONNECTION_DISCONNECTED,Gt)}function Wt(e){if(At.log(Bt,"onRemoteTrack Called",e),!e.isLocal()){var t=e.getParticipantId();At.log(Bt,"Participant id = ",t),At.log(Bt,"remoteTracks[participant] ? :",Ft[t]),Ft[t]||(Ft[t]=[]),Pt(Rt.addRemoteTracks(e)),e.addEventListener(JitsiMeetJS.events.track.TRACK_AUDIO_LEVEL_CHANGED,(function(e){})),e.addEventListener(JitsiMeetJS.events.track.TRACK_MUTE_CHANGED,(function(){})),e.addEventListener(JitsiMeetJS.events.track.LOCAL_TRACK_STOPPED,(function(){})),e.addEventListener(JitsiMeetJS.events.track.TRACK_AUDIO_OUTPUT_CHANGED,(function(e){}))}}function Qt(){At.log("onConferenceJoined called "),Lt=!0;for(var e=0;e<Nt.length;e++)Dt.addTrack(Nt[e])}function Zt(e){At.log("onUserLeft called ",e),Ft[e]&&Pt(Rt.removeRemoteTrack(e))}function $t(e){At.log("onLocalTrack Called......"),Nt=e,Pt(Rt.addLocalTracks(Nt));for(var t=0;t<Nt.length;t++)Nt[t].addEventListener(JitsiMeetJS.events.track.TRACK_AUDIO_LEVEL_CHANGED,(function(e){})),Nt[t].addEventListener(JitsiMeetJS.events.track.TRACK_MUTE_CHANGED,(function(){})),Nt[t].addEventListener(JitsiMeetJS.events.track.LOCAL_TRACK_STOPPED,(function(){})),Nt[t].addEventListener(JitsiMeetJS.events.track.TRACK_AUDIO_OUTPUT_CHANGED,(function(e){})),Lt&&Dt.addTrack(Nt[t])}function Kt(){if(Nt.length>0)for(var e=0;e<Nt.length;e++)"video"===Nt[e].getType()&&Nt[e].dispose()}var Xt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"init",value:function(e){jt=e,JitsiMeetJS.init(Vt),JitsiMeetJS.setLogLevel(JitsiMeetJS.logLevels.ERROR),(Mt=new JitsiMeetJS.JitsiConnection(null,null,Ut)).connect(),Mt.addEventListener(JitsiMeetJS.events.connection.CONNECTION_ESTABLISHED,zt),Mt.addEventListener(JitsiMeetJS.events.connection.CONNECTION_FAILED,Jt),Mt.addEventListener(JitsiMeetJS.events.connection.CONNECTION_DISCONNECTED,Gt)}},{key:"createLocalTracks",value:function(e){At.log("createLocalTracks Called....."),Pt=e,sm({devices:["audio","video"],facingMode:"user"}).then($t).catch((function(e){throw At.log("Create Local error.."),e}))}},{key:"createScreenShareTrack",value:function(){Kt(),sm({devices:["desktop"]}).then($t).catch((function(e){throw At.log("Create Local error.."),e}))}},{key:"stopScreenShare",value:function(){Kt(),sm({devices:["audio","video"],facingMode:"user"}).then($t).catch((function(e){throw At.log("Create Local error.."),e}))}},{key:"endCallSession",value:function(){!function(){if(Nt.length>0)for(var e=0;e<Nt.length;e++)Nt[e].dispose();Dt.leave(),Mt.disconnect()}()}},{key:"pauseVideo",value:function(e){e?Nt[1].mute():Nt[1].unmute()}},{key:"muteAudio",value:function(e){e?Nt[0].mute():Nt[0].unmute()}},{key:"isMob",value:function(){return!!(/Macintosh/i.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1)||[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some((function(e){return navigator.userAgent.match(e)}))}}],n&&Ot(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Yt=n(3837);function en(e){return en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en(e)}function tn(){tn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new k(i||[]);return r(a,"_invoke",{value:S(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function h(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(T([])));g&&g!==t&&n.call(g,o)&&(m=g);var y=f.prototype=h.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,o,a,s){var c=u(e[r],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==en(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},_(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function nn(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function rn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){nn(o,r,i,a,s,"next",e)}function s(e){nn(o,r,i,a,s,"throw",e)}a(void 0)}))}}function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hn(r.key),r)}}function cn(e,t){return cn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cn(e,t)}function ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function un(e){return un=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},un(e)}function dn(e,t,n){return(t=hn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hn(e){var t=function(e){if("object"!==en(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==en(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===en(t)?t:String(t)}var pn,fn="ScreenShare",mn=null,vn=null,gn=null,yn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cn(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=un(r);if(i){var n=un(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===en(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ln(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dn(ln(e=o.call.apply(o,[this].concat(n))),"start",(function(){At.log(fn,"[start]",e.props.sessionID),e.createLocalTracks()})),dn(ln(e),"localUser",an(an({},e.props.user),{},{videoTrack:null,audioTrack:null})),dn(ln(e),"init",(function(t){At.log(fn,"[init]",nt),vn=t,JitsiMeetJS.init(nt),JitsiMeetJS.setLogLevel(JitsiMeetJS.logLevels.ERROR),e.makeConnection()})),dn(ln(e),"addEventListener",(function(){At.log(fn,"[addEventListener]",4),mn.addEventListener(JitsiMeetJS.events.connection.CONNECTION_ESTABLISHED,e.onConnectionSuccess),mn.addEventListener(JitsiMeetJS.events.connection.CONNECTION_FAILED,(function(){})),mn.addEventListener(JitsiMeetJS.events.connection.CONNECTION_DISCONNECTED,(function(){}))})),dn(ln(e),"createLocalTracks",(function(){sm({devices:["desktop"],desktopSharingSources:["screen","window"],facingMode:"user",resolution:1080,constraints:{video:{aspectRatio:16/9,height:{ideal:720,max:720,min:405},width:{ideal:1280,max:1280,min:720}}}}).then((function(t){if(t.length>1)for(var n=0;n<t.length;n++)"video"==t[n].track.kind?(e.localUser.videoTrack=t[n],e.localUser.isVideoMuted=!1):"audio"==t[n].track.kind&&(e.localUser.isAudioMuted=!1,e.localUser.audioTrack=t[n]);else e.localUser.videoTrack=t[0];e.localUser.videoTrack.track.onended=function(){e.stop()},e.props.onTrackCreated(e.localUser.videoTrack),e.init(e.props.sessionID)})).catch((function(t){e.props.onError(t),e.stop(!1),At.log("ScreenShare",t)}))})),dn(ln(e),"onConnectionSuccess",(function(){try{gn=mn.initJitsiConference(vn,rt),At.log(fn,"[onConnectionSuccess]","screenshare flow",6,gn.myUserId(),e.localUser.name),window.room=gn,pn=gn.myUserId()||"",gn.setDisplayName(e.localUser.name+gt.SCREEN_SHARE_POSTFIX),gn.on(JitsiMeetJS.events.conference.CONFERENCE_JOINED,e.onConferenceJoined),gn.join()}catch(t){e.props.onError(),At.log(fn,"[onConnectionSuccess]","error",t)}})),dn(ln(e),"onConferenceJoined",rn(tn().mark((function t(){return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:gn.addTrack(e.localUser.videoTrack),e.localUser.audioTrack&&gn.addTrack(e.localUser.audioTrack),gn.sendCommand(qe,{value:JSON.stringify({userId:e.localUser.id,screenShareId:pn})}),e.props.onSuccess(gn.myUserId());case 4:case"end":return t.stop()}}),t)})))),dn(ln(e),"stop",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{t&&e.props.onStopped(),e.localUser.videoTrack&&e.localUser.videoTrack.dispose().then((function(){})).catch((function(){})),e.localUser.audioTrack&&e.localUser.audioTrack.dispose().then((function(){})).catch((function(){})),gn&&gn&&gn.leave().then((function(){return mn.disconnect()})).catch((function(e){}))}catch(e){}})),e}return t=a,(n=[{key:"makeConnection",value:function(){At.log(fn,"[makeConnection]");var e={hosts:{domain:this.props.domain,muc:this.props.MUC,focus:this.props.focus},serviceUrl:this.props.webSocket,bosh:this.props.getBosh,clientNode:"http://jitsi.org/jitsimeet"};(mn=new JitsiMeetJS.JitsiConnection(null,null,e)).connect(),this.addEventListener()}},{key:"render",value:function(){return null}}])&&sn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(e.PureComponent),_n=n(5996);function bn(e){return bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bn(e)}function Sn(e,t){if(e){if("string"==typeof e)return wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wn(e,t):void 0}}function wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cn(r.key),r)}}function Cn(e){var t=function(e){if("object"!==bn(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==bn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===bn(t)?t:String(t)}n(6923),n(4363),n(3147);var kn,Tn=function(){function e(t){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,(r=Cn(r="_destroyed"))in n?Object.defineProperty(n,r,{value:!1,enumerable:!0,configurable:!0,writable:!0}):n[r]=!1;try{if(this._wasmInterface=t,this._wasmPcmInput=this._wasmInterface._malloc(1920),!this._wasmPcmInput)throw Error("Failed to create wasm input memory buffer!");if(this._wasmPcmOutput=this._wasmInterface._malloc(1920),!this._wasmPcmOutput)throw t._free(this._wasmPcmInput),Error("Failed to create wasm output memory buffer!");this._wasmPcmInputF32Index=this._wasmPcmInput/4,this._context=this._wasmInterface._rnnoise_create()}catch(e){throw this._releaseWasmResources(),e}}var t,n;return t=e,(n=[{key:"_copyPCMSampleToWasmBuffer",value:function(e){this._wasmInterface.HEAPF32.set(e,this._wasmPcmInputF32Index)}},{key:"_convertTo16BitPCM",value:function(e){var t,n,r,i=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Sn(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==t.return||t.return()}finally{if(a)throw i}}}}(e.entries());try{for(i.s();!(t=i.n()).done;){var o=(n=t.value,r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(n,r)||Sn(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],s=o[1];e[a]=32767*s}}catch(e){i.e(e)}finally{i.f()}}},{key:"_releaseWasmResources",value:function(){this._wasmPcmInput&&(this._wasmInterface._free(this._wasmPcmInput),this._wasmPcmInput=null),this._wasmPcmOutput&&(this._wasmInterface._free(this._wasmPcmOutput),this._wasmPcmOutput=null),this._context&&(this._wasmInterface._rnnoise_destroy(this._context),this._context=null)}},{key:"getSampleLength",value:function(){return 480}},{key:"getRequiredPCMFrequency",value:function(){return 44100}},{key:"destroy",value:function(){this._destroyed||(this._releaseWasmResources(),this._destroyed=!0)}},{key:"calculateAudioFrameVAD",value:function(e){if(this._destroyed)throw new Error("RnnoiseProcessor instance is destroyed, please create another one!");var t=e.length;if(480!==t)throw new Error("Rnnoise can only process PCM frames of 480 samples! Input sample was:".concat(t));return this._convertTo16BitPCM(e),this._copyPCMSampleToWasmBuffer(e),this._wasmInterface._rnnoise_process_frame(this._context,this._wasmPcmOutput,this._wasmPcmInput)}}])&&En(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function xn(){return kn||(kn=rnnoiseWasmInit()),kn.then((function(e){return new Tn(e)}))}var An="\n    var timer;\n\n    onmessage = function(request) {\n        switch (request.data.id) {\n        case ".concat(1,": {\n            timer = setInterval(() => {\n                postMessage({ id: ").concat(3," });\n            }, request.data.timeMs);\n            break;\n        }\n        case ").concat(2,": {\n            if (timer) {\n                clearInterval(timer);\n            }\n            break;\n        }\n        }\n    };\n"),Rn=URL.createObjectURL(new Blob([An],{type:"application/javascript"}));function In(e){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(e)}function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=function(e){if("object"!==In(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==In(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===In(i)?i:String(i)),r)}var i}var Mn=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=document.createElement("div"),i=t.getVideoTracks()[0],o=null!==(n=i.getSettings())&&void 0!==n?n:i.getConstraints(),a=o.height,s=o.width,c=o.frameRate;this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),this._desktopElement=document.createElement("video"),this._videoElement=document.createElement("video"),r.appendChild(this._videoElement),r.appendChild(this._desktopElement),null!==document.body&&document.body.appendChild(r),this._frameRate=parseInt(c,10),this._videoElement.width=parseInt(s,10),this._videoElement.height=parseInt(a,10),this._videoElement.autoplay=!0,this._videoElement.srcObject=t,this._videoElement.play(),r.style.display="none",this._onVideoFrameTimer=this._onVideoFrameTimer.bind(this)}var t,n;return t=e,n=[{key:"_onVideoFrameTimer",value:function(e){3===e.data.id&&this._renderVideo()}},{key:"_renderVideo",value:function(){var e,t,n,r=(t=this._desktopStream.getVideoTracks(),n=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,n)||function(e,t){if(e){if("string"==typeof e)return On(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?On(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],i=null!==(e=r.getSettings())&&void 0!==e?e:r.getConstraints(),o=i.height,a=i.width;this._canvas.width=parseInt(a,10),this._canvas.height=parseInt(o,10),this._ctx.drawImage(this._desktopElement,0,0,this._canvas.width,this._canvas.height),this._ctx.drawImage(this._videoElement,this._canvas.width-this._videoElement.width,0,this._videoElement.width,this._videoElement.height),this._ctx.beginPath(),this._ctx.lineWidth=2,this._ctx.strokeStyle="#A9A9A9",this._ctx.rect(this._canvas.width-this._videoElement.width,0,this._videoElement.width,this._videoElement.height),this._ctx.stroke()}},{key:"isEnabled",value:function(e){return e.isVideoTrack()&&"desktop"===e.videoType}},{key:"startEffect",value:function(e){var t,n=e.getVideoTracks()[0],r=null!==(t=n.getSettings())&&void 0!==t?t:n.getConstraints(),i=r.height,o=r.width;return this._desktopStream=e,this._desktopElement.width=parseInt(o,10),this._desktopElement.height=parseInt(i,10),this._desktopElement.autoplay=!0,this._desktopElement.srcObject=e,this._desktopElement.play(),this._canvas.width=parseInt(o,10),this._canvas.height=parseInt(i,10),this._videoFrameTimerWorker=new Worker(Rn,{name:"Presenter effect worker"}),this._videoFrameTimerWorker.onmessage=this._onVideoFrameTimer,this._videoFrameTimerWorker.postMessage({id:1,timeMs:1e3/this._frameRate}),this._canvas.captureStream(this._frameRate)}},{key:"stopEffect",value:function(){this._videoFrameTimerWorker.postMessage({id:2}),this._videoFrameTimerWorker.terminate()}}],n&&Pn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Nn(e){return MediaStreamTrack.prototype.getSettings||MediaStreamTrack.prototype.getConstraints?Promise.resolve(new Mn(e)):Promise.reject(new Error("JitsiStreamPresenterEffect not supported!"))}var Ln=n(5697),Dn=n.n(Ln),jn=n(3869),Fn=n(157),Bn=function(e,t){return arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?Fn.X.indexOf(e)<Fn.X.indexOf(t):Fn.X.indexOf(e)<=Fn.X.indexOf(t)},Un=function(e,t){return arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?Fn.X.indexOf(t)<Fn.X.indexOf(e):Fn.X.indexOf(t)<=Fn.X.indexOf(e)},Hn="undefined"==typeof window?e.useEffect:e.useLayoutEffect;function Vn(e){var t=e.children,n=e.only,r=e.width,i=w(),o=!0;if(n)if(Array.isArray(n)){for(var a=0;a<n.length;a+=1)if(r===n[a]){o=!1;break}}else n&&r===n&&(o=!1);if(o)for(var s=0;s<i.breakpoints.keys.length;s+=1){var c=i.breakpoints.keys[s],l=e["".concat(c,"Up")],u=e["".concat(c,"Down")];if(l&&Bn(c,r)||u&&Un(c,r)){o=!1;break}}return o?t:null}Vn.propTypes={children:Dn().node,className:Dn().string,implementation:Dn().oneOf(["js","css"]),initialWidth:Dn().oneOf(["xs","sm","md","lg","xl"]),lgDown:Dn().bool,lgUp:Dn().bool,mdDown:Dn().bool,mdUp:Dn().bool,only:Dn().oneOfType([Dn().oneOf(["xs","sm","md","lg","xl"]),Dn().arrayOf(Dn().oneOf(["xs","sm","md","lg","xl"]))]),smDown:Dn().bool,smUp:Dn().bool,width:Dn().string.isRequired,xlDown:Dn().bool,xlUp:Dn().bool,xsDown:Dn().bool,xsUp:Dn().bool};var zn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var r=t.withTheme,i=void 0!==r&&r,s=t.noSSR,c=void 0!==s&&s,l=t.initialWidth;function u(t){var r=w(),s=t.theme||r,u=(0,jn.Z)({theme:s,name:"MuiWithWidth",props:(0,o.Z)({},t)}),d=u.initialWidth,h=u.width,p=(0,a.Z)(u,["initialWidth","width"]),f=e.useState(!1),m=f[0],v=f[1];Hn((function(){v(!0)}),[]);var g=s.breakpoints.keys.slice().reverse().reduce((function(t,n){var r=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,b.Z)(),i=(0,jn.Z)({theme:r,name:"MuiUseMediaQuery",props:{}}),a="function"==typeof t?t(r):t;a=a.replace(/^@media( ?)/m,"");var s="undefined"!=typeof window&&void 0!==window.matchMedia,c=(0,o.Z)({},i,n),l=c.defaultMatches,u=void 0!==l&&l,d=c.matchMedia,h=void 0===d?s?window.matchMedia:null:d,p=c.noSsr,f=void 0!==p&&p,m=c.ssrMatchMedia,v=void 0===m?null:m,g=e.useState((function(){return f&&s?h(a).matches:v?v(a).matches:u})),y=g[0],_=g[1];return e.useEffect((function(){var e=!0;if(s){var t=h(a),n=function(){e&&_(t.matches)};return n(),t.addListener(n),function(){e=!1,t.removeListener(n)}}}),[a,h,s]),y}(s.breakpoints.up(n));return!t&&r?n:t}),null),y=(0,o.Z)({width:h||(m||c?g:void 0)||d||l},i?{theme:s}:{},p);return void 0===y.width?null:e.createElement(n,y)}return J()(u,n),u}}()(Vn),qn=n(4942),Jn=n(3871),Gn=(0,P.Z)((function(e){var t={display:"none"};return e.breakpoints.keys.reduce((function(n,r){return n["only".concat((0,Jn.Z)(r))]=(0,qn.Z)({},e.breakpoints.only(r),t),n["".concat(r,"Up")]=(0,qn.Z)({},e.breakpoints.up(r),t),n["".concat(r,"Down")]=(0,qn.Z)({},e.breakpoints.down(r),t),n}),{})}),{name:"PrivateHiddenCss"})((function(t){var n=t.children,r=t.classes,i=t.className,o=t.only,s=((0,a.Z)(t,["children","classes","className","only"]),w()),c=[];i&&c.push(i);for(var l=0;l<s.breakpoints.keys.length;l+=1){var u=s.breakpoints.keys[l],d=t["".concat(u,"Up")],h=t["".concat(u,"Down")];d&&c.push(r["".concat(u,"Up")]),h&&c.push(r["".concat(u,"Down")])}return o&&(Array.isArray(o)?o:[o]).forEach((function(e){c.push(r["only".concat((0,Jn.Z)(e))])})),e.createElement("div",{className:c.join(" ")},n)})),Wn=function(t){var n=t.implementation,r=void 0===n?"js":n,i=t.lgDown,s=void 0!==i&&i,c=t.lgUp,l=void 0!==c&&c,u=t.mdDown,d=void 0!==u&&u,h=t.mdUp,p=void 0!==h&&h,f=t.smDown,m=void 0!==f&&f,v=t.smUp,g=void 0!==v&&v,y=t.xlDown,_=void 0!==y&&y,b=t.xlUp,S=void 0!==b&&b,w=t.xsDown,E=void 0!==w&&w,C=t.xsUp,k=void 0!==C&&C,T=(0,a.Z)(t,["implementation","lgDown","lgUp","mdDown","mdUp","smDown","smUp","xlDown","xlUp","xsDown","xsUp"]);return"js"===r?e.createElement(zn,(0,o.Z)({lgDown:s,lgUp:l,mdDown:d,mdUp:p,smDown:m,smUp:g,xlDown:_,xlUp:S,xsDown:E,xsUp:k},T)):e.createElement(Gn,(0,o.Z)({lgDown:s,lgUp:l,mdDown:d,mdUp:p,smDown:m,smUp:g,xlDown:_,xlUp:S,xsDown:E,xsUp:k},T))},Qn=n(4896),Zn=n(2982),$n=n(7326);function Kn(t,n){var r=Object.create(null);return t&&e.Children.map(t,(function(e){return e})).forEach((function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)})),r}function Xn(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Yn(t,n,r){var i=Kn(t.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var c in t){if(i[c])for(r=0;r<i[c].length;r++){var l=i[c][r];s[i[c][r]]=n(l)}s[c]=n(c)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(n,i);return Object.keys(o).forEach((function(a){var s=o[a];if((0,e.isValidElement)(s)){var c=a in n,l=a in i,u=n[a],d=(0,e.isValidElement)(u)&&!u.props.in;!l||c&&!d?l||!c||d?l&&c&&(0,e.isValidElement)(u)&&(o[a]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:u.props.in,exit:Xn(s,"exit",t),enter:Xn(s,"enter",t)})):o[a]=(0,e.cloneElement)(s,{in:!1}):o[a]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:Xn(s,"exit",t),enter:Xn(s,"enter",t)})}})),o}var er=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},tr=function(t){function n(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind((0,$n.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,l.Z)(n,t);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,i,o=n.children,a=n.handleExited;return{children:n.firstRender?(r=t,i=a,Kn(r.children,(function(t){return(0,e.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:Xn(t,"appear",r),enter:Xn(t,"enter",r),exit:Xn(t,"exit",r)})}))):Yn(t,o,a),firstRender:!1}},r.handleExited=function(e,t){var n=Kn(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,o.Z)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var t=this.props,n=t.component,r=t.childFactory,i=(0,c.Z)(t,["component","childFactory"]),o=this.state.contextValue,a=er(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?e.createElement(u.Provider,{value:o},a):e.createElement(u.Provider,{value:o},e.createElement(n,i,a))},n}(e.Component);tr.propTypes={},tr.defaultProps={component:"div",childFactory:function(e){return e}};var nr,rr=tr,ir="undefined"==typeof window?e.useEffect:e.useLayoutEffect,or=function(t){var n=t.classes,r=t.pulsate,o=void 0!==r&&r,a=t.rippleX,s=t.rippleY,c=t.rippleSize,l=t.in,u=t.onExited,d=void 0===u?function(){}:u,h=t.timeout,p=e.useState(!1),f=p[0],m=p[1],v=(0,i.Z)(n.ripple,n.rippleVisible,o&&n.ripplePulsate),g={width:c,height:c,top:-c/2+s,left:-c/2+a},y=(0,i.Z)(n.child,f&&n.childLeaving,o&&n.childPulsate),_=(0,H.Z)(d);return ir((function(){if(!l){m(!0);var e=setTimeout(_,h);return function(){clearTimeout(e)}}}),[_,l,h]),e.createElement("span",{className:v,style:g},e.createElement("span",{className:y}))},ar=e.forwardRef((function(t,n){var r=t.center,s=void 0!==r&&r,c=t.classes,l=t.className,u=(0,a.Z)(t,["center","classes","className"]),d=e.useState([]),h=d[0],p=d[1],f=e.useRef(0),m=e.useRef(null);e.useEffect((function(){m.current&&(m.current(),m.current=null)}),[h]);var v=e.useRef(!1),g=e.useRef(null),y=e.useRef(null),_=e.useRef(null);e.useEffect((function(){return function(){clearTimeout(g.current)}}),[]);var b=e.useCallback((function(t){var n=t.pulsate,r=t.rippleX,i=t.rippleY,o=t.rippleSize,a=t.cb;p((function(t){return[].concat((0,Zn.Z)(t),[e.createElement(or,{key:f.current,classes:c,timeout:550,pulsate:n,rippleX:r,rippleY:i,rippleSize:o})])})),f.current+=1,m.current=a}),[c]),S=e.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,a=void 0===o?s||t.pulsate:o,c=t.fakeElement,l=void 0!==c&&c;if("mousedown"===e.type&&v.current)v.current=!1;else{"touchstart"===e.type&&(v.current=!0);var u,d,h,p=l?null:_.current,f=p?p.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(a||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(f.width/2),d=Math.round(f.height/2);else{var m=e.touches?e.touches[0]:e,S=m.clientX,w=m.clientY;u=Math.round(S-f.left),d=Math.round(w-f.top)}if(a)(h=Math.sqrt((2*Math.pow(f.width,2)+Math.pow(f.height,2))/3))%2==0&&(h+=1);else{var E=2*Math.max(Math.abs((p?p.clientWidth:0)-u),u)+2,C=2*Math.max(Math.abs((p?p.clientHeight:0)-d),d)+2;h=Math.sqrt(Math.pow(E,2)+Math.pow(C,2))}e.touches?null===y.current&&(y.current=function(){b({pulsate:i,rippleX:u,rippleY:d,rippleSize:h,cb:n})},g.current=setTimeout((function(){y.current&&(y.current(),y.current=null)}),80)):b({pulsate:i,rippleX:u,rippleY:d,rippleSize:h,cb:n})}}),[s,b]),w=e.useCallback((function(){S({},{pulsate:!0})}),[S]),E=e.useCallback((function(e,t){if(clearTimeout(g.current),"touchend"===e.type&&y.current)return e.persist(),y.current(),y.current=null,void(g.current=setTimeout((function(){E(e,t)})));y.current=null,p((function(e){return e.length>0?e.slice(1):e})),m.current=t}),[]);return e.useImperativeHandle(n,(function(){return{pulsate:w,start:S,stop:E}}),[w,S,E]),e.createElement("span",(0,o.Z)({className:(0,i.Z)(c.root,l),ref:_},u),e.createElement(rr,{component:null,exit:!0},h))})),sr=(0,P.Z)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(e.memo(ar)),cr=e.forwardRef((function(n,r){var s=n.action,c=n.buttonRef,l=n.centerRipple,u=void 0!==l&&l,d=n.children,h=n.classes,p=n.className,f=n.component,m=void 0===f?"button":f,v=n.disabled,g=void 0!==v&&v,y=n.disableRipple,b=void 0!==y&&y,S=n.disableTouchRipple,w=void 0!==S&&S,E=n.focusRipple,C=void 0!==E&&E,k=n.focusVisibleClassName,T=n.onBlur,x=n.onClick,A=n.onFocus,R=n.onFocusVisible,I=n.onKeyDown,O=n.onKeyUp,P=n.onMouseDown,M=n.onMouseLeave,N=n.onMouseUp,L=n.onTouchEnd,D=n.onTouchMove,j=n.onTouchStart,F=n.onDragLeave,B=n.tabIndex,U=void 0===B?0:B,V=n.TouchRippleProps,z=n.type,q=void 0===z?"button":z,J=(0,a.Z)(n,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),G=e.useRef(null),W=e.useRef(null),Q=e.useState(!1),Z=Q[0],$=Q[1];g&&Z&&$(!1);var K=(0,Qn.Z)(),X=K.isFocusVisible,Y=K.onBlurVisible,ee=K.ref;function te(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;return(0,H.Z)((function(r){return t&&t(r),!n&&W.current&&W.current[e](r),!0}))}e.useImperativeHandle(s,(function(){return{focusVisible:function(){$(!0),G.current.focus()}}}),[]),e.useEffect((function(){Z&&C&&!b&&W.current.pulsate()}),[b,C,Z]);var ne=te("start",P),re=te("stop",F),ie=te("stop",N),oe=te("stop",(function(e){Z&&e.preventDefault(),M&&M(e)})),ae=te("start",j),se=te("stop",L),ce=te("stop",D),le=te("stop",(function(e){Z&&(Y(e),$(!1)),T&&T(e)}),!1),ue=(0,H.Z)((function(e){G.current||(G.current=e.currentTarget),X(e)&&($(!0),R&&R(e)),A&&A(e)})),de=function(){var e=t.findDOMNode(G.current);return m&&"button"!==m&&!("A"===e.tagName&&e.href)},he=e.useRef(!1),pe=(0,H.Z)((function(e){C&&!he.current&&Z&&W.current&&" "===e.key&&(he.current=!0,e.persist(),W.current.stop(e,(function(){W.current.start(e)}))),e.target===e.currentTarget&&de()&&" "===e.key&&e.preventDefault(),I&&I(e),e.target===e.currentTarget&&de()&&"Enter"===e.key&&!g&&(e.preventDefault(),x&&x(e))})),fe=(0,H.Z)((function(e){C&&" "===e.key&&W.current&&Z&&!e.defaultPrevented&&(he.current=!1,e.persist(),W.current.stop(e,(function(){W.current.pulsate(e)}))),O&&O(e),x&&e.target===e.currentTarget&&de()&&" "===e.key&&!e.defaultPrevented&&x(e)})),me=m;"button"===me&&J.href&&(me="a");var ve={};"button"===me?(ve.type=q,ve.disabled=g):("a"===me&&J.href||(ve.role="button"),ve["aria-disabled"]=g);var ge=(0,_.Z)(c,r),ye=(0,_.Z)(ee,G),_e=(0,_.Z)(ge,ye),be=e.useState(!1),Se=be[0],we=be[1];e.useEffect((function(){we(!0)}),[]);var Ee=Se&&!b&&!g;return e.createElement(me,(0,o.Z)({className:(0,i.Z)(h.root,p,Z&&[h.focusVisible,k],g&&h.disabled),onBlur:le,onClick:x,onFocus:ue,onKeyDown:pe,onKeyUp:fe,onMouseDown:ne,onMouseLeave:oe,onMouseUp:ie,onDragLeave:re,onTouchEnd:se,onTouchMove:ce,onTouchStart:ae,ref:_e,tabIndex:g?-1:U},ve,J),d,Ee?e.createElement(sr,(0,o.Z)({ref:W,center:u},V)):null)})),lr=(0,P.Z)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(cr),ur=e.forwardRef((function(t,n){var r=t.edge,s=void 0!==r&&r,c=t.children,l=t.classes,u=t.className,d=t.color,h=void 0===d?"default":d,p=t.disabled,f=void 0!==p&&p,m=t.disableFocusRipple,v=void 0!==m&&m,g=t.size,y=void 0===g?"medium":g,_=(0,a.Z)(t,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return e.createElement(lr,(0,o.Z)({className:(0,i.Z)(l.root,u,"default"!==h&&l["color".concat((0,Jn.Z)(h))],f&&l.disabled,"small"===y&&l["size".concat((0,Jn.Z)(y))],{start:l.edgeStart,end:l.edgeEnd}[s]),centerRipple:!0,focusRipple:!v,disabled:f,ref:n},_),e.createElement("span",{className:l.label},c))})),dr=(0,P.Z)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,M.Fq)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,M.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,M.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(ur),hr=e.forwardRef((function(t,n){var r=t.anchorOrigin,s=void 0===r?{vertical:"top",horizontal:"right"}:r,c=t.badgeContent,l=t.children,u=t.classes,d=t.className,h=t.color,p=void 0===h?"default":h,f=t.component,m=void 0===f?"span":f,v=t.invisible,g=t.max,y=void 0===g?99:g,_=t.overlap,b=void 0===_?"rectangle":_,S=t.showZero,w=void 0!==S&&S,E=t.variant,C=void 0===E?"standard":E,k=(0,a.Z)(t,["anchorOrigin","badgeContent","children","classes","className","color","component","invisible","max","overlap","showZero","variant"]),T=v;null==v&&(0===c&&!w||null==c&&"dot"!==C)&&(T=!0);var x="";return"dot"!==C&&(x=c>y?"".concat(y,"+"):c),e.createElement(m,(0,o.Z)({className:(0,i.Z)(u.root,d),ref:n},k),l,e.createElement("span",{className:(0,i.Z)(u.badge,u["".concat(s.horizontal).concat((0,Jn.Z)(s.vertical),"}")],u["anchorOrigin".concat((0,Jn.Z)(s.vertical)).concat((0,Jn.Z)(s.horizontal)).concat((0,Jn.Z)(b))],"default"!==p&&u["color".concat((0,Jn.Z)(p))],T&&u.invisible,"dot"===C&&u.dot)},x))})),pr=(0,P.Z)((function(e){return{root:{position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0},badge:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorError:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText},dot:{borderRadius:4,height:8,minWidth:8,padding:0},anchorOriginTopRightRectangle:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginTopRightRectangular:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightRectangle:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginBottomRightRectangular:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftRectangle:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginTopLeftRectangular:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftRectangle:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginBottomLeftRectangular:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginTopRightCircle:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginTopRightCircular:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightCircle:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginBottomRightCircular:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftCircle:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginTopLeftCircular:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftCircle:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginBottomLeftCircular:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},invisible:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}}),{name:"MuiBadge"})(hr),fr=["title","titleId"];function mr(){return mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mr.apply(this,arguments)}function vr(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,fr);return e.createElement("svg",mr({width:31,height:27,viewBox:"0 0 31 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,nr||(nr=e.createElement("path",{d:"M25.375 26.0001H29.75V24.1251C29.75 19.1838 26.125 18.3863 22.7075 17.1251C21.5712 16.7038 21.7588 13.7376 22.2613 13.1838C23.4413 11.8851 24.4437 10.3626 24.4437 6.68381C24.4437 2.97256 22.0225 1.00006 19.125 1.00006C18.7051 0.998167 18.2862 1.04006 17.875 1.12506M22.25 26.0001V24.1251C22.25 19.1838 18.625 18.3863 15.2075 17.1251C14.0713 16.7038 14.2587 13.7376 14.7612 13.1838C15.9412 11.8851 16.9438 10.3626 16.9438 6.68381C16.9438 2.97256 14.5225 1.00006 11.625 1.00006C8.7275 1.00006 6.30625 2.97256 6.30625 6.68131C6.30625 10.3588 7.30625 11.8813 8.48875 13.1813C8.98875 13.7351 9.17875 16.7013 8.0425 17.1226C4.68625 18.3638 1 19.1463 1 24.1251V26.0001H22.25Z",stroke:"white",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})))}var gr=e.forwardRef(vr),yr=(n.p,n(5953));function _r(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var br={entering:{opacity:1,transform:_r(1)},entered:{opacity:1,transform:"none"}},Sr=e.forwardRef((function(t,n){var r=t.children,i=t.disableStrictModeCompat,s=void 0!==i&&i,c=t.in,l=t.onEnter,u=t.onEntered,d=t.onEntering,h=t.onExit,p=t.onExited,f=t.onExiting,m=t.style,v=t.timeout,g=void 0===v?"auto":v,b=t.TransitionComponent,S=void 0===b?y:b,E=(0,a.Z)(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),T=e.useRef(),x=e.useRef(),A=w(),R=A.unstable_strictMode&&!s,I=e.useRef(null),O=(0,_.Z)(r.ref,n),P=(0,_.Z)(R?I:void 0,O),M=function(e){return function(t,n){if(e){var r=R?[I.current,t]:[t,n],i=(0,D.Z)(r,2),o=i[0],a=i[1];void 0===a?e(o):e(o,a)}}},N=M(d),L=M((function(e,t){C(e);var n,r=k({style:m,timeout:g},{mode:"enter"}),i=r.duration,o=r.delay;"auto"===g?(n=A.transitions.getAutoHeightDuration(e.clientHeight),x.current=n):n=i,e.style.transition=[A.transitions.create("opacity",{duration:n,delay:o}),A.transitions.create("transform",{duration:.666*n,delay:o})].join(","),l&&l(e,t)})),j=M(u),F=M(f),B=M((function(e){var t,n=k({style:m,timeout:g},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===g?(t=A.transitions.getAutoHeightDuration(e.clientHeight),x.current=t):t=r,e.style.transition=[A.transitions.create("opacity",{duration:t,delay:i}),A.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=_r(.75),h&&h(e)})),U=M(p);return e.useEffect((function(){return function(){clearTimeout(T.current)}}),[]),e.createElement(S,(0,o.Z)({appear:!0,in:c,nodeRef:R?I:void 0,onEnter:L,onEntered:j,onEntering:N,onExit:B,onExited:U,onExiting:F,addEndListener:function(e,t){var n=R?e:t;"auto"===g&&(T.current=setTimeout(n,x.current||0))},timeout:"auto"===g?null:g},E),(function(t,n){return e.cloneElement(r,(0,o.Z)({style:(0,o.Z)({opacity:0,transform:_r(.75),visibility:"exited"!==t||c?void 0:"hidden"},br[t],m,r.props.style),ref:P},n))}))}));Sr.muiSupportAuto=!0;var wr=Sr,Er="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,Cr=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(Er&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}(),kr=Er&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),Cr))}};function Tr(e){return e&&"[object Function]"==={}.toString.call(e)}function xr(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function Ar(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function Rr(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=xr(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:Rr(Ar(e))}function Ir(e){return e&&e.referenceNode?e.referenceNode:e}var Or=Er&&!(!window.MSInputMethodContext||!document.documentMode),Pr=Er&&/MSIE 10/.test(navigator.userAgent);function Mr(e){return 11===e?Or:10===e?Pr:Or||Pr}function Nr(e){if(!e)return document.documentElement;for(var t=Mr(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===xr(n,"position")?Nr(n):n:e?e.ownerDocument.documentElement:document.documentElement}function Lr(e){return null!==e.parentNode?Lr(e.parentNode):e}function Dr(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a,s,c=o.commonAncestorContainer;if(e!==c&&t!==c||r.contains(i))return"BODY"===(s=(a=c).nodeName)||"HTML"!==s&&Nr(a.firstElementChild)!==a?Nr(c):c;var l=Lr(e);return l.host?Dr(l.host,t):Dr(e,Lr(t).host)}function jr(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function Fr(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function Br(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],Mr(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function Ur(e){var t=e.body,n=e.documentElement,r=Mr(10)&&getComputedStyle(n);return{height:Br("Height",t,n,r),width:Br("Width",t,n,r)}}var Hr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Vr=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function qr(e){return zr({},e,{right:e.left+e.width,bottom:e.top+e.height})}function Jr(e){var t={};try{if(Mr(10)){t=e.getBoundingClientRect();var n=jr(e,"top"),r=jr(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?Ur(e.ownerDocument):{},a=o.width||e.clientWidth||i.width,s=o.height||e.clientHeight||i.height,c=e.offsetWidth-a,l=e.offsetHeight-s;if(c||l){var u=xr(e);c-=Fr(u,"x"),l-=Fr(u,"y"),i.width-=c,i.height-=l}return qr(i)}function Gr(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Mr(10),i="HTML"===t.nodeName,o=Jr(e),a=Jr(t),s=Rr(e),c=xr(t),l=parseFloat(c.borderTopWidth),u=parseFloat(c.borderLeftWidth);n&&i&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=qr({top:o.top-a.top-l,left:o.left-a.left-u,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var h=parseFloat(c.marginTop),p=parseFloat(c.marginLeft);d.top-=l-h,d.bottom-=l-h,d.left-=u-p,d.right-=u-p,d.marginTop=h,d.marginLeft=p}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=jr(t,"top"),i=jr(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}(d,t)),d}function Wr(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===xr(e,"position"))return!0;var n=Ar(e);return!!n&&Wr(n)}function Qr(e){if(!e||!e.parentElement||Mr())return document.documentElement;for(var t=e.parentElement;t&&"none"===xr(t,"transform");)t=t.parentElement;return t||document.documentElement}function Zr(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=i?Qr(e):Dr(e,Ir(t));if("viewport"===r)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=Gr(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:jr(n),s=t?0:jr(n,"left");return qr({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:o})}(a,i);else{var s=void 0;"scrollParent"===r?"BODY"===(s=Rr(Ar(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var c=Gr(s,a,i);if("HTML"!==s.nodeName||Wr(a))o=c;else{var l=Ur(e.ownerDocument),u=l.height,d=l.width;o.top+=c.top-c.marginTop,o.bottom=u+c.top,o.left+=c.left-c.marginLeft,o.right=d+c.left}}var h="number"==typeof(n=n||0);return o.left+=h?n:n.left||0,o.top+=h?n:n.top||0,o.right-=h?n:n.right||0,o.bottom-=h?n:n.bottom||0,o}function $r(e){return e.width*e.height}function Kr(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=Zr(n,r,o,i),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},c=Object.keys(s).map((function(e){return zr({key:e},s[e],{area:$r(s[e])})})).sort((function(e,t){return t.area-e.area})),l=c.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),u=l.length>0?l[0].key:c[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function Xr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Gr(n,r?Qr(t):Dr(t,Ir(n)),r)}function Yr(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function ei(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function ti(e,t,n){n=n.split("-")[0];var r=Yr(e),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",c=o?"height":"width",l=o?"width":"height";return i[a]=t[a]+t[c]/2-r[c]/2,i[s]=n===s?t[s]-r[l]:t[ei(s)],i}function ni(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function ri(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=ni(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function;var n=e.function||e.fn;e.enabled&&Tr(n)&&(t.offsets.popper=qr(t.offsets.popper),t.offsets.reference=qr(t.offsets.reference),t=n(t,e))})),t}function ii(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=Xr(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=Kr(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=ti(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=ri(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function oi(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function ai(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],o=i?""+i+n:e;if(void 0!==document.body.style[o])return o}return null}function si(){return this.state.isDestroyed=!0,oi(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[ai("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function ci(e){var t=e.ownerDocument;return t?t.defaultView:window}function li(e,t,n,r){var i="BODY"===e.nodeName,o=i?e.ownerDocument.defaultView:e;o.addEventListener(t,n,{passive:!0}),i||li(Rr(o.parentNode),t,n,r),r.push(o)}function ui(e,t,n,r){n.updateBound=r,ci(e).addEventListener("resize",n.updateBound,{passive:!0});var i=Rr(e);return li(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function di(){this.state.eventsEnabled||(this.state=ui(this.reference,this.options,this.state,this.scheduleUpdate))}function hi(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,ci(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function pi(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function fi(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&pi(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var mi=Er&&/Firefox/i.test(navigator.userAgent);function vi(e,t,n){var r=ni(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));return i}var gi=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],yi=gi.slice(3);function _i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=yi.indexOf(e),r=yi.slice(n+1).concat(yi.slice(0,n));return t?r.reverse():r}var bi={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),c=s?"left":"top",l=s?"width":"height",u={start:Vr({},c,o[c]),end:Vr({},c,o[c]+o[l]-a[l])};e.offsets.popper=zr({},a,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n,r=t.offset,i=e.placement,o=e.offsets,a=o.popper,s=o.reference,c=i.split("-")[0];return n=pi(+r)?[+r,0]:function(e,t,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(ni(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&a[s].indexOf(",");var c=/\s*,\s*|\s+/,l=-1!==s?[a.slice(0,s).concat([a[s].split(c)[0]]),[a[s].split(c)[1]].concat(a.slice(s+1))]:[a];return(l=l.map((function(e,r){var i=(1===r?!o:o)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];return o?0===a.indexOf("%")?qr("%p"===a?n:r)[t]/100*o:"vh"===a||"vw"===a?("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o:o:e}(e,i,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){pi(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}(r,a,s,c),"left"===c?(a.top+=n[0],a.left-=n[1]):"right"===c?(a.top+=n[0],a.left+=n[1]):"top"===c?(a.left+=n[0],a.top-=n[1]):"bottom"===c&&(a.left+=n[0],a.top+=n[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||Nr(e.instance.popper);e.instance.reference===n&&(n=Nr(n));var r=ai("transform"),i=e.instance.popper.style,o=i.top,a=i.left,s=i[r];i.top="",i.left="",i[r]="";var c=Zr(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=o,i.left=a,i[r]=s,t.boundaries=c;var l=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<c[e]&&!t.escapeWithReference&&(n=Math.max(u[e],c[e])),Vr({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=u[n];return u[e]>c[e]&&!t.escapeWithReference&&(r=Math.min(u[n],c[e]-("right"===e?u.width:u.height))),Vr({},n,r)}};return l.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=zr({},u,d[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",c=a?"left":"top",l=a?"width":"height";return n[s]<o(r[c])&&(e.offsets.popper[c]=o(r[c])-n[l]),n[c]>o(r[s])&&(e.offsets.popper[c]=o(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!vi(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return e;var i=e.placement.split("-")[0],o=e.offsets,a=o.popper,s=o.reference,c=-1!==["left","right"].indexOf(i),l=c?"height":"width",u=c?"Top":"Left",d=u.toLowerCase(),h=c?"left":"top",p=c?"bottom":"right",f=Yr(r)[l];s[p]-f<a[d]&&(e.offsets.popper[d]-=a[d]-(s[p]-f)),s[d]+f>a[p]&&(e.offsets.popper[d]+=s[d]+f-a[p]),e.offsets.popper=qr(e.offsets.popper);var m=s[d]+s[l]/2-f/2,v=xr(e.instance.popper),g=parseFloat(v["margin"+u]),y=parseFloat(v["border"+u+"Width"]),_=m-e.offsets.popper[d]-g-y;return _=Math.max(Math.min(a[l]-f,_),0),e.arrowElement=r,e.offsets.arrow=(Vr(n={},d,Math.round(_)),Vr(n,h,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(oi(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=Zr(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=ei(r),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case"flip":a=[r,i];break;case"clockwise":a=_i(r);break;case"counterclockwise":a=_i(r,!0);break;default:a=t.behavior}return a.forEach((function(s,c){if(r!==s||a.length===c+1)return e;r=e.placement.split("-")[0],i=ei(r);var l=e.offsets.popper,u=e.offsets.reference,d=Math.floor,h="left"===r&&d(l.right)>d(u.left)||"right"===r&&d(l.left)<d(u.right)||"top"===r&&d(l.bottom)>d(u.top)||"bottom"===r&&d(l.top)<d(u.bottom),p=d(l.left)<d(n.left),f=d(l.right)>d(n.right),m=d(l.top)<d(n.top),v=d(l.bottom)>d(n.bottom),g="left"===r&&p||"right"===r&&f||"top"===r&&m||"bottom"===r&&v,y=-1!==["top","bottom"].indexOf(r),_=!!t.flipVariations&&(y&&"start"===o&&p||y&&"end"===o&&f||!y&&"start"===o&&m||!y&&"end"===o&&v),b=!!t.flipVariationsByContent&&(y&&"start"===o&&f||y&&"end"===o&&p||!y&&"start"===o&&v||!y&&"end"===o&&m),S=_||b;(h||g||S)&&(e.flipped=!0,(h||g)&&(r=a[c+1]),S&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=zr({},e.offsets.popper,ti(e.instance.popper,e.offsets.reference,e.placement)),e=ri(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[n]-(s?i[a?"width":"height"]:0),e.placement=ei(t),e.offsets.popper=qr(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!vi(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=ni(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n,r,i=t.x,o=t.y,a=e.offsets.popper,s=ni(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration,c=void 0!==s?s:t.gpuAcceleration,l=Nr(e.instance.popper),u=Jr(l),d={position:a.position},h=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,o=Math.round,a=Math.floor,s=function(e){return e},c=o(i.width),l=o(r.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),h=t?u||d||c%2==l%2?o:a:s,p=t?o:s;return{left:h(c%2==1&&l%2==1&&!d&&t?r.left-1:r.left),top:p(r.top),bottom:p(r.bottom),right:h(r.right)}}(e,window.devicePixelRatio<2||!mi),p="bottom"===i?"top":"bottom",f="right"===o?"left":"right",m=ai("transform");if(r="bottom"===p?"HTML"===l.nodeName?-l.clientHeight+h.bottom:-u.height+h.bottom:h.top,n="right"===f?"HTML"===l.nodeName?-l.clientWidth+h.right:-u.width+h.right:h.left,c&&m)d[m]="translate3d("+n+"px, "+r+"px, 0)",d[p]=0,d[f]=0,d.willChange="transform";else{var v="bottom"===p?-1:1,g="right"===f?-1:1;d[p]=r*v,d[f]=n*g,d.willChange=p+", "+f}var y={"x-placement":e.placement};return e.attributes=zr({},y,e.attributes),e.styles=zr({},d,e.styles),e.arrowStyles=zr({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return fi(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&fi(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var o=Xr(i,t,e,n.positionFixed),a=Kr(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),fi(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},Si={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:bi},wi=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=kr(this.update.bind(this)),this.options=zr({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(zr({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){r.options.modifiers[t]=zr({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return zr({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&Tr(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return Hr(e,[{key:"update",value:function(){return ii.call(this)}},{key:"destroy",value:function(){return si.call(this)}},{key:"enableEventListeners",value:function(){return di.call(this)}},{key:"disableEventListeners",value:function(){return hi.call(this)}}]),e}();wi.Utils=("undefined"!=typeof window?window:n.g).PopperUtils,wi.placements=gi,wi.Defaults=Si;var Ei=wi,Ci=n(4236),ki="undefined"!=typeof window?e.useLayoutEffect:e.useEffect,Ti=e.forwardRef((function(n,r){var i=n.children,o=n.container,a=n.disablePortal,s=void 0!==a&&a,c=n.onRendered,l=e.useState(null),u=l[0],d=l[1],h=(0,_.Z)(e.isValidElement(i)?i.ref:null,r);return ki((function(){s||d(function(e){return e="function"==typeof e?e():e,t.findDOMNode(e)}(o)||document.body)}),[o,s]),ki((function(){if(u&&!s)return(0,Ci.Z)(r,u),function(){(0,Ci.Z)(r,null)}}),[r,u,s]),ki((function(){c&&(u||s)&&c()}),[c,u,s]),s?e.isValidElement(i)?e.cloneElement(i,{ref:h}):i:u?t.createPortal(i,u):u})),xi=n(2568);function Ai(e){return"function"==typeof e?e():e}var Ri="undefined"!=typeof window?e.useLayoutEffect:e.useEffect,Ii={},Oi=e.forwardRef((function(t,n){var r=t.anchorEl,i=t.children,s=t.container,c=t.disablePortal,l=void 0!==c&&c,u=t.keepMounted,d=void 0!==u&&u,h=t.modifiers,p=t.open,f=t.placement,m=void 0===f?"bottom":f,v=t.popperOptions,g=void 0===v?Ii:v,y=t.popperRef,S=t.style,w=t.transition,E=void 0!==w&&w,C=(0,a.Z)(t,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),k=e.useRef(null),T=(0,_.Z)(k,n),x=e.useRef(null),A=(0,_.Z)(x,y),R=e.useRef(A);Ri((function(){R.current=A}),[A]),e.useImperativeHandle(y,(function(){return x.current}),[]);var I=e.useState(!0),O=I[0],P=I[1],M=function(e,t){if("ltr"===(t&&t.direction||"ltr"))return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(m,(0,b.Z)()),N=e.useState(M),L=N[0],D=N[1];e.useEffect((function(){x.current&&x.current.update()}));var j=e.useCallback((function(){if(k.current&&r&&p){x.current&&(x.current.destroy(),R.current(null));var e=function(e){D(e.placement)},t=(Ai(r),new Ei(Ai(r),k.current,(0,o.Z)({placement:M},g,{modifiers:(0,o.Z)({},l?{}:{preventOverflow:{boundariesElement:"window"}},h,g.modifiers),onCreate:(0,xi.Z)(e,g.onCreate),onUpdate:(0,xi.Z)(e,g.onUpdate)})));R.current(t)}}),[r,l,h,p,M,g]),F=e.useCallback((function(e){(0,Ci.Z)(T,e),j()}),[T,j]),B=function(){x.current&&(x.current.destroy(),R.current(null))};if(e.useEffect((function(){return function(){B()}}),[]),e.useEffect((function(){p||E||B()}),[p,E]),!d&&!p&&(!E||O))return null;var U={placement:L};return E&&(U.TransitionProps={in:p,onEnter:function(){P(!1)},onExited:function(){P(!0),B()}}),e.createElement(Ti,{disablePortal:l,container:s},e.createElement("div",(0,o.Z)({ref:F,role:"tooltip"},C,{style:(0,o.Z)({position:"fixed",top:0,left:0,display:p||!d||E?null:"none"},S)}),"function"==typeof i?i(U):i))})),Pi=Oi,Mi=n(5001),Ni=n(2775);function Li(e){return Math.round(1e5*e)/1e5}var Di,ji,Fi,Bi=!1,Ui=null,Hi=e.forwardRef((function(n,r){var s=n.arrow,c=void 0!==s&&s,l=n.children,u=n.classes,d=n.disableFocusListener,h=void 0!==d&&d,p=n.disableHoverListener,f=void 0!==p&&p,m=n.disableTouchListener,v=void 0!==m&&m,g=n.enterDelay,y=void 0===g?100:g,b=n.enterNextDelay,S=void 0===b?0:b,E=n.enterTouchDelay,C=void 0===E?700:E,k=n.id,T=n.interactive,x=void 0!==T&&T,A=n.leaveDelay,R=void 0===A?0:A,I=n.leaveTouchDelay,O=void 0===I?1500:I,P=n.onClose,M=n.onOpen,N=n.open,L=n.placement,j=void 0===L?"bottom":L,F=n.PopperComponent,B=void 0===F?Pi:F,U=n.PopperProps,H=n.title,V=n.TransitionComponent,z=void 0===V?wr:V,q=n.TransitionProps,J=(0,a.Z)(n,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),G=w(),W=e.useState(),Q=W[0],Z=W[1],$=e.useState(null),K=$[0],X=$[1],Y=e.useRef(!1),ee=e.useRef(),te=e.useRef(),ne=e.useRef(),re=e.useRef(),ie=(0,Ni.Z)({controlled:N,default:!1,name:"Tooltip",state:"open"}),oe=(0,D.Z)(ie,2),ae=oe[0],se=oe[1],ce=ae,le=(0,Mi.Z)(k);e.useEffect((function(){return function(){clearTimeout(ee.current),clearTimeout(te.current),clearTimeout(ne.current),clearTimeout(re.current)}}),[]);var ue=function(e){clearTimeout(Ui),Bi=!0,se(!0),M&&M(e)},de=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=l.props;"mouseover"===t.type&&n.onMouseOver&&e&&n.onMouseOver(t),Y.current&&"touchstart"!==t.type||(Q&&Q.removeAttribute("title"),clearTimeout(te.current),clearTimeout(ne.current),y||Bi&&S?(t.persist(),te.current=setTimeout((function(){ue(t)}),Bi?S:y)):ue(t))}},he=(0,Qn.Z)(),pe=he.isFocusVisible,fe=he.onBlurVisible,me=he.ref,ve=e.useState(!1),ge=ve[0],ye=ve[1],_e=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){Q||Z(t.currentTarget),pe(t)&&(ye(!0),de()(t));var n=l.props;n.onFocus&&e&&n.onFocus(t)}},be=function(e){clearTimeout(Ui),Ui=setTimeout((function(){Bi=!1}),800+R),se(!1),P&&P(e),clearTimeout(ee.current),ee.current=setTimeout((function(){Y.current=!1}),G.transitions.duration.shortest)},Se=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=l.props;"blur"===t.type&&(n.onBlur&&e&&n.onBlur(t),ge&&(ye(!1),fe())),"mouseleave"===t.type&&n.onMouseLeave&&t.currentTarget===Q&&n.onMouseLeave(t),clearTimeout(te.current),clearTimeout(ne.current),t.persist(),ne.current=setTimeout((function(){be(t)}),R)}},we=function(e){Y.current=!0;var t=l.props;t.onTouchStart&&t.onTouchStart(e)},Ee=(0,_.Z)(Z,r),Ce=(0,_.Z)(me,Ee),ke=e.useCallback((function(e){(0,Ci.Z)(Ce,t.findDOMNode(e))}),[Ce]),Te=(0,_.Z)(l.ref,ke);""===H&&(ce=!1);var xe=!ce&&!f,Ae=(0,o.Z)({"aria-describedby":ce?le:null,title:xe&&"string"==typeof H?H:null},J,l.props,{className:(0,i.Z)(J.className,l.props.className),onTouchStart:we,ref:Te}),Re={};v||(Ae.onTouchStart=function(e){we(e),clearTimeout(ne.current),clearTimeout(ee.current),clearTimeout(re.current),e.persist(),re.current=setTimeout((function(){de()(e)}),C)},Ae.onTouchEnd=function(e){l.props.onTouchEnd&&l.props.onTouchEnd(e),clearTimeout(re.current),clearTimeout(ne.current),e.persist(),ne.current=setTimeout((function(){be(e)}),O)}),f||(Ae.onMouseOver=de(),Ae.onMouseLeave=Se(),x&&(Re.onMouseOver=de(!1),Re.onMouseLeave=Se(!1))),h||(Ae.onFocus=_e(),Ae.onBlur=Se(),x&&(Re.onFocus=_e(!1),Re.onBlur=Se(!1)));var Ie=e.useMemo((function(){return(0,yr.Z)({popperOptions:{modifiers:{arrow:{enabled:Boolean(K),element:K}}}},U)}),[K,U]);return e.createElement(e.Fragment,null,e.cloneElement(l,Ae),e.createElement(B,(0,o.Z)({className:(0,i.Z)(u.popper,x&&u.popperInteractive,c&&u.popperArrow),placement:j,anchorEl:Q,open:!!Q&&ce,id:Ae["aria-describedby"],transition:!0},Re,Ie),(function(t){var n=t.placement,r=t.TransitionProps;return e.createElement(z,(0,o.Z)({timeout:G.transitions.duration.shorter},r,q),e.createElement("div",{className:(0,i.Z)(u.tooltip,u["tooltipPlacement".concat((0,Jn.Z)(n.split("-")[0]))],Y.current&&u.touch,c&&u.tooltipArrow)},H,c?e.createElement("span",{className:u.arrow,ref:X}):null))})))})),Vi=(0,P.Z)((function(e){return{popper:{zIndex:e.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}},tooltip:{backgroundColor:(0,M.Fq)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat(Li(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:(0,M.Fq)(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat(Li(16/14),"em"),fontWeight:e.typography.fontWeightRegular},tooltipPlacementLeft:(0,qn.Z)({transformOrigin:"right center",margin:"0 24px "},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:(0,qn.Z)({transformOrigin:"left center",margin:"0 24px"},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:(0,qn.Z)({transformOrigin:"center bottom",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:(0,qn.Z)({transformOrigin:"center top",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"})}}),{name:"MuiTooltip",flip:!1})(Hi),zi=["title","titleId"];function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qi.apply(this,arguments)}function Ji(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,zi);return e.createElement("svg",qi({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,Di||(Di=e.createElement("path",{d:"M11.6958 18.2173V22.9999",stroke:"white",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),ji||(ji=e.createElement("path",{d:"M11.6957 1C10.681 1 9.70779 1.4031 8.99026 2.12063C8.27273 2.83817 7.86963 3.81135 7.86963 4.82609V11.5217C7.86963 12.5365 8.27273 13.5097 8.99026 14.2272C9.70779 14.9447 10.681 15.3478 11.6957 15.3478C12.7105 15.3478 13.6836 14.9447 14.4012 14.2272C15.1187 13.5097 15.5218 12.5365 15.5218 11.5217V4.82609C15.5218 3.81135 15.1187 2.83817 14.4012 2.12063C13.6836 1.4031 12.7105 1 11.6957 1V1Z",fill:"white",stroke:"white",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),Fi||(Fi=e.createElement("path",{d:"M18.3913 8.6521V11.5217C18.3913 13.2975 17.6859 15.0005 16.4302 16.2562C15.1745 17.5119 13.4714 18.2173 11.6957 18.2173C9.91985 18.2173 8.21679 17.5119 6.96111 16.2562C5.70543 15.0005 5 13.2975 5 11.5217V8.6521",stroke:"white",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})))}var Gi,Wi,Qi,Zi,$i=e.forwardRef(Ji),Ki=(n.p,["title","titleId"]);function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xi.apply(this,arguments)}function Yi(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,Ki);return e.createElement("svg",Xi({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,Gi||(Gi=e.createElement("path",{d:"M11.6958 18.2173V22.9999",stroke:"white",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),Wi||(Wi=e.createElement("path",{d:"M11.6957 1C10.681 1 9.70779 1.4031 8.99026 2.12063C8.27273 2.83817 7.86963 3.81135 7.86963 4.82609V11.5217C7.86963 12.5365 8.27273 13.5097 8.99026 14.2272C9.70779 14.9447 10.681 15.3478 11.6957 15.3478C12.7105 15.3478 13.6836 14.9447 14.4012 14.2272C15.1187 13.5097 15.5218 12.5365 15.5218 11.5217V4.82609C15.5218 3.81135 15.1187 2.83817 14.4012 2.12063C13.6836 1.4031 12.7105 1 11.6957 1V1Z",fill:"white",stroke:"white",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),Qi||(Qi=e.createElement("path",{d:"M18.3913 8.6521V11.5217C18.3913 13.2975 17.6859 15.0005 16.4302 16.2562C15.1745 17.5119 13.4714 18.2173 11.6957 18.2173C9.91985 18.2173 8.21679 17.5119 6.96111 16.2562C5.70543 15.0005 5 13.2975 5 11.5217V8.6521",stroke:"white",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),Zi||(Zi=e.createElement("line",{x1:3.43244,y1:1.54876,x2:20.7602,y2:18.1545,stroke:"white",strokeWidth:1.25})))}var eo=e.forwardRef(Yi),to=(n.p,n(1727)),no=function(t){return t.isVisible?e.createElement(Vi,{disableHoverListener:t.noTrack,title:t.isMuted?t.localizedObject.UN_MUTE_AUDIO_TEXT:t.localizedObject.MUTE_AUDIO_TEXT,arrow:!0},e.createElement(dr,{id:"audioButton","data-testid":"cc-audio","aria-label":"delete",size:"small",component:"span",className:"bottom-buttons-icon-button",onClick:St()((function(e){e.stopPropagation(),t.onPress()}),500)},e.createElement("div",{"data-testid":"audioButtonIconContainer",className:"cc-bottom-buttons-icon-container ".concat(t.isMuted?"cc-audio-icon-container-muted":"cc-audio-icon-container")},t.isMuted?e.createElement(eo,{fontSize:"medium",className:"bottom-buttons-icon-color"}):e.createElement($i,{className:"bottom-buttons-icon-color"})),t.noTrack?e.createElement(Vi,{title:t.localizedObject.MIC_ERROR_MSG,arrow:!0},e.createElement("div",{className:"track-error-container"},e.createElement(to.Z,{style:{aspectRatio:1,height:16,width:16,color:"#fff"}}))):null)):null};no.defaultProps={isMuted:!0,onPress:function(){},isVisible:!1,localizedObject:{},noTrack:!1},no.propTypes={isMuted:Dn().bool,isVisible:Dn().bool,localizedObject:Dn().object,onPress:Dn().func,noTrack:Dn().bool};var ro,io=no,oo=["title","titleId"];function ao(){return ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ao.apply(this,arguments)}function so(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,oo);return e.createElement("svg",ao({width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,ro||(ro=e.createElement("path",{d:"M21.5 8.90962C22.1905 9.06141 22.8109 9.43857 23.2635 9.98169C23.7161 10.5248 23.9752 11.2031 24 11.9096V13.4096C23.9961 13.9388 23.7841 14.4453 23.4099 14.8195C23.0357 15.1937 22.5292 15.4057 22 15.4096H19C18.4709 15.4054 17.9646 15.1934 17.5904 14.8192C17.2162 14.445 17.0042 13.9388 17 13.4096V12.4096C14.0072 12.1156 10.9928 12.1156 8 12.4096V13.4096C7.99607 13.9388 7.7841 14.4453 7.40988 14.8195C7.03565 15.1937 6.52922 15.4057 6 15.4096H3C2.47078 15.4057 1.96435 15.1937 1.59012 14.8195C1.2159 14.4453 1.00393 13.9388 1 13.4096V11.9096C1.02479 11.2031 1.28388 10.5248 1.73649 9.98169C2.18909 9.43857 2.8095 9.06141 3.5 8.90962C9.43871 7.69679 15.5613 7.69679 21.5 8.90962Z",fill:"white",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})))}var co=e.forwardRef(so),lo=(n.p,function(t){return t.isVisible?e.createElement(Vi,{title:t.localizedObject.END_CALL_TEXT,arrow:!0},e.createElement(dr,{size:"small",component:"span",className:"bottom-buttons-icon-button","data-testid":"cc-end-call",onClick:St()((function(e){e.stopPropagation(),t.onPress()}),1e3)},e.createElement("div",{className:"cc-bottom-buttons-icon-container cc-end-call-icon-container"},e.createElement(co,{className:"bottom-buttons-icon-color"})))):null});lo.defaultProps={onPress:function(){},localizedObject:{},isVisible:!0},lo.propTypes={onPress:Dn().func,localizedObject:Dn().object,isVisible:Dn().bool};var uo,ho=lo,po=["title","titleId"];function fo(){return fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fo.apply(this,arguments)}function mo(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,po);return e.createElement("svg",fo({width:22,height:22,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,uo||(uo=e.createElement("path",{d:"M1 11C1 13.6522 2.05357 16.1957 3.92893 18.0711C5.8043 19.9464 8.34784 21 11 21C13.6522 21 16.1957 19.9464 18.0711 18.0711C19.9464 16.1957 21 13.6522 21 11C21 8.34784 19.9464 5.8043 18.0711 3.92893C16.1957 2.05357 13.6522 1 11 1C8.34784 1 5.8043 2.05357 3.92893 3.92893C2.05357 5.8043 1 8.34784 1 11Z",fill:"#D93438",stroke:"#D93438",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})))}var vo,go=e.forwardRef(mo),yo=(n.p,["title","titleId"]);function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_o.apply(this,arguments)}function bo(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,yo);return e.createElement("svg",_o({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,vo||(vo=e.createElement("rect",{width:18,height:18,rx:2,fill:"#D93438"})))}var So=e.forwardRef(bo),wo=(n.p,function(t){return t.isVisible?e.createElement(Vi,{title:t.isOn?t.localizedObject.STOP_RECORDING_TEXT:t.localizedObject.START_RECORDING_TEXT,arrow:!0},e.createElement(dr,{id:"recordingButton","data-testid":"cc-recording",size:"small",component:"span",className:"bottom-buttons-icon-button",onClick:St()((function(e){e.stopPropagation(),t.onPress()}),500)},e.createElement("div",{className:"cc-bottom-buttons-icon-container ".concat(t.isOn?"cc-start-rec-icon-container":"cc-stop-rec-icon-container")},t.isOn?e.createElement(So,{fontSize:"medium",style:{color:"red"},"data-testid":"stopRecordingIcon"}):e.createElement(go,{fontSize:"medium",className:"bottom-buttons-icon-color","data-testid":"startRecordingIcon"})))):null});wo.defaultProps={isOn:!1,onPress:function(){},isVisible:!1,localizedObject:{}},wo.propTypes={isOn:Dn().bool,isVisible:Dn().bool,onPress:Dn().func,localizedObject:Dn().object};var Eo,Co,ko=wo,To=["title","titleId"];function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xo.apply(this,arguments)}function Ao(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,To);return e.createElement("svg",xo({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,Eo||(Eo=e.createElement("g",{clipPath:"url(#clip0)"},e.createElement("path",{d:"M21.1304 3H2.86957C2.38932 3 2 3.38932 2 3.86957V16.913C2 17.3933 2.38932 17.7826 2.86957 17.7826H21.1304C21.6107 17.7826 22 17.3933 22 16.913V3.86957C22 3.38932 21.6107 3 21.1304 3Z",stroke:"#fff",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M13.3045 17.7827H10.6958V20.3914H13.3045V17.7827Z",stroke:"#fff",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M7.65186 20.3914H16.3475",stroke:"#fff",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("line",{x1:.410112,y1:-.471628,x2:24.5575,y2:20.5261,stroke:"#fff",strokeWidth:1.25}))),Co||(Co=e.createElement("defs",null,e.createElement("clipPath",{id:"clip0"},e.createElement("rect",{width:24,height:24,fill:"white"})))))}var Ro,Io,Oo,Po=e.forwardRef(Ao),Mo=(n.p,["title","titleId"]);function No(){return No=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},No.apply(this,arguments)}function Lo(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,Mo);return e.createElement("svg",No({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,Ro||(Ro=e.createElement("path",{d:"M21.1304 3H2.86957C2.38932 3 2 3.38932 2 3.86957V16.913C2 17.3933 2.38932 17.7826 2.86957 17.7826H21.1304C21.6107 17.7826 22 17.3933 22 16.913V3.86957C22 3.38932 21.6107 3 21.1304 3Z",stroke:"#fff",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),Io||(Io=e.createElement("path",{d:"M13.3045 17.7827H10.6958V20.3914H13.3045V17.7827Z",stroke:"#fff",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),Oo||(Oo=e.createElement("path",{d:"M7.65186 20.3914H16.3475",stroke:"#fff",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})))}var Do=e.forwardRef(Lo),jo=(n.p,function(t){return t.isVisible?e.createElement(Vi,{title:t.isOn?t.localizedObject.STOP_SCREEN_SHARE_TEXT:t.localizedObject.START_SCREEN_SHARE_TEXT,arrow:!0},e.createElement(dr,{id:"screenShareButton","data-testid":"cc-screen-share",size:"small",component:"span",className:"bottom-buttons-icon-button",onClick:St()((function(e){e.stopPropagation(),t.onPress()}),500)},e.createElement("div",{className:"cc-bottom-buttons-icon-container cc-screen-share-icon-container"},t.isOn?e.createElement(Po,{fontSize:"medium",className:"bottom-buttons-icon-color"}):e.createElement(Do,{stroke:"#fff",fontSize:"medium",className:"bottom-buttons-icon-color"})))):null});jo.defaultProps={isOn:!1,onPress:function(){},isVisible:!1,localizedObject:{}},jo.propTypes={isOn:Dn().bool,isVisible:Dn().bool,onPress:Dn().func,localizedObject:Dn().object};var Fo=jo,Bo=n(2781),Uo=n(5671),Ho=n(3144);function Vo(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}var zo=n(713);function qo(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Jo(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function Go(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=[t,n].concat((0,Zn.Z)(r)),a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===o.indexOf(e)&&-1===a.indexOf(e.tagName)&&qo(e,i)}))}function Wo(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}var Qo=function(){function e(){(0,Uo.Z)(this,e),this.modals=[],this.containers=[]}return(0,Ho.Z)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&qo(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);Go(t,e.mountNode,e.modalRef,r,!0);var i=Wo(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=Wo(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=function(e,t){var n,r=[],i=[],o=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,U.Z)(e);return t.body===e?(0,zo.Z)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(o)){var a=Vo();r.push({value:o.style.paddingRight,key:"padding-right",el:o}),o.style["padding-right"]="".concat(Jo(o)+a,"px"),n=(0,U.Z)(o).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(Jo(e)+a,"px")}))}var s=o.parentElement,c="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:o;r.push({value:c.style.overflow,key:"overflow",el:c}),c.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=Wo(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&qo(e.modalRef,!0),Go(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&qo(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),Zo=function(n){var r=n.children,i=n.disableAutoFocus,o=void 0!==i&&i,a=n.disableEnforceFocus,s=void 0!==a&&a,c=n.disableRestoreFocus,l=void 0!==c&&c,u=n.getDoc,d=n.isEnabled,h=n.open,p=e.useRef(),f=e.useRef(null),m=e.useRef(null),v=e.useRef(),g=e.useRef(null),y=e.useCallback((function(e){g.current=t.findDOMNode(e)}),[]),b=(0,_.Z)(r.ref,y),S=e.useRef();return e.useEffect((function(){S.current=h}),[h]),!S.current&&h&&"undefined"!=typeof window&&(v.current=u().activeElement),e.useEffect((function(){if(h){var e=(0,U.Z)(g.current);o||!g.current||g.current.contains(e.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex",-1),g.current.focus());var t=function(){null!==g.current&&(e.hasFocus()&&!s&&d()&&!p.current?g.current&&!g.current.contains(e.activeElement)&&g.current.focus():p.current=!1)},n=function(t){!s&&d()&&9===t.keyCode&&e.activeElement===g.current&&(p.current=!0,t.shiftKey?m.current.focus():f.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var r=setInterval((function(){t()}),50);return function(){clearInterval(r),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),l||(v.current&&v.current.focus&&v.current.focus(),v.current=null)}}}),[o,s,l,d,h]),e.createElement(e.Fragment,null,e.createElement("div",{tabIndex:0,ref:f,"data-test":"sentinelStart"}),e.cloneElement(r,{ref:b}),e.createElement("div",{tabIndex:0,ref:m,"data-test":"sentinelEnd"}))},$o={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},Ko=e.forwardRef((function(t,n){var r=t.invisible,i=void 0!==r&&r,s=t.open,c=(0,a.Z)(t,["invisible","open"]);return s?e.createElement("div",(0,o.Z)({"aria-hidden":!0,ref:n},c,{style:(0,o.Z)({},$o.root,i?$o.invisible:{},c.style)})):null})),Xo=new Qo,Yo=e.forwardRef((function(n,r){var i=(0,b.Z)(),s=(0,jn.Z)({name:"MuiModal",props:(0,o.Z)({},n),theme:i}),c=s.BackdropComponent,l=void 0===c?Ko:c,u=s.BackdropProps,d=s.children,h=s.closeAfterTransition,p=void 0!==h&&h,f=s.container,m=s.disableAutoFocus,v=void 0!==m&&m,g=s.disableBackdropClick,y=void 0!==g&&g,S=s.disableEnforceFocus,w=void 0!==S&&S,E=s.disableEscapeKeyDown,C=void 0!==E&&E,k=s.disablePortal,T=void 0!==k&&k,x=s.disableRestoreFocus,A=void 0!==x&&x,R=s.disableScrollLock,I=void 0!==R&&R,O=s.hideBackdrop,P=void 0!==O&&O,M=s.keepMounted,N=void 0!==M&&M,L=s.manager,D=void 0===L?Xo:L,j=s.onBackdropClick,F=s.onClose,B=s.onEscapeKeyDown,V=s.onRendered,z=s.open,q=(0,a.Z)(s,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),J=e.useState(!0),G=J[0],W=J[1],Q=e.useRef({}),Z=e.useRef(null),$=e.useRef(null),K=(0,_.Z)($,r),X=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(s),Y=function(){return(0,U.Z)(Z.current)},ee=function(){return Q.current.modalRef=$.current,Q.current.mountNode=Z.current,Q.current},te=function(){D.mount(ee(),{disableScrollLock:I}),$.current.scrollTop=0},ne=(0,H.Z)((function(){var e=function(e){return e="function"==typeof e?e():e,t.findDOMNode(e)}(f)||Y().body;D.add(ee(),e),$.current&&te()})),re=e.useCallback((function(){return D.isTopModal(ee())}),[D]),ie=(0,H.Z)((function(e){Z.current=e,e&&(V&&V(),z&&re()?te():qo($.current,!0))})),oe=e.useCallback((function(){D.remove(ee())}),[D]);if(e.useEffect((function(){return function(){oe()}}),[oe]),e.useEffect((function(){z?ne():X&&p||oe()}),[z,oe,X,p,ne]),!N&&!z&&(!X||G))return null;var ae=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(i||{zIndex:Bo.Z}),se={};return void 0===d.props.tabIndex&&(se.tabIndex=d.props.tabIndex||"-1"),X&&(se.onEnter=(0,xi.Z)((function(){W(!1)}),d.props.onEnter),se.onExited=(0,xi.Z)((function(){W(!0),p&&oe()}),d.props.onExited)),e.createElement(Ti,{ref:ie,container:f,disablePortal:T},e.createElement("div",(0,o.Z)({ref:K,onKeyDown:function(e){"Escape"===e.key&&re()&&(B&&B(e),C||(e.stopPropagation(),F&&F(e,"escapeKeyDown")))},role:"presentation"},q,{style:(0,o.Z)({},ae.root,!z&&G?ae.hidden:{},q.style)}),P?null:e.createElement(l,(0,o.Z)({open:z,onClick:function(e){e.target===e.currentTarget&&(j&&j(e),!y&&F&&F(e,"backdropClick"))}},u)),e.createElement(Zo,{disableEnforceFocus:w,disableAutoFocus:v,disableRestoreFocus:A,getDoc:Y,isEnabled:re,open:z},e.cloneElement(d,se))))})),ea={entering:{opacity:1},entered:{opacity:1}},ta={enter:E.x9.enteringScreen,exit:E.x9.leavingScreen},na=e.forwardRef((function(t,n){var r=t.children,i=t.disableStrictModeCompat,s=void 0!==i&&i,c=t.in,l=t.onEnter,u=t.onEntered,d=t.onEntering,h=t.onExit,p=t.onExited,f=t.onExiting,m=t.style,v=t.TransitionComponent,g=void 0===v?y:v,b=t.timeout,S=void 0===b?ta:b,E=(0,a.Z)(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),T=w(),x=T.unstable_strictMode&&!s,A=e.useRef(null),R=(0,_.Z)(r.ref,n),I=(0,_.Z)(x?A:void 0,R),O=function(e){return function(t,n){if(e){var r=x?[A.current,t]:[t,n],i=(0,D.Z)(r,2),o=i[0],a=i[1];void 0===a?e(o):e(o,a)}}},P=O(d),M=O((function(e,t){C(e);var n=k({style:m,timeout:S},{mode:"enter"});e.style.webkitTransition=T.transitions.create("opacity",n),e.style.transition=T.transitions.create("opacity",n),l&&l(e,t)})),N=O(u),L=O(f),j=O((function(e){var t=k({style:m,timeout:S},{mode:"exit"});e.style.webkitTransition=T.transitions.create("opacity",t),e.style.transition=T.transitions.create("opacity",t),h&&h(e)})),F=O(p);return e.createElement(g,(0,o.Z)({appear:!0,in:c,nodeRef:x?A:void 0,onEnter:M,onEntered:N,onEntering:P,onExit:j,onExited:F,onExiting:L,timeout:S},E),(function(t,n){return e.cloneElement(r,(0,o.Z)({style:(0,o.Z)({opacity:0,visibility:"exited"!==t||c?void 0:"hidden"},ea[t],m,r.props.style),ref:I},n))}))})),ra=na,ia=e.forwardRef((function(t,n){var r=t.children,s=t.classes,c=t.className,l=t.invisible,u=void 0!==l&&l,d=t.open,h=t.transitionDuration,p=t.TransitionComponent,f=void 0===p?ra:p,m=(0,a.Z)(t,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return e.createElement(f,(0,o.Z)({in:d,timeout:h},m),e.createElement("div",{className:(0,i.Z)(s.root,c,u&&s.invisible),"aria-hidden":!0,ref:n},r))})),oa=(0,P.Z)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(ia),aa=e.forwardRef((function(t,n){var r=t.classes,s=t.className,c=t.component,l=void 0===c?"div":c,u=t.square,d=void 0!==u&&u,h=t.elevation,p=void 0===h?1:h,f=t.variant,m=void 0===f?"elevation":f,v=(0,a.Z)(t,["classes","className","component","square","elevation","variant"]);return e.createElement(l,(0,o.Z)({className:(0,i.Z)(r.root,s,"outlined"===m?r.outlined:r["elevation".concat(p)],!d&&r.rounded),ref:n},v))})),sa=(0,P.Z)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),(0,o.Z)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(aa),ca={enter:E.x9.enteringScreen,exit:E.x9.leavingScreen},la=e.forwardRef((function(t,n){var r=t.BackdropProps,s=t.children,c=t.classes,l=t.className,u=t.disableBackdropClick,d=void 0!==u&&u,h=t.disableEscapeKeyDown,p=void 0!==h&&h,f=t.fullScreen,m=void 0!==f&&f,v=t.fullWidth,g=void 0!==v&&v,y=t.maxWidth,_=void 0===y?"sm":y,b=t.onBackdropClick,S=t.onClose,w=t.onEnter,E=t.onEntered,C=t.onEntering,k=t.onEscapeKeyDown,T=t.onExit,x=t.onExited,A=t.onExiting,R=t.open,I=t.PaperComponent,O=void 0===I?sa:I,P=t.PaperProps,M=void 0===P?{}:P,N=t.scroll,L=void 0===N?"paper":N,D=t.TransitionComponent,j=void 0===D?ra:D,F=t.transitionDuration,B=void 0===F?ca:F,U=t.TransitionProps,H=t["aria-describedby"],V=t["aria-labelledby"],z=(0,a.Z)(t,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),q=e.useRef();return e.createElement(Yo,(0,o.Z)({className:(0,i.Z)(c.root,l),BackdropComponent:oa,BackdropProps:(0,o.Z)({transitionDuration:B},r),closeAfterTransition:!0},d?{disableBackdropClick:d}:{},{disableEscapeKeyDown:p,onEscapeKeyDown:k,onClose:S,open:R,ref:n},z),e.createElement(j,(0,o.Z)({appear:!0,in:R,timeout:B,onEnter:w,onEntering:C,onEntered:E,onExit:T,onExiting:A,onExited:x,role:"none presentation"},U),e.createElement("div",{className:(0,i.Z)(c.container,c["scroll".concat((0,Jn.Z)(L))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===q.current&&(q.current=null,b&&b(e),!d&&S&&S(e,"backdropClick"))},onMouseDown:function(e){q.current=e.target}},e.createElement(O,(0,o.Z)({elevation:24,role:"dialog","aria-describedby":H,"aria-labelledby":V},M,{className:(0,i.Z)(c.paper,c["paperScroll".concat((0,Jn.Z)(L))],c["paperWidth".concat((0,Jn.Z)(String(_)))],M.className,m&&c.paperFullScreen,g&&c.paperFullWidth)}),s))))})),ua=(0,P.Z)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":(0,qn.Z)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":(0,qn.Z)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":(0,qn.Z)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":(0,qn.Z)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":(0,qn.Z)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(la),da={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},ha=e.forwardRef((function(t,n){var r=t.align,s=void 0===r?"inherit":r,c=t.classes,l=t.className,u=t.color,d=void 0===u?"initial":u,h=t.component,p=t.display,f=void 0===p?"initial":p,m=t.gutterBottom,v=void 0!==m&&m,g=t.noWrap,y=void 0!==g&&g,_=t.paragraph,b=void 0!==_&&_,S=t.variant,w=void 0===S?"body1":S,E=t.variantMapping,C=void 0===E?da:E,k=(0,a.Z)(t,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),T=h||(b?"p":C[w]||da[w])||"span";return e.createElement(T,(0,o.Z)({className:(0,i.Z)(c.root,l,"inherit"!==w&&c[w],"initial"!==d&&c["color".concat((0,Jn.Z)(d))],y&&c.noWrap,v&&c.gutterBottom,b&&c.paragraph,"inherit"!==s&&c["align".concat((0,Jn.Z)(s))],"initial"!==f&&c["display".concat((0,Jn.Z)(f))]),ref:n},k))})),pa=(0,P.Z)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(ha);function fa(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function ma(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(fa(e.value)&&""!==e.value||t&&fa(e.defaultValue)&&""!==e.defaultValue)}var va=n(3711),ga=e.createContext(),ya=ga,_a=e.forwardRef((function(t,n){var r=t.children,s=t.classes,c=t.className,l=t.color,u=void 0===l?"primary":l,d=t.component,h=void 0===d?"div":d,p=t.disabled,f=void 0!==p&&p,m=t.error,v=void 0!==m&&m,g=t.fullWidth,y=void 0!==g&&g,_=t.focused,b=t.hiddenLabel,S=void 0!==b&&b,w=t.margin,E=void 0===w?"none":w,C=t.required,k=void 0!==C&&C,T=t.size,x=t.variant,A=void 0===x?"standard":x,R=(0,a.Z)(t,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),I=e.useState((function(){var t=!1;return r&&e.Children.forEach(r,(function(e){if((0,va.Z)(e,["Input","Select"])){var n=(0,va.Z)(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)}})),t})),O=I[0],P=I[1],M=e.useState((function(){var t=!1;return r&&e.Children.forEach(r,(function(e){(0,va.Z)(e,["Input","Select"])&&ma(e.props,!0)&&(t=!0)})),t})),N=M[0],L=M[1],D=e.useState(!1),j=D[0],F=D[1],B=void 0!==_?_:j;f&&B&&F(!1);var U=e.useCallback((function(){L(!0)}),[]),H={adornedStart:O,setAdornedStart:P,color:u,disabled:f,error:v,filled:N,focused:B,fullWidth:y,hiddenLabel:S,margin:("small"===T?"dense":void 0)||E,onBlur:function(){F(!1)},onEmpty:e.useCallback((function(){L(!1)}),[]),onFilled:U,onFocus:function(){F(!0)},registerEffect:void 0,required:k,variant:A};return e.createElement(ya.Provider,{value:H},e.createElement(h,(0,o.Z)({className:(0,i.Z)(s.root,c,"none"!==E&&s["margin".concat((0,Jn.Z)(E))],y&&s.fullWidth),ref:n},R),r))})),ba=(0,P.Z)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(_a),Sa=e.forwardRef((function(t,n){var r=t.classes,s=t.className,c=t.row,l=void 0!==c&&c,u=(0,a.Z)(t,["classes","className","row"]);return e.createElement("div",(0,o.Z)({className:(0,i.Z)(r.root,s,l&&r.row),ref:n},u))})),wa=(0,P.Z)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},{name:"MuiFormGroup"})(Sa),Ea=e.createContext(),Ca=e.forwardRef((function(t,n){var r=t.actions,i=t.children,s=t.name,c=t.value,l=t.onChange,u=(0,a.Z)(t,["actions","children","name","value","onChange"]),d=e.useRef(null),h=(0,Ni.Z)({controlled:c,default:t.defaultValue,name:"RadioGroup"}),p=(0,D.Z)(h,2),f=p[0],m=p[1];e.useImperativeHandle(r,(function(){return{focus:function(){var e=d.current.querySelector("input:not(:disabled):checked");e||(e=d.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var v=(0,_.Z)(n,d),g=(0,Mi.Z)(s);return e.createElement(Ea.Provider,{value:{name:g,onChange:function(e){m(e.target.value),l&&l(e,e.target.value)},value:f}},e.createElement(wa,(0,o.Z)({role:"radiogroup",ref:v},u),i))})),ka=Ca;function Ta(){return e.useContext(ya)}var xa=e.forwardRef((function(t,n){t.checked;var r=t.classes,s=t.className,c=t.control,l=t.disabled,u=(t.inputRef,t.label),d=t.labelPlacement,h=void 0===d?"end":d,p=(t.name,t.onChange,t.value,(0,a.Z)(t,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),f=Ta(),m=l;void 0===m&&void 0!==c.props.disabled&&(m=c.props.disabled),void 0===m&&f&&(m=f.disabled);var v={disabled:m};return["checked","name","onChange","value","inputRef"].forEach((function(e){void 0===c.props[e]&&void 0!==t[e]&&(v[e]=t[e])})),e.createElement("label",(0,o.Z)({className:(0,i.Z)(r.root,s,"end"!==h&&r["labelPlacement".concat((0,Jn.Z)(h))],m&&r.disabled),ref:n},p),e.cloneElement(c,v),e.createElement(pa,{component:"span",className:(0,i.Z)(r.label,m&&r.disabled)},u))})),Aa=(0,P.Z)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(xa),Ra=e.forwardRef((function(t,n){var r=t.autoFocus,s=t.checked,c=t.checkedIcon,l=t.classes,u=t.className,d=t.defaultChecked,h=t.disabled,p=t.icon,f=t.id,m=t.inputProps,v=t.inputRef,g=t.name,y=t.onBlur,_=t.onChange,b=t.onFocus,S=t.readOnly,w=t.required,E=t.tabIndex,C=t.type,k=t.value,T=(0,a.Z)(t,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),x=(0,Ni.Z)({controlled:s,default:Boolean(d),name:"SwitchBase",state:"checked"}),A=(0,D.Z)(x,2),R=A[0],I=A[1],O=Ta(),P=h;O&&void 0===P&&(P=O.disabled);var M="checkbox"===C||"radio"===C;return e.createElement(dr,(0,o.Z)({component:"span",className:(0,i.Z)(l.root,u,R&&l.checked,P&&l.disabled),disabled:P,tabIndex:null,role:void 0,onFocus:function(e){b&&b(e),O&&O.onFocus&&O.onFocus(e)},onBlur:function(e){y&&y(e),O&&O.onBlur&&O.onBlur(e)},ref:n},T),e.createElement("input",(0,o.Z)({autoFocus:r,checked:s,defaultChecked:d,className:l.input,disabled:P,id:M&&f,name:g,onChange:function(e){var t=e.target.checked;I(t),_&&_(e,t)},readOnly:S,ref:v,required:w,tabIndex:E,type:C,value:k},m)),R?c:p)})),Ia=(0,P.Z)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(Ra),Oa=n(3786),Pa=(0,Oa.Z)(e.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),Ma=(0,Oa.Z)(e.createElement("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),Na=(0,P.Z)((function(e){return{root:{position:"relative",display:"flex","&$checked $layer":{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}},layer:{left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},checked:{}}}),{name:"PrivateRadioButtonIcon"})((function(t){var n=t.checked,r=t.classes,o=t.fontSize;return e.createElement("div",{className:(0,i.Z)(r.root,n&&r.checked)},e.createElement(Pa,{fontSize:o}),e.createElement(Ma,{fontSize:o,className:r.layer}))})),La=e.createElement(Na,{checked:!0}),Da=e.createElement(Na,null),ja=e.forwardRef((function(t,n){var r=t.checked,s=t.classes,c=t.color,l=void 0===c?"secondary":c,u=t.name,d=t.onChange,h=t.size,p=void 0===h?"medium":h,f=(0,a.Z)(t,["checked","classes","color","name","onChange","size"]),m=e.useContext(Ea),v=r,g=(0,xi.Z)(d,m&&m.onChange),y=u;return m&&(void 0===v&&(v=m.value===t.value),void 0===y&&(y=m.name)),e.createElement(Ia,(0,o.Z)({color:l,type:"radio",icon:e.cloneElement(Da,{fontSize:"small"===p?"small":"medium"}),checkedIcon:e.cloneElement(La,{fontSize:"small"===p?"small":"medium"}),classes:{root:(0,i.Z)(s.root,s["color".concat((0,Jn.Z)(l))]),checked:s.checked,disabled:s.disabled},name:y,checked:v,onChange:g,ref:n},f))})),Fa=(0,P.Z)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,M.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,M.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiRadio"})(ja),Ba=(0,P.Z)((function(e){return{thumb:{"&$open":{"& $offset":{transform:"scale(1) translateY(-10px)"}}},open:{},offset:(0,o.Z)({zIndex:1},e.typography.body2,{fontSize:e.typography.pxToRem(12),lineHeight:1.2,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),top:-34,transformOrigin:"bottom center",transform:"scale(0)",position:"absolute"}),circle:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"currentColor",transform:"rotate(-45deg)"},label:{color:e.palette.primary.contrastText,transform:"rotate(45deg)"}}}),{name:"PrivateValueLabel"})((function(t){var n=t.children,r=t.classes,o=t.className,a=t.open,s=t.value,c=t.valueLabelDisplay;return"off"===c?n:e.cloneElement(n,{className:(0,i.Z)(n.props.className,(a||"on"===c)&&r.open,r.thumb)},e.createElement("span",{className:(0,i.Z)(r.offset,o)},e.createElement("span",{className:r.circle},e.createElement("span",{className:r.label},s))))}));function Ua(e,t){return e-t}function Ha(e,t,n){return Math.min(Math.max(t,e),n)}function Va(e,t){return e.reduce((function(e,n,r){var i=Math.abs(t-n);return null===e||i<e.distance||i===e.distance?{distance:i,index:r}:e}),null).index}function za(e,t){if(void 0!==t.current&&e.changedTouches){for(var n=0;n<e.changedTouches.length;n+=1){var r=e.changedTouches[n];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function qa(e,t,n){return 100*(e-t)/(n-t)}function Ja(e,t,n){var r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){var t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}var r=e.toString().split(".")[1];return r?r.length:0}(t)))}function Ga(e){var t=e.values,n=e.source,r=e.newValue,i=e.index;if(t[i]===r)return n;var o=t.slice();return o[i]=r,o}function Wa(e){var t=e.sliderRef,n=e.activeIndex,r=e.setActive;t.current.contains(document.activeElement)&&Number(document.activeElement.getAttribute("data-index"))===n||t.current.querySelector('[role="slider"][data-index="'.concat(n,'"]')).focus(),r&&r(n)}var Qa={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},Za=function(e){return e},$a=e.forwardRef((function(t,n){var r=t["aria-label"],s=t["aria-labelledby"],c=t["aria-valuetext"],l=t.classes,u=t.className,d=t.color,h=void 0===d?"primary":d,p=t.component,f=void 0===p?"span":p,m=t.defaultValue,v=t.disabled,g=void 0!==v&&v,y=t.getAriaLabel,b=t.getAriaValueText,S=t.marks,E=void 0!==S&&S,C=t.max,k=void 0===C?100:C,T=t.min,x=void 0===T?0:T,A=t.name,R=t.onChange,I=t.onChangeCommitted,O=t.onMouseDown,P=t.orientation,M=void 0===P?"horizontal":P,N=t.scale,L=void 0===N?Za:N,j=t.step,F=void 0===j?1:j,B=t.ThumbComponent,V=void 0===B?"span":B,z=t.track,q=void 0===z?"normal":z,J=t.value,G=t.ValueLabelComponent,W=void 0===G?Ba:G,Q=t.valueLabelDisplay,Z=void 0===Q?"off":Q,$=t.valueLabelFormat,K=void 0===$?Za:$,X=(0,a.Z)(t,["aria-label","aria-labelledby","aria-valuetext","classes","className","color","component","defaultValue","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","ThumbComponent","track","value","ValueLabelComponent","valueLabelDisplay","valueLabelFormat"]),Y=w(),ee=e.useRef(),te=e.useState(-1),ne=te[0],re=te[1],ie=e.useState(-1),oe=ie[0],ae=ie[1],se=(0,Ni.Z)({controlled:J,default:m,name:"Slider"}),ce=(0,D.Z)(se,2),le=ce[0],ue=ce[1],de=Array.isArray(le),he=de?le.slice().sort(Ua):[le];he=he.map((function(e){return Ha(e,x,k)}));var pe=!0===E&&null!==F?(0,Zn.Z)(Array(Math.floor((k-x)/F)+1)).map((function(e,t){return{value:x+F*t}})):E||[],fe=(0,Qn.Z)(),me=fe.isFocusVisible,ve=fe.onBlurVisible,ge=fe.ref,ye=e.useState(-1),_e=ye[0],be=ye[1],Se=e.useRef(),we=(0,_.Z)(ge,Se),Ee=(0,_.Z)(n,we),Ce=(0,H.Z)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));me(e)&&be(t),ae(t)})),ke=(0,H.Z)((function(){-1!==_e&&(be(-1),ve()),ae(-1)})),Te=(0,H.Z)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));ae(t)})),xe=(0,H.Z)((function(){ae(-1)})),Ae="rtl"===Y.direction,Re=(0,H.Z)((function(e){var t,n=Number(e.currentTarget.getAttribute("data-index")),r=he[n],i=(k-x)/10,o=pe.map((function(e){return e.value})),a=o.indexOf(r),s=Ae?"ArrowLeft":"ArrowRight",c=Ae?"ArrowRight":"ArrowLeft";switch(e.key){case"Home":t=x;break;case"End":t=k;break;case"PageUp":F&&(t=r+i);break;case"PageDown":F&&(t=r-i);break;case s:case"ArrowUp":t=F?r+F:o[a+1]||o[o.length-1];break;case c:case"ArrowDown":t=F?r-F:o[a-1]||o[0];break;default:return}if(e.preventDefault(),F&&(t=Ja(t,F,x)),t=Ha(t,x,k),de){var l=t;t=Ga({values:he,source:le,newValue:t,index:n}).sort(Ua),Wa({sliderRef:Se,activeIndex:t.indexOf(l)})}ue(t),be(n),R&&R(e,t),I&&I(e,t)})),Ie=e.useRef(),Oe=M;Ae&&"vertical"!==M&&(Oe+="-reverse");var Pe=function(e){var t,n,r=e.finger,i=e.move,o=void 0!==i&&i,a=e.values,s=e.source,c=Se.current.getBoundingClientRect(),l=c.width,u=c.height,d=c.bottom,h=c.left;if(t=0===Oe.indexOf("vertical")?(d-r.y)/u:(r.x-h)/l,-1!==Oe.indexOf("-reverse")&&(t=1-t),n=function(e,t,n){return(n-t)*e+t}(t,x,k),F)n=Ja(n,F,x);else{var p=pe.map((function(e){return e.value}));n=p[Va(p,n)]}n=Ha(n,x,k);var f=0;if(de){var m=n;f=(n=Ga({values:a,source:s,newValue:n,index:f=o?Ie.current:Va(a,n)}).sort(Ua)).indexOf(m),Ie.current=f}return{newValue:n,activeIndex:f}},Me=(0,H.Z)((function(e){var t=za(e,ee);if(t){var n=Pe({finger:t,move:!0,values:he,source:le}),r=n.newValue,i=n.activeIndex;Wa({sliderRef:Se,activeIndex:i,setActive:re}),ue(r),R&&R(e,r)}})),Ne=(0,H.Z)((function(e){var t=za(e,ee);if(t){var n=Pe({finger:t,values:he,source:le}).newValue;re(-1),"touchend"===e.type&&ae(-1),I&&I(e,n),ee.current=void 0;var r=(0,U.Z)(Se.current);r.removeEventListener("mousemove",Me),r.removeEventListener("mouseup",Ne),r.removeEventListener("touchmove",Me),r.removeEventListener("touchend",Ne)}})),Le=(0,H.Z)((function(e){e.preventDefault();var t=e.changedTouches[0];null!=t&&(ee.current=t.identifier);var n=za(e,ee),r=Pe({finger:n,values:he,source:le}),i=r.newValue,o=r.activeIndex;Wa({sliderRef:Se,activeIndex:o,setActive:re}),ue(i),R&&R(e,i);var a=(0,U.Z)(Se.current);a.addEventListener("touchmove",Me),a.addEventListener("touchend",Ne)}));e.useEffect((function(){var e=Se.current;e.addEventListener("touchstart",Le);var t=(0,U.Z)(e);return function(){e.removeEventListener("touchstart",Le),t.removeEventListener("mousemove",Me),t.removeEventListener("mouseup",Ne),t.removeEventListener("touchmove",Me),t.removeEventListener("touchend",Ne)}}),[Ne,Me,Le]);var De=(0,H.Z)((function(e){O&&O(e),e.preventDefault();var t=za(e,ee),n=Pe({finger:t,values:he,source:le}),r=n.newValue,i=n.activeIndex;Wa({sliderRef:Se,activeIndex:i,setActive:re}),ue(r),R&&R(e,r);var o=(0,U.Z)(Se.current);o.addEventListener("mousemove",Me),o.addEventListener("mouseup",Ne)})),je=qa(de?he[0]:x,x,k),Fe=qa(he[he.length-1],x,k)-je,Be=(0,o.Z)({},Qa[Oe].offset(je),Qa[Oe].leap(Fe));return e.createElement(f,(0,o.Z)({ref:Ee,className:(0,i.Z)(l.root,l["color".concat((0,Jn.Z)(h))],u,g&&l.disabled,pe.length>0&&pe.some((function(e){return e.label}))&&l.marked,!1===q&&l.trackFalse,"vertical"===M&&l.vertical,"inverted"===q&&l.trackInverted),onMouseDown:De},X),e.createElement("span",{className:l.rail}),e.createElement("span",{className:l.track,style:Be}),e.createElement("input",{value:he.join(","),name:A,type:"hidden"}),pe.map((function(t,n){var r,o=qa(t.value,x,k),a=Qa[Oe].offset(o);return r=!1===q?-1!==he.indexOf(t.value):"normal"===q&&(de?t.value>=he[0]&&t.value<=he[he.length-1]:t.value<=he[0])||"inverted"===q&&(de?t.value<=he[0]||t.value>=he[he.length-1]:t.value>=he[0]),e.createElement(e.Fragment,{key:t.value},e.createElement("span",{style:a,"data-index":n,className:(0,i.Z)(l.mark,r&&l.markActive)}),null!=t.label?e.createElement("span",{"aria-hidden":!0,"data-index":n,style:a,className:(0,i.Z)(l.markLabel,r&&l.markLabelActive)},t.label):null)})),he.map((function(t,n){var o=qa(t,x,k),a=Qa[Oe].offset(o);return e.createElement(W,{key:n,valueLabelFormat:K,valueLabelDisplay:Z,className:l.valueLabel,value:"function"==typeof K?K(L(t),n):K,index:n,open:oe===n||ne===n||"on"===Z,disabled:g},e.createElement(V,{className:(0,i.Z)(l.thumb,l["thumbColor".concat((0,Jn.Z)(h))],ne===n&&l.active,g&&l.disabled,_e===n&&l.focusVisible),tabIndex:g?null:0,role:"slider",style:a,"data-index":n,"aria-label":y?y(n):r,"aria-labelledby":s,"aria-orientation":M,"aria-valuemax":L(k),"aria-valuemin":L(x),"aria-valuenow":L(t),"aria-valuetext":b?b(L(t),n):c,onKeyDown:Re,onFocus:Ce,onBlur:ke,onMouseOver:Te,onMouseLeave:xe}))})))})),Ka=(0,P.Z)((function(e){return{root:{height:2,width:"100%",boxSizing:"content-box",padding:"13px 0",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:e.palette.primary.main,WebkitTapHighlightColor:"transparent","&$disabled":{pointerEvents:"none",cursor:"default",color:e.palette.grey[400]},"&$vertical":{width:2,height:"100%",padding:"0 13px"},"@media (pointer: coarse)":{padding:"20px 0","&$vertical":{padding:"0 20px"}},"@media print":{colorAdjust:"exact"}},colorPrimary:{},colorSecondary:{color:e.palette.secondary.main},marked:{marginBottom:20,"&$vertical":{marginBottom:"auto",marginRight:20}},vertical:{},disabled:{},rail:{display:"block",position:"absolute",width:"100%",height:2,borderRadius:1,backgroundColor:"currentColor",opacity:.38,"$vertical &":{height:"100%",width:2}},track:{display:"block",position:"absolute",height:2,borderRadius:1,backgroundColor:"currentColor","$vertical &":{width:2}},trackFalse:{"& $track":{display:"none"}},trackInverted:{"& $track":{backgroundColor:"light"===e.palette.type?(0,M.$n)(e.palette.primary.main,.62):(0,M._j)(e.palette.primary.main,.5)},"& $rail":{opacity:1}},thumb:{position:"absolute",width:12,height:12,marginLeft:-6,marginTop:-5,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow"],{duration:e.transitions.duration.shortest}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",left:-15,top:-15,right:-15,bottom:-15},"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat((0,M.Fq)(e.palette.primary.main,.16)),"@media (hover: none)":{boxShadow:"none"}},"&$active":{boxShadow:"0px 0px 0px 14px ".concat((0,M.Fq)(e.palette.primary.main,.16))},"&$disabled":{width:8,height:8,marginLeft:-4,marginTop:-3,"&:hover":{boxShadow:"none"}},"$vertical &":{marginLeft:-5,marginBottom:-6},"$vertical &$disabled":{marginLeft:-3,marginBottom:-4}},thumbColorPrimary:{},thumbColorSecondary:{"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat((0,M.Fq)(e.palette.secondary.main,.16))},"&$active":{boxShadow:"0px 0px 0px 14px ".concat((0,M.Fq)(e.palette.secondary.main,.16))}},active:{},focusVisible:{},valueLabel:{left:"calc(-50% - 4px)"},mark:{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},markActive:{backgroundColor:e.palette.background.paper,opacity:.8},markLabel:(0,o.Z)({},e.typography.body2,{color:e.palette.text.secondary,position:"absolute",top:26,transform:"translateX(-50%)",whiteSpace:"nowrap","$vertical &":{top:"auto",left:26,transform:"translateY(50%)"},"@media (pointer: coarse)":{top:40,"$vertical &":{left:31}}}),markLabelActive:{color:e.palette.text.primary}}}),{name:"MuiSlider"})($a),Xa=e.forwardRef((function(t,n){var r=t.classes,s=t.className,c=t.dividers,l=void 0!==c&&c,u=(0,a.Z)(t,["classes","className","dividers"]);return e.createElement("div",(0,o.Z)({className:(0,i.Z)(r.root,s,l&&r.dividers),ref:n},u))})),Ya=(0,P.Z)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(Xa),es=e.forwardRef((function(t,n){return e.createElement(pa,(0,o.Z)({component:"p",variant:"body1",color:"textSecondary",ref:n},t))})),ts=(0,P.Z)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(es);function ns(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&void 0===t[n]&&(e[n]=r[n]),e}),{})}var rs=e.forwardRef((function(t,n){var r=t.children,s=t.classes,c=t.className,l=(t.color,t.component),u=void 0===l?"label":l,d=(t.disabled,t.error,t.filled,t.focused,t.required,(0,a.Z)(t,["children","classes","className","color","component","disabled","error","filled","focused","required"])),h=ns({props:t,muiFormControl:Ta(),states:["color","required","focused","disabled","error","filled"]});return e.createElement(u,(0,o.Z)({className:(0,i.Z)(s.root,s["color".concat((0,Jn.Z)(h.color||"primary"))],c,h.disabled&&s.disabled,h.error&&s.error,h.filled&&s.filled,h.focused&&s.focused,h.required&&s.required),ref:n},d),r,h.required&&e.createElement("span",{"aria-hidden":!0,className:(0,i.Z)(s.asterisk,h.error&&s.error)},"","*"))})),is=(0,P.Z)((function(e){return{root:(0,o.Z)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(rs),os=e.forwardRef((function(t,n){var r=t.classes,s=t.className,c=t.disableAnimation,l=void 0!==c&&c,u=(t.margin,t.shrink),d=(t.variant,(0,a.Z)(t,["classes","className","disableAnimation","margin","shrink","variant"])),h=Ta(),p=u;void 0===p&&h&&(p=h.filled||h.focused||h.adornedStart);var f=ns({props:t,muiFormControl:h,states:["margin","variant"]});return e.createElement(is,(0,o.Z)({"data-shrink":p,className:(0,i.Z)(r.root,s,h&&r.formControl,!l&&r.animated,p&&r.shrink,"dense"===f.margin&&r.marginDense,{filled:r.filled,outlined:r.outlined}[f.variant]),classes:{focused:r.focused,disabled:r.disabled,error:r.error,required:r.required,asterisk:r.asterisk},ref:n},d))})),as=(0,P.Z)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(os),ss=n(5835),cs=n(1002),ls=n(288);function us(e,t){var n=0;return"number"==typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function ds(e,t){var n=0;return"number"==typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function hs(e){return[e.horizontal,e.vertical].map((function(e){return"number"==typeof e?"".concat(e,"px"):e})).join(" ")}function ps(e){return"function"==typeof e?e():e}n(9864);var fs=e.forwardRef((function(n,r){var c=n.action,l=n.anchorEl,u=n.anchorOrigin,d=void 0===u?{vertical:"top",horizontal:"left"}:u,h=n.anchorPosition,p=n.anchorReference,f=void 0===p?"anchorEl":p,m=n.children,v=n.classes,g=n.className,y=n.container,_=n.elevation,b=void 0===_?8:_,S=n.getContentAnchorEl,w=n.marginThreshold,E=void 0===w?16:w,C=n.onEnter,k=n.onEntered,T=n.onEntering,x=n.onExit,A=n.onExited,R=n.onExiting,I=n.open,O=n.PaperProps,P=void 0===O?{}:O,M=n.transformOrigin,N=void 0===M?{vertical:"top",horizontal:"left"}:M,L=n.TransitionComponent,D=void 0===L?wr:L,j=n.transitionDuration,F=void 0===j?"auto":j,B=n.TransitionProps,H=void 0===B?{}:B,V=(0,a.Z)(n,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),z=e.useRef(),q=e.useCallback((function(e){if("anchorPosition"===f)return h;var t=ps(l),n=(t&&1===t.nodeType?t:(0,U.Z)(z.current).body).getBoundingClientRect(),r=0===e?d.vertical:"center";return{top:n.top+us(n,r),left:n.left+ds(n,d.horizontal)}}),[l,d.horizontal,d.vertical,h,f]),J=e.useCallback((function(e){var t=0;if(S&&"anchorEl"===f){var n=S(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}}return t}),[d.vertical,f,S]),G=e.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:us(e,N.vertical)+t,horizontal:ds(e,N.horizontal)}}),[N.horizontal,N.vertical]),W=e.useCallback((function(e){var t=J(e),n={width:e.offsetWidth,height:e.offsetHeight},r=G(n,t);if("none"===f)return{top:null,left:null,transformOrigin:hs(r)};var i=q(t),o=i.top-r.vertical,a=i.left-r.horizontal,s=o+n.height,c=a+n.width,u=(0,zo.Z)(ps(l)),d=u.innerHeight-E,h=u.innerWidth-E;if(o<E){var p=o-E;o-=p,r.vertical+=p}else if(s>d){var m=s-d;o-=m,r.vertical+=m}if(a<E){var v=a-E;a-=v,r.horizontal+=v}else if(c>h){var g=c-h;a-=g,r.horizontal+=g}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(a),"px"),transformOrigin:hs(r)}}),[l,f,q,J,G,E]),Q=e.useCallback((function(){var e=z.current;if(e){var t=W(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[W]),Z=e.useCallback((function(e){z.current=t.findDOMNode(e)}),[]);e.useEffect((function(){I&&Q()})),e.useImperativeHandle(c,(function(){return I?{updatePosition:function(){Q()}}:null}),[I,Q]),e.useEffect((function(){if(I){var e=(0,s.Z)((function(){Q()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[I,Q]);var $=F;"auto"!==F||D.muiSupportAuto||($=void 0);var K=y||(l?(0,U.Z)(ps(l)).body:void 0);return e.createElement(Yo,(0,o.Z)({container:K,open:I,ref:r,BackdropProps:{invisible:!0},className:(0,i.Z)(v.root,g)},V),e.createElement(D,(0,o.Z)({appear:!0,in:I,onEnter:C,onEntered:k,onExit:x,onExited:A,onExiting:R,timeout:$},H,{onEntering:(0,xi.Z)((function(e,t){T&&T(e,t),Q()}),H.onEntering)}),e.createElement(sa,(0,o.Z)({elevation:b,ref:Z},P,{className:(0,i.Z)(v.paper,P.className)}),m)))})),ms=(0,P.Z)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(fs),vs=e.createContext({}),gs=e.forwardRef((function(t,n){var r=t.children,s=t.classes,c=t.className,l=t.component,u=void 0===l?"ul":l,d=t.dense,h=void 0!==d&&d,p=t.disablePadding,f=void 0!==p&&p,m=t.subheader,v=(0,a.Z)(t,["children","classes","className","component","dense","disablePadding","subheader"]),g=e.useMemo((function(){return{dense:h}}),[h]);return e.createElement(vs.Provider,{value:g},e.createElement(u,(0,o.Z)({className:(0,i.Z)(s.root,c,h&&s.dense,!f&&s.padding,m&&s.subheader),ref:n},v),m,r))})),ys=(0,P.Z)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(gs);function _s(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function bs(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Ss(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function ws(e,t,n,r,i,o){for(var a=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(a)return;a=!0}var c=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&Ss(s,o)&&!c)return void s.focus();s=i(e,s,n)}}var Es="undefined"==typeof window?e.useEffect:e.useLayoutEffect,Cs=e.forwardRef((function(n,r){var i=n.actions,s=n.autoFocus,c=void 0!==s&&s,l=n.autoFocusItem,u=void 0!==l&&l,d=n.children,h=n.className,p=n.disabledItemsFocusable,f=void 0!==p&&p,m=n.disableListWrap,v=void 0!==m&&m,g=n.onKeyDown,y=n.variant,b=void 0===y?"selectedMenu":y,S=(0,a.Z)(n,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),w=e.useRef(null),E=e.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Es((function(){c&&w.current.focus()}),[c]),e.useImperativeHandle(i,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!w.current.style.width;if(e.clientHeight<w.current.clientHeight&&n){var r="".concat(Vo(),"px");w.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,w.current.style.width="calc(100% + ".concat(r,")")}return w.current}}}),[]);var C=e.useCallback((function(e){w.current=t.findDOMNode(e)}),[]),k=(0,_.Z)(C,r),T=-1;e.Children.forEach(d,(function(t,n){e.isValidElement(t)&&(t.props.disabled||("selectedMenu"===b&&t.props.selected||-1===T)&&(T=n))}));var x=e.Children.map(d,(function(t,n){if(n===T){var r={};return u&&(r.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===b&&(r.tabIndex=0),e.cloneElement(t,r)}return t}));return e.createElement(ys,(0,o.Z)({role:"menu",ref:k,className:h,onKeyDown:function(e){var t=w.current,n=e.key,r=(0,U.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),ws(t,r,v,f,_s);else if("ArrowUp"===n)e.preventDefault(),ws(t,r,v,f,bs);else if("Home"===n)e.preventDefault(),ws(t,null,v,f,_s);else if("End"===n)e.preventDefault(),ws(t,null,v,f,bs);else if(1===n.length){var i=E.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);var s=r&&!i.repeating&&Ss(r,i);i.previousKeyMatched&&(s||ws(t,r,!1,f,_s,i))?e.preventDefault():i.previousKeyMatched=!1}g&&g(e)},tabIndex:c?0:-1},S),x)})),ks=Cs,Ts={vertical:"top",horizontal:"right"},xs={vertical:"top",horizontal:"left"},As=e.forwardRef((function(n,r){var s=n.autoFocus,c=void 0===s||s,l=n.children,u=n.classes,d=n.disableAutoFocusItem,h=void 0!==d&&d,p=n.MenuListProps,f=void 0===p?{}:p,m=n.onClose,v=n.onEntering,g=n.open,y=n.PaperProps,_=void 0===y?{}:y,b=n.PopoverClasses,S=n.transitionDuration,E=void 0===S?"auto":S,C=n.TransitionProps,k=(C=void 0===C?{}:C).onEntering,T=(0,a.Z)(C,["onEntering"]),x=n.variant,A=void 0===x?"selectedMenu":x,R=(0,a.Z)(n,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),I=w(),O=c&&!h&&g,P=e.useRef(null),M=e.useRef(null),N=-1;e.Children.map(l,(function(t,n){e.isValidElement(t)&&(t.props.disabled||("menu"!==A&&t.props.selected||-1===N)&&(N=n))}));var L=e.Children.map(l,(function(n,r){return r===N?e.cloneElement(n,{ref:function(e){M.current=t.findDOMNode(e),(0,Ci.Z)(n.ref,e)}}):n}));return e.createElement(ms,(0,o.Z)({getContentAnchorEl:function(){return M.current},classes:b,onClose:m,TransitionProps:(0,o.Z)({onEntering:function(e,t){P.current&&P.current.adjustStyleForScrollbar(e,I),v&&v(e,t),k&&k(e,t)}},T),anchorOrigin:"rtl"===I.direction?Ts:xs,transformOrigin:"rtl"===I.direction?Ts:xs,PaperProps:(0,o.Z)({},_,{classes:(0,o.Z)({},_.classes,{root:u.paper})}),open:g,ref:r,transitionDuration:E},R),e.createElement(ks,(0,o.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),m&&m(e,"tabKeyDown"))},actions:P,autoFocus:c&&(-1===N||h),autoFocusItem:O,variant:A},f,{className:(0,i.Z)(u.list,f.className)}),L))})),Rs=(0,P.Z)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(As);function Is(e,t){return"object"===(0,cs.Z)(t)&&null!==t?e===t:String(e)===String(t)}var Os=e.forwardRef((function(t,n){var r=t["aria-label"],s=t.autoFocus,c=t.autoWidth,l=t.children,u=t.classes,d=t.className,h=t.defaultValue,p=t.disabled,f=t.displayEmpty,m=t.IconComponent,v=t.inputRef,g=t.labelId,y=t.MenuProps,b=void 0===y?{}:y,S=t.multiple,w=t.name,E=t.onBlur,C=t.onChange,k=t.onClose,T=t.onFocus,x=t.onOpen,A=t.open,R=t.readOnly,I=t.renderValue,O=t.SelectDisplayProps,P=void 0===O?{}:O,M=t.tabIndex,N=(t.type,t.value),L=t.variant,j=void 0===L?"standard":L,F=(0,a.Z)(t,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),B=(0,Ni.Z)({controlled:N,default:h,name:"Select"}),H=(0,D.Z)(B,2),V=H[0],z=H[1],q=e.useRef(null),J=e.useState(null),G=J[0],W=J[1],Q=e.useRef(null!=A).current,Z=e.useState(),$=Z[0],K=Z[1],X=e.useState(!1),Y=X[0],ee=X[1],te=(0,_.Z)(n,v);e.useImperativeHandle(te,(function(){return{focus:function(){G.focus()},node:q.current,value:V}}),[G,V]),e.useEffect((function(){s&&G&&G.focus()}),[s,G]),e.useEffect((function(){if(G){var e=(0,U.Z)(G).getElementById(g);if(e){var t=function(){getSelection().isCollapsed&&G.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[g,G]);var ne,re,ie=function(e,t){e?x&&x(t):k&&k(t),Q||(K(c?null:G.clientWidth),ee(e))},oe=e.Children.toArray(l),ae=function(e){return function(t){var n;if(S||ie(!1,t),S){n=Array.isArray(V)?V.slice():[];var r=V.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),V!==n&&(z(n),C&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:w}}),C(t,e)))}},se=null!==G&&(Q?A:Y);delete F["aria-invalid"];var ce=[],le=!1;(ma({value:V})||f)&&(I?ne=I(V):le=!0);var ue=oe.map((function(t){if(!e.isValidElement(t))return null;var n;if(S){if(!Array.isArray(V))throw new Error((0,ls.Z)(2));(n=V.some((function(e){return Is(e,t.props.value)})))&&le&&ce.push(t.props.children)}else(n=Is(V,t.props.value))&&le&&(re=t.props.children);return e.cloneElement(t,{"aria-selected":n?"true":void 0,onClick:ae(t),onKeyUp:function(e){" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:n,value:void 0,"data-value":t.props.value})}));le&&(ne=S?ce.join(", "):re);var de,he=$;!c&&Q&&G&&(he=G.clientWidth),de=void 0!==M?M:p?null:0;var pe=P.id||(w?"mui-component-select-".concat(w):void 0);return e.createElement(e.Fragment,null,e.createElement("div",(0,o.Z)({className:(0,i.Z)(u.root,u.select,u.selectMenu,u[j],d,p&&u.disabled),ref:W,tabIndex:de,role:"button","aria-disabled":p?"true":void 0,"aria-expanded":se?"true":void 0,"aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[g,pe].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){R||-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ie(!0,e))},onMouseDown:p||R?null:function(e){0===e.button&&(e.preventDefault(),G.focus(),ie(!0,e))},onBlur:function(e){!se&&E&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:V,name:w}}),E(e))},onFocus:T},P,{id:pe}),function(e){return null==e||"string"==typeof e&&!e.trim()}(ne)?e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):ne),e.createElement("input",(0,o.Z)({value:Array.isArray(V)?V.join(","):V,name:w,ref:q,"aria-hidden":!0,onChange:function(e){var t=oe.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=oe[t];z(n.props.value),C&&C(e,n)}},tabIndex:-1,className:u.nativeInput,autoFocus:s},F)),e.createElement(m,{className:(0,i.Z)(u.icon,u["icon".concat((0,Jn.Z)(j))],se&&u.iconOpen,p&&u.disabled)}),e.createElement(Rs,(0,o.Z)({id:"menu-".concat(w||""),anchorEl:G,open:se,onClose:function(e){ie(!1,e)}},b,{MenuListProps:(0,o.Z)({"aria-labelledby":g,role:"listbox",disableListWrap:!0},b.MenuListProps),PaperProps:(0,o.Z)({},b.PaperProps,{style:(0,o.Z)({minWidth:he},null!=b.PaperProps?b.PaperProps.style:null)})}),ue))})),Ps=Os,Ms=(0,Oa.Z)(e.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function Ns(e,t){return parseInt(e[t],10)||0}var Ls="undefined"!=typeof window?e.useLayoutEffect:e.useEffect,Ds={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},js=e.forwardRef((function(t,n){var r=t.onChange,i=t.rows,c=t.rowsMax,l=t.rowsMin,u=t.maxRows,d=t.minRows,h=void 0===d?1:d,p=t.style,f=t.value,m=(0,a.Z)(t,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),v=u||c,g=i||l||h,y=e.useRef(null!=f).current,b=e.useRef(null),S=(0,_.Z)(n,b),w=e.useRef(null),E=e.useRef(0),C=e.useState({}),k=C[0],T=C[1],x=e.useCallback((function(){var e=b.current,n=window.getComputedStyle(e),r=w.current;r.style.width=n.width,r.value=e.value||t.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],o=Ns(n,"padding-bottom")+Ns(n,"padding-top"),a=Ns(n,"border-bottom-width")+Ns(n,"border-top-width"),s=r.scrollHeight-o;r.value="x";var c=r.scrollHeight-o,l=s;g&&(l=Math.max(Number(g)*c,l)),v&&(l=Math.min(Number(v)*c,l));var u=(l=Math.max(l,c))+("border-box"===i?o+a:0),d=Math.abs(l-s)<=1;T((function(e){return E.current<20&&(u>0&&Math.abs((e.outerHeightStyle||0)-u)>1||e.overflow!==d)?(E.current+=1,{overflow:d,outerHeightStyle:u}):e}))}),[v,g,t.placeholder]);return e.useEffect((function(){var e=(0,s.Z)((function(){E.current=0,x()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[x]),Ls((function(){x()})),e.useEffect((function(){E.current=0}),[f]),e.createElement(e.Fragment,null,e.createElement("textarea",(0,o.Z)({value:f,onChange:function(e){E.current=0,y||x(),r&&r(e)},ref:S,rows:g,style:(0,o.Z)({height:k.outerHeightStyle,overflow:k.overflow?"hidden":null},p)},m)),e.createElement("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:w,tabIndex:-1,style:(0,o.Z)({},Ds,p)}))})),Fs="undefined"==typeof window?e.useEffect:e.useLayoutEffect,Bs=e.forwardRef((function(t,n){var r=t["aria-describedby"],s=t.autoComplete,c=t.autoFocus,l=t.classes,u=t.className,d=(t.color,t.defaultValue),h=t.disabled,p=t.endAdornment,f=(t.error,t.fullWidth),m=void 0!==f&&f,v=t.id,g=t.inputComponent,y=void 0===g?"input":g,b=t.inputProps,S=void 0===b?{}:b,w=t.inputRef,E=(t.margin,t.multiline),C=void 0!==E&&E,k=t.name,T=t.onBlur,x=t.onChange,A=t.onClick,R=t.onFocus,I=t.onKeyDown,O=t.onKeyUp,P=t.placeholder,M=t.readOnly,N=t.renderSuffix,L=t.rows,D=t.rowsMax,j=t.rowsMin,F=t.maxRows,B=t.minRows,U=t.startAdornment,H=t.type,V=void 0===H?"text":H,z=t.value,q=(0,a.Z)(t,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),J=null!=S.value?S.value:z,G=e.useRef(null!=J).current,W=e.useRef(),Q=e.useCallback((function(e){}),[]),Z=(0,_.Z)(S.ref,Q),$=(0,_.Z)(w,Z),K=(0,_.Z)(W,$),X=e.useState(!1),Y=X[0],ee=X[1],te=e.useContext(ga),ne=ns({props:t,muiFormControl:te,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});ne.focused=te?te.focused:Y,e.useEffect((function(){!te&&h&&Y&&(ee(!1),T&&T())}),[te,h,Y,T]);var re=te&&te.onFilled,ie=te&&te.onEmpty,oe=e.useCallback((function(e){ma(e)?re&&re():ie&&ie()}),[re,ie]);Fs((function(){G&&oe({value:J})}),[J,oe,G]),e.useEffect((function(){oe(W.current)}),[]);var ae=y,se=(0,o.Z)({},S,{ref:K});return"string"!=typeof ae?se=(0,o.Z)({inputRef:K,type:V},se,{ref:null}):C?!L||F||B||D||j?(se=(0,o.Z)({minRows:L||B,rowsMax:D,maxRows:F},se),ae=js):ae="textarea":se=(0,o.Z)({type:V},se),e.useEffect((function(){te&&te.setAdornedStart(Boolean(U))}),[te,U]),e.createElement("div",(0,o.Z)({className:(0,i.Z)(l.root,l["color".concat((0,Jn.Z)(ne.color||"primary"))],u,ne.disabled&&l.disabled,ne.error&&l.error,m&&l.fullWidth,ne.focused&&l.focused,te&&l.formControl,C&&l.multiline,U&&l.adornedStart,p&&l.adornedEnd,"dense"===ne.margin&&l.marginDense),onClick:function(e){W.current&&e.currentTarget===e.target&&W.current.focus(),A&&A(e)},ref:n},q),U,e.createElement(ya.Provider,{value:null},e.createElement(ae,(0,o.Z)({"aria-invalid":ne.error,"aria-describedby":r,autoComplete:s,autoFocus:c,defaultValue:d,disabled:ne.disabled,id:v,onAnimationStart:function(e){oe("mui-auto-fill-cancel"===e.animationName?W.current:{value:"x"})},name:k,placeholder:P,readOnly:M,required:ne.required,rows:L,value:J,onKeyDown:I,onKeyUp:O},se,{className:(0,i.Z)(l.input,S.className,ne.disabled&&l.disabled,C&&l.inputMultiline,ne.hiddenLabel&&l.inputHiddenLabel,U&&l.inputAdornedStart,p&&l.inputAdornedEnd,"search"===V&&l.inputTypeSearch,"dense"===ne.margin&&l.inputMarginDense),onBlur:function(e){T&&T(e),S.onBlur&&S.onBlur(e),te&&te.onBlur?te.onBlur(e):ee(!1)},onChange:function(e){if(!G){var t=e.target||W.current;if(null==t)throw new Error((0,ls.Z)(1));oe({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];S.onChange&&S.onChange.apply(S,[e].concat(r)),x&&x.apply(void 0,[e].concat(r))},onFocus:function(e){ne.disabled?e.stopPropagation():(R&&R(e),S.onFocus&&S.onFocus(e),te&&te.onFocus?te.onFocus(e):ee(!0))}}))),p,N?N((0,o.Z)({},ne,{startAdornment:U})):null)})),Us=(0,P.Z)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:(0,o.Z)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(Bs),Hs=e.forwardRef((function(t,n){var r=t.disableUnderline,s=t.classes,c=t.fullWidth,l=void 0!==c&&c,u=t.inputComponent,d=void 0===u?"input":u,h=t.multiline,p=void 0!==h&&h,f=t.type,m=void 0===f?"text":f,v=(0,a.Z)(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return e.createElement(Us,(0,o.Z)({classes:(0,o.Z)({},s,{root:(0,i.Z)(s.root,!r&&s.underline),underline:null}),fullWidth:l,inputComponent:d,multiline:p,ref:n,type:m},v))}));Hs.muiName="Input";var Vs=(0,P.Z)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(Hs),zs=e.forwardRef((function(t,n){var r=t.classes,s=t.className,c=t.disabled,l=t.IconComponent,u=t.inputRef,d=t.variant,h=void 0===d?"standard":d,p=(0,a.Z)(t,["classes","className","disabled","IconComponent","inputRef","variant"]);return e.createElement(e.Fragment,null,e.createElement("select",(0,o.Z)({className:(0,i.Z)(r.root,r.select,r[h],s,c&&r.disabled),disabled:c,ref:u||n},p)),t.multiple?null:e.createElement(l,{className:(0,i.Z)(r.icon,r["icon".concat((0,Jn.Z)(h))],c&&r.disabled)}))})),qs=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},Js=e.createElement(Vs,null),Gs=e.forwardRef((function(t,n){var r=t.children,i=t.classes,s=t.IconComponent,c=void 0===s?Ms:s,l=t.input,u=void 0===l?Js:l,d=t.inputProps,h=(t.variant,(0,a.Z)(t,["children","classes","IconComponent","input","inputProps","variant"])),p=ns({props:t,muiFormControl:Ta(),states:["variant"]});return e.cloneElement(u,(0,o.Z)({inputComponent:zs,inputProps:(0,o.Z)({children:r,classes:i,IconComponent:c,variant:p.variant,type:void 0},d,u?u.props.inputProps:{}),ref:n},h))}));Gs.muiName="Select",(0,P.Z)(qs,{name:"MuiNativeSelect"})(Gs);var Ws=e.forwardRef((function(t,n){var r=t.disableUnderline,s=t.classes,c=t.fullWidth,l=void 0!==c&&c,u=t.inputComponent,d=void 0===u?"input":u,h=t.multiline,p=void 0!==h&&h,f=t.type,m=void 0===f?"text":f,v=(0,a.Z)(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return e.createElement(Us,(0,o.Z)({classes:(0,o.Z)({},s,{root:(0,i.Z)(s.root,!r&&s.underline),underline:null}),fullWidth:l,inputComponent:d,multiline:p,ref:n,type:m},v))}));Ws.muiName="Input";var Qs=(0,P.Z)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(Ws),Zs=e.forwardRef((function(t,n){t.children;var r=t.classes,s=t.className,c=t.label,l=t.labelWidth,u=t.notched,d=t.style,h=(0,a.Z)(t,["children","classes","className","label","labelWidth","notched","style"]),p="rtl"===w().direction?"right":"left";if(void 0!==c)return e.createElement("fieldset",(0,o.Z)({"aria-hidden":!0,className:(0,i.Z)(r.root,s),ref:n,style:d},h),e.createElement("legend",{className:(0,i.Z)(r.legendLabelled,u&&r.legendNotched)},c?e.createElement("span",null,c):e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var f=l>0?.75*l+8:.01;return e.createElement("fieldset",(0,o.Z)({"aria-hidden":!0,style:(0,o.Z)((0,qn.Z)({},"padding".concat((0,Jn.Z)(p)),8),d),className:(0,i.Z)(r.root,s),ref:n},h),e.createElement("legend",{className:r.legend,style:{width:u?f:.01}},e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),$s=(0,P.Z)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(Zs),Ks=e.forwardRef((function(t,n){var r=t.classes,s=t.fullWidth,c=void 0!==s&&s,l=t.inputComponent,u=void 0===l?"input":l,d=t.label,h=t.labelWidth,p=void 0===h?0:h,f=t.multiline,m=void 0!==f&&f,v=t.notched,g=t.type,y=void 0===g?"text":g,_=(0,a.Z)(t,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return e.createElement(Us,(0,o.Z)({renderSuffix:function(t){return e.createElement($s,{className:r.notchedOutline,label:d,labelWidth:p,notched:void 0!==v?v:Boolean(t.startAdornment||t.filled||t.focused)})},classes:(0,o.Z)({},r,{root:(0,i.Z)(r.root,r.underline),notchedOutline:null}),fullWidth:c,inputComponent:u,multiline:m,ref:n,type:y},_))}));Ks.muiName="Input";var Xs=(0,P.Z)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(Ks),Ys=qs,ec=e.createElement(Vs,null),tc=e.createElement(Qs,null),nc=e.forwardRef((function t(n,r){var i=n.autoWidth,s=void 0!==i&&i,c=n.children,l=n.classes,u=n.displayEmpty,d=void 0!==u&&u,h=n.IconComponent,p=void 0===h?Ms:h,f=n.id,m=n.input,v=n.inputProps,g=n.label,y=n.labelId,_=n.labelWidth,b=void 0===_?0:_,S=n.MenuProps,w=n.multiple,E=void 0!==w&&w,C=n.native,k=void 0!==C&&C,T=n.onClose,x=n.onOpen,A=n.open,R=n.renderValue,I=n.SelectDisplayProps,O=n.variant,P=void 0===O?"standard":O,M=(0,a.Z)(n,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),N=k?zs:Ps,L=ns({props:n,muiFormControl:Ta(),states:["variant"]}).variant||P,D=m||{standard:ec,outlined:e.createElement(Xs,{label:g,labelWidth:b}),filled:tc}[L];return e.cloneElement(D,(0,o.Z)({inputComponent:N,inputProps:(0,o.Z)({children:c,IconComponent:p,variant:L,type:void 0,multiple:E},k?{id:f}:{autoWidth:s,displayEmpty:d,labelId:y,MenuProps:S,onClose:T,onOpen:x,open:A,renderValue:R,SelectDisplayProps:(0,o.Z)({id:f},I)},v,{classes:v?(0,ss.Z)({baseClasses:l,newClasses:v.classes,Component:t}):l},m?m.props.inputProps:{}),ref:r},M))}));nc.muiName="Select";var rc=(0,P.Z)(Ys,{name:"MuiSelect"})(nc),ic="undefined"==typeof window?e.useEffect:e.useLayoutEffect,oc=e.forwardRef((function(n,r){var s=n.alignItems,c=void 0===s?"center":s,l=n.autoFocus,u=void 0!==l&&l,d=n.button,h=void 0!==d&&d,p=n.children,f=n.classes,m=n.className,v=n.component,g=n.ContainerComponent,y=void 0===g?"li":g,b=n.ContainerProps,S=(b=void 0===b?{}:b).className,w=(0,a.Z)(b,["className"]),E=n.dense,C=void 0!==E&&E,k=n.disabled,T=void 0!==k&&k,x=n.disableGutters,A=void 0!==x&&x,R=n.divider,I=void 0!==R&&R,O=n.focusVisibleClassName,P=n.selected,M=void 0!==P&&P,N=(0,a.Z)(n,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),L=e.useContext(vs),D={dense:C||L.dense||!1,alignItems:c},j=e.useRef(null);ic((function(){u&&j.current&&j.current.focus()}),[u]);var F=e.Children.toArray(p),B=F.length&&(0,va.Z)(F[F.length-1],["ListItemSecondaryAction"]),U=e.useCallback((function(e){j.current=t.findDOMNode(e)}),[]),H=(0,_.Z)(U,r),V=(0,o.Z)({className:(0,i.Z)(f.root,m,D.dense&&f.dense,!A&&f.gutters,I&&f.divider,T&&f.disabled,h&&f.button,"center"!==c&&f.alignItemsFlexStart,B&&f.secondaryAction,M&&f.selected),disabled:T},N),z=v||"li";return h&&(V.component=v||"div",V.focusVisibleClassName=(0,i.Z)(f.focusVisible,O),z=lr),B?(z=V.component||v?z:"div","li"===y&&("li"===z?z="div":"li"===V.component&&(V.component="div")),e.createElement(vs.Provider,{value:D},e.createElement(y,(0,o.Z)({className:(0,i.Z)(f.container,S),ref:H},w),e.createElement(z,V,F),F.pop()))):e.createElement(vs.Provider,{value:D},e.createElement(z,(0,o.Z)({ref:H},V),F))})),ac=(0,P.Z)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(oc),sc=e.forwardRef((function(t,n){var r,s=t.classes,c=t.className,l=t.component,u=void 0===l?"li":l,d=t.disableGutters,h=void 0!==d&&d,p=t.ListItemClasses,f=t.role,m=void 0===f?"menuitem":f,v=t.selected,g=t.tabIndex,y=(0,a.Z)(t,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return t.disabled||(r=void 0!==g?g:-1),e.createElement(ac,(0,o.Z)({button:!0,role:m,tabIndex:r,component:u,selected:v,disableGutters:h,classes:(0,o.Z)({dense:s.dense},p),className:(0,i.Z)(s.root,c,v&&s.selected,!h&&s.gutters),ref:n},y))})),cc=(0,P.Z)((function(e){return{root:(0,o.Z)({},e.typography.body1,(0,qn.Z)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:(0,o.Z)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(sc),lc=e.forwardRef((function(t,n){var r=t.children,s=t.classes,c=t.className,l=t.component,u=void 0===l?"p":l,d=(t.disabled,t.error,t.filled,t.focused,t.margin,t.required,t.variant,(0,a.Z)(t,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),h=ns({props:t,muiFormControl:Ta(),states:["variant","margin","disabled","error","filled","focused","required"]});return e.createElement(u,(0,o.Z)({className:(0,i.Z)(s.root,("filled"===h.variant||"outlined"===h.variant)&&s.contained,c,h.disabled&&s.disabled,h.error&&s.error,h.filled&&s.filled,h.focused&&s.focused,h.required&&s.required,"dense"===h.margin&&s.marginDense),ref:n},d)," "===r?e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):r)})),uc=(0,P.Z)((function(e){return{root:(0,o.Z)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(lc),dc=[0,1,2,3,4,5,6,7,8,9,10],hc=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function pc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var fc,mc,vc=e.forwardRef((function(t,n){var r=t.alignContent,s=void 0===r?"stretch":r,c=t.alignItems,l=void 0===c?"stretch":c,u=t.classes,d=t.className,h=t.component,p=void 0===h?"div":h,f=t.container,m=void 0!==f&&f,v=t.direction,g=void 0===v?"row":v,y=t.item,_=void 0!==y&&y,b=t.justify,S=t.justifyContent,w=void 0===S?"flex-start":S,E=t.lg,C=void 0!==E&&E,k=t.md,T=void 0!==k&&k,x=t.sm,A=void 0!==x&&x,R=t.spacing,I=void 0===R?0:R,O=t.wrap,P=void 0===O?"wrap":O,M=t.xl,N=void 0!==M&&M,L=t.xs,D=void 0!==L&&L,j=t.zeroMinWidth,F=void 0!==j&&j,B=(0,a.Z)(t,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),U=(0,i.Z)(u.root,d,m&&[u.container,0!==I&&u["spacing-xs-".concat(String(I))]],_&&u.item,F&&u.zeroMinWidth,"row"!==g&&u["direction-xs-".concat(String(g))],"wrap"!==P&&u["wrap-xs-".concat(String(P))],"stretch"!==l&&u["align-items-xs-".concat(String(l))],"stretch"!==s&&u["align-content-xs-".concat(String(s))],"flex-start"!==(b||w)&&u["justify-content-xs-".concat(String(b||w))],!1!==D&&u["grid-xs-".concat(String(D))],!1!==A&&u["grid-sm-".concat(String(A))],!1!==T&&u["grid-md-".concat(String(T))],!1!==C&&u["grid-lg-".concat(String(C))],!1!==N&&u["grid-xl-".concat(String(N))]);return e.createElement(p,(0,o.Z)({className:U,ref:n},B))})),gc=(0,P.Z)((function(e){return(0,o.Z)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e){var t={};return dc.forEach((function(n){var r=e.spacing(n);0!==r&&(t["spacing-".concat("xs","-").concat(n)]={margin:"-".concat(pc(r,2)),width:"calc(100% + ".concat(pc(r),")"),"& > $item":{padding:pc(r,2)}})})),t}(e),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var r={};hc.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?(0,o.Z)(e,r):e[t.breakpoints.up(n)]=r}(t,e,n),t}),{}))}),{name:"MuiGrid"})(vc),yc=e.forwardRef((function(t,n){var r=t.disableSpacing,s=void 0!==r&&r,c=t.classes,l=t.className,u=(0,a.Z)(t,["disableSpacing","classes","className"]);return e.createElement("div",(0,o.Z)({className:(0,i.Z)(c.root,l,!s&&c.spacing),ref:n},u))})),_c=(0,P.Z)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(yc),bc=e.forwardRef((function(t,n){var r=t.children,s=t.classes,c=t.className,l=t.color,u=void 0===l?"default":l,d=t.component,h=void 0===d?"button":d,p=t.disabled,f=void 0!==p&&p,m=t.disableElevation,v=void 0!==m&&m,g=t.disableFocusRipple,y=void 0!==g&&g,_=t.endIcon,b=t.focusVisibleClassName,S=t.fullWidth,w=void 0!==S&&S,E=t.size,C=void 0===E?"medium":E,k=t.startIcon,T=t.type,x=void 0===T?"button":T,A=t.variant,R=void 0===A?"text":A,I=(0,a.Z)(t,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),O=k&&e.createElement("span",{className:(0,i.Z)(s.startIcon,s["iconSize".concat((0,Jn.Z)(C))])},k),P=_&&e.createElement("span",{className:(0,i.Z)(s.endIcon,s["iconSize".concat((0,Jn.Z)(C))])},_);return e.createElement(lr,(0,o.Z)({className:(0,i.Z)(s.root,s[R],c,"inherit"===u?s.colorInherit:"default"!==u&&s["".concat(R).concat((0,Jn.Z)(u))],"medium"!==C&&[s["".concat(R,"Size").concat((0,Jn.Z)(C))],s["size".concat((0,Jn.Z)(C))]],v&&s.disableElevation,f&&s.disabled,w&&s.fullWidth),component:h,disabled:f,focusRipple:!y,focusVisibleClassName:(0,i.Z)(s.focusVisible,b),ref:n,type:x},I),e.createElement("span",{className:s.label},O,r,P))})),Sc=(0,P.Z)((function(e){return{root:(0,o.Z)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,M.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,M.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,M.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat((0,M.Fq)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:(0,M.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat((0,M.Fq)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:(0,M.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(bc),wc=e.forwardRef((function(t,n){var r=t.classes,s=t.className,c=t.raised,l=void 0!==c&&c,u=(0,a.Z)(t,["classes","className","raised"]);return e.createElement(sa,(0,o.Z)({className:(0,i.Z)(r.root,s),elevation:l?8:1,ref:n},u))})),Ec=(0,P.Z)({root:{overflow:"hidden"}},{name:"MuiCard"})(wc),Cc=n(9002),kc=n(6220),Tc=["title","titleId"];function xc(){return xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xc.apply(this,arguments)}function Ac(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,Tc);return e.createElement("svg",xc({width:31,height:31,viewBox:"0 0 31 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,fc||(fc=e.createElement("path",{d:"M25.2798 9.38928C25.1389 9.68537 25.0618 10.0077 25.0534 10.3355C25.045 10.6633 25.1054 10.9892 25.2309 11.2921C25.3564 11.5951 25.5441 11.8683 25.7818 12.0941C26.0196 12.3199 26.3021 12.4933 26.611 12.603L28.1923 13.1655C28.6486 13.3275 29.0435 13.6268 29.3228 14.0223C29.6021 14.4178 29.7521 14.8901 29.7521 15.3743C29.7521 15.8585 29.6021 16.3308 29.3228 16.7263C29.0435 17.1218 28.6486 17.4211 28.1923 17.583L26.611 18.1455C26.3021 18.2553 26.0196 18.4287 25.7818 18.6545C25.5441 18.8803 25.3564 19.1535 25.2309 19.4564C25.1054 19.7594 25.045 20.0853 25.0534 20.4131C25.0618 20.7408 25.1389 21.0632 25.2798 21.3593L26.0023 22.873C26.2112 23.3104 26.2793 23.8017 26.1974 24.2794C26.1154 24.7571 25.8874 25.1977 25.5446 25.5404C25.2019 25.8831 24.7614 26.1111 24.2837 26.1931C23.806 26.2751 23.3146 26.2069 22.8773 25.998L21.361 25.278C21.065 25.1372 20.7426 25.06 20.4148 25.0516C20.087 25.0432 19.7611 25.1037 19.4582 25.2292C19.1553 25.3547 18.8821 25.5423 18.6562 25.7801C18.4304 26.0178 18.257 26.3003 18.1473 26.6093L17.5848 28.1905C17.4226 28.6464 17.1233 29.0409 16.7279 29.3198C16.3325 29.5988 15.8605 29.7486 15.3767 29.7486C14.8928 29.7486 14.4208 29.5988 14.0254 29.3198C13.6301 29.0409 13.3308 28.6464 13.1685 28.1905L12.606 26.6093C12.4962 26.3003 12.3226 26.0178 12.0967 25.78C11.8708 25.5423 11.5974 25.3546 11.2944 25.2291C10.9914 25.1036 10.6654 25.0432 10.3375 25.0516C10.0097 25.06 9.68722 25.1372 9.39104 25.278L7.87729 25.998C7.43994 26.2077 6.94829 26.2765 6.47019 26.1948C5.99209 26.1132 5.55113 25.8851 5.20817 25.5422C4.8652 25.1992 4.63716 24.7582 4.5555 24.2801C4.47384 23.802 4.54261 23.3104 4.75229 22.873L5.47229 21.3568C5.61316 21.0607 5.69029 20.7383 5.69871 20.4106C5.70713 20.0828 5.64664 19.7569 5.52115 19.4539C5.39567 19.151 5.20799 18.8778 4.97025 18.652C4.73252 18.4262 4.45002 18.2528 4.14104 18.143L2.55979 17.5805C2.1035 17.4186 1.70856 17.1193 1.42926 16.7238C1.14996 16.3283 1 15.856 1 15.3718C1 14.8876 1.14996 14.4153 1.42926 14.0198C1.70856 13.6243 2.1035 13.325 2.55979 13.163L4.14104 12.6005C4.4497 12.4907 4.73189 12.3174 4.96939 12.0918C5.2069 11.8662 5.39444 11.5932 5.51989 11.2906C5.64535 10.988 5.70593 10.6624 5.69773 10.3349C5.68953 10.0074 5.61273 9.68525 5.47229 9.38928L4.75229 7.87303C4.54261 7.43568 4.47384 6.94403 4.5555 6.46593C4.63716 5.98783 4.8652 5.54687 5.20817 5.20391C5.55113 4.86095 5.99209 4.6329 6.47019 4.55124C6.94829 4.46958 7.43994 4.53835 7.87729 4.74803L9.39354 5.46804C9.68944 5.60854 10.0115 5.68546 10.339 5.69384C10.6664 5.70221 10.992 5.64185 11.2947 5.51665C11.5974 5.39145 11.8705 5.20419 12.0964 4.96695C12.3222 4.72971 12.4959 4.44776 12.606 4.13928L13.1685 2.55804C13.3308 2.10217 13.6301 1.70768 14.0254 1.42872C14.4208 1.14976 14.8928 1 15.3767 1C15.8605 1 16.3325 1.14976 16.7279 1.42872C17.1233 1.70768 17.4226 2.10217 17.5848 2.55804L18.1473 4.13928C18.257 4.44826 18.4304 4.73076 18.6562 4.96849C18.8821 5.20623 19.1553 5.39391 19.4582 5.5194C19.7611 5.64488 20.087 5.70537 20.4148 5.69695C20.7426 5.68854 21.065 5.6114 21.361 5.47053L22.8773 4.74803C23.3146 4.53916 23.806 4.47101 24.2837 4.55297C24.7614 4.63492 25.2019 4.86296 25.5446 5.20568C25.8874 5.5484 26.1154 5.98893 26.1974 6.46663C26.2793 6.94432 26.2112 7.43568 26.0023 7.87303L25.2798 9.38928Z",stroke:"white",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),mc||(mc=e.createElement("path",{d:"M9.75098 15.3743C9.75098 16.8661 10.3436 18.2969 11.3985 19.3517C12.4534 20.4066 13.8841 20.9993 15.376 20.9993C16.8678 20.9993 18.2986 20.4066 19.3535 19.3517C20.4083 18.2969 21.001 16.8661 21.001 15.3743C21.001 13.8824 20.4083 12.4517 19.3535 11.3968C18.2986 10.3419 16.8678 9.74927 15.376 9.74927C13.8841 9.74927 12.4534 10.3419 11.3985 11.3968C10.3436 12.4517 9.75098 13.8824 9.75098 15.3743V15.3743Z",stroke:"white",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})))}var Rc,Ic,Oc=e.forwardRef(Ac),Pc=(n.p,["title","titleId"]);function Mc(){return Mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mc.apply(this,arguments)}function Nc(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,Pc);return e.createElement("svg",Mc({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,Rc||(Rc=e.createElement("g",{clipPath:"url(#clip0)"},e.createElement("path",{d:"M8.32609 14.4131H1.36957C0.889318 14.4131 0.5 14.8024 0.5 15.2827V19.6305C0.5 20.1107 0.889318 20.5 1.36957 20.5H8.32609C8.80633 20.5 9.19565 20.1107 9.19565 19.6305V15.2827C9.19565 14.8024 8.80633 14.4131 8.32609 14.4131Z",stroke:"#fff",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M12.6739 20.5H19.6304C20.1107 20.5 20.5 20.1107 20.5 19.6304V10.0652C20.5 9.58497 20.1107 9.19565 19.6304 9.19565L12.6739 9.19565C12.1937 9.19565 11.8043 9.58497 11.8043 10.0652L11.8043 19.6304C11.8043 20.1107 12.1937 20.5 12.6739 20.5Z",stroke:"#fff",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M12.6739 6.58691L19.6304 6.58691C20.1107 6.58691 20.5 6.1976 20.5 5.71735V1.36952C20.5 0.889276 20.1107 0.499958 19.6304 0.499958L12.6739 0.499958C12.1937 0.499958 11.8043 0.889276 11.8043 1.36952V5.71735C11.8043 6.1976 12.1937 6.58691 12.6739 6.58691Z",stroke:"#fff",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M8.32609 0.5H1.36957C0.889318 0.5 0.5 0.889318 0.5 1.36957V10.9348C0.5 11.415 0.889318 11.8043 1.36957 11.8043H8.32609C8.80633 11.8043 9.19565 11.415 9.19565 10.9348V1.36957C9.19565 0.889318 8.80633 0.5 8.32609 0.5Z",stroke:"#fff",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}))),Ic||(Ic=e.createElement("defs",null,e.createElement("clipPath",{id:"clip0"},e.createElement("rect",{width:24,height:24,fill:"white"})))))}var Lc,Dc,jc,Fc,Bc,Uc=e.forwardRef(Nc),Hc=(n.p,["title","titleId"]);function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vc.apply(this,arguments)}function zc(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,Hc);return e.createElement("svg",Vc({width:25,height:25,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,Lc||(Lc=e.createElement("path",{d:"M22.5625 1H2.4375C1.64359 1 1 1.44772 1 2V23C1 23.5523 1.64359 24 2.4375 24H22.5625C23.3564 24 24 23.5523 24 23V2C24 1.44772 23.3564 1 22.5625 1Z",stroke:"#fff",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),Dc||(Dc=e.createElement("path",{d:"M12 21.5C14.7614 21.5 17 19.2614 17 16.5C17 13.7386 14.7614 11.5 12 11.5C9.23858 11.5 7 13.7386 7 16.5C7 19.2614 9.23858 21.5 12 21.5Z",stroke:"#fff",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),jc||(jc=e.createElement("path",{d:"M12 9C13.3807 9 14.5 7.88071 14.5 6.5C14.5 5.11929 13.3807 4 12 4C10.6193 4 9.5 5.11929 9.5 6.5C9.5 7.88071 10.6193 9 12 9Z",stroke:"#fff",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),Fc||(Fc=e.createElement("path",{d:"M12 18C12.8284 18 13.5 17.3284 13.5 16.5C13.5 15.6716 12.8284 15 12 15C11.1716 15 10.5 15.6716 10.5 16.5C10.5 17.3284 11.1716 18 12 18Z",stroke:"#fff",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),Bc||(Bc=e.createElement("path",{d:"M12 6.25C12.0494 6.25 12.0978 6.26466 12.1389 6.29213C12.18 6.3196 12.212 6.35865 12.231 6.40433C12.2499 6.45001 12.2548 6.50028 12.2452 6.54877C12.2356 6.59727 12.2117 6.64181 12.1768 6.67678C12.1418 6.71174 12.0973 6.73555 12.0488 6.7452C12.0003 6.75484 11.95 6.74989 11.9043 6.73097C11.8586 6.71205 11.8196 6.68 11.7921 6.63889C11.7647 6.59778 11.75 6.54945 11.75 6.5C11.75 6.4337 11.7763 6.37011 11.8232 6.32322C11.8701 6.27634 11.9337 6.25 12 6.25Z",stroke:"#fff",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})))}var qc,Jc,Gc=e.forwardRef(zc),Wc=(n.p,["title","titleId"]);function Qc(){return Qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qc.apply(this,arguments)}function Zc(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,Wc);return e.createElement("svg",Qc({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,qc||(qc=e.createElement("g",{clipPath:"url(#clip0)"},e.createElement("path",{d:"M9.5 23.5H1.5C1.23478 23.5 0.98043 23.3946 0.792893 23.2071C0.605357 23.0196 0.5 22.7652 0.5 22.5V1.5C0.5 1.23478 0.605357 0.98043 0.792893 0.792893C0.98043 0.605357 1.23478 0.5 1.5 0.5H14.793C15.0582 0.500057 15.3125 0.605451 15.5 0.793L19.207 4.5C19.3946 4.68749 19.4999 4.9418 19.5 5.207V8.5",stroke:"#fff",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M12.607 10.8901L7.636 8.21411C7.51966 8.14926 7.38839 8.11595 7.25521 8.11748C7.12202 8.11902 6.99155 8.15534 6.87674 8.22285C6.76192 8.29037 6.66675 8.38673 6.60067 8.50237C6.53458 8.61801 6.49988 8.74892 6.5 8.88211V14.6181C6.49988 14.7513 6.53458 14.8822 6.60067 14.9979C6.66675 15.1135 6.76192 15.2099 6.87674 15.2774C6.99155 15.3449 7.12202 15.3812 7.25521 15.3827C7.38839 15.3843 7.51966 15.351 7.636 15.2861L9.811 13.9481",stroke:"#fff",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M16.313 17.031C16.313 17.4121 16.4644 17.7776 16.7339 18.0471C17.0034 18.3166 17.3689 18.468 17.75 18.468C18.1311 18.468 18.4966 18.3166 18.7661 18.0471C19.0356 17.7776 19.187 17.4121 19.187 17.031C19.187 16.6499 19.0356 16.2844 18.7661 16.0149C18.4966 15.7454 18.1311 15.594 17.75 15.594C17.3689 15.594 17.0034 15.7454 16.7339 16.0149C16.4644 16.2844 16.313 16.6499 16.313 17.031V17.031Z",stroke:"#fff",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M18.971 11.4701L19.395 12.8621C19.4645 13.0932 19.6193 13.2893 19.828 13.4106C20.0368 13.5319 20.2838 13.5692 20.519 13.5151L21.931 13.1881C22.1984 13.1278 22.4781 13.1548 22.7291 13.265C22.9801 13.3753 23.1892 13.563 23.3257 13.8007C23.4622 14.0384 23.519 14.3136 23.4878 14.586C23.4565 14.8583 23.3388 15.1135 23.152 15.3141L22.164 16.3791C22.001 16.5563 21.9105 16.7883 21.9105 17.0291C21.9105 17.2699 22.001 17.5019 22.164 17.6791L23.152 18.7441C23.3388 18.9447 23.4565 19.1999 23.4878 19.4722C23.519 19.7445 23.4622 20.0197 23.3257 20.2574C23.1892 20.4952 22.9801 20.6829 22.7291 20.7931C22.4781 20.9034 22.1984 20.9304 21.931 20.8701L20.519 20.5421C20.2839 20.4901 20.0378 20.529 19.8302 20.6511C19.6226 20.7732 19.4689 20.9693 19.4 21.2001L18.976 22.5921C18.8971 22.8545 18.7357 23.0846 18.5158 23.2481C18.2959 23.4116 18.0291 23.4999 17.755 23.4999C17.481 23.4999 17.2142 23.4116 16.9943 23.2481C16.7743 23.0846 16.6129 22.8545 16.534 22.5921L16.105 21.2001C16.0351 20.9692 15.8802 20.7734 15.6716 20.6522C15.463 20.531 15.2162 20.4934 14.981 20.5471L13.569 20.8751C13.3016 20.9354 13.0219 20.9084 12.7709 20.7981C12.5199 20.6879 12.3109 20.5002 12.1743 20.2624C12.0378 20.0247 11.981 19.7495 12.0123 19.4772C12.0435 19.2049 12.1612 18.9497 12.348 18.7491L13.336 17.6841C13.4991 17.5069 13.5895 17.2749 13.5895 17.0341C13.5895 16.7933 13.4991 16.5613 13.336 16.3841L12.348 15.3191C12.1612 15.1185 12.0435 14.8633 12.0123 14.591C11.981 14.3186 12.0378 14.0434 12.1743 13.8057C12.3109 13.568 12.5199 13.3803 12.7709 13.27C13.0219 13.1598 13.3016 13.1328 13.569 13.1931L14.981 13.5201C15.2163 13.5742 15.4633 13.5369 15.672 13.4156C15.8807 13.2943 16.0355 13.0982 16.105 12.8671L16.529 11.4751C16.6074 11.2125 16.7683 10.9821 16.9879 10.8181C17.2075 10.6541 17.4741 10.5653 17.7482 10.5647C18.0222 10.5641 18.2892 10.6519 18.5094 10.815C18.7297 10.9781 18.8916 11.2078 18.971 11.4701V11.4701Z",stroke:"#fff",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}))),Jc||(Jc=e.createElement("defs",null,e.createElement("clipPath",{id:"clip0"},e.createElement("rect",{width:24,height:24,fill:"white"})))))}var $c,Kc,Xc=e.forwardRef(Zc),Yc=(n.p,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAgVBMVEX///8AAADr6+vy8vLl5eWSkpL7+/uEhITj4+O2trazs7NxcXF0dHS9vb319fXx8fHc3Nx9fX3FxcXLy8taWlrV1dU2NjZERES8vLw9PT2enp4ZGRnDw8NHR0ctLS2np6cSEhJjY2ONjY0LCwugoKAoKChgYGAiIiJpaWlVVVUcHByA0ew4AAAIfklEQVR4nO2d52LqOgyACStsCmG2hFVKS9//AS/LSSzJg9T4JFx9P89RFRtvDbtSYRiGYRiGYRiGYRiGYRiG+dcMOmFjapSaNsLOwENpnkD0GZzpGqS6F6HPyEuJHNMKbvS0Ut27VN1TqVwiyh5UNUJ1IWRq6gLSnInCtzVSbSE0a3ormSsGa1H4jkaqI4TW5athZSIKr5tOp0Lo6K1c7ojuZZ9rpZZ3qVJOpodb9xtqhYZfV6mDpzI5ZtpbxxvT+Gpu4nXPvC9gGIZhGIZhGOY1qdYtDuXNuv7o9JAqnbnHOavr+f2jof1otbG9SE36WlWL00Vou9er2l9VnVY5ypqHN3EuD4J3tdR7IhS//VFVIxFaqlU5JAoy/KikdlkplYlCUrX7kyqHvAUSI1qqJ0vR9t6WLKQwHQNVz2/FpfzBYEwJ9YHQjFS1BlLkiIWqlg7rQrICH6QLP4dS1BwBy05b5eDPQKpyyQR+kOo2b0iIModaqZoioYnzOsmgDwYbLPSOhL7wkjf4RlLEfLrBH3xCrTJU8QdDLBViKTzXtKxUjbCUzS4iP3X8QWI2JWrYQkJ2Nexhqec64pr4gw0stUdCW7xnqX4iqT1W1UBCT+6llQ/0QWKOR7MkOcfDdScIFlhogYR+nddJBv+mxLZ5iISIhiZamhhhuNNQqlyCphpi7BADkZod7FShqebpZwywEmzJMIoaGGP0thr0h89aflVO+ZE+qPAayQu1an++s1EVWalySqbfbJVusek2lVLszt2qcspKBCGEmkifmhiLM92BZyy2nSHZRe+qxA8x83UEPm88N+Go0TcYH5qLxijcmE47Z1W9xsKsqmdWxTAMwzAMwzDMa1KNVmPzeWC6WkVevZ+uGItY/dlBXf7quzgfdkkPT4EZS6ZCxfG2JlmZZqWqI7RUf1Dn/GgLpPS5J0WiiW29REoC4XNZFicl4e09DPd9lYuEqCC2Z3coIZX7c7jYh+G7PytGXzhA6fFFOFMuyA4Vwi+j7KhDMV7n+rgOZ2Rq8EmYAMd02YNYkiLbOSCd5lnbq5ehupNKhKuoKrvUT9sqIdxPZYuwMmIjF03KHAqt+rCjqppQbsRYKQVn3aGFVX+Qb4ZqdWfrCZrlje6ULhRISUeiYhRegGl6Zs/MeLKedXO4Te+dA6brGL1r6rJnPP4HjZSszuxdu3eqh0OJBqJzgIEGV2m4DBCO/oTU6UB45xPkNsID9kMukJiHaCeYhmS5kmcvo5c7wgIJacgJDjRJkRvD6OVORoUukZMi8XGupX82RiqgiKIM6VSjnmhgRJAxUiGJKCL9qxqS305exrD/GmhWT6VBcLKqobwiGqNNkvCrR73fyTILAoLwB2UBHA6Vkk6TPxopeW9mjBg60H9nwb1/w/xcY6iWpuxpMAkOUlBVAEd9gQCy5i1FM89u5zoC5nB3jQJJYOTeDAqkpHOIpi9DfcbIveE8ZwXPE3+7Q2w7YdghXIfUS913Op/XcFiOAC7A8MeIK4hpp+3SDGKKoFUviNkpSb0gorICUQ9HKFMUNBHUhsuu/B2IOX+X/X8vOd/1dKhR22BVD5RliZX8wge1M0llZ76uz1gdzxPYdqnIRqC3NTDw9URK0U1U3S/Pm8ivo79QjEuCR0s9uCkDRQwbZ4AipQPdBRPVVr1Il9jggMIJLt4AtyIRm1hU6mBbRgejgcN0XK47ahZpHb9DVYeuhumsFJeoAe+0NqNjfOruI934qUX77ik+jjY4SpphGIZhGKYItA6jSRz/7MeaGPVKbbz/ieNJGfc07XRf+jFS7Uvro8y+9FGb9b+lBZyItLUWnPPnJWpHfAQ+WZ0Pi9SMg5bmjE/YqYM5OuNTvmLdGb/l84zfn3wHwedScdUDbac5AanH7TTfhgso3NFKzdDU+KphF+MVO1sbNfFmbG1ehqrpqgelsTfb4oSX7gZhLz2aG9kp3m3eT7w1ok76LUy3RuBcfEGmBz7gt4AuV+LihWmnncuIdXWvLaHvCRkK10AA+YpScvmevqAAnG6q1988h+/p7j+ElyHgKdC3/xAYz4X/8OHLpPP6gHGJUp7rA370lleFH994a4QuUqFYfnz7WAx5BJQnFuP142lePyZKFdeGZ8GCxLXluE663p2tj05jE9NNpSY2ES5s5tjE6JgvNvFMkwrb9B5fCsYF5agjC5qfnfRB3DmUATVOYoS93BrhJM6b8nFfoOK8M1HCnm6N8B2rX/Mdq1+551ss/pRvQfbTouRbmLDLmSEiNgqUM2PCLu8JHhLLk/dUQblr9H6jJgWILUuVu3Ymsso/PIi1pVfKR0rsckjfxiXNIWUYhmEYhmEY5s9MNyOLCyvbjd5oY7LUXlW1Le6+NKtyR194Q0aagK7kqoe17mS7Eg7QkeYe8lSVp6QZgzXxRmRlAsyo2iqPwHaqHLKTbCtW9wirrno42qjybhEG7i5k1b8CE6Kt4trou6Btbo1wCvLMkP3G6hJuh6pcYvSuXcA57cSN+UW9k93kIb2Cc9fKc69+3rcRPkvzNoIxUuFKmd+3eP03SnK/M0PECBfznRlz1NeFp74V9OxX2F//vSc0x5MftHuzC3r8SQ+vRfSlY5737ppCFZhrPMRBP+vtPKWqHxtVTnH5/uH8MVXekk5ub1j+mt6wvHqxDVc99O2ew/y1UOWYodXOwuodUoeqGIZhGIZhGIZ5Rabd9fxgCmxuHubrrj/fp1NuB9cv/amn+mU6/xYXkXehNx0Je0EZQ4QTc6iuCybm0GdbQZ/AIDF0qq+CyKQkwPuKS0AzsYbqUh+TvJJZ+WqYpunpjEyJL+vhVOwCIAqvzxMRpuNy3Xt55/YWkCkR5trU6ueOi82gHTYs3uxqhO0iXS/LMAzDMAzDMAzDMAzDMMz/lf8AVPtuIfIBj8YAAAAASUVORK5CYII="),el=n(2427),tl=((0,el.Z)((function(){return{otherOptionsContainer:{position:"absolute",display:"flex",right:"8px",bottom:"0.1vh"},bottomMainContainer:{height:"12vh",width:"100vw",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80px",backgroundImage:"linear-gradient(#1c2226,#13171A)"},peopleIconButton:{border:"none",outline:"none"},peopleIcon:{color:"#fff"}}})),(0,el.Z)((function(e){return{iconColor:{color:"#fff"},iconButton:{border:"none",outline:"none",marginRight:5},buttonContainer:{minHeight:"50px",minWidth:"50px",height:"7vh",width:"7vh",backgroundColor:e.palette.buttonBackgroundColor.main,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"}}})),(0,el.Z)((function(e){return{iconColor:{color:"#fff"},iconButton:{border:"none",outline:"none",marginRight:5},buttonContainer:{minHeight:"50px",minWidth:"50px",height:"7vh",width:"7vh",backgroundColor:e.palette.buttonBackgroundColor.main,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"}}})),(0,el.Z)((function(e){return{iconColor:{color:"#fff"},iconButton:{border:"none",outline:"none",marginRight:5},buttonContainer:{minHeight:"50px",minWidth:"50px",height:"7vh",width:"7vh",backgroundColor:e.palette.buttonBackgroundColor.main,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"}}})),(0,el.Z)((function(e){return{iconColor:{color:"#fff"},iconButton:{border:"none",outline:"none",marginRight:5},buttonContainer:{minHeight:"50px",minWidth:"50px",height:"7vh",width:"7vh",backgroundColor:e.palette.buttonBackgroundColor.main,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"}}})),(0,el.Z)((function(e){return{iconColor:{color:"#fff"},iconButton:{border:"none",outline:"none",marginRight:5},buttonContainer:{minHeight:"50px",minWidth:"50px",height:"7vh",width:"7vh",backgroundColor:e.palette.error.main,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"}}})),(0,el.Z)((function(e){return{layoutDilogFormControl:{padding:16,paddingTop:0},scrollPaper:{},paperScrollPaper:{backgroundColor:"rgba(30,30,30,0.8)"},dropDownStyle:{minWidth:250,maxWidth:250,width:250,color:"#fff"},dropdownRoot:{borderBottomColor:"#fff",borderBottomWidth:2},dropdownIcon:{color:"#1E79E7"},dropDownList:{backgroundColor:"rgba(30,30,30,1)"},audioDilogFormControl:{paddingBottom:16,marginRight:8},videoDialogFormControl:{paddingBottom:16},iconButtonStyle:{border:"none",outline:"none"},iconColor:{color:"#fff",height:24,width:24},menuIconContainer:{marginRight:16},closeIcon:{position:"absolute",top:8,right:8,backgroundColor:"#31383e",padding:4,height:24,width:24},whiteColor:{color:"#fff"},markLabel:{color:"#fff"},root:{width:"90%"},PaginatedRoot:{width:"50%"},markActive:{backgroundColor:e.palette.primary.main,height:4}}}),{index:1,classNamePrefix:"CometChat"})),nl=(0,el.Z)((function(e){return{layoutDilogFormControl:{padding:16,paddingTop:0},scrollPaper:{},paperScrollPaper:{backgroundColor:"rgba(30,30,30,0.8)"},iconButtonStyle:{border:"none",outline:"none",top:-3},iconColor:{color:"#fff",height:24,width:24},closeIcon:{position:"absolute",top:8,right:8,padding:4,height:24,width:24},whiteColor:{color:"#fff"},noneContainer:{marginLeft:5,marginRight:5,cursor:"pointer",alignItems:"center",justifyContent:"center",display:"flex",backgroundColor:"#fff",height:60,width:"100%",borderRadius:5},noneFont:{textTransform:"none"},blurContainer:{marginLeft:5,marginRight:5,cursor:"pointer",backgroundColor:"#fff",borderRadius:5},imgContainer:{marginLeft:5,marginRight:5,cursor:"pointer"},active:{borderWidth:4,borderColor:"cadetblue",borderRadius:5},image:{height:60,width:180,borderRadius:5,objectFit:"cover"},buttonContainer:{height:60,width:"100%",transitionDuration:"".concat(e.transitions.duration.shorter,"ms"),transitionTimingFunction:e.transitions.easing.easeInOut,outline:"none !important","&:hover":{transform:"scale(1.1)",borderWidth:1,borderColor:"red"}},upperContainer:{paddingRight:16,paddingLeft:16,paddingTop:16,display:"flex",flexDirection:"row",justifyContent:"space-between"},dilogContent:{paddingTop:30,paddingBottom:30,maxHeight:250}}}),{index:1,classNamePrefix:"CometChat"}),rl=["title","titleId"];function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},il.apply(this,arguments)}function ol(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,rl);return e.createElement("svg",il({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,$c||($c=e.createElement("path",{d:"M3 21L21 3",stroke:"#fff",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),Kc||(Kc=e.createElement("path",{d:"M21 21L3 3",stroke:"#fff",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})))}var al=e.forwardRef(ol);function sl(e){return sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(e)}function cl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ll(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cl(Object(n),!0).forEach((function(t){vl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ul(){ul=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new k(i||[]);return r(a,"_invoke",{value:S(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function h(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(T([])));g&&g!==t&&n.call(g,o)&&(m=g);var y=f.prototype=h.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,o,a,s){var c=u(e[r],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==sl(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},_(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function dl(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function hl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gl(r.key),r)}}function pl(e,t){return pl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pl(e,t)}function fl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ml(e){return ml=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ml(e)}function vl(e,t,n){return(t=gl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gl(e){var t=function(e){if("object"!==sl(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==sl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===sl(t)?t:String(t)}n.p;var yl=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pl(e,t)}(l,t);var n,r,i,o,a,s,c=(a=l,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ml(a);if(s){var n=ml(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===sl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fl(e)}(this,e)});function l(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),vl(fl(n=c.call(this,t)),"_detachTrack",(function(e){n.videoRef.current&&e&&null!=e&&e.detach&&(null==e||e.detach(n.videoRef.current))})),vl(fl(n),"_attachTrack",(function(e){var t,r;e&&n.videoRef.current&&(null!=e&&e.attach&&(null==e||e.attach(n.videoRef.current)),JitsiMeetJS.util.browser.isWebKitBased()&&(null===(t=n.videoRef)||void 0===t||null===(r=t.current)||void 0===r||r.play()))})),n.videoRef=e.createRef(),n.updateSent=!1,n}return n=l,r=[{key:"componentDidUpdate",value:(i=ul().mark((function e(t){var n,r;return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.streamManager,r=this.props.streamManager,n===r){e.next=6;break}return e.next=5,this._detachTrack(n);case 5:this._attachTrack(r);case 6:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){dl(o,n,r,a,s,"next",e)}function s(e){dl(o,n,r,a,s,"throw",e)}a(void 0)}))},function(e){return o.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this._detachTrack(this.props.streamManager)}},{key:"componentDidMount",value:function(){var e=this;!this.updateSent&&this.props.onplay&&(this.videoRef.current.ontimeupdate=function(){!e.updateSent&&e.props.onplay&&e.props.streamManager&&(e.props.onplay(),e.updateSent=!0)}),this._attachTrack(this.props.streamManager)}},{key:"render",value:function(){var t,n,r,i,o,a=null!==(t=this.props.streamManager)&&void 0!==t&&null!==(n=t.isLocal)&&void 0!==n&&n.call(t)?"":null!==(r=null===(i=this.props.streamManager)||void 0===i||null===(o=i.getSourceName)||void 0===o?void 0:o.call(i))&&void 0!==r?r:"";return e.createElement("video",{className:this.props.flipped?"flipped-video":"",style:ll({},this.props.style),autoPlay:!0,playsInline:!0,muted:!0,"webkit-playsinline":"webkit-playsinline",ref:this.videoRef,"cc-source-name":a,"cc-main-video":this.props.mainVideo?"true":"false"})}}],r&&hl(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),l}(e.Component),_l="\n    var timer;\n\n    onmessage = function(request) {\n        switch (request.data.id) {\n        case ".concat(1,": {\n            timer = setTimeout(() => {\n                postMessage({ id: ").concat(3," });\n            }, request.data.timeMs);\n            break;\n        }\n        case ").concat(2,": {\n            if (timer) {\n                clearTimeout(timer);\n            }\n            break;\n        }\n        }\n    };\n"),bl=URL.createObjectURL(new Blob([_l],{type:"application/javascript"}));function Sl(e){return Sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(e)}function wl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=function(e){if("object"!==Sl(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==Sl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Sl(i)?i:String(i)),r)}var i}var El="image",Cl="desktop-share",kl=function(){function e(t,n){var r,i,o;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._options=n,this._options.virtualBackground.backgroundType===El&&(this._virtualImage=document.createElement("img"),this._virtualImage.crossOrigin="anonymous",this._virtualImage.src=this._options.virtualBackground.virtualSource),this._options.virtualBackground.backgroundType===Cl&&(this._virtualVideo=document.createElement("video"),this._virtualVideo.autoplay=!0,this._virtualVideo.srcObject=null===(r=this._options)||void 0===r||null===(i=r.virtualBackground)||void 0===i||null===(o=i.virtualSource)||void 0===o?void 0:o.stream),this._model=t,this._segmentationPixelCount=this._options.width*this._options.height,this._onMaskFrameTimer=this._onMaskFrameTimer.bind(this),this._outputCanvasElement=document.createElement("canvas"),this._outputCanvasElement.getContext("2d"),this._inputVideoElement=document.createElement("video")}var t,n;return t=e,n=[{key:"_onMaskFrameTimer",value:function(e){3===e.data.id&&this._renderMask()}},{key:"runPostProcessing",value:function(){var e,t=this._stream.getVideoTracks()[0],n=null!==(e=t.getSettings())&&void 0!==e?e:t.getConstraints(),r=n.height,i=n.width,o=this._options.virtualBackground.backgroundType;this._outputCanvasElement.height=r,this._outputCanvasElement.width=i,this._outputCanvasCtx.globalCompositeOperation="copy",this._outputCanvasCtx.filter=o===El?"blur(4px)":"blur(8px)",o===Cl&&(this._outputCanvasCtx.save(),this._outputCanvasCtx.scale(-1,1),this._outputCanvasCtx.translate(-this._outputCanvasElement.width,0)),this._outputCanvasCtx.drawImage(this._segmentationMaskCanvas,0,0,this._options.width,this._options.height,0,0,this._inputVideoElement.width,this._inputVideoElement.height),o===Cl&&this._outputCanvasCtx.restore(),this._outputCanvasCtx.globalCompositeOperation="source-in",this._outputCanvasCtx.filter="none",o===Cl&&(this._outputCanvasCtx.save(),this._outputCanvasCtx.scale(-1,1),this._outputCanvasCtx.translate(-this._outputCanvasElement.width,0)),this._outputCanvasCtx.drawImage(this._inputVideoElement,0,0),o===Cl&&this._outputCanvasCtx.restore(),this._outputCanvasCtx.globalCompositeOperation="destination-over",o===El||o===Cl?this._outputCanvasCtx.drawImage(o===El?this._virtualImage:this._virtualVideo,0,0,this._outputCanvasElement.width,this._outputCanvasElement.height):(this._outputCanvasCtx.filter="blur(".concat(this._options.virtualBackground.blurValue,"px)"),this._outputCanvasCtx.drawImage(this._inputVideoElement,0,0))}},{key:"runInference",value:function(){this._model._runInference();for(var e=this._model._getOutputMemoryOffset()/4,t=0;t<this._segmentationPixelCount;t++){var n=this._model.HEAPF32[e+t];this._segmentationMask.data[4*t+3]=255*n}this._segmentationMaskCtx.putImageData(this._segmentationMask,0,0)}},{key:"_renderMask",value:function(){this.resizeSource(),this.runInference(),this.runPostProcessing(),this._maskFrameTimerWorker.postMessage({id:1,timeMs:1e3/30})}},{key:"resizeSource",value:function(){this._segmentationMaskCtx.drawImage(this._inputVideoElement,0,0,this._inputVideoElement.width,this._inputVideoElement.height,0,0,this._options.width,this._options.height);for(var e=this._segmentationMaskCtx.getImageData(0,0,this._options.width,this._options.height),t=this._model._getInputMemoryOffset()/4,n=0;n<this._segmentationPixelCount;n++)this._model.HEAPF32[t+3*n]=e.data[4*n]/255,this._model.HEAPF32[t+3*n+1]=e.data[4*n+1]/255,this._model.HEAPF32[t+3*n+2]=e.data[4*n+2]/255}},{key:"isEnabled",value:function(e){return e.isVideoTrack()&&"camera"===e.videoType}},{key:"startEffect",value:function(e){var t=this;this._stream=e,this._maskFrameTimerWorker=new Worker(bl,{name:"Blur effect worker"}),this._maskFrameTimerWorker.onmessage=this._onMaskFrameTimer;var n=this._stream.getVideoTracks()[0],r=n.getSettings?n.getSettings():n.getConstraints(),i=r.height,o=r.frameRate,a=r.width;return this._segmentationMask=new ImageData(this._options.width,this._options.height),this._segmentationMaskCanvas=document.createElement("canvas"),this._segmentationMaskCanvas.width=this._options.width,this._segmentationMaskCanvas.height=this._options.height,this._segmentationMaskCtx=this._segmentationMaskCanvas.getContext("2d"),this._outputCanvasElement.width=parseInt(a,10),this._outputCanvasElement.height=parseInt(i,10),this._outputCanvasCtx=this._outputCanvasElement.getContext("2d"),this._inputVideoElement.width=parseInt(a,10),this._inputVideoElement.height=parseInt(i,10),this._inputVideoElement.autoplay=!0,this._inputVideoElement.srcObject=this._stream,this._inputVideoElement.onloadeddata=function(){t._maskFrameTimerWorker.postMessage({id:1,timeMs:1e3/30})},this._outputCanvasElement.captureStream(parseInt(o,10))}},{key:"stopEffect",value:function(){this._maskFrameTimerWorker.postMessage({id:2}),this._maskFrameTimerWorker.terminate()}}],n&&wl(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Tl(e){return Tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(e)}function xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Al(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xl(Object(n),!0).forEach((function(t){Rl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rl(e,t,n){return(t=function(e){var t=function(e){if("object"!==Tl(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==Tl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Tl(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Il(){Il=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new k(i||[]);return r(a,"_invoke",{value:S(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function h(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(T([])));g&&g!==t&&n.call(g,o)&&(m=g);var y=f.prototype=h.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,o,a,s){var c=u(e[r],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==Tl(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},_(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Ol(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Pl(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ol(o,r,i,a,s,"next",e)}function s(e){Ol(o,r,i,a,s,"throw",e)}a(void 0)}))}}var Ml,Nl,Ll={modelLandscape:"https://cdn.cometchat.io/calls/v3/selfie_segmentation_landscape.tflite"},Dl=!1;function jl(e,t){return new Promise((function(n,r){setTimeout((function(){r(new Error("408"))}),e),t.then(n,r)}))}var Fl={modelLandscape:{height:144,width:256}};function Bl(){return Ul.apply(this,arguments)}function Ul(){return(Ul=Pl(Il().mark((function e(){var t,r,i,o,a,s;return Il().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ml||Dl){e.next=22;break}if(e.prev=1,Nl=n(7618),i=1e4,null===(t=Nl)||void 0===t||null===(r=t.feature)||void 0===r||!r.simd){e.next=10;break}return e.next=7,jl(i,createTFLiteSIMDModule());case 7:Ml=e.sent,e.next=13;break;case 10:return e.next=12,jl(i,createTFLiteModule());case 12:Ml=e.sent;case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(1),Dl=!0,null===e.t0||void 0===e.t0||e.t0.message,e.abrupt("return",!1);case 20:e.next=25;break;case 22:if(!Dl){e.next=25;break}return e.abrupt("return",!1);case 25:return o=Ml._getModelBufferMemoryOffset(),e.next=28,fetch(Ll.modelLandscape);case 28:if((a=e.sent).ok){e.next=32;break}throw new Error("Failed to download tflite model!");case 32:return e.next=34,a.arrayBuffer();case 34:return s=e.sent,Ml.HEAPU8.set(new Uint8Array(s),o),Ml._loadModel(s.byteLength),e.abrupt("return",!0);case 38:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function Hl(e){return Vl.apply(this,arguments)}function Vl(){return(Vl=Pl(Il().mark((function e(t){var n;return Il().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(MediaStreamTrack.prototype.getSettings||MediaStreamTrack.prototype.getConstraints){e.next=2;break}throw new Error("JitsiStreamBackgroundEffect not supported!");case 2:return e.next=4,Bl();case 4:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return n=Al(Al({},Fl.modelLandscape),{},{virtualBackground:t}),e.abrupt("return",new kl(Ml,n));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zl(e){return zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(e)}function ql(){ql=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new k(i||[]);return r(a,"_invoke",{value:S(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function h(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(T([])));g&&g!==t&&n.call(g,o)&&(m=g);var y=f.prototype=h.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,o,a,s){var c=u(e[r],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==zl(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},_(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Jl(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var Gl=function(){var e,t=(e=ql().mark((function e(t){var n,r,i,o;return ql().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.track,r=t.option,i=void 0,e.t0=r.type,e.next="blur"===e.t0?6:"img"===e.t0?8:10;break;case 6:return i={backgroundEffectEnabled:!0,backgroundType:"blur",blurValue:r.blurValue,selectedThumbnail:"blur"},e.abrupt("break",11);case 8:return i={backgroundEffectEnabled:!0,backgroundType:"image",blurValue:void 0,selectedThumbnail:"5",virtualSource:r.url},e.abrupt("break",11);case 10:return e.abrupt("break",11);case 11:if(o=void 0,!i){e.next=16;break}return e.next=15,Hl(i);case 15:o=e.sent;case 16:return n.setEffect(o),e.abrupt("return",n);case 18:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Jl(o,r,i,a,s,"next",e)}function s(e){Jl(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),Wl=function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)},r.readAsDataURL(e)}))},Ql=function(e,t){try{var n=new XMLHttpRequest;n.onload=function(){var e=new FileReader;e.onloadend=function(){t(e.result)},e.readAsDataURL(n.response)},n.onerror=function(e){},n.open("GET",e),n.responseType="blob",n.send()}catch(e){}},Zl=function(e,t,n){var r=(new Date).valueOf();return e.collection("backgroundImages").doc("backgroundImages_".concat(r)).set({file:t,fileType:n,id:r}),r},$l=["architecture-5082700_1280","porch-691330_1280","saxon-switzerland-539418_1280","shibuyasky-4768679_1280"].map((function(e){return"https://cdn.cometchat.io/calls/v3/bg/".concat(e,".jpg")}));function Kl(e){return Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(e)}function Xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xl(Object(n),!0).forEach((function(t){eu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eu(e,t,n){return(t=function(e){var t=function(e){if("object"!==Kl(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==Kl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Kl(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tu(){tu=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new k(i||[]);return r(a,"_invoke",{value:S(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function h(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(T([])));g&&g!==t&&n.call(g,o)&&(m=g);var y=f.prototype=h.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,o,a,s){var c=u(e[r],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==Kl(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},_(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function nu(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function ru(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){nu(o,r,i,a,s,"next",e)}function s(e){nu(o,r,i,a,s,"throw",e)}a(void 0)}))}}function iu(e){return function(e){if(Array.isArray(e))return su(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||au(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ou(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||au(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function au(e,t){if(e){if("string"==typeof e)return su(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?su(e,t):void 0}}function su(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cu.apply(this,arguments)}var lu,uu,du,hu=e.forwardRef((function(t,n){return e.createElement(wr,cu({direction:"down",timeout:1e3,ref:n},t))})),pu=function(t){var n=t.showChangeModeButton,r=t.changeMode,o=t.mode,a=t.activeInputDevices,s=t.activeOutputDevices,c=t.changeAudioSourceClicked,l=t.changeVideoSourceClicked,u=t.changeAudioOutputDeviceClicked,d=t.audioOutPutDevices,h=t.audioDevices,p=t.videoDevices,f=t.activeVideoDevice,m=t.peopleClicked,v=t.localizedObject,g=t.onBackgroundEffectSelected,y=t.selectedBg,_=t.appliedBg,b=t.setSelectedBg,S=t.db,w=t.AllowBackgroundBlur,E=t.AllowUserImages,C=t.ShowDefaultImages,k=t.isBackgroundModelVisible,T=t.setIsBackgroundModalVisible,x=t.EnforceBackgroundImage,A=t.EnforceBackgroundBlur,R=t.ShowVirtualBackgroundSetting,I=t.SetImages,O=t.isAudioOnly,P=t.addedBackgroundImage,M=t.addedBackgroundBlur,N=t.setNoOfUsersPerPage,L=t.noOfUsersPerPage,D=tl(),j=ou((0,e.useState)([]),2),F=j[0],B=j[1],U=ou((0,e.useState)([]),2),H=U[0],V=U[1],q=ou((0,e.useState)({}),2),J=q[0],G=q[1],W=nl(),Q=ou(e.useState(!1),2),Z=Q[0],$=Q[1],K=ou(e.useState({}),2),X=K[0],Y=K[1],ee=ou(e.useState(!1),2),te=ee[0],ne=ee[1],re=ou(e.useState(null),2),ie=(re[0],re[1]),oe=ou(e.useState(!1),2),ae=oe[0],se=oe[1],ce=ou(e.useState(!1),2),le=ce[0],ue=ce[1],de=ou(e.useState(!1),2),he=de[0],pe=de[1],fe=ou(e.useState("DEFAULT"===o?"SIDEBAR":o),2),me=fe[0],ve=fe[1],ge=function(){ne(!1)},ye=P?[P]:[],_e=M?[{value:M,type:"blur"}]:[],be=x?[x]:[],Se=(0,e.useRef)(null),we=(0,e.useRef)(JitsiMeetJS.mediaDevices.isDeviceChangeAvailable("output")).current,Ee=(0,e.useRef)(JitsiMeetJS.mediaDevices.isDeviceChangeAvailable("input")).current;(0,e.useEffect)((function(){var e=window.document;e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?ie(!0):ie(!1)}),[]),(0,e.useEffect)((function(){C&&$l.forEach((function(e){Ql(e,(function(e){V((function(t){return[].concat(iu(t),[e])}))}))}))}),[]),(0,e.useEffect)((function(){S.collection("backgroundImages").get().then((function(e){var t;B(e?null==e||null===(t=e.map((function(e){return"custom"===e.fileType?{type:"customImage",imageUrl:e.file,id:e.id}:"default"===e.fileType?null:e.file})))||void 0===t?void 0:t.filter((function(e){return e})):[])}))}),[]);var Ce=function(e){Gl({track:X,option:e}),G(e),b(e.selectedIndex)},ke=function(){var e=ru(tu().mark((function e(){return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X.dispose){e.next=3;break}return e.next=3,X.dispose();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){b(_),T(!1),ke()};return e.createElement("div",null,e.createElement(dr,{id:"settingButton","data-testid":"cc-setting",ref:Se,component:"span",className:D.iconButtonStyle,onClick:function(e){e.stopPropagation(),ne(!te)}},e.createElement(Oc,{"aria-controls":"simple-menu","aria-haspopup":"true",fontSize:"medium",className:D.iconColor})),e.createElement(Pi,{"data-testid":"cc-setting-dialog",style:{zIndex:1e4},open:te,anchorEl:Se.current,role:void 0,transition:!0,disablePortal:!0,placement:"top-end"},(function(t){var r=t.TransitionProps;return e.createElement(wr,cu({},r,{style:{transformOrigin:"left-end"}}),e.createElement(Ec,{style:{backgroundColor:"#1e1e1e"}},e.createElement(z,{onClickAway:ge},e.createElement(ks,{autoFocusItem:te,id:"menu-list-grow",onKeyDown:ge},e.createElement(Wn,{only:"xs"},n?e.createElement(cc,{onClick:function(){se(!0),ge()}},e.createElement("div",{className:D.menuIconContainer},e.createElement(Uc,{className:D.iconColor,fontSize:"medium"})),e.createElement(pa,{style:{color:"#fff"},variant:"inherit"},v.CHANGE_LAYOUT)):null),!/iPad|iPhone|iPod/.test(navigator.userAgent)&&e.createElement(cc,{"data-testid":"cc-audioSettingButton",onClick:function(){ue(!0),ge()}},e.createElement("div",{className:D.menuIconContainer},e.createElement(Gc,{className:D.iconColor,stroke:"#fff"})),e.createElement(pa,{style:{color:"#fff"},variant:"inherit"},v.AUDIO_SETTING)),!O&&R&&e.createElement(Vi,{title:window.chrome?"":"This feature is only supported in Chrome",placement:"left",arrow:!0},e.createElement(cc,{id:"vbDilogButton",onClick:function(){window.chrome&&(T(!0),ge())}},e.createElement("div",{className:D.menuIconContainer,style:{width:25}},e.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAFYElEQVR4nO2bW4hVVRjHf9/JWzNSmqHdjMpLFEVBET2Emna1mIR6yWwejISeRCzJohcxyS6OGVRmzoNJvQYVYTqaWRhdpAi7yUxRmk5JI2mlNtO/h7X2nHVOnpmz5+zLyc4PNqz9nbXX+ta3v3X71j7QoEGDBg3+v1i5QFIzcAMwCRieuUbpcBzoBLaY2R8nzCHJJD0k6ZBOXnokLZbU/+LNN74AbATuzuBt1AOvAvPMTMO8YDGlje8EOoCerDVLibHALFy3BpgLfAqsQlKzSt1+naSRuamaEpJGSlpf1h2akNQSCPecjI2P8EboDNp7ewGYGuTZYmbH8lIwbXzbtgSiqQVgdCDozlalXNgfpE8r5KZGnTBs8CyVkTQBuB44x4t+Araa2c+1KpYVQzKApCuAFcAtQLkX/S3pbeBRM/u8Rv1SJ3YXkLQA+BiYXeH5AnAb8ImkhbWplz6xPEDSA8Dzgeg4sBXY7e8vw3WJEb7s1ZKOmtnaBHRNhaoN4N3+2UC0DZhvZt+X5bsQaAdmeNEaSe+b2W7qkDhdYDnF3eE24ObyxgOY2XfATcB2LxoBLKtFyTSpygCSzgRu9bfHcW/+r0r5/W/zgShPi6QxtSiaFtV6wDTgFJ/uONGbL8fMunDjA7iuNi2+eulTrQEmBunPYpQfToMTK+bKkWoNoCD9ryhSwnVlSrVK7Q3SV8YoP8y7t2KuHKnWAO8BfT490091AyJpEm5NgH92R3z10qcqA5jZQWCTvx0BtEuqGDD1v7VTnDY3+TLqjjj98jGg16dnAJv9Wy5B0mTcnjsa9Xv9s3VJ1StBM9slaQmwyoumA19Jehf4Ajc4Xu7loXcsMbNdCembOLH2AmbW5t17BW5dMBy40V/l9AFLzaytZi0HQNLpwNGhRrJib4fN7ElJO4AnqLy42Q48bGYfDkWpEN+lrgKmABcDFwHjcZHesfhuLPXP1MeAg/76BRej2BNczWH5Q4oHmNlOYLqfDWZSXOT8gAuIDLpSrIRfMs/B7SemUwy2VMtI4Fx/DUpNESG/8VlfSxnQfzAzB2jFBVniRqYP47rjqLhV12SAWvEh+FbgQUqj0yHdwC5/fQ38iHPrA2Z2uKw8A8YATcBZOC84HzgPuAQ3SF+AG7AF7MzNAJJagDZcnw7pxS2a3gLeMLNvqy3TzIQ7zeoB9uFOf8rrHQ1cChwxsy8zN4CkicBaitvriP3AOuAlM9uXVv1mdgT4KLrP1ACSZgMbgHGB+AAuYPLyQDGGtMhkhyZ39L4MeJNi43uBx4EpZvZCHo2HDDzAD0xtQBgh7gJazeyDtOsfjFQN4Ke3DcA9gfh13Nn872nWXS1pd4GnKW38GuCuemk8pGgAf4awKBCtNLOFZtZX6Zks8N9DrPZXcypdQNK1uLcd0Q4sTaOuIXAfxfGoM3EPkPvK7BWK40sHsMAvUuqBM4L0uDS6wDPAZJ/uxg14ubr9QCRqAElXA/dHt7ip7kCSdSRN0h6wMijzNTN7J+HyEycxA0i6AxcbADgCLEmq7DRJ0gMeCdJPpbmhSZJEDCDpOuAaf3sYeC6JcrMgKQ8IFzwvmtl/5gvTAu6NRZwdtwBJ44EWf9tH6QKoHgnb+FsBCCMus4bwpeidFBc9W82sLs8AASSNojSE/w2Smvx3sxHr4xhB0vbg2XuTVzsZJI2S1B7o+qukU6PP5Rfjdm4RXbjjra5Byh2Gi+ZEY8ly3BRYb0zC/QkkPNRdZGarIwMY7v8Cc3NQLg824lapKkB/NHUe7n8Dh/LULGV6cDNWa7Q5O9F/hppwfy6YDEzIVL306MYdi3WY2Z95K9OgQYMGdcM/lejsX8rj5SEAAAAASUVORK5CYII=",alt:"hello",style:{height:25,width:23}})),e.createElement(pa,{style:{color:"#fff"},variant:"inherit"},v.VIRTUAL_BACKGROUND),!window.chrome&&e.createElement(to.Z,{style:{aspectRatio:1,height:15,width:30,color:"red",alignSelf:"center"}}))),!O&&e.createElement(cc,{"data-testid":"cc-videoSettingButton",onClick:function(){pe(!0),ge()}},e.createElement("div",{className:D.menuIconContainer},e.createElement(Xc,{className:D.iconColor,stroke:"#fff"})),e.createElement(pa,{style:{color:"#fff"},variant:"inherit"},v.VIDEO_SETTING)),e.createElement(Wn,{smUp:!0},e.createElement(cc,{onClick:function(){ge(),m()}},e.createElement("div",{className:D.menuIconContainer},e.createElement(gr,{style:{color:"#fff"},fontSize:"medium"})),e.createElement(pa,{style:{color:"#fff"},variant:"inherit"},v.USER_LIST)))))))})),e.createElement(ua,{classes:{scrollPaper:D.scrollPaper,paperScrollPaper:D.paperScrollPaper},fullWidth:!0,BackdropProps:{style:{backgroundColor:"rgba(0,0,0,0.8)"}},TransitionComponent:hu,"aria-labelledby":"draggable-dialog-title",onClose:function(){se(!1)},open:ae,container:document.getElementById("cc-container")},e.createElement(dr,{"data-testid":"cc-close-layout",className:D.closeIcon,component:"span",onClick:function(e){e.stopPropagation(),se(!1)},size:"small"},e.createElement(al,{className:D.whiteColor,fontSize:"small"})),e.createElement("div",{style:{paddingRight:16,paddingLeft:16,paddingTop:16,display:"flex",flexDirection:"row",justifyContent:"space-between"}},e.createElement(pa,{className:D.whiteColor,variant:"h4"},v.SELECT_LAYOUT_HEADER)),e.createElement(ba,{className:D.layoutDilogFormControl,component:"fieldset"},e.createElement(ka,{"aria-label":"Layout",value:me,onChange:function(e){ve(e.target.value),r(e.target.value)}},e.createElement(Aa,{value:"TILE",control:e.createElement(Fa,{className:D.whiteColor,color:"primary"}),label:v.TILE_MODE,className:D.whiteColor}),"TILE"===me?e.createElement(e.Fragment,null,e.createElement(pa,{className:D.whiteColor,id:"discrete-slider-always",gutterBottom:!0},v.NO_OF_USER_IN_PAGINATED_TEXT),e.createElement(Ka,{classes:{markLabel:D.markLabel,root:D.PaginatedRoot,markActive:D.markActive},getAriaValueText:function(e){return(8*(e%20+1)).toString()},defaultValue:50*(L-2),onChange:function(e,t){N(t/50+2)},"aria-labelledby":"discrete-slider-always",step:50,marks:[{value:0,label:"4"},{value:50,label:"9"},{value:100,label:"16"}],color:"primary",style:{marginLeft:4}})):null,e.createElement(Aa,{value:"SPOTLIGHT",control:e.createElement(Fa,{className:D.whiteColor,color:"primary"}),label:v.SPOTLIGHT_MODE,className:D.whiteColor}),e.createElement(Aa,{value:"SIDEBAR",className:D.whiteColor,control:e.createElement(Fa,{className:D.whiteColor,color:"primary"}),label:v.SIDEBAR_MODE})))),e.createElement(ua,{open:le,onClose:function(){ue(!1)},classes:{scrollPaper:D.scrollPaper,paperScrollPaper:D.paperScrollPaper},fullWidth:!0,BackdropProps:{style:{backgroundColor:"rgba(0,0,0,0.8)"}},TransitionComponent:hu,"aria-labelledby":"form-dialog-title",container:document.getElementById("cc-container")},e.createElement("div",{style:{paddingRight:16,paddingLeft:16,paddingTop:16,display:"flex",flexDirection:"row",justifyContent:"space-between"}},e.createElement(pa,{className:D.whiteColor,variant:"h4"},v.CHANGE_AUDIO_SOURCE),e.createElement(dr,{className:D.closeIcon,component:"span",onClick:function(e){e.stopPropagation(),ue(!1)},size:"small"},e.createElement(al,{className:D.whiteColor,fontSize:"small"}))),e.createElement(Ya,{style:{paddingTop:0,paddingLeft:16}},e.createElement(ts,{className:D.whiteColor},v.CHANGE_AUDIO_SOURCE_DESC),Ee&&e.createElement(ba,{className:D.audioDilogFormControl,variant:"outlined",focused:!0},e.createElement(as,{className:D.whiteColor,id:"demo-simple-select-standard-label1"},v.AUDIO_INPUT_DEVICE_LABEL),e.createElement(rc,{classes:{icon:D.whiteColor},MenuProps:{classes:{paper:D.dropDownList}},disabled:!h.length,error:h.length?null:v.NO_AUDIO_DEVICE_AVAILABLE,className:D.dropDownStyle,labelId:"demo-simple-select-standard-label1",id:"demo-simple-select-standard","data-testid":"cc-audioSettingInput",value:a,label:v.AUDIO_INPUT_DEVICE_LABEL,onChange:function(e){c(e.target.value)}},h.map((function(t,n){return e.createElement(cc,{className:D.whiteColor,key:t.deviceId,value:t.deviceId,"data-testid":"cc-audioSettingInputDeviceMenu".concat(n)},t.label)}))),e.createElement(uc,{error:!0},h.length?"":v.NO_AUDIO_DEVICE_AVAILABLE)),we&&e.createElement(ba,{className:D.audioDilogFormControl,variant:"outlined",focused:!0},e.createElement(as,{className:D.whiteColor,id:"demo-simple-select-filled-label2"},v.AUDIO_OUTPUT_DEVICE_LABEL),e.createElement(rc,{classes:{icon:D.whiteColor,focused:D.whiteColor},MenuProps:{classes:{paper:D.dropDownList}},className:D.dropDownStyle,error:d.length?null:v.NO_AUDIO_DEVICE_AVAILABLE,disabled:!d.length,labelId:"demo-simple-select-filled-label2",id:"demo-simple-select-filled","data-testid":"cc-audioSettingOutput",value:s,label:v.AUDIO_OUTPUT_DEVICE_LABEL,onChange:function(e){u(e.target.value)}},d.map((function(t,n){return e.createElement(cc,{className:D.whiteColor,key:t.deviceId,value:t.deviceId,"data-testid":"cc-audioSettingOutputDeviceMenu".concat(n)},t.label)}))),e.createElement(uc,{error:!0},d.length?"":v.NO_AUDIO_DEVICE_AVAILABLE)))),function(){var t,n,r,i,o=(0,e.useRef)({}),a=ou((0,e.useState)({}),2),s=a[0],c=a[1],u=ou((0,e.useState)([]),2),d=u[0],h=u[1],m=ou((0,e.useState)(f),2),g=m[0],y=m[1],_=(n=(t=navigator).maxTouchPoints,r=t.platform,!!(i=t.userAgent).match(/Android/i)||!!(i.match(/iP(ad|hone|od)/i)||n&&n>2&&/MacIntel/.test(r))||!!i.match(/iP(ad)/i)),b=function(){var e=ru(tu().mark((function e(t){var n;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sm({devices:["video"],facingMode:"user",cameraDeviceId:t||f});case 2:return n=e.sent,e.abrupt("return",n[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){d.forEach((function(e){e.dispose(),c((function(t){return Yl(Yl({},t),{},eu({},e.deviceId,!0))}))}))};(0,e.useEffect)((function(){if(!_){if(he){var e=[];p.forEach((function(t){e.push(b(t.deviceId)),o.current=Yl(Yl({},o.current),{},eu({},t.deviceId,t.label)),c((function(e){return Yl(Yl({},e),{},eu({},t.deviceId,!0))}))})),Promise.allSettled(e).then((function(e){var t,n=null===(t=e.map((function(e){return"fulfilled"===e.status?e.value:null})))||void 0===t?void 0:t.filter((function(e){return e}));h(n)}))}return S()}}),[he,_]);var w=function(t){return _?e.createElement(gc,{item:!0,xs:12,key:t.deviceId,style:{cursor:"pointer"},onClick:function(){return y(t.deviceId)}},e.createElement("div",{className:"grid-box ".concat(t.deviceId===g?"show-border":""),style:{padding:12,borderRadius:8,display:"flex",alignItems:"center",background:"#1c2226",justifyContent:"space-between"}},e.createElement(pa,{style:{color:"#fff",fontSize:14}},t.label),t.deviceId===g&&e.createElement(pa,{style:{color:"#4cafef",fontSize:12}},v.SELECTED||"Selected"))):e.createElement(gc,{item:!0,md:1===d.length?12:6,xs:12,key:t.id,style:{cursor:"pointer",minHeight:170,alignItems:"center",justifyContent:"center"},className:"grid-box ".concat(t.deviceId===g?"show-border":""),onClick:function(){return y(t.deviceId)}},e.createElement("div",{style:{position:"absolute",minHeight:160,width:"95%",height:"94%",backgroundColor:s[t.deviceId]?"#1c2226":"transparent",borderRadius:8,zIndex:99,display:"flex",justifyContent:"center",alignItems:"flex-end",color:"#fff",paddingBottom:5}},e.createElement("div",{style:{backgroundColor:"#31383e",padding:"1px 6px",borderRadius:"5px"}},e.createElement("p",null,o.current[t.deviceId]))),e.createElement(yl,{onplay:function(){c((function(e){return Yl(Yl({},e),{},eu({},t.deviceId,!1))}))},streamManager:t,type:"video",style:{maxHeight:"45vh",objectFit:"contain",borderRadius:6},flipped:!0}))};return e.createElement(ua,{open:he,onClose:function(){S(),pe(!1)},"aria-labelledby":"form-dialog-title",classes:{scrollPaper:D.scrollPaper,paperScrollPaper:D.paperScrollPaper},fullWidth:!0,BackdropProps:{style:{backgroundColor:"rgba(0,0,0,0.8)"}},TransitionComponent:hu,container:document.getElementById("cc-container")},e.createElement("div",{style:{paddingRight:16,paddingLeft:16,paddingTop:16,display:"flex",flexDirection:"row",justifyContent:"space-between"}},e.createElement(pa,{className:D.whiteColor,variant:"h4"},v.CHANGE_VIDEO_SOURCE),e.createElement(dr,{className:D.closeIcon,component:"span",onClick:function(e){e.stopPropagation(),S(),pe(!1)},size:"small"},e.createElement(al,{className:D.whiteColor,fontSize:"small"}))),e.createElement(Ya,{style:{paddingTop:0,paddingLeft:16,minHeight:200}},e.createElement(ts,{className:D.whiteColor},v.CHANGE_VIDEO_SOURCE_DESC),e.createElement(gc,{container:!0,spacing:2,"data-testid":"cc-videoDeviceContainer"},_?p.map((function(e){return w(e)})):d.map((function(e){return w(e)})))),e.createElement(_c,null,e.createElement(Sc,{className:D.whiteColor,style:{textTransform:"none",outline:"none"},onClick:function(){S(),pe(!1)}},v.CANCEL),e.createElement(Sc,{id:"vbApplyButton",color:"primary",style:{textTransform:"none",outline:"none"},autoFocus:!0,onClick:function(){S(),l(g),pe(!1)}},v.SELECT)))}(),((0,e.useEffect)((function(){return k&&(bm({devices:["video"],facingMode:"user"}).then((function(e){!function(e){try{e.forEach(function(){var t=ru(tu().mark((function t(n,r){return tu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("video"!==e[r].getType()){t.next=5;break}if(0===_){t.next=4;break}return t.next=4,Gl({track:e[r],option:1===ye.length?{type:"img",url:ye[0]}:1===_e.length?{type:"blur",blurValue:_e[0].value}:""!==x&&"string"==typeof x?{type:"img",url:x}:1===A||2===A?{type:"blur",blurValue:1===A?6:15}:J});case 4:Y(e[r]);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}catch(e){}}(e)})),Z||Bl().then((function(){$(!0)}))),function(){ke()}}),[k]),e.createElement(ua,{"data-testid":"cc-virtual-bg-dialog",open:k,onClose:Te,maxWidth:"sm","aria-labelledby":"form-dialog-title",classes:{scrollPaper:W.scrollPaper,paperScrollPaper:W.paperScrollPaper},fullWidth:!0,BackdropProps:{style:{backgroundColor:"rgba(0,0,0,0.8)"}},TransitionComponent:hu,container:document.getElementById("cc-container")},e.createElement(yl,{streamManager:X,type:"video",style:{maxHeight:"45vh",objectFit:"contain"},flipped:!0}),e.createElement("div",{className:W.upperContainer,style:{paddingBottom:10}},e.createElement(pa,{className:W.whiteColor,variant:Z?"h4":"p"},Z?v.CHOOSE_BACKGROUND:v.DOWNLOADING_REQUIRED_FILES),E&&Z&&e.createElement(e.Fragment,null,e.createElement("input",{accept:"image/png, image/jpeg",style:{display:"none"},id:"contained-button-file",type:"file",onChange:function(){var e=ru(tu().mark((function e(t){var n,r,i;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.target.files&&(!t.target.files||t.target.files[0])){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Wl(t.target.files[0]);case 4:n=e.sent,r=Zl(S,n,"custom",F.length),B((function(e){return[].concat(iu(e),[{type:"customImage",imageUrl:n,id:r}])})),i=[].concat(iu(H),iu(I),be,ye,_e,iu(F)).filter((function(e){return""!==e||"string"==typeof e})).length+3,Ce({type:"img",url:n,selectedIndex:i});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),e.createElement("label",{htmlFor:"contained-button-file"},e.createElement(Sc,{color:"primary",style:{textTransform:"none"},component:"span"},v.ADD," ",e.createElement(kc.Z,{style:{marginLeft:5}})))),e.createElement(dr,{className:W.closeIcon,component:"span",onClick:function(e){e.stopPropagation(),Te()},size:"small"},e.createElement(al,{className:W.whiteColor,fontSize:"small"}))),Z&&e.createElement(e.Fragment,null,e.createElement(Ya,{className:W.dilogContent},e.createElement(gc,{container:!0,spacing:2},e.createElement(gc,{item:!0,md:4,xs:6},e.createElement(Sc,{id:"vbImageButton0",className:W.buttonContainer,onClick:function(){Ce({type:"none",selectedIndex:0})}},e.createElement("div",{className:(0,i.Z)(W.noneContainer,0===y?W.active:{})},e.createElement(pa,{className:W.noneFont,variant:"body1"},v.NONE)))),w&&e.createElement(e.Fragment,null,e.createElement(gc,{item:!0,md:4,xs:6},e.createElement(Sc,{id:"vbImageButton1",className:W.buttonContainer,onClick:function(){Ce({type:"blur",blurValue:6,selectedIndex:1})}},e.createElement("div",{className:(0,i.Z)(W.blurContainer,1===y?W.active:{})},e.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUGVYSWZNTQAqAAAACAACARIAAwAAAAEAAQAAh2kABAAAAAEAAAAmAAAAAAADoAEAAwAAAAEAAQAAoAIABAAAAAEAAABgoAMABAAAAAEAAABgAAAAALvucVAAAAIwaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA2LjAuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj45NjwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+MTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+OTY8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KOkNGDwAAA3lJREFUeAHtm0uO1TAQRVsMYBHsALEjtgCsA7bRwFb4jGDEDnhvjGBKg69ESZHlJHZ1JbE7x5LlxKmUy6fS+fj2u7mhQAACEIAABCAAAQhAAAIQgAAEIAABCECgbwKPU3hvU72k+iPVN6mqj7ITAQH/m1X1UXYioCs/T8B1p7FDh3kU6m0/Z4Kflz95xwj7oybgXQFuqa9gRlcEAT1wdc/XA5iHcARRfEAAAhCAAAQgAAEIrBB4ko6/TvVzqr//V22/SlXHKBsSeJp8f0s1X4aw/a/pmGwoGxDQ1b0Ef5oE/hI2SIBuOwZ5rX25wfgPxqWWETxr+V8aEvCpgpY3jgrXfZtoDSe/gtW3Vn4lg/y8uX3ZrhVvHGt+uz/uXctvScDPCgreOCpc15scsRytqzYvd3lHYf97oW+uq8bWG8fcmK7+IxJQWre/rYj+fYWNmXywjYXWG8eCyzEO6eGn+2/rWr5eLfWeP3fft37ZaIy14o1jze+DPq6PrKUk8CG2Q/p15eo9X6+aejCrfkxVfTVXfjKjQAACEIAABCAAAQich4A+pCKUrN78DJHBKCWrNz9DwNcVG6Fk9ebnMPj62mwRVKKUrN78tHIIS1irkBGlZPXmp5VDWAIuyZOtPFp7XfDeIqTIdq705qeVQ3FeHj1A0PMS9eOIGmEmH7u0v4efEA6eBJSEjFKfgalRp2pse/NTmnOpz+YW1urh0yKo6D/W7Fa11i79O0lvflo5hCWg1ZFeH5dEFEvKmpLVm59WDofaRylZvfk5FGrr4PqTjVCyevPTygF7CEAAAhCAAAQgAIEhCeiDLEJZG3LyEUHrPb5FT5iOGaWIyed94pjGNNy2dx1dV36EsmbAvHHY+cO2lxS5rf9Ye62YTZQiZkN547DzQ1rPcvR9Bxb0vNSs37/IT1rYr7H1xrEwbPuhIxJQWjO/rQj9WYWNmTy3jYXWG8eCyzEO6eHXoifYrFokyZrfiHnjsHhO10aJ8l2BO+IW5AUQ/RsxbxynPS9KETstwIiJRyliEbGc1ocenhHK2mkBMnEIQAACEIAABCAAAS8BvYp6RR3vmJw3IXBaMWXC4NDNSxrdxBxra0SdQ4MuDT7SYtw0/pKYEvUjkek4m2+PmoCSmFLq2xzgWQdATDlr5pk3BCAAAQhAAAIQgAAEIAABCEAAAhAYmMA/dsBd9S963/oAAAAASUVORK5CYII=","data-testid":"cc-vb-blur-low",alt:"",className:W.image,style:{objectFit:"contain"}})))),e.createElement(gc,{item:!0,md:4,xs:6},e.createElement(Sc,{id:"vbImageButton2","data-testid":"cc-vb-blur-high",className:W.buttonContainer,onClick:function(){Ce({type:"blur",blurValue:15,selectedIndex:2})}},e.createElement("div",{className:(0,i.Z)(W.blurContainer,2===y?W.active:{})},e.createElement("img",{src:Yc,alt:"",className:W.image,style:{objectFit:"contain"}}))))),[].concat(iu(H),iu(I),be,ye,_e,iu(F)).map((function(t,n){return""===t||"string"!=typeof t&&"customImage"!==t.type?"blur"===(null==t?void 0:t.type)?e.createElement(gc,{item:!0,md:4,key:n,xs:6},e.createElement(Sc,{id:"vbImageButton".concat(n+3),className:W.buttonContainer,onClick:function(){Ce({type:"blur",blurValue:null==t?void 0:t.value,selectedIndex:n+3})}},e.createElement("div",{className:(0,i.Z)(W.blurContainer,y===n+3?W.active:{})},e.createElement("img",{src:Yc,alt:"",className:W.image,style:{objectFit:"contain"}})))):void 0:e.createElement(gc,{item:!0,md:4,key:n,xs:6},e.createElement("div",{style:{position:"relative"}},"string"!=typeof t&&"customImage"===t.type&&e.createElement(dr,{style:{backgroundColor:"#fff",position:"absolute",top:-10,right:0,cursor:"pointer",padding:0,zIndex:1},onClick:function(){!function(e,t){if(function(e,t){e.collection("backgroundImages").doc("backgroundImages_".concat(t)).delete()}(S,e),B((function(t){return t.filter((function(t){return t.id!==e}))})),0!==y&&t<y){var n=[].concat(iu(H),iu(I),be,ye,_e).filter((function(e){return""!==e||"string"==typeof e})).length+3;n<=t&&b(y-1)}t===_?(Ce({type:"none",selectedIndex:0}),g({type:"none",selectedIndex:0})):t===y&&Ce({type:"none",selectedIndex:0})}(t.id,n+3)}},e.createElement(Cc.Z,{style:{color:"red",fontSize:20}})),e.createElement(Sc,{id:"vbImageButton".concat(n+3),className:W.buttonContainer,onClick:function(){Ce({type:"img",url:"string"!=typeof t&&"customImage"===t.type?t.imageUrl:t,selectedIndex:n+3})}},e.createElement("div",{className:(0,i.Z)(W.imgContainer,y===n+3?W.active:{})},e.createElement("img",{src:"string"!=typeof t&&"customImage"===t.type?t.imageUrl:t,alt:"",className:W.image})))))})))),e.createElement(_c,null,e.createElement(Sc,{className:D.whiteColor,style:{textTransform:"none"},onClick:Te},v.CANCEL),e.createElement(Sc,{id:"vbApplyButton",color:"primary",style:{textTransform:"none"},autoFocus:!0,onClick:function(){g(J),T(!1),ke()}},v.APPLY))))))},fu=pu;pu.defaultProps={showFullScreen:!1,showChangeModeButton:!1,changeMode:function(){},mode:"SIDEBAR",activeInputDevices:"",activeOutputDevices:"",changeAudioSourceClicked:function(){},changeVideoSourceClicked:function(){},changeAudioOutputDeviceClicked:function(){},audioOutPutDevices:[],audioDevices:[],videoDevices:[],activeVideoDevice:"",peopleClicked:function(){},setNoOfUsersInTile:function(){},noOfUsersInTile:4,localizedObject:{}},pu.propTypes={showFullScreen:Dn().bool,showChangeModeButton:Dn().bool,changeMode:Dn().func,mode:Dn().string,activeInputDevices:Dn().string,activeOutputDevices:Dn().string,changeAudioSourceClicked:Dn().func,changeVideoSourceClicked:Dn().func,changeAudioOutputDeviceClicked:Dn().func,audioOutPutDevices:Dn().arrayOf(Dn().object),audioDevices:Dn().arrayOf(Dn().object),videoDevices:Dn().arrayOf(Dn().object),activeVideoDevice:Dn().string,peopleClicked:Dn().func,setNoOfUsersInTile:Dn().func,noOfUsersInTile:Dn().number,localizedObject:Dn().object};var mu=["title","titleId"];function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vu.apply(this,arguments)}function gu(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,mu);return e.createElement("svg",vu({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,lu||(lu=e.createElement("path",{d:"M15.2352 5.15674H4.01948C3.543 5.15674 3.15674 5.543 3.15674 6.01948V15.5097C3.15674 15.9862 3.543 16.3724 4.01948 16.3724H15.2352C15.7117 16.3724 16.0979 15.9862 16.0979 15.5097V6.01948C16.0979 5.543 15.7117 5.15674 15.2352 5.15674Z",fill:"white",stroke:"white",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),uu||(uu=e.createElement("path",{d:"M23.0002 14.701C23.0002 15.0726 22.609 15.3144 22.2766 15.1482L18.1001 13.0599C17.9307 12.9752 17.8237 12.8021 17.8237 12.6127V8.91703C17.8237 8.72764 17.9307 8.55451 18.1001 8.46981L22.2766 6.38158C22.609 6.21535 23.0002 6.4571 23.0002 6.82879V14.701Z",fill:"white",stroke:"white",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),du||(du=e.createElement("line",{x1:1.46072,y1:2.57767,x2:17.6781,y2:20.2694,stroke:"white",strokeWidth:1.25})))}var yu,_u,bu=e.forwardRef(gu),Su=(n.p,["title","titleId"]);function wu(){return wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wu.apply(this,arguments)}function Eu(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,Su);return e.createElement("svg",wu({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,yu||(yu=e.createElement("path",{d:"M14.3913 6H1.95652C1.42825 6 1 6.42825 1 6.95652V17.4783C1 18.0065 1.42825 18.4348 1.95652 18.4348H14.3913C14.9196 18.4348 15.3478 18.0065 15.3478 17.4783V6.95652C15.3478 6.42825 14.9196 6 14.3913 6Z",fill:"white",stroke:"white",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),_u||(_u=e.createElement("path",{d:"M22.9999 16.6693C22.9999 17.041 22.6087 17.2827 22.2763 17.1165L17.5371 14.7469C17.3677 14.6622 17.2607 14.4891 17.2607 14.2997V10.1351C17.2607 9.94574 17.3677 9.77261 17.5371 9.68791L22.2763 7.31835C22.6087 7.15212 22.9999 7.39387 22.9999 7.76556V16.6693Z",fill:"white",stroke:"white",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})))}var Cu=e.forwardRef(Eu),ku=(n.p,n(3788)),Tu=function(t){return t.isAudioOnly&&2!=t.usersLength?null:t.isVisible?e.createElement(Vi,{disableHoverListener:t.noTrack,title:t.isMuted?t.localizedObject.UN_MUTE_VIDEO_TEXT:t.isAudioOnly?t.localizedObject.SWITCH_TO_VIDEO_CALL:t.localizedObject.MUTE_VIDEO_TEXT,arrow:!0},e.createElement(dr,{id:"videoButton","data-testid":"cc-video",size:"small",component:"span",className:"bottom-buttons-icon-button",onClick:St()((function(e){e.stopPropagation(),t.onPress()}),500)},e.createElement("div",{"data-testid":"videoButtonIconContainer",className:"cc-bottom-buttons-icon-container ".concat(t.isAudioOnly?"cc-switch-video-icon-container":t.isMuted?"cc-video-icon-container-muted":"cc-video-icon-container")},t.isAudioOnly?e.createElement(ku.Z,{fontSize:"medium",className:"bottom-buttons-icon-color","data-testid":"cc-video-switch"}):t.isMuted?e.createElement(bu,{fontSize:"medium",className:"bottom-buttons-icon-color","data-testid":"cc-video-off"}):e.createElement(Cu,{fontSize:"medium",className:"bottom-buttons-icon-color","data-testid":"cc-video-on"})),t.noTrack?e.createElement(Vi,{title:t.localizedObject.CAMERA_ERROR_MSG,arrow:!0},e.createElement("div",{className:"track-error-container"},e.createElement(to.Z,{style:{aspectRatio:1,height:16,width:16,color:"#fff"}}))):null)):null};Tu.defaultProps={isMuted:!0,onPress:function(){},isVisible:!1,localizedObject:{},noTrack:!1},Tu.propTypes={isMuted:Dn().bool,isVisible:Dn().bool,localizedObject:Dn().object,noTrack:Dn().bool,onPress:Dn().func};var xu=Tu,Au=(n(5335),{get:function(e,t){return"isPresenter"===t?e.mode===_t?!!e.isPresenter:void 0:Reflect.get.apply(Reflect,arguments)}}),Ru=new Proxy({mode:"SIDEBAR",isPresenter:!1},Au),Iu=function(t){return e.createElement("div",{className:"".concat("SIDEBAR"===t.mode?"cc-bottom-buttons-with-padding":"cc-bottom-buttons"," cc-bottom-buttons-container"),"data-testid":"cc-bottom-bar"},t.showButtons?e.createElement(e.Fragment,null,!1!==Ru.isPresenter&&e.createElement(io,{isVisible:t.showAudioMuteButton,isMuted:Boolean(t.user.isAudioMuted||!t.user.audioTrack),onPress:t.toggleAudioButton,localizedObject:t.localizedObject,noTrack:!t.user.audioTrack}),!1!==Ru.isPresenter&&e.createElement(e.Fragment,null,t.isAudioOnly?e.createElement(xu,{isVisible:t.showVideoPauseButton,isMuted:!1,localizedObject:t.localizedObject,onPress:t.toggleVideoButton,noTrack:!1,isAudioOnly:t.isAudioOnly,usersLength:t.usersLength-t.isAnyScreenShareUser.length}):e.createElement(xu,{isVisible:t.showVideoPauseButton,isMuted:t.presenterTrack?Boolean(t.isPresenterTrackMuted):Boolean(t.user.isVideoMuted||!t.user.videoTrack),localizedObject:t.localizedObject,onPress:t.toggleVideoButton,noTrack:!t.user.videoTrack})),!1!==Ru.isPresenter&&e.createElement(Fo,{isOn:t.isScreenShareOn,isVisible:t.showScreenShareButton,localizedObject:t.localizedObject,onPress:t.onScreenShareClicked}),!1!==Ru.isPresenter&&e.createElement(ko,{isOn:t.isRecording,isVisible:t.showRecordingButton,onPress:t.recordingClicked,localizedObject:t.localizedObject}),e.createElement(ho,{onPress:t.onEndCallButtonCLicked,isVisible:t.showEndCallButton,localizedObject:t.localizedObject})):null,e.createElement("div",{className:"bottom-buttons-other-options"},!1!==Ru.isPresenter&&e.createElement(fu,{setNoOfUsersPerPage:t.setNoOfUsersPerPage,noOfUsersPerPage:t.noOfUsersPerPage,isAudioOnly:t.isAudioOnly,localizedObject:t.localizedObject,noOfUsersInTile:t.noOfUsersInTile,setNoOfUsersInTile:t.setNoOfUsersInTile,showFullScreen:t.showFullScreen,showChangeModeButton:t.showChangeModeButton,changeMode:t.changeMode,mode:t.mode,activeInputDevices:t.activeInputDevices,activeOutputDevices:t.activeOutputDevices,changeAudioSourceClicked:t.changeAudioSourceClicked,changeVideoSourceClicked:t.changeVideoSourceClicked,changeAudioOutputDeviceClicked:t.changeAudioOutputDeviceClicked,audioOutPutDevices:t.audioOutPutDevices,audioDevices:t.audioDevices,videoDevices:t.videoDevices,peopleClicked:t.peopleClicked,activeVideoDevice:t.user&&t.user.videoTrack?t.user.videoTrack.deviceId:"",onBackgroundEffectSelected:t.onBackgroundEffectSelected,selectedBg:t.selectedBg,appliedBg:t.appliedBg,SetImages:t.SetImages,localVideoTrack:t.localVideoTrack,setSelectedBg:t.setSelectedBg,db:t.db,AllowBackgroundBlur:t.AllowBackgroundBlur,AllowUserImages:t.AllowUserImages,ShowDefaultImages:t.ShowDefaultImages,isBackgroundModelVisible:t.isBackgroundModelVisible,setIsBackgroundModalVisible:t.setIsBackgroundModalVisible,EnforceBackgroundImage:t.EnforceBackgroundImage,ShowVirtualBackgroundSetting:t.ShowVirtualBackgroundSetting,EnforceBackgroundBlur:t.EnforceBackgroundBlur,addedBackgroundImage:t.addedBackgroundImage,addedBackgroundBlur:t.addedBackgroundBlur}),e.createElement(Wn,{xsDown:!0},e.createElement(dr,{"data-testid":"cc-userlist-button",component:"span",className:"bottom-buttons-icon-button",style:{cursor:!1===Ru.isPresenter?"auto":"pointer"},onClick:function(e){e.stopPropagation(),!1!==Ru.isPresenter&&t.peopleClicked()}},e.createElement(pr,{badgeContent:t.usersLength,color:"primary",max:999},e.createElement(gr,{className:"bottom-buttons-icon-color"}))))))};Iu.defaultProps={isScreenShareOn:!1,showAudioMuteButton:!1,showVideoPauseButton:!1,user:{},toggleAudioButton:function(){},toggleVideoButton:function(){},showScreenShareButton:!1,onScreenShareClicked:function(){},isRecording:!1,showRecordingButton:!1,recordingClicked:function(){},onEndCallButtonCLicked:function(){},showFullScreen:!1,showChangeModeButton:!1,changeMode:function(){},mode:"SIDEBAR",activeInputDevices:"",activeOutputDevices:"",changeAudioSourceClicked:function(){},changeVideoSourceClicked:function(){},changeAudioOutputDeviceClicked:function(){},audioOutPutDevices:[],audioDevices:[],videoDevices:[],peopleClicked:function(){},noOfUsersInTile:4,setNoOfUsersInTile:Dn().func,usersLength:0,localizedObject:gt,showEndCallButton:!0,showButtons:!0},Iu.propTypes={showAudioMuteButton:Dn().bool,user:Dn().object,toggleAudioButton:Dn().func,toggleVideoButton:Dn().func,showVideoPauseButton:Dn().bool,isScreenShareOn:Dn().bool,showScreenShareButton:Dn().bool,onScreenShareClicked:Dn().func,isRecording:Dn().bool,showRecordingButton:Dn().bool,recordingClicked:Dn().func,onEndCallButtonCLicked:Dn().func,showFullScreen:Dn().bool,showChangeModeButton:Dn().bool,changeMode:Dn().func,mode:Dn().string,activeInputDevices:Dn().string,activeOutputDevices:Dn().string,changeAudioSourceClicked:Dn().func,changeVideoSourceClicked:Dn().func,changeAudioOutputDeviceClicked:Dn().func,audioOutPutDevices:Dn().array,audioDevices:Dn().array,videoDevices:Dn().array,peopleClicked:Dn().func,noOfUsersInTile:Dn().number,setNoOfUsersInTile:Dn().func,usersLength:Dn().number,localizedObject:Dn().object,showEndCallButton:Dn().bool,showButtons:Dn().bool};var Ou,Pu,Mu,Nu,Lu=e.memo(Iu);function Du(e){return Du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(e)}function ju(){ju=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new k(i||[]);return r(a,"_invoke",{value:S(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function h(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(T([])));g&&g!==t&&n.call(g,o)&&(m=g);var y=f.prototype=h.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,o,a,s){var c=u(e[r],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==Du(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},_(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Fu(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Bu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=function(e){if("object"!==Du(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==Du(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Du(i)?i:String(i)),r)}var i}function Uu(e,t){return Uu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Uu(e,t)}function Hu(e){return Hu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hu(e)}var Vu="CallingAnalytics",zu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uu(e,t)}(c,e);var t,n,r,i,o,a,s=(o=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Hu(o);if(a){var n=Hu(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Du(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),t=s.call(this,e),Ou=e.user,Pu=e.appID,Mu=e.sessionID,t.props=e,Nu=t.props.analyticsSettings,t}return t=c,n=[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){e.ping(e.props)}),6e4)}},{key:"getAnalyticsUrl",value:function(){return"https://"+Nu.ANALYTICS_HOST+"/"+Nu.ANALYTICS_VERSION+"/calls/ping"}},{key:"ping",value:(r=ju().mark((function e(t){var n,r,i,o;return ju().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=new Headers).append("appId",Pu),n.append("authorization","Beare "+Ou.jwt),n.append("Content-Type","application/json"),r={uts:Date.now(),wsId:Ou.resource,type:null!=t&&t.isAudioOnly?"audio":"video",sessionId:Mu,isRecording:!1},i=JSON.stringify(r),At.log(Vu,"Ping data = ",r),o={method:"POST",headers:n,body:i,redirect:"follow"},At.log(Vu,"res",JSON.stringify(o)),fetch(this.getAnalyticsUrl(),o).then((function(e){return e.json()})).then((function(e){return At.log(Vu,"Ping result => ",e.data)})).catch((function(e){return At.log(Vu,"Ping error =>",e)}));case 11:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,i){var o=r.apply(e,t);function a(e){Fu(o,n,i,a,s,"next",e)}function s(e){Fu(o,n,i,a,s,"throw",e)}a(void 0)}))},function(e){return i.apply(this,arguments)})},{key:"render",value:function(){return null}}],n&&Bu(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(e.Component),qu=e.forwardRef((function(t,n){var r=t.classes,s=t.className,c=(0,a.Z)(t,["classes","className"]),l=e.useContext(vs);return e.createElement("div",(0,o.Z)({className:(0,i.Z)(r.root,s,"flex-start"===l.alignItems&&r.alignItemsFlexStart),ref:n},c))})),Ju=(0,P.Z)({root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},{name:"MuiListItemAvatar"})(qu),Gu=e.forwardRef((function(t,n){var r=t.classes,s=t.className,c=(0,a.Z)(t,["classes","className"]);return e.createElement("div",(0,o.Z)({className:(0,i.Z)(r.root,s),ref:n},c))}));Gu.muiName="ListItemSecondaryAction";var Wu,Qu,Zu,$u=(0,P.Z)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(Gu),Ku=["title","titleId"];function Xu(){return Xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xu.apply(this,arguments)}function Yu(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,Ku);return e.createElement("svg",Xu({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,Wu||(Wu=e.createElement("path",{d:"M15.2352 5.15674H4.01948C3.543 5.15674 3.15674 5.543 3.15674 6.01948V15.5097C3.15674 15.9862 3.543 16.3724 4.01948 16.3724H15.2352C15.7117 16.3724 16.0979 15.9862 16.0979 15.5097V6.01948C16.0979 5.543 15.7117 5.15674 15.2352 5.15674Z",fill:"#d93438",stroke:"#d93438",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),Qu||(Qu=e.createElement("path",{d:"M23.0002 14.701C23.0002 15.0726 22.609 15.3144 22.2766 15.1482L18.1001 13.0599C17.9307 12.9752 17.8237 12.8021 17.8237 12.6127V8.91703C17.8237 8.72764 17.9307 8.55451 18.1001 8.46981L22.2766 6.38158C22.609 6.21535 23.0002 6.4571 23.0002 6.82879V14.701Z",fill:"#d93438",stroke:"#d93438",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),Zu||(Zu=e.createElement("line",{x1:1.46072,y1:2.57767,x2:17.6781,y2:20.2694,stroke:"#d93438",strokeWidth:1.25})))}var ed,td,nd=e.forwardRef(Yu),rd=(n.p,["title","titleId"]);function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},id.apply(this,arguments)}function od(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,rd);return e.createElement("svg",id({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,ed||(ed=e.createElement("path",{d:"M14.3913 6H1.95652C1.42825 6 1 6.42825 1 6.95652V17.4783C1 18.0065 1.42825 18.4348 1.95652 18.4348H14.3913C14.9196 18.4348 15.3478 18.0065 15.3478 17.4783V6.95652C15.3478 6.42825 14.9196 6 14.3913 6Z",fill:"#00D7A4",stroke:"#00D7A4",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),td||(td=e.createElement("path",{d:"M22.9999 16.6693C22.9999 17.041 22.6087 17.2827 22.2763 17.1165L17.5371 14.7469C17.3677 14.6622 17.2607 14.4891 17.2607 14.2997V10.1351C17.2607 9.94574 17.3677 9.77261 17.5371 9.68791L22.2763 7.31835C22.6087 7.15212 22.9999 7.39387 22.9999 7.76556V16.6693Z",fill:"#00D7A4",stroke:"#00D7A4",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})))}var ad=e.forwardRef(od),sd=(n.p,n(3547)),cd=(0,Oa.Z)(e.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),ld=e.forwardRef((function(t,n){var r,s=t.alt,c=t.children,l=t.classes,u=t.className,d=t.component,h=void 0===d?"div":d,p=t.imgProps,f=t.sizes,m=t.src,v=t.srcSet,g=t.variant,y=void 0===g?"circular":g,_=(0,a.Z)(t,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),b=function(t){var n=t.src,r=t.srcSet,i=e.useState(!1),o=i[0],a=i[1];return e.useEffect((function(){if(n||r){a(!1);var e=!0,t=new Image;return t.src=n,t.srcSet=r,t.onload=function(){e&&a("loaded")},t.onerror=function(){e&&a("error")},function(){e=!1}}}),[n,r]),o}({src:m,srcSet:v}),S=m||v,w=S&&"error"!==b;return r=w?e.createElement("img",(0,o.Z)({alt:s,src:m,srcSet:v,sizes:f,className:l.img},p)):null!=c?c:S&&s?s[0]:e.createElement(cd,{className:l.fallback}),e.createElement(h,(0,o.Z)({className:(0,i.Z)(l.root,l.system,l[y],u,!w&&l.colorDefault),ref:n},_),r)})),ud=(0,P.Z)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(ld);function dd(e){return dd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(e)}function hd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hd(Object(n),!0).forEach((function(t){fd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fd(e,t,n){return(t=function(e){var t=function(e){if("object"!==dd(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==dd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===dd(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function md(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vd=L((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},small:{width:"auto",maxHeight:"90%",height:"50%",aspectRatio:1},medium:{width:"auto",height:"50%",maxHeight:"90%",aspectRatio:1},large:{width:"auto",height:"50%",maxHeight:"90%",aspectRatio:1},fill:{width:"100%",height:"100%"},iosImage:{objectFit:"contain",borderRadius:"50%",width:"auto"},iosContainer:{width:"auto"}}})),gd=function(t){var n,r,i=t.user,o=t.size,a=t.style,s=(r=2,function(e){if(Array.isArray(e))return e}(n=(0,e.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(n,r)||function(e,t){if(e){if("string"==typeof e)return md(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?md(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],l=s[1],u=vd();(0,e.useEffect)((function(){h()}),[]);var d,h=function(){try{var e=navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&-1==navigator.userAgent.indexOf("CriOS")&&-1==navigator.userAgent.indexOf("FxiOS");l(e)}catch(e){}};return i.avatar?e.createElement(ud,{variant:"fill"===o||"square"===o?"square":"circular",alt:i.name,classes:(c||Xt.isMob())&&{img:u.iosImage},className:"".concat(u["square"===o?"large":"fill"!==o||i.avatar?o:"large"]," ").concat(c?u.iosContainer:""),style:a,src:i.avatar}):e.createElement(ud,{variant:"fill"===o||"square"===o?"square":"circular",alt:i.name,classes:(c||Xt.isMob())&&{img:u.iosImage},className:"".concat(u["square"===o?"large":"fill"!==o||i.avatar?o:"large"]," "),style:pd(pd({},a),{},{backgroundColor:Ct.stringToColour(i.name),fontSize:"large"==o?"20vmin":"medium"==o?"10vmin":"20px",fontWeight:"bold"}),size:o},null===(d=i.name[0])||void 0===d?void 0:d.toUpperCase())},yd=e.memo(gd);function _d(e){return _d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(e)}function bd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kd(r.key),r)}}function Sd(e,t){return Sd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sd(e,t)}function wd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ed(e){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ed(e)}function Cd(e,t,n){return(t=kd(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kd(e){var t=function(e){if("object"!==_d(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==_d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===_d(t)?t:String(t)}gd.propTypes={user:Dn().object,size:Dn().string,style:Dn().object},gd.defaultProps={user:Dn().array,size:"circle",style:{}},n.p;var Td,xd,Ad,Rd=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sd(e,t)}(s,t);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ed(i);if(o){var n=Ed(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===_d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wd(e)}(this,e)});function s(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),Cd(wd(n=a.call(this,t)),"_isMounted",!1),Cd(wd(n),"setAudiolevel",(function(e){if(n._isMounted&&n.props.track&&!n.props.track.isMuted()){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,.1,.2,.5,.8,1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,28,38,40,44,47],r=function(e,t){var n;for(n=1;n<t.length-1&&!(t[n]>=e);n++);return n-1}(e,t);return function(e,t,n,r,i){return r==i?r:t==n?e<=t?r:i:r+(i-r)*(e-t)/(n-t)}(e,t[r],t[r+1],n[r],n[r+1])}(e);n.heightRef.current.style.height="".concat(t,"%")}})),n._isMounted=!1,n.heightRef=e.createRef(),n}return n=s,(r=[{key:"componentDidMount",value:function(){this._isMounted=!0,this.props.track&&this.props.track.on(window.JitsiMeetJS.events.track.TRACK_AUDIO_LEVEL_CHANGED,this.setAudiolevel)}},{key:"componentDidUpdate",value:function(e){this.props.track!==e.track&&e.track&&this.props.track&&(e.track.off(window.JitsiMeetJS.events.track.TRACK_AUDIO_LEVEL_CHANGED,this.setAudiolevel),this.props.track.on(window.JitsiMeetJS.events.track.TRACK_AUDIO_LEVEL_CHANGED,this.setAudiolevel))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return this.props.noisy,e.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M11.8333 17V21.1667V17ZM11.8333 2C10.9493 2 10.1014 2.35119 9.47631 2.97631C8.85119 3.60143 8.5 4.44928 8.5 5.33333V11.1667C8.5 12.0507 8.85119 12.8986 9.47631 13.5237C10.1014 14.1488 10.9493 14.5 11.8333 14.5C12.7174 14.5 13.5652 14.1488 14.1904 13.5237C14.8155 12.8986 15.1667 12.0507 15.1667 11.1667V5.33333C15.1667 4.44928 14.8155 3.60143 14.1904 2.97631C13.5652 2.35119 12.7174 2 11.8333 2Z",stroke:"#00D7A4","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round"}),e.createElement("path",{d:"M17.6667 8.66675V11.1667C17.6667 12.7138 17.0521 14.1976 15.9581 15.2915C14.8642 16.3855 13.3804 17.0001 11.8333 17.0001C10.2862 17.0001 8.80251 16.3855 7.70854 15.2915C6.61458 14.1976 6 12.7138 6 11.1667V8.66675",stroke:"#00D7A4","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round"}),e.createElement("rect",{ref:this.heightRef,x:"9.37",y:"10.12",width:"5.59",height:"11.28",rx:"0",fill:"#00D7A4",style:{transformOrigin:"center",transform:"rotate(180deg)",height:"0%",transition:"height 0.2s"}}))}}])&&bd(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component),Id=["title","titleId"];function Od(){return Od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Od.apply(this,arguments)}function Pd(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,Id);return e.createElement("svg",Od({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,Td||(Td=e.createElement("path",{d:"M11.8333 17V21.1667V17ZM11.8333 2C10.9493 2 10.1014 2.35119 9.47631 2.97631C8.85119 3.60143 8.5 4.44928 8.5 5.33333V11.1667C8.5 12.0507 8.85119 12.8986 9.47631 13.5237C10.1014 14.1488 10.9493 14.5 11.8333 14.5C12.7174 14.5 13.5652 14.1488 14.1904 13.5237C14.8155 12.8986 15.1667 12.0507 15.1667 11.1667V5.33333C15.1667 4.44928 14.8155 3.60143 14.1904 2.97631C13.5652 2.35119 12.7174 2 11.8333 2V2Z",fill:"#FF274D",stroke:"#FF274D",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),xd||(xd=e.createElement("path",{d:"M17.6667 8.66675V11.1667C17.6667 12.7138 17.0521 14.1976 15.9581 15.2915C14.8642 16.3855 13.3804 17.0001 11.8333 17.0001C10.2862 17.0001 8.80251 16.3855 7.70854 15.2915C6.61458 14.1976 6 12.7138 6 11.1667V8.66675",stroke:"#FF274D",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),Ad||(Ad=e.createElement("line",{x1:5.52554,y1:.601614,x2:20.0173,y2:19.7324,stroke:"#FF274D",strokeWidth:1.25})))}var Md=e.forwardRef(Pd);function Nd(e){return Nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(e)}function Ld(e,t,n){return(t=function(e){var t=function(e){if("object"!==Nd(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==Nd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Nd(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.p;var Dd,jd,Fd=(0,el.Z)((function(e){var t;return{root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:e.palette.background.paper},title:{margin:16,marginBottom:0,display:"flex",justifyContent:"space-between",alignItems:"center"},container:(t={},Ld(t,e.breakpoints.only("xs"),{position:"absolute",right:0,left:0,top:0,bottom:"80px"}),Ld(t,e.breakpoints.up("sm"),{width:350}),Ld(t,"@media (width:600px)",{position:"absolute",right:0,left:0,top:0,bottom:"80px",width:"auto"}),Ld(t,"display","flex"),Ld(t,"paddingLeft",8),Ld(t,"paddingRight",8),t),userNameStyle:{width:120,textOverflow:"ellipsis",overflow:"hidden",color:"#fff",whiteSpace:"nowrap",height:"20px"},iconsContainer:{display:"flex",flexDirection:"row",maxWidth:"125px"},detailsContainer:{display:"flex",justifyContent:"center",alignItems:"center"},iconStyle:{marginLeft:5,width:24},videoOnIconStyle:{color:"rgba(0, 215, 164, 1)",marginLeft:5,width:24},iconButtonstyle:{border:"none",outline:"none"},menuIconContainer:{marginRight:15,zIndex:3e4},sliderContainer:{display:"flex",flex:1,marginTop:8,flexDirection:"column",zIndex:100,backgroundColor:"rgb(36, 43, 48)"},paperContainer:{flexDirection:"column",display:"flex",flex:1,justifyContent:"flex-start"},colorWhite:{color:"#fff"}}})),Bd=["title","titleId"];function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ud.apply(this,arguments)}function Hd(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,Bd);return e.createElement("svg",Ud({width:25,height:25,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,Dd||(Dd=e.createElement("g",{clipPath:"url(#clip0)"},e.createElement("path",{d:"M12.4999 15.4497L12.4999 28.7631Z",fill:"white"}),e.createElement("path",{d:"M12.4999 15.4497L12.4999 28.7631",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M16.7425 3.429C16.8354 3.42901 16.9274 3.41073 17.0131 3.3752C17.0989 3.33967 17.1769 3.28759 17.2426 3.22193C17.3082 3.15626 17.3603 3.0783 17.3958 2.99251C17.4314 2.90671 17.4497 2.81476 17.4496 2.72189L17.4496 1.60042C17.4496 1.33526 17.3442 1.08096 17.1567 0.893465C16.9692 0.705965 16.715 0.600611 16.4498 0.600571L8.54999 0.600572C8.28483 0.600612 8.03054 0.705966 7.84304 0.893466C7.65554 1.08096 7.55019 1.33526 7.55015 1.60042L7.55014 2.72189C7.55013 2.81476 7.56841 2.90671 7.60394 2.99251C7.63947 3.0783 7.69156 3.15626 7.75722 3.22192C7.82288 3.28759 7.90084 3.33967 7.98664 3.3752C8.07243 3.41073 8.16439 3.42901 8.25725 3.429C8.35011 3.42899 8.44207 3.44727 8.52787 3.4828C8.61366 3.51833 8.69162 3.57041 8.75728 3.63607C8.82295 3.70174 8.87503 3.7797 8.91056 3.86549C8.94609 3.95129 8.96437 4.04324 8.96436 4.13611L8.96436 10.0857C8.9644 10.3509 8.8591 10.6052 8.67162 10.7928L6.42867 13.0358C6.24119 13.2233 6.13589 13.4777 6.13593 13.7429L6.13593 14.45C6.13597 14.7151 6.24133 14.9694 6.42883 15.1569C6.61632 15.3444 6.87062 15.4498 7.13578 15.4498L17.864 15.4498C18.1292 15.4498 18.3835 15.3444 18.571 15.1569C18.7585 14.9694 18.8638 14.7151 18.8639 14.45V13.7429C18.8639 13.4777 18.7586 13.2233 18.5711 13.0358L16.3289 10.7935C16.1414 10.606 16.0361 10.3516 16.0361 10.0864L16.0361 4.13681C16.036 4.04395 16.0542 3.95198 16.0897 3.86614C16.1251 3.78031 16.1771 3.7023 16.2427 3.63657C16.3083 3.57084 16.3862 3.51868 16.472 3.48307C16.5577 3.44745 16.6497 3.42908 16.7425 3.429V3.429Z",fill:"white",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}))),jd||(jd=e.createElement("defs",null,e.createElement("clipPath",{id:"clip0"},e.createElement("rect",{width:24,height:24,fill:"white",transform:"translate(0.5 0.5)"})))))}var Vd,zd,qd,Jd,Gd=e.forwardRef(Hd),Wd=(n.p,["title","titleId"]);function Qd(){return Qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qd.apply(this,arguments)}function Zd(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,Wd);return e.createElement("svg",Qd({width:35,height:36,viewBox:"0 0 35 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,Vd||(Vd=e.createElement("path",{d:"M18.1315 21.0813L18.1315 34.3947L18.1315 21.0813Z",fill:"white"})),zd||(zd=e.createElement("path",{d:"M18.1315 21.0813L18.1315 34.3947",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})),qd||(qd=e.createElement("path",{d:"M22.3741 9.06059C22.467 9.06061 22.5589 9.04233 22.6447 9.0068C22.7305 8.97126 22.8085 8.91918 22.8742 8.85352C22.9398 8.78785 22.9919 8.7099 23.0274 8.6241C23.063 8.5383 23.0812 8.44635 23.0812 8.35349L23.0812 7.23201C23.0812 6.96685 22.9758 6.71256 22.7883 6.52506C22.6008 6.33756 22.3465 6.2322 22.0814 6.23216L14.1816 6.23216C13.9164 6.2322 13.6621 6.33756 13.4746 6.52506C13.2871 6.71256 13.1818 6.96685 13.1817 7.23201L13.1817 8.35348C13.1817 8.44635 13.2 8.5383 13.2355 8.6241C13.2711 8.7099 13.3231 8.78785 13.3888 8.85352C13.4545 8.91918 13.5324 8.97126 13.6182 9.00679C13.704 9.04232 13.796 9.06061 13.8888 9.06059C13.9817 9.06058 14.0737 9.07886 14.1595 9.11439C14.2453 9.14992 14.3232 9.202 14.3889 9.26767C14.4545 9.33333 14.5066 9.41129 14.5422 9.49708C14.5777 9.58288 14.596 9.67484 14.5959 9.7677L14.5959 15.7173C14.596 15.9825 14.4907 16.2368 14.3032 16.4244L12.0603 18.6673C11.8728 18.8549 11.7675 19.1093 11.7675 19.3745L11.7675 20.0816C11.7676 20.3467 11.8729 20.601 12.0604 20.7885C12.2479 20.976 12.5022 21.0814 12.7674 21.0814L23.4956 21.0814C23.7608 21.0814 24.0151 20.976 24.2026 20.7885C24.39 20.601 24.4954 20.3467 24.4954 20.0816V19.3744C24.4955 19.1093 24.3902 18.8549 24.2027 18.6673L21.9605 16.4251C21.773 16.2375 21.6677 15.9832 21.6677 15.718L21.6677 9.76841C21.6676 9.67554 21.6858 9.58357 21.7213 9.49774C21.7567 9.4119 21.8087 9.3339 21.8743 9.26817C21.9399 9.20244 22.0178 9.15027 22.1036 9.11466C22.1893 9.07904 22.2813 9.06067 22.3741 9.06059Z",fill:"white",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})),Jd||(Jd=e.createElement("line",{x1:10.086,y1:5.20257,x2:27.2516,y2:23.3779,stroke:"white",strokeWidth:1.25})))}var $d,Kd,Xd,Yd,eh,th=e.forwardRef(Zd),nh=(n.p,["title","titleId"]);function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rh.apply(this,arguments)}function ih(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,nh);return e.createElement("svg",rh({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,$d||($d=e.createElement("path",{d:"M3 15H1C0.723858 15 0.5 15.2239 0.5 15.5V20.5C0.5 20.7761 0.723858 21 1 21H3C3.27614 21 3.5 20.7761 3.5 20.5V15.5C3.5 15.2239 3.27614 15 3 15Z",fill:"#00D7A4",stroke:"#00D7A4",strokeLinecap:"round",strokeLinejoin:"round"})),Kd||(Kd=e.createElement("path",{d:"M8 12H6C5.72386 12 5.5 12.2239 5.5 12.5V20.5C5.5 20.7761 5.72386 21 6 21H8C8.27614 21 8.5 20.7761 8.5 20.5V12.5C8.5 12.2239 8.27614 12 8 12Z",fill:"#00D7A4",stroke:"#00D7A4",strokeLinecap:"round",strokeLinejoin:"round"})),Xd||(Xd=e.createElement("path",{d:"M13 9H11C10.7239 9 10.5 9.22386 10.5 9.5V20.5C10.5 20.7761 10.7239 21 11 21H13C13.2761 21 13.5 20.7761 13.5 20.5V9.5C13.5 9.22386 13.2761 9 13 9Z",fill:"#00D7A4",stroke:"#00D7A4",strokeLinecap:"round",strokeLinejoin:"round"})),Yd||(Yd=e.createElement("path",{d:"M18 6H16C15.7239 6 15.5 6.22386 15.5 6.5V20.5C15.5 20.7761 15.7239 21 16 21H18C18.2761 21 18.5 20.7761 18.5 20.5V6.5C18.5 6.22386 18.2761 6 18 6Z",fill:"#00D7A4",stroke:"#00D7A4",strokeLinecap:"round",strokeLinejoin:"round"})),eh||(eh=e.createElement("path",{d:"M23 3H21C20.7239 3 20.5 3.22386 20.5 3.5V20.5C20.5 20.7761 20.7239 21 21 21H23C23.2761 21 23.5 20.7761 23.5 20.5V3.5C23.5 3.22386 23.2761 3 23 3Z",fill:"#00D7A4",stroke:"#00D7A4",strokeLinecap:"round",strokeLinejoin:"round"})))}var oh,ah,sh=e.forwardRef(ih),ch=(n.p,["title","titleId"]);function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lh.apply(this,arguments)}function uh(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,ch);return e.createElement("svg",lh({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,oh||(oh=e.createElement("g",{clipPath:"url(#clip0)"},e.createElement("path",{d:"M0 13H3V19H0V13ZM5 10H8V19H5V10ZM10 7H13V19H10V7ZM15 4H18V19H15V4ZM20 19H23H20Z",fill:"#00D7A4"}),e.createElement("path",{d:"M20 19H23M0 13H3V19H0V13ZM5 10H8V19H5V10ZM10 7H13V19H10V7ZM15 4H18V19H15V4Z",stroke:"#00D7A4",strokeWidth:.833333,strokeLinecap:"round",strokeLinejoin:"round"}))),ah||(ah=e.createElement("defs",null,e.createElement("clipPath",{id:"clip0"},e.createElement("rect",{width:24,height:24,fill:"white"})))))}var dh,hh,ph,fh,mh,vh=e.forwardRef(uh),gh=(n.p,["title","titleId"]);function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yh.apply(this,arguments)}function _h(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,gh);return e.createElement("svg",yh({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,dh||(dh=e.createElement("path",{d:"M3 12H1C0.723858 12 0.5 12.2239 0.5 12.5V17.5C0.5 17.7761 0.723858 18 1 18H3C3.27614 18 3.5 17.7761 3.5 17.5V12.5C3.5 12.2239 3.27614 12 3 12Z",fill:"#00D7A4",stroke:"#00D7A4",strokeLinecap:"round",strokeLinejoin:"round"})),hh||(hh=e.createElement("path",{d:"M8 9H6C5.72386 9 5.5 9.22386 5.5 9.5V17.5C5.5 17.7761 5.72386 18 6 18H8C8.27614 18 8.5 17.7761 8.5 17.5V9.5C8.5 9.22386 8.27614 9 8 9Z",fill:"#00D7A4",stroke:"#00D7A4",strokeLinecap:"round",strokeLinejoin:"round"})),ph||(ph=e.createElement("path",{d:"M13 6H11C10.7239 6 10.5 6.22386 10.5 6.5V17.5C10.5 17.7761 10.7239 18 11 18H13C13.2761 18 13.5 17.7761 13.5 17.5V6.5C13.5 6.22386 13.2761 6 13 6Z",fill:"#00D7A4",stroke:"#00D7A4",strokeLinecap:"round",strokeLinejoin:"round"})),fh||(fh=e.createElement("path",{d:"M15.5 18H18.5",stroke:"#00D7A4",strokeLinecap:"round",strokeLinejoin:"round"})),mh||(mh=e.createElement("path",{d:"M20.5 18H23.5",stroke:"#00D7A4",strokeLinecap:"round",strokeLinejoin:"round"})))}var bh,Sh,wh,Eh,Ch,kh=e.forwardRef(_h),Th=(n.p,["title","titleId"]);function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xh.apply(this,arguments)}function Ah(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,Th);return e.createElement("svg",xh({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,bh||(bh=e.createElement("path",{d:"M3 10.5H1C0.723858 10.5 0.5 10.7239 0.5 11V16C0.5 16.2761 0.723858 16.5 1 16.5H3C3.27614 16.5 3.5 16.2761 3.5 16V11C3.5 10.7239 3.27614 10.5 3 10.5Z",fill:"#00D7A4",stroke:"#00D7A4",strokeLinecap:"round",strokeLinejoin:"round"})),Sh||(Sh=e.createElement("path",{d:"M8 7.5H6C5.72386 7.5 5.5 7.72386 5.5 8V16C5.5 16.2761 5.72386 16.5 6 16.5H8C8.27614 16.5 8.5 16.2761 8.5 16V8C8.5 7.72386 8.27614 7.5 8 7.5Z",fill:"#00D7A4",stroke:"#00D7A4",strokeLinecap:"round",strokeLinejoin:"round"})),wh||(wh=e.createElement("path",{d:"M10.5 16.5H13.5",stroke:"#00D7A4",strokeLinecap:"round",strokeLinejoin:"round"})),Eh||(Eh=e.createElement("path",{d:"M15.5 16.5H18.5",stroke:"#00D7A4",strokeLinecap:"round",strokeLinejoin:"round"})),Ch||(Ch=e.createElement("path",{d:"M20.5 16.5H23.5",stroke:"#00D7A4",strokeLinecap:"round",strokeLinejoin:"round"})))}var Rh,Ih,Oh,Ph,Mh,Nh=e.forwardRef(Ah),Lh=(n.p,["title","titleId"]);function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dh.apply(this,arguments)}function jh(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,Lh);return e.createElement("svg",Dh({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,Rh||(Rh=e.createElement("path",{d:"M3 9H1C0.723858 9 0.5 9.22386 0.5 9.5V14.5C0.5 14.7761 0.723858 15 1 15H3C3.27614 15 3.5 14.7761 3.5 14.5V9.5C3.5 9.22386 3.27614 9 3 9Z",fill:"#00D7A4",stroke:"#00D7A4",strokeLinecap:"round",strokeLinejoin:"round"})),Ih||(Ih=e.createElement("path",{d:"M5.5 15H8.5",stroke:"#00D7A4",strokeLinecap:"round",strokeLinejoin:"round"})),Oh||(Oh=e.createElement("path",{d:"M10.5 15H13.5",stroke:"#00D7A4",strokeLinecap:"round",strokeLinejoin:"round"})),Ph||(Ph=e.createElement("path",{d:"M15.5 15H18.5",stroke:"#00D7A4",strokeLinecap:"round",strokeLinejoin:"round"})),Mh||(Mh=e.createElement("path",{d:"M20.5 15H23.5",stroke:"#00D7A4",strokeLinecap:"round",strokeLinejoin:"round"})))}var Fh,Bh,Uh,Hh,Vh,zh=e.forwardRef(jh),qh=(n.p,["title","titleId"]);function Jh(){return Jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jh.apply(this,arguments)}function Gh(t,n){var r=t.title,i=t.titleId,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,qh);return e.createElement("svg",Jh({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",ref:n,"aria-labelledby":i},o),r?e.createElement("title",{id:i},r):null,Fh||(Fh=e.createElement("path",{d:"M3 15H1C0.723858 15 0.5 15.2239 0.5 15.5V20.5C0.5 20.7761 0.723858 21 1 21H3C3.27614 21 3.5 20.7761 3.5 20.5V15.5C3.5 15.2239 3.27614 15 3 15Z",fill:"#808080",stroke:"#808080",strokeLinecap:"round",strokeLinejoin:"round"})),Bh||(Bh=e.createElement("path",{d:"M8 12H6C5.72386 12 5.5 12.2239 5.5 12.5V20.5C5.5 20.7761 5.72386 21 6 21H8C8.27614 21 8.5 20.7761 8.5 20.5V12.5C8.5 12.2239 8.27614 12 8 12Z",fill:"#808080",stroke:"#808080",strokeLinecap:"round",strokeLinejoin:"round"})),Uh||(Uh=e.createElement("path",{d:"M13 9H11C10.7239 9 10.5 9.22386 10.5 9.5V20.5C10.5 20.7761 10.7239 21 11 21H13C13.2761 21 13.5 20.7761 13.5 20.5V9.5C13.5 9.22386 13.2761 9 13 9Z",fill:"#808080",stroke:"#808080",strokeLinecap:"round",strokeLinejoin:"round"})),Hh||(Hh=e.createElement("path",{d:"M18 6H16C15.7239 6 15.5 6.22386 15.5 6.5V20.5C15.5 20.7761 15.7239 21 16 21H18C18.2761 21 18.5 20.7761 18.5 20.5V6.5C18.5 6.22386 18.2761 6 18 6Z",fill:"#808080",stroke:"#808080",strokeLinecap:"round",strokeLinejoin:"round"})),Vh||(Vh=e.createElement("path",{d:"M23 3H21C20.7239 3 20.5 3.22386 20.5 3.5V20.5C20.5 20.7761 20.7239 21 21 21H23C23.2761 21 23.5 20.7761 23.5 20.5V3.5C23.5 3.22386 23.2761 3 23 3Z",fill:"#808080",stroke:"#808080",strokeLinecap:"round",strokeLinejoin:"round"})))}var Wh=e.forwardRef(Gh);function Qh(){return Qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qh.apply(this,arguments)}function Zh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.p;var $h=function(t){return t?t<20?e.createElement(zh,{style:{height:24,width:24}}):t<40?e.createElement(Nh,{style:{height:24,width:24}}):t<60?e.createElement(kh,{style:{height:24,width:24}}):t<80?e.createElement(vh,{style:{height:24,width:24}}):e.createElement(sh,{style:{height:24,width:24}}):e.createElement(Wh,{style:{height:24,width:24}})},Kh=function(t){var n,r,i=(r=2,function(e){if(Array.isArray(e))return e}(n=(0,e.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(n,r)||function(e,t){if(e){if("string"==typeof e)return Zh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zh(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[0],a=i[1],s=Fd(),c=(0,e.useRef)([]);return e.createElement("div",{className:s.container,fixed:!0},e.createElement(R,{className:s.sliderContainer,direction:"left",in:!0},e.createElement(sa,{className:s.paperContainer},e.createElement("div",{className:s.title},e.createElement(pa,{className:s.colorWhite,variant:"h4"},t.localizedObject.USER_LIST),e.createElement(dr,{component:"span",style:{backgroundColor:"#31383e",padding:8},onClick:function(e){e.stopPropagation(),t.close()},size:"small"},e.createElement(al,{style:{height:16,width:16},className:s.colorWhite,fontSize:"small"}))),e.createElement(ys,{className:"scroll"},t.users.map((function(n,r){return e.createElement("div",{key:n.id,"data-testid":"cc-userlist"},e.createElement(ac,null,e.createElement(Ju,{style:{minWidth:40}},e.createElement("div",{style:{position:"relative"}},e.createElement(Vi,{disableHoverListener:n.id!==t.recorderId,title:t.localizedObject.RECORDER_LABEL,arrow:!0},e.createElement(pr,{invisible:n.id!==t.recorderId,color:"error",badgeContent:"R",variant:"standard"},e.createElement(yd,{size:"small",style:{height:32,width:32},user:null!=n&&n.screenShareUserID?t.users.find((function(e){return e.id==n.screenShareUserID})):n}))),_m(null==n?void 0:n.videoTrack)&&e.createElement("div",{style:{position:"absolute",bottom:"-5px",backgroundColor:"#242b2f",right:"0px",justifyContent:"center",alignItems:"center",display:"flex",borderRadius:"4px",width:"20px",height:"20px"}},e.createElement(Do,{style:{height:14}})))),e.createElement(pa,{variant:"h5",className:s.userNameStyle},kt(n.name||"")),e.createElement($u,{className:s.iconsContainer},e.createElement("div",{style:{display:"flex",width:32,justifyContent:"center",alignItems:"center"}},$h?$h(t.connectionQuality[n.id]):null),e.createElement("div",{style:{display:"flex",width:32,justifyContent:"center",alignItems:"center"}},n.isAudioMuted||!n.audioTrack?e.createElement(Md,{style:{color:"rgb(6, 170, 33)"},fontSize:"medium"}):e.createElement(Rd,{noisy:1==t.noisyMics[n.id],track:n.audioTrack})),!t.isAudioOnly&&e.createElement("div",{style:{display:"flex",width:32,justifyContent:"center",alignItems:"center"}},n.isVideoMuted||!n.videoTrack?e.createElement(nd,{style:{color:"rgb(6, 170, 33)"},fontSize:"default"}):e.createElement(ad,{className:s.videoOnIconStyle,fontSize:"default"})),e.createElement(dr,{"data-testid":"cc-userlist-menu-button-".concat(n.id),component:"span",className:s.iconButtonstyle,ref:function(e){return c.current[r]=e},onClick:function(e){e.preventDefault(),a(n.id)},edge:"end","aria-controls":"simple-menu"},e.createElement(sd.Z,{className:s.colorWhite})),e.createElement(Pi,{open:o===n.id,role:void 0,anchorEl:c.current[r],transition:!0,disablePortal:!0,placement:"left",modifiers:{preventOverflow:{enabled:!0,boundariesElement:"scrollParent"}}},(function(i){var o=i.TransitionProps;return e.createElement(wr,Qh({},o,{style:{transformOrigin:"left-end"}}),e.createElement(sa,null,e.createElement(z,{onClickAway:function(){return a(null)}},e.createElement(ks,{id:"menu-list-grow",onKeyDown:function(){a(null)},style:{backgroundColor:"rgb(30,30,30)"}},0!==r&&!n.isAudioMuted&&n.audioTrack?e.createElement(cc,{"data-testid":"cc-mute-user",onClick:function(){a(null),t.muteUser(n)}},e.createElement("div",{className:s.menuIconContainer},e.createElement(eo,{className:s.colorWhite,fontSize:"medium"})),e.createElement(pa,{className:s.colorWhite,variant:"h5"},t.localizedObject.MUTE_USER)):null,t.pinnedUserId===n.id?e.createElement(cc,{onClick:function(){a(null),t.unPinUser(n.id)}},e.createElement("div",{className:s.menuIconContainer},e.createElement(th,{style:{height:24,width:24},className:s.colorWhite})),e.createElement(pa,{className:s.colorWhite,variant:"h5"},t.localizedObject.UNPIN_USER)):e.createElement(cc,{onClick:function(){a(null),t.pinUser(n)}},e.createElement("div",{className:s.menuIconContainer},e.createElement(Gd,{style:{height:24,width:24},className:s.colorWhite})),e.createElement(pa,{className:s.colorWhite,variant:"h5"},t.localizedObject.PIN_USER))))))})))))}))))))},Xh=e.memo(Kh);function Yh(e){return Yh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(e)}function ep(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=function(e){if("object"!==Yh(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==Yh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Yh(i)?i:String(i)),r)}var i}function tp(e,t){return tp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tp(e,t)}function np(e){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},np(e)}Kh.propTypes={users:Dn().array,close:Dn().func,pinUser:Dn().func,unPinUser:Dn().func,pinnedUserId:Dn().string,muteUser:Dn().func,kickUser:Dn().func,localizedObject:Dn().object,recorderId:Dn().string,connectionQuality:Dn().object},Kh.defaultProps={users:[],close:function(){},pinUser:function(){},unPinUser:function(){},pinnedUserId:"",muteUser:function(){},kickUser:function(){},localizedObject:gt,recorderId:"",connectionQuality:{}},n(3307);var rp=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tp(e,t)}(s,t);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=np(i);if(o){var n=np(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Yh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=a.call(this,t)).audioRef=e.createRef(),n}return n=s,(r=[{key:"componentDidUpdate",value:function(e){this.props.audioTrack&&this.audioRef&&this.props.audioTrack!==e.audioTrack&&this.props.audioTrack.attach(this.audioRef.current)}},{key:"componentDidMount",value:function(){var e;this.props.audioTrack&&this.audioRef&&(window.room&&window.room.getLocalAudioTrack&&null!==(e=window.room.getLocalAudioTrack())&&void 0!==e&&e.getId?window.room.getLocalAudioTrack().getId()!=this.props.audioTrack.getId()&&this.props.audioTrack.attach(this.audioRef.current):this.props.audioTrack.attach(this.audioRef.current))}},{key:"componentWillUnmount",value:function(){this.audioRef&&this.audioRef.current&&this.props.audioTrack&&this.props.audioTrack.detach(this.audioRef.current)}},{key:"render",value:function(){return e.createElement("audio",{style:{display:"none"},autoPlay:!0,ref:this.audioRef})}}])&&ep(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component),ip=function(t){return t.user?t.user.isVideoMuted||!t.user.videoTrack||"active"!=t.user.status||t.hideVideo?e.createElement("div",{className:"cc-video-container"},e.createElement(yd,{size:t.size,user:t.user}),e.createElement("div",{className:"video-container-user-name"},t.hideName?t.hideVideo:e.createElement(pa,{noWrap:!1,variant:"h6",className:"video-container-user-name-text"},kt(t.user.name))),t.user.audioTrack&&t.withAudio&&!t.user.isLocalUser?e.createElement(rp,{name:t.user.name,audioTrack:t.user.audioTrack}):null):e.createElement("div",{className:"cc-video-container"},e.createElement(yl,{flipped:t.user.isLocalUser,name:t.user.name,style:{display:"flex",height:"100%",width:"100%",objectFit:t.cover?"cover":"contain",borderRadius:8},streamManager:t.user.videoTrack,mainVideo:null!==(n=t.mainVideo)&&void 0!==n&&n}),t.withAudio&&!t.user.isLocalUser&&t.user.audioTrack&&!t.user.isAudioMuted?e.createElement(rp,{name:t.user.name,audioTrack:t.user.audioTrack}):null,e.createElement("div",{className:"video-container-user-name"},t.hideName?null:e.createElement(pa,{variant:"h6",className:"video-container-user-name-text"},kt(t.user.name)))):null;var n},op=e.memo(ip);function ap(){return ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ap.apply(this,arguments)}function sp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cp=function(t){var n,r,i=t.user,o=t.pinnedUserId,a=t.unPinUser,s=t.pinUser,c=t.showOptions,l=t.muteUser,u=t.localizedObject,d=t.noisyMics,h=(0,e.useRef)(),p=(r=2,function(e){if(Array.isArray(e))return e}(n=(0,e.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(n,r)||function(e,t){if(e){if("string"==typeof e)return sp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sp(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=p[0],m=p[1];return e.createElement(e.Fragment,null,e.createElement("div",{style:{backgroundColor:yt.nameLabel.background},className:"cc-name-label"},i.isAudioMuted||!i.audioTrack?e.createElement(Md,{style:{color:"#06AA21",height:24,width:24}}):e.createElement(Rd,{noisy:!(!i||!d)&&!0===d[i.id],track:i.audioTrack}),e.createElement(pa,{variant:"h5",style:{color:"#fff",marginLeft:4,textOverflow:"ellipsis",overflow:"hidden",maxWidth:"20vw",height:"20px"}},kt(i.name||"")),c?e.createElement(e.Fragment,null,e.createElement(dr,{style:{border:"none",outline:"none",padding:0},component:"span",ref:h,onClick:function(e){e.preventDefault(),m(!0)},edge:"end","aria-controls":"simple-menu"},e.createElement(sd.Z,{style:{color:"#fff"}})),e.createElement(Pi,{open:f,role:void 0,anchorEl:h.current,transition:!0,disablePortal:!0,placement:"top-end"},(function(t){var n=t.TransitionProps;return e.createElement(wr,ap({},n,{style:{transformOrigin:"top"}}),e.createElement(sa,{style:{backgroundColor:"rgb(30, 30, 30)"}},e.createElement(z,{onClickAway:function(){return m(!1)}},e.createElement(ks,{id:"menu-list-grow",onKeyDown:function(){m(null)}},!i.audioTrack||i.isAudioMuted||i.isLocalUser||!1===Ru.isPresenter?null:e.createElement(cc,{onClick:function(){m(null),l(i)}},e.createElement("div",{style:{marginRight:15}},e.createElement(eo,{style:{color:"#fff",height:24,width:24},fontSize:"medium"})),e.createElement(pa,{style:{color:"#fff"},variant:"h5"},u.MUTE_USER)),o===i.id?e.createElement(cc,{onClick:function(){m(null),a()}},e.createElement("div",{style:{marginRight:15}},e.createElement(th,{style:{color:"#fff",height:24,width:24},fontSize:"medium"})),e.createElement(pa,{style:{color:"#fff"},variant:"h5"},u.UNPIN_USER)):e.createElement(cc,{onClick:function(){s(i),m(null)}},e.createElement("div",{style:{marginRight:15}},e.createElement(Gd,{style:{color:"#fff",height:24,width:24},fontSize:"medium"})),e.createElement(pa,{style:{color:"#fff"},variant:"h5"},u.PIN_USER))))))}))):null))},lp=e.memo(cp);cp.defaultProps={user:null,pinnedUserId:"",unPinUser:function(){},pinUser:function(){},showOptions:!0,muteUser:function(){},localizedObject:gt},cp.propTypes={user:Dn().object,pinnedUserId:Dn().string,unPinUser:Dn().func,pinUser:Dn().func,showOptions:Dn().bool,muteUser:Dn().func,localizedObject:Dn().object};var up="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAADjElEQVR4nO2cvW7UQBSFj6looggeJSmCaKgQQql4mtBly7wRQQiJlobn4EdESZVAcyh2jW6SnfXYvnNnnJyvXvueOV8cx2vHgBBCCCGEEEIIIYQQCViW04D8JyUXUDp/SQHFyzdrKCYhInwJwso36ygiISK4N+Hlm7W4S4gI7Um18s16XCVEBPaievk9dJQQEdaDZsrvoZOEiKBzaa78HjpIiAj5IMvvmSth7LwnJRaR4AbAeeC8qXzBOmubzDwCLkm+qL2GFCQPSV5EHgFTQs6lSQke5ZNt/wrq2Qdw3pIEkocAPgF4Fj27hgCgIQk1ywfKCfiT8ZlewlGhDINsZn9GXvk5axpNCQErAC8BXGR8dh/AxxpHwuYn/8MmwxBXAF4BeF80VA4D56BT87kDkr8zz12hJ2aOO+Fe2qOUA9cJEeFT3LvIYoMSOKN8s4+khNL5UwKSV7gtSfAo3+xrq4RS2e3g7PLNNtUleJZv9nlPgnfubUNHlW+2qyahRPlm37ckeGXeNXB0+WbbcAklyzcz/kuYmzdn2KTyzfZhEiLKN7NOogSsHPZxtFlwDr9I7k2YsbfZtnj5ZubsbsJg3pHwl+S7GTOOSd5ElL9IBiTMKt/M2CXh8Zbfk5DgUr6ZsU2Cyu+5I8G1fDPDSlD5d9lI+F6ifDPjmOQPlZ+AE/7aaXGGEEIIIYQQQgghhBDNoy/jKsL1DfSIr6N/soGnspuCt59eiLohIwlA8tGRqFuSj1tConxXCYnyJWGgfBcJA+UvUwL1YNaumeUfzNoEPpuxfeTjgpGPQa7I2IdzR0uILN/MLC6hLz9awCgJNco3s4tJsOXXEJAloWb5JoO7hLvl1xKwU0IL5ZssbhK2lV9TwFYJLZVvMs2WkCq/tgDSSGCD5ZtskyVwR/lkfQEkecaGyzfrGC2BA+WTbQggh68+7cKqvqqA+ReEWWsam6GbENrL8hWAN13XfXXa3yRIHmD9so7nHvvrum5Up7XeltJE+QDQdd03AK+R926L+mQerrto8p8jOO6ckCQi6IMrv8dDQkTIqVy3XH4P1yfm6ygBkeeApwCK3e915C3WWdtkxhHQM/mr7NIw4+987yNgSkgPmpNAh/LJ5QggG5JAp/LJZQkgG5BAx/LJ5QkgK0qgc/nkMgWQFSSwQPnkcgWQgRJYqHxy2QLIAAksWD4ZIEAIIYQQQgghhBBCLJZ/JA5dNdHn/r4AAAAASUVORK5CYII=",dp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAADkklEQVR4nO2dsXLTQBCGV1TpEsKbkCIMDRXDUPI0oUvKvBFhgAwtFPAkZJIqpvoo5GMOY0sr6/ZOd96vPt2u/s+yYsd3EnEcx3Ecx3Ecx3Ecx3EcJcAJ8Bl4UbqXXABnwC3wrHQjJ8B3eu4PQcI6/Lv1Of8sJmEjfA5Bwkb4FJOwI/ymJewIP7+EkfCblDASfl4J9DcfDffAuXlDxgDn63PRcJujoefArwkSqr0S0L3y87/gDkHCYsOPGswuAbhSjLlOUGfZ4UeNZpMAXAEoxjFHQjXhRw2bSwjhTxCwl4Tqwg9YSojDnyhgkoRqww9YSNgMfw8BKgnVhx9IKWFb+HsKGJTQTPiBFBJ2hT9DwFYJzYUfmCNhKHyYJQAiCbQafoA9JDASPswWAHBN6+EHmPY9ykozSFEzWS0yhN9ZTi7SXwki8klETlPM13XdYM8aSUoeRORN13XfEs23lSeWk4uIdF33Q0Rei8idda2EZAk/K0y7J+xEUWcu9b7nj0ECCYoaHv4Q9DfmxwUKeCwRvvk9YAtvReSoQN0xjkTkXekmTEHxd37BKyAw+/8JiyRF+JBFALQmgUThQzYB0IoEEoYPWQVA7RJIHD5kFwC1SsAgfCgiAGqTgFH4UEwA1CIBw/ChqACoRYLjOI7jOI7jOIcFcGH5SUhR35LLHBnOBkMJitpW1BF+ACMJiroW1BV+AAMJipqpqTP8AIklKOqlpO7wAySUoKiVijbCD5BIgqJOCtoKP0ACCYoaHv4QcyUo5q8q/BK/jPsqIqsCdcdYichN6SZMYdrKlBJXQJXbKqhIEX4GAZBZQpa3IOBM+lUyT3PUm8mxiNzkkmAuoLLwA9kkmAqg/739F9GF/9uylz1qBQmmawbMBKxf+R+kP5ExHkTklYi8t+on4kpEXopuzdqxiHzMeU9IAjPW4TLyOUFRe4jLaFybm06RYBE0AxIU9UfDj8a2JSFF+NFcWyUoelCFH41vQ0LK8KM5/5OgOEYdfnRM3RIswo/m/keCYvyk8KPj6pRgGX5U468ExdjJ4UfH1iUhR/hRrYsJAvb+VrMaCUzbCSXJCnR021aOjlHMkf3cpjbY/H47LPVKOITwA4uUgG/ePUSWzbu129dXH34A3ZWwmGcINBV+YETCYp6i0WT4gR0SFvMcmabDD2xIKBd+1NAp/Y25+fAD9DfmWyDJRoSO4ziO4ziO4ziO4zjOYfAHO7OVVfpcX1oAAAAASUVORK5CYII=",hp=function(t){return t?t<20?e.createElement(zh,{style:{height:24,width:24}}):t<40?e.createElement(Nh,{style:{height:24,width:24}}):t<60?e.createElement(kh,{style:{height:24,width:24}}):t<80?e.createElement(vh,{style:{height:24,width:24}}):e.createElement(sh,{style:{height:24,width:24}}):e.createElement(Wh,{style:{height:24,width:24}})},pp=function(t){var n={noisyMics:t.noisyMics,muteUser:t.muteUser,user:t.user,pinnedUserId:t.pinnedUserId,pinUser:t.pinUser,localizedObject:t.localizedObject,unPinUser:t.unPinUser,backgroundColor:t.backgroundColor},r=t.user.name.includes("(Screen)");return!1===t.mainVideo?e.createElement(e.Fragment,null,e.createElement("div",{className:"absolute-top-right"},t.pinnedUserId==t.user.id&&e.createElement("div",{"data-testid":"cc-unPinButton",onClick:function(){t.unPinUser()},style:{cursor:"pointer"}},e.createElement(Gd,{className:"tile-pinned-ui-un-pin-icon",alt:"Pin"}))),e.createElement("div",{className:"absolute-bottom-left"},e.createElement(lp,n)),e.createElement("div",{className:"absolute-bottom-right"},hp(t.connectionQuality))):e.createElement(e.Fragment,null,e.createElement("div",{className:"absolute-top-left"},yt.nameLabel.visible&&"top-left"===yt.nameLabel.position&&e.createElement(lp,n),yt.network.visible&&"top-left"===yt.network.position&&hp(t.connectionQuality),yt.fitButton.visible&&!r&&"top-left"===yt.fitButton.position&&!1===t.user.isVideoMuted&&(t.fitVideo?e.createElement("img",{src:dp,style:{height:24},onClick:t.toggleFitVideo,alt:"FullscreenExit",className:"pin-image"}):e.createElement("img",{src:up,style:{height:24},onClick:t.toggleFitVideo,alt:"Fullscreen",className:"pin-image"}))),e.createElement("div",{className:"absolute-top-right"},yt.nameLabel.visible&&"top-right"===yt.nameLabel.position&&e.createElement(lp,n),yt.network.visible&&"top-right"===yt.network.position&&hp(t.connectionQuality),yt.fitButton.visible&&!r&&"top-right"===yt.fitButton.position&&!1===t.user.isVideoMuted&&(t.fitVideo?e.createElement("img",{src:dp,style:{height:24},onClick:t.toggleFitVideo,alt:"FullscreenExit",className:"pin-image"}):e.createElement("img",{src:up,style:{height:24},onClick:t.toggleFitVideo,alt:"Fullscreen",className:"pin-image"})),t.pinnedUserId==t.user.id&&e.createElement("div",{"data-testid":"cc-unPinButton",onClick:function(){t.unPinUser()},style:{cursor:"pointer"}},e.createElement(Gd,{className:"tile-pinned-ui-un-pin-icon",alt:"Pin"}))),e.createElement("div",{className:"absolute-bottom-left"},yt.nameLabel.visible&&"bottom-left"===yt.nameLabel.position&&e.createElement(lp,n),yt.fitButton.visible&&!r&&"bottom-left"===yt.fitButton.position&&!1===t.user.isVideoMuted&&(t.fitVideo?e.createElement("img",{src:dp,style:{height:24},onClick:t.toggleFitVideo,alt:"FullscreenExit",className:"pin-image"}):e.createElement("img",{src:up,style:{height:24},onClick:t.toggleFitVideo,alt:"Fullscreen",className:"pin-image"})),yt.network.visible&&"bottom-left"===yt.network.position&&hp(t.connectionQuality)),e.createElement("div",{className:"absolute-bottom-right"},yt.nameLabel.visible&&"bottom-right"===yt.nameLabel.position&&e.createElement(lp,n),yt.network.visible&&"bottom-right"===yt.network.position&&hp(t.connectionQuality),yt.fitButton.visible&&!r&&"bottom-right"===yt.fitButton.position&&!1===t.user.isVideoMuted&&(t.fitVideo?e.createElement("img",{src:dp,style:{height:24},onClick:t.toggleFitVideo,alt:"FullscreenExit",className:"pin-image"}):e.createElement("img",{src:up,style:{height:24},onClick:t.toggleFitVideo,alt:"Fullscreen",className:"pin-image"}))))};pp.propTypes={connectionQuality:Dn().number,noisyMics:Dn().any,muteUser:Dn().func.isRequired,pinnedUserId:Dn().string,pinUser:Dn().func.isRequired,unPinUser:Dn().func.isRequired,localizedObject:Dn().object.isRequired,user:Dn().object.isRequired,toggleFitVideo:Dn().func.isRequired,fitVideo:Dn().bool.isRequired,backgroundColor:Dn().string,mainVideo:Dn().bool};var fp=pp,mp=function(t){var n;return t.mainUser?e.createElement("div",{className:"spotlight-main-container","data-testid":"cc-spotlight-container"},t.myScreenShareID===t.mainUser.id?e.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,backgroundColor:"#000",borderRadius:8,color:"#fff"}},t.localizedObject.SCREEN_SHARE_MSG||"You are currently sharing your screen."):e.createElement(op,{size:"fullscreen"===t.avatarMode?"fill":"square"===t.avatarMode?"square":"large",withAudio:t.myScreenShareID!=t.mainUser.id,hideName:!0,user:t.mainUser,mainVideo:!0,cover:(null===(n=t.mainUser.name)||void 0===n||!n.includes(gt.SCREEN_SHARE_POSTFIX))&&t.fitVideo}),t.users.map((function(n){if(n.id!==t.mainUser.id&&!n.isLocalUser&&n.id!==t.myScreenShareID)return e.createElement(rp,{audioTrack:n.audioTrack})})),e.createElement(fp,{noisyMics:t.noisyMics,connectionQuality:t.connectionQuality&&t.connectionQuality[t.mainUser.id],user:t.mainUser,pinnedUserId:t.pinnedUserId,pinUser:t.pinUser,unPinUser:t.unPinUser,muteUser:t.muteUser,toggleFitVideo:t.toggleFitVideo,fitVideo:t.fitVideo})):null},vp=mp;mp.propTypes={users:Dn().array,dominantSpeakerId:Dn().string,pinnedUserId:Dn().string,unPinUser:Dn().func,muteUser:Dn().func,pinUser:Dn().func,room:Dn().object,myScreenShareID:Dn().string,mainUser:Dn().object,localizedObject:Dn().object,connectionQuality:Dn().object,fitVideo:Dn().bool.isRequired,toggleFitVideo:Dn().func.isRequired},mp.defaultProps={users:[],dominantSpeakerId:"",pinnedUserId:"",unPinUser:function(){},pinUser:function(){},muteUser:function(){},room:{},myScreenShareID:"",mainUser:{},localizedObject:{},connectionQuality:{}};var gp=function(t){var n=(0,e.useRef)(null),r=(0,e.useRef)({isDragStarted:!1,initX:0,initY:0,containerWidth:0,containerHeight:0,localVideoWidth:0,localVideoHeight:0,percLeft:1,percTop:1,padding:8});return(0,e.useEffect)((function(){r.current.padding=parseInt(getComputedStyle(document.body).getPropertyValue("--ccccn-padding-around-video").match(/\d+/)[0]),n.current.addEventListener("mousedown",(function(e){var t=e.target.className.indexOf("flipped-video")>=0;r.current.isDragStarted=!0,r.current.initX=t?r.current.localVideoWidth-e.offsetX:e.offsetX,r.current.initY=e.offsetY})),n.current.addEventListener("touchstart",(function(e){var t=e.target.getBoundingClientRect();r.current.isDragStarted=!0,r.current.initX=e.targetTouches[0].clientX-t.x,r.current.initY=e.targetTouches[0].clientY-t.y}));var e=function(e){var t;if(null!==(t=e.touches)&&void 0!==t&&t[0]&&(e=e.touches[0]),r.current.isDragStarted){var i=e.clientX-r.current.initX,o=e.clientY-r.current.initY;i<r.current.padding&&(i=r.current.padding),o<r.current.padding&&(o=r.current.padding),r.current.containerWidth-e.clientX+r.current.initX-r.current.padding<r.current.localVideoWidth&&(i=r.current.containerWidth-r.current.localVideoWidth-r.current.padding),e.clientY>r.current.containerHeight-r.current.localVideoHeight+r.current.initY&&(o=r.current.containerHeight-r.current.localVideoHeight),n.current.style.left=i+"px",n.current.style.top=o+"px"}},i=function(){!1!==r.current.isDragStarted&&(r.current.isDragStarted=!1,n.current.style.left&&(r.current.percLeft=(parseInt(n.current.style.left.match(/\d+/)[0])-r.current.padding)/(r.current.containerWidth-r.current.localVideoWidth-2*r.current.padding)),n.current.style.top&&(r.current.percTop=(parseInt(n.current.style.top.match(/\d+/)[0])-r.current.padding)/(r.current.containerHeight-r.current.localVideoHeight-r.current.padding)))};document.addEventListener("touchend",i),document.addEventListener("mouseup",i),document.addEventListener("mousemove",e),document.addEventListener("touchmove",e);var o=new ResizeObserver((function(e){if(n.current){if(n.current.style.left){var t=r.current.percLeft*(e[0].target.offsetWidth-n.current.offsetWidth-2*r.current.padding)+r.current.padding;n.current.style.left="".concat(t,"px")}else n.current.style.left="".concat(e[0].target.offsetWidth-n.current.offsetWidth-r.current.padding,"px");if(n.current.style.top){var i=r.current.percTop*(e[0].target.offsetHeight-n.current.offsetHeight-r.current.padding)+r.current.padding;n.current.style.top="".concat(i,"px")}else n.current.style.top="".concat(e[0].target.offsetHeight-n.current.offsetHeight,"px");r.current.containerWidth=e[0].target.offsetWidth,r.current.containerHeight=e[0].target.offsetHeight,r.current.localVideoWidth=n.current.offsetWidth,r.current.localVideoHeight=n.current.offsetHeight}}));return o.observe(document.getElementsByClassName(t.boundaryClass||"spotlight-main-container")[0]),function(){o.disconnect()}}),[]),e.createElement(Ec,{raised:!0,style:{backgroundColor:"#00000000"},className:"local-video-container",ref:n},e.createElement(op,{size:"fullscreen"===t.avatarMode?"fill":"square"===t.avatarMode?"square":"small",user:t.user}))},yp=gp;gp.propTypes={user:Dn().object},gp.defaultProps={user:{}};var _p=e.forwardRef((function(t,n){var r=t.action,s=t.classes,c=t.className,l=t.message,u=t.role,d=void 0===u?"alert":u,h=(0,a.Z)(t,["action","classes","className","message","role"]);return e.createElement(sa,(0,o.Z)({role:d,square:!0,elevation:6,className:(0,i.Z)(s.root,c),ref:n},h),e.createElement("div",{className:s.message},l),r?e.createElement("div",{className:s.action},r):null)})),bp=(0,P.Z)((function(e){var t="light"===e.palette.type?.8:.98,n=(0,M._4)(e.palette.background.default,t);return{root:(0,o.Z)({},e.typography.body2,(0,qn.Z)({color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(_p),Sp=e.forwardRef((function(t,n){var r=t.action,s=t.anchorOrigin,c=(s=void 0===s?{vertical:"bottom",horizontal:"center"}:s).vertical,l=s.horizontal,u=t.autoHideDuration,d=void 0===u?null:u,h=t.children,p=t.classes,f=t.className,m=t.ClickAwayListenerProps,v=t.ContentProps,g=t.disableWindowBlurListener,y=void 0!==g&&g,_=t.message,b=t.onClose,S=t.onEnter,w=t.onEntered,C=t.onEntering,k=t.onExit,T=t.onExited,x=t.onExiting,A=t.onMouseEnter,R=t.onMouseLeave,I=t.open,O=t.resumeHideDuration,P=t.TransitionComponent,M=void 0===P?wr:P,N=t.transitionDuration,L=void 0===N?{enter:E.x9.enteringScreen,exit:E.x9.leavingScreen}:N,D=t.TransitionProps,j=(0,a.Z)(t,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),F=e.useRef(),B=e.useState(!0),U=B[0],V=B[1],q=(0,H.Z)((function(){b&&b.apply(void 0,arguments)})),J=(0,H.Z)((function(e){b&&null!=e&&(clearTimeout(F.current),F.current=setTimeout((function(){q(null,"timeout")}),e))}));e.useEffect((function(){return I&&J(d),function(){clearTimeout(F.current)}}),[I,d,J]);var G=function(){clearTimeout(F.current)},W=e.useCallback((function(){null!=d&&J(null!=O?O:.5*d)}),[d,O,J]);return e.useEffect((function(){if(!y&&I)return window.addEventListener("focus",W),window.addEventListener("blur",G),function(){window.removeEventListener("focus",W),window.removeEventListener("blur",G)}}),[y,W,I]),!I&&U?null:e.createElement(z,(0,o.Z)({onClickAway:function(e){b&&b(e,"clickaway")}},m),e.createElement("div",(0,o.Z)({className:(0,i.Z)(p.root,p["anchorOrigin".concat((0,Jn.Z)(c)).concat((0,Jn.Z)(l))],f),onMouseEnter:function(e){A&&A(e),G()},onMouseLeave:function(e){R&&R(e),W()},ref:n},j),e.createElement(M,(0,o.Z)({appear:!0,in:I,onEnter:(0,xi.Z)((function(){V(!1)}),S),onEntered:w,onEntering:C,onExit:k,onExited:(0,xi.Z)((function(){V(!0)}),T),onExiting:x,timeout:L,direction:"top"===c?"down":"up"},D),h||e.createElement(bp,(0,o.Z)({message:_,action:r},v)))))})),wp=(0,P.Z)((function(e){var t={top:8},n={bottom:8},r={justifyContent:"flex-end"},i={justifyContent:"flex-start"},a={top:24},s={bottom:24},c={right:24},l={left:24},u={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:(0,o.Z)({},t,(0,qn.Z)({},e.breakpoints.up("sm"),(0,o.Z)({},a,u))),anchorOriginBottomCenter:(0,o.Z)({},n,(0,qn.Z)({},e.breakpoints.up("sm"),(0,o.Z)({},s,u))),anchorOriginTopRight:(0,o.Z)({},t,r,(0,qn.Z)({},e.breakpoints.up("sm"),(0,o.Z)({left:"auto"},a,c))),anchorOriginBottomRight:(0,o.Z)({},n,r,(0,qn.Z)({},e.breakpoints.up("sm"),(0,o.Z)({left:"auto"},s,c))),anchorOriginTopLeft:(0,o.Z)({},t,i,(0,qn.Z)({},e.breakpoints.up("sm"),(0,o.Z)({right:"auto"},a,l))),anchorOriginBottomLeft:(0,o.Z)({},n,i,(0,qn.Z)({},e.breakpoints.up("sm"),(0,o.Z)({right:"auto"},s,l)))}}),{flip:!1,name:"MuiSnackbar"})(Sp),Ep=44,Cp=e.forwardRef((function(t,n){var r=t.classes,s=t.className,c=t.color,l=void 0===c?"primary":c,u=t.disableShrink,d=void 0!==u&&u,h=t.size,p=void 0===h?40:h,f=t.style,m=t.thickness,v=void 0===m?3.6:m,g=t.value,y=void 0===g?0:g,_=t.variant,b=void 0===_?"indeterminate":_,S=(0,a.Z)(t,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),w={},E={},C={};if("determinate"===b||"static"===b){var k=2*Math.PI*((Ep-v)/2);w.strokeDasharray=k.toFixed(3),C["aria-valuenow"]=Math.round(y),w.strokeDashoffset="".concat(((100-y)/100*k).toFixed(3),"px"),E.transform="rotate(-90deg)"}return e.createElement("div",(0,o.Z)({className:(0,i.Z)(r.root,s,"inherit"!==l&&r["color".concat((0,Jn.Z)(l))],{determinate:r.determinate,indeterminate:r.indeterminate,static:r.static}[b]),style:(0,o.Z)({width:p,height:p},E,f),ref:n,role:"progressbar"},C,S),e.createElement("svg",{className:r.svg,viewBox:"".concat(22," ").concat(22," ").concat(Ep," ").concat(Ep)},e.createElement("circle",{className:(0,i.Z)(r.circle,d&&r.circleDisableShrink,{determinate:r.circleDeterminate,indeterminate:r.circleIndeterminate,static:r.circleStatic}[b]),style:w,cx:Ep,cy:Ep,r:(Ep-v)/2,fill:"none",strokeWidth:v})))})),kp=(0,P.Z)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(Cp),Tp=n(1626);function xp(e){return xp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(e)}function Ap(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ap(Object(n),!0).forEach((function(t){Ip(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ap(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ip(e,t,n){return(t=function(e){var t=function(e){if("object"!==xp(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==xp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===xp(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Op(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pp=function(t){var n,r,i,o=t.unPinUser,a=t.pinUser,s=t.pinnedUserId,c=t.users,l=t.muteUser,u=t.peopleClicked,d=t.localizedObject,h=t.mainUser,p=t.myScreenShareID,f=t.avatarMode,m=t.connectionQuality,v=t.lastNId,g=t.stats,y=t.noisyMics,_=void 0===y?{}:y,b=t.fitVideo,S=t.toggleFitVideo,w=Xt.isMob(),E=(i=2,function(e){if(Array.isArray(e))return e}(r=(0,e.useState)(w?2:4))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(r,i)||function(e,t){if(e){if("string"==typeof e)return Op(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Op(e,t):void 0}}(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),C=E[0],k=E[1];return(0,e.useEffect)((function(){var e=document.getElementById("side-bar-tile-list");if(e){var t=new ResizeObserver((function(e){!function(e){var t=e.width>e.height,n=t?Math.floor((e.width+8)/108):Number.POSITIVE_INFINITY,r=Math.min(Math.ceil((t?e.width/e.height:e.height/e.width)-.3),n);k(r-1),document.querySelector(":root").style.setProperty("--ccccn-no-of-tiles",r.toString())}(e[0].contentRect)}));return t.observe(e),function(){t.unobserve(e)}}}),[]),h?e.createElement("div",{className:"side-bar","data-testid":"cc-sidebar-container"},e.createElement("div",{className:"side-bar-container"},e.createElement("div",{className:"side-bar-main-user-container"},e.createElement("div",{className:"side-bar-main-user-video"},p===h.id?e.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,backgroundColor:"#000",borderRadius:8}},e.createElement("p",{style:{color:"#ffff"}},d.SCREEN_SHARE_MSG||"You are currently sharing your screen.")):e.createElement(op,{size:"fullscreen"===f?"fill":"square"===f?"square":"large",mainVideo:!0,withAudio:p!==h.id,hideName:!0,user:h,cover:(null===(n=h.name)||void 0===n||!n.includes(gt.SCREEN_SHARE_POSTFIX))&&b}),e.createElement(fp,{noisyMics:_,connectionQuality:m&&m[h.id],user:h,pinnedUserId:s,pinUser:a,unPinUser:o,muteUser:l,localizedObject:d,toggleFitVideo:S,fitVideo:b}))),e.createElement("div",{id:"side-bar-tile-list",className:"side-bar-tile-list"},function(){var t=[];if(v){for(var n=1;n<c.length;n++)v.includes(c[n].id)?t.unshift(Rp(Rp({},c[n]),{},{inLastN:!0})):t.push(c[n]);t.unshift(c[0])}else t=c;var r=!1;return e.createElement(e.Fragment,null,t.map((function(n,i){return n.id===s&&c.length>C+1&&n.id!==c[0].id?(r=!0,null):i-(r?1:0)>C&&n.id!=p?e.createElement(rp,{key:n.id,audioTrack:n.audioTrack}):i===C&&i+1!==t.length&&w?e.createElement("div",{key:n.id,onClick:u,className:"side-bar-tile-wrapper"},e.createElement("div",{className:"side-bar-tile-container"},e.createElement("div",{className:"side-bar-tile-more-people-icon-container"},e.createElement(pr,{className:"side-bar-tile-more-people-icon-badge",badgeContent:c.length-C,color:"primary"},e.createElement(Tp.Z,{fontSize:"medium"}))),e.createElement(pa,{className:"side-bar-tile-more-text",variant:"h6"},d.MORE),n.id!==p?e.createElement(rp,{audioTrack:n.audioTrack}):null)):e.createElement("div",{item:n.id,key:n.id,className:"side-bar-tile-wrapper"},e.createElement("div",{onClick:function(){s==n.id?o():a(n)},id:"pin",className:"side-bar-tile-pin-icon-container"},e.createElement(Gd,{className:"side-bar-tile-pin-icon",alt:"Pin"})),e.createElement("div",{className:"side-bar-tile-audio-icon"},n.isAudioMuted||!n.audioTrack?e.createElement(Md,{fontSize:"medium",className:"red"}):e.createElement(Rd,{noisy:!0===_[n.id],track:n.audioTrack})),e.createElement(op,{connectionQuality:m&&m[n.id],stats:g,size:"fullscreen"===f?"fill":"square"===f?"square":"small",cover:!0,withAudio:!(h&&n.id==h.id||p===n.id)&&0!==i,user:n}))})))}()))):null},Mp=e.memo(Pp);function Np(e){return Np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(e)}function Lp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lp(Object(n),!0).forEach((function(t){jp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jp(e,t,n){return(t=function(e){var t=function(e){if("object"!==Np(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==Np(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Np(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Pp.propTypes={unPinUser:Dn().func,pinUser:Dn().func,pinnedUserId:Dn().string,users:Dn().array,dominantSpeakerId:Dn().string,muteUser:Dn().func,peopleClicked:Dn().func,localizedObject:Dn().object,room:Dn().object,myScreenShareID:Dn().string,mainUser:Dn().object},Pp.defaultProps={unPinUser:function(){},pinUser:function(){},pinnedUserId:"",users:[],dominantSpeakerId:"",muteUser:function(){},peopleClicked:function(){},localizedObject:{},room:{},myScreenShareID:"",mainUser:null};var Bp=function(t){var n,r,i,o,a=t.unPinUser,s=t.pinUser,c=t.pinnedUserId,l=t.users,u=t.muteUser,d=t.peopleClicked,h=t.localizedObject,p=t.mainUser,f=t.myScreenShareID,m=t.avatarMode,v=t.connectionQuality,g=t.lastNId,y=t.stats,_=t.noisyMics,b=void 0===_?{}:_,S=t.fitVideo,w=t.toggleFitVideo,E=t.screenSharedUserIndex,C=Xt.isMob(),k=(o=2,function(e){if(Array.isArray(e))return e}(i=(0,e.useState)(C?2:4))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(i,o)||function(e,t){if(e){if("string"==typeof e)return Fp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fp(e,t):void 0}}(i,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),T=k[0],x=k[1];(0,e.useEffect)((function(){var e=document.getElementById("side-bar-tile-list");if(e){var t=new ResizeObserver((function(e){!function(e){var t=e.width>e.height,n=t?Math.floor((e.width+8)/108):Number.POSITIVE_INFINITY,r=Math.min(Math.ceil((t?e.width/e.height:e.height/e.width)-.3),n);x(r-1),document.querySelector(":root").style.setProperty("--no-of-tiles",r.toString())}(e[0].contentRect)}));return t.observe(e),function(){t.unobserve(e)}}}),[]);var A=l.filter((function(e,t){return!(E>-1&&E===t)&&!1!==e.isPresenter}));return!1===(null===(n=p)||void 0===n?void 0:n.isPresenter)&&A.length>0&&(p=A[0]),p?0===A.length?e.createElement("div",{className:"loading-container"},e.createElement(kp,null),e.createElement(pa,{variant:"h4",className:"loading-text"},"Waiting for presenter to join.")):e.createElement("div",{className:"side-bar","data-testid":"cc-sidebar-container"},e.createElement("div",{className:"side-bar-container"},e.createElement("div",{className:"side-bar-main-user-container"},e.createElement("div",{className:"side-bar-main-user-video"},f===p.id?e.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,backgroundColor:"#000",borderRadius:8}},e.createElement("p",{style:{color:"#ffff"}},h.SCREEN_SHARE_MSG||"You are currently sharing your screen.")):e.createElement(op,{size:"fullscreen"===m?"fill":"square"===m?"square":"large",withAudio:f!==p.id,mainVideo:!0,hideName:!0,user:p,cover:(null===(r=p.name)||void 0===r||!r.includes(gt.SCREEN_SHARE_POSTFIX))&&S}),e.createElement(fp,{noisyMics:b,connectionQuality:v&&v[p.id],user:p,pinnedUserId:c,pinUser:s,unPinUser:a,muteUser:u,localizedObject:h,toggleFitVideo:w,fitVideo:S}))),A.length>1&&e.createElement("div",{id:"side-bar-tile-list",className:"side-bar-tile-list"},function(){var t=[];if(g){for(var n=1;n<A.length;n++)g.includes(A[n].id)?t.unshift(Dp(Dp({},A[n]),{},{inLastN:!0})):t.push(A[n]);t.unshift(A[0])}else t=A;var r=!1;return e.createElement(e.Fragment,null,t.map((function(n,i){return n.id===c&&A.length>T+1&&n.id!==A[0].id?(r=!0,null):i-(r?1:0)>T&&n.id!=f?e.createElement(rp,{key:n.id,audioTrack:n.audioTrack}):i===T&&i+1!==t.length&&C?e.createElement("div",{key:n.id,onClick:d,className:"side-bar-tile-wrapper"},e.createElement("div",{className:"side-bar-tile-container"},e.createElement("div",{className:"side-bar-tile-more-people-icon-container"},e.createElement(pr,{className:"side-bar-tile-more-people-icon-badge",badgeContent:A.length-T,color:"primary"},e.createElement(Tp.Z,{fontSize:"medium"}))),e.createElement(pa,{className:"side-bar-tile-more-text",variant:"h6"},h.MORE),n.id!==f?e.createElement(rp,{audioTrack:n.audioTrack}):null)):e.createElement("div",{item:n.id,key:n.id,className:"side-bar-tile-wrapper"},e.createElement("div",{onClick:function(){c==n.id?a():s(n)},id:"pin",className:"side-bar-tile-pin-icon-container"},e.createElement(Gd,{className:"side-bar-tile-pin-icon",alt:"Pin"})),e.createElement("div",{className:"side-bar-tile-audio-icon"},n.isAudioMuted||!n.audioTrack?e.createElement(Md,{fontSize:"medium",className:"red"}):e.createElement(Rd,{noisy:!0===b[n.id],track:n.audioTrack})),e.createElement(op,{connectionQuality:v&&v[n.id],stats:y,size:"fullscreen"===m?"fill":"square"===m?"square":"small",cover:!0,withAudio:!(p&&n.id==p.id||f===n.id)&&0!==i,user:n}))})))}()))):null},Up=e.memo(Bp);Bp.propTypes={unPinUser:Dn().func,pinUser:Dn().func,pinnedUserId:Dn().string,users:Dn().array,dominantSpeakerId:Dn().string,muteUser:Dn().func,peopleClicked:Dn().func,localizedObject:Dn().object,myScreenShareID:Dn().string,mainUser:Dn().object},Bp.defaultProps={unPinUser:function(){},pinUser:function(){},pinnedUserId:"",users:[],dominantSpeakerId:"",muteUser:function(){},peopleClicked:function(){},localizedObject:{},myScreenShareID:"",mainUser:null};var Hp=n(9483),Vp=n.n(Hp);function zp(e){if(e){if("string"!=typeof e)return this.userErrors.push("Collection name in collection() method must be a string and not an object, number or boolean."),this;{this.collectionName=e;let t=this.dbName;return e in this.lf||(this.lf[e]=Vp().createInstance({driver:Vp().INDEXEDDB,name:t,storeName:e})),this}}return this.userErrors.push("No collection name specified in collection() method."),this}function qp(e){return e?"string"!=typeof e&&"object"!=typeof e?this.userErrors.push("Document criteria specified in doc() method must not be a number or boolean. Use a string (with a key) or an object (with criteria) e.g. { id: 1 }"):this.docSelectionCriteria=e:this.userErrors.push("No document criteria specified in doc() method. Use a string (with a key) or an object (with criteria) e.g. { id: 1 }"),this}function Jp(e,t){return e?"string"!=typeof e?this.userErrors.push("First parameter in orderBy() method must be a string (a field name) e.g. 'name'"):this.orderByProperty=e:this.userErrors.push("No field name specified in orderBy() method. Use a string e.g. 'name'"),t&&("asc"!==t&&"desc"!==t?this.userErrors.push("Second parameter in orderBy() method must be a string set to 'asc' or 'desc'."):this.orderByDirection=t),this}function Gp(e){return e?Number.isInteger(e)?this.limitBy=e:this.userErrors.push("Limit parameter in limit() method must be an integer (e.g. 3) and not a float, boolean, string or object."):this.userErrors.push("No integer specified in limit() method."),this}function Wp(e,t){return Object.keys(t).every((n=>"object"==typeof t[n]?Wp(e[n],t[n]):t[n]===e[n]))}var Qp={baseStyle:"\n    padding: 2px 5px;\n    background-color: #124F5C;\n    border-radius: 4px;\n    color: white; \n  ",colors:{log:"#124F5C",error:"#ed2939",warn:"#f39c12"},log(e,t){},error(e,t){},warn(e,t){}};function Zp(){this.collectionName=null,this.orderByProperty=null,this.orderByDirection=null,this.limitBy=null,this.docSelectionCriteria=null,this.userErrors=[]}function $p(){let e;return this.collectionName||this.docSelectionCriteria?this.collectionName&&!this.docSelectionCriteria?e="collection":this.collectionName&&this.docSelectionCriteria&&(e="doc"):e="db",e}function Kp(){for(let e=0;e<this.userErrors.length;e++)Qp.error.call(this,this.userErrors[e]);Zp.call(this)}function Xp(e={keys:!1}){if(this.getCollection=()=>{let t=this.collectionName,n=this.orderByProperty,r=this.orderByDirection,i=this.limitBy,o=[];return this.lf[t].iterate(((t,n)=>{let r={};r=e.keys?{key:n,data:t}:t,o.push(r)})).then((()=>{let a=`Got "${t}" collection`;return n&&(a+=`, ordered by "${n}"`,e.keys?o.sort(((e,t)=>e.data[n].toString().localeCompare(t.data[n].toString()))):o.sort(((e,t)=>e[n].toString().localeCompare(t[n].toString())))),"desc"==r&&(a+=" (descending)",o.reverse()),i&&(a+=`, limited to ${i}`,o=o.splice(0,i)),a+=":",Qp.log.call(this,a,o),Zp.call(this),o}))},this.getDocument=()=>{let e=this.collectionName,t=this.docSelectionCriteria,n=[],r={};return this.getDocumentByCriteria=()=>this.lf[e].iterate(((e,r)=>{Wp(e,t)&&n.push(e)})).then((()=>{if(n.length)return r=n[0],Qp.log.call(this,`Got Document with ${JSON.stringify(t)}:`,r),Zp.call(this),r;Qp.error.call(this,`Could not find Document in "${e}" collection with criteria: ${JSON.stringify(t)}`)})),this.getDocumentByKey=()=>this.lf[e].getItem(t).then((n=>(r=n,r?Qp.log.call(this,`Got Document with key ${JSON.stringify(t)}:`,r):Qp.error.call(this,`Could not find Document in "${e}" collection with Key: ${JSON.stringify(t)}`),Zp.call(this),r))).catch((n=>{Qp.error.call(this,`Could not find Document in "${e}" collection with Key: ${JSON.stringify(t)}`),Zp.call(this)})),"object"==typeof t?this.getDocumentByCriteria():this.getDocumentByKey()},"object"!=typeof e||e instanceof Array!=0?this.userErrors.push('Data passed to .get() must be an object. Not an array, string, number or boolean. The object must contain a "keys" property set to true or false, e.g. { keys: true }'):e.hasOwnProperty("keys")?"boolean"!=typeof e.keys&&this.userErrors.push('Property "keys" passed into get() method must be assigned a boolean value (true or false). Not a string or integer.'):this.userErrors.push('Object passed to get() method must contain a "keys" property set to boolean true or false, e.g. { keys: true }'),this.userErrors.length)return Kp.call(this),null;{let e=$p.call(this);if("collection"==e)return this.getCollection();if("doc"==e)return this.getDocument()}}function Yp(e,t){return Zp.call(this),Qp.log.call(this,e,t),{success:!0,message:e,data:t}}function ef(e){return Zp.call(this),Qp.error.call(this,e),`Error: ${e}`}let tf=n(2024);function nf(e,t){if(e?"object"==typeof e&&e instanceof Array==0||this.userErrors.push("Data passed to .add() must be an object. Not an array, string, number or boolean."):this.userErrors.push('No data specified in add() method. You must use an object, e.g { id: 1, name: "Bill", age: 47 }'),!this.userErrors.length){let n=this.collectionName;return new Promise(((r,i)=>{let o=null;return o=t||tf.generate(),this.lf[n].setItem(o,e).then((()=>{r(Yp.call(this,`Document added to "${n}" collection.`,{key:o,data:e}))})).catch((e=>{i(ef.call(this,`Could not add Document to ${n} collection.`))}))}))}Kp.call(this)}function rf(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t]){var r=arguments[t][n];e[n]=r}return e}function of(e){let t=this.collectionName,n=this.docSelectionCriteria;return new Promise(((r,i)=>{this.updateDocumentByCriteria=()=>{let o=[];this.lf[t].iterate(((t,r)=>{if(Wp(t,n)){let n=rf(t,e);o.push({key:r,newDocument:n})}})).then((()=>{o.length||i(ef.call(this,`No Documents found in ${t} Collection with criteria ${JSON.stringify(n)}.`)),o.length>1&&Qp.warn.call(this,`Multiple documents (${o.length}) with ${JSON.stringify(n)} found for updating.`)})).then((()=>{o.forEach(((a,s)=>{this.lf[t].setItem(a.key,a.newDocument).then((i=>{s===o.length-1&&r(Yp.call(this,`${o.length} Document${o.length>1?"s":""} in "${t}" collection with ${JSON.stringify(n)} updated.`,e))})).catch((e=>{i(ef.call(this,`Could not update ${o.length} Documents in ${t} Collection.`))}))}))}))},this.updateDocumentByKey=()=>{let o={};this.lf[t].getItem(n).then((i=>{o=rf(i,e),this.lf[t].setItem(n,o),r(Yp.call(this,`Document in "${t}" collection with key ${JSON.stringify(n)} updated.`,o))})).catch((e=>{i(ef.call(this,`No Document found in "${t}" collection with key ${JSON.stringify(n)}`))}))},e?"object"==typeof e&&e instanceof Array==0||this.userErrors.push("Data passed to .update() must be an object. Not an array, string, number or boolean."):this.userErrors.push('No update object provided to update() method. Use an object e.g. { name: "William" }'),this.userErrors.length?Kp.call(this):"object"==typeof n?this.updateDocumentByCriteria():this.updateDocumentByKey()}))}function af(e,t={keys:!1}){let n=this.collectionName,r=this.docSelectionCriteria,i=$p.call(this);return new Promise(((o,a)=>{if(this.setCollection=()=>{this.lf[n].clear().then((()=>{if(t.keys){let t=0;e.forEach((e=>{e.hasOwnProperty("_key")||t++})),t?a(ef.call(this,"Documents provided to .set() in an array must each have a _key property set to a string.")):(e.forEach((e=>{let t=e._key;delete e._key,this.add(e,t)})),o(Yp.call(this,`Collection "${n}" set with ${e.length} Documents.`,e)))}else e.forEach((e=>{this.add(e)})),o(Yp.call(this,`Collection "${n}" set with ${e.length} Documents.`,e))})).catch((t=>{a(ef.call(this,`Could not set ${n} Collection with data ${JSON.stringify(e)}.`))}))},this.setDocument=()=>(this.setDocumentByCriteria=()=>{let t=[];this.lf[n].iterate(((n,i)=>{Wp(n,r)&&t.push({key:i,newDocument:e})})).then((()=>{t.length||a(ef.call(this,`No Documents found in ${n} Collection with criteria ${JSON.stringify(r)}.`)),t.length>1&&Qp.warn.call(this,`Multiple documents (${t.length}) with ${JSON.stringify(r)} found for setting.`)})).then((()=>{t.forEach(((i,s)=>{this.lf[n].setItem(i.key,i.newDocument).then((i=>{s===t.length-1&&o(Yp.call(this,`${t.length} Document${t.length>1?"s":""} in "${n}" collection with ${JSON.stringify(r)} was set.`,e))})).catch((e=>{a(ef.call(this,`Could not set ${t.length} Documents in ${n} Collection.`))}))}))}))},this.setDocumentByKey=()=>{this.lf[n].setItem(r,e).then((t=>{o(Yp.call(this,`Document in "${n}" collection with key ${JSON.stringify(r)} was set.`,e))})).catch((e=>{a(ef.call(this,`Document in "${n}" collection with key ${JSON.stringify(r)} could not be set.`))}))},"object"==typeof r?this.setDocumentByCriteria():this.setDocumentByKey()),e?"doc"===i?"object"==typeof e&&e instanceof Array==0||this.userErrors.push("Data passed to .set() must be an object. Not an array, string, number or boolean."):"collection"===i&&("object"==typeof e&&e instanceof Array==1||this.userErrors.push("Data passed to .set() must be an array of objects. Not an object, string, number or boolean.")):this.userErrors.push('No new Document object provided to set() method. Use an object e.g. { id: 1, name: "Bill", age: 47 }'),this.userErrors.length)Kp.call(this);else{if("collection"==i)return this.setCollection();if("doc"==i)return this.setDocument()}}))}function sf(){return new Promise(((e,t)=>{if(this.deleteDatabase=()=>{let t=this.dbName;indexedDB.deleteDatabase(t),e(Yp.call(this,`Database "${t}" deleted.`,{database:t}))},this.deleteCollection=()=>{let n=this.dbName,r=this.collectionName;this.addToDeleteCollectionQueue=e=>{this.deleteCollectionQueue.queue.push(e),this.runDeleteCollectionQueue()},this.runDeleteCollectionQueue=()=>{0==this.deleteCollectionQueue.running&&(this.deleteCollectionQueue.running=!0,this.deleteNextCollectionFromQueue())},this.deleteNextCollectionFromQueue=()=>{if(this.deleteCollectionQueue.queue.length){let r=this.deleteCollectionQueue.queue[0];this.deleteCollectionQueue.queue.shift(),this.lf[r].dropInstance({name:n,storeName:r}).then((()=>{this.deleteNextCollectionFromQueue(),e(Yp.call(this,`Collection "${r}" deleted.`,{collection:r}))})).catch((e=>{t(e.call(this,`Collection "${r}" could not be deleted.`))}))}else this.deleteCollectionQueue.running=!1},this.addToDeleteCollectionQueue(r)},this.deleteDocument=()=>{let n=this.collectionName,r=this.docSelectionCriteria;return this.deleteDocumentByCriteria=()=>{let i=[];this.lf[n].iterate(((e,t)=>{Wp(e,r)&&i.push(t)})).then((()=>{i.length||t(ef.call(this,`No Documents found in "${n}" Collection with criteria ${JSON.stringify(r)}. No documents deleted.`)),i.length>1&&Qp.warn.call(this,`Multiple documents (${i.length}) with ${JSON.stringify(r)} found.`)})).then((()=>{i.forEach(((o,a)=>{this.lf[n].removeItem(o).then((()=>{a===i.length-1&&e(Yp.call(this,`${i.length} Document${i.length>1?"s":""} with ${JSON.stringify(r)} deleted.`,{keys:i}))})).catch((e=>{t(ef.call(this,`Could not delete ${i.length} Documents in ${n} Collection.`))}))}))}))},this.deleteDocumentByKey=()=>{this.lf[n].getItem(r).then((i=>{i?this.lf[n].removeItem(r).then((()=>{e(Yp.call(this,`Document with key ${JSON.stringify(r)} deleted.`,{key:r}))})).catch((function(e){t(ef.call(this,`No Document found in "${n}" Collection with key ${JSON.stringify(r)}. No document was deleted.`))})):t(ef.call(this,`No Document found in "${n}" Collection with key ${JSON.stringify(r)}. No document was deleted.`))}))},"object"==typeof r?this.deleteDocumentByCriteria():this.deleteDocumentByKey()},this.userErrors.length)Kp.call(this);else{let e=$p.call(this);if("db"==e)return this.deleteDatabase();if("collection"==e)return this.deleteCollection();if("doc"==e)return this.deleteDocument()}}))}function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cf.apply(this,arguments)}var lf=e.forwardRef((function(t,n){return e.createElement(wr,cf({direction:"down",timeout:1e3,ref:n},t))})),uf=function(t){var n=t.isModalVisible,r=t.name,i=void 0===r?"":r,o=t.handleAccept,a=t.handleReject,s=t.toVideoRequestType,c=df();return e.createElement(ua,{open:n,"aria-labelledby":"draggable-dialog-title",classes:{paperScrollPaper:c.paperScrollPaper},fullWidth:!0,BackdropProps:{style:{backgroundColor:"rgba(0,0,0,0.8)"}},TransitionComponent:lf,container:document.getElementById("cc-container")},e.createElement(Ya,null,e.createElement(ts,{className:c.title},"initial"==s?"".concat(i," is requesting to switch to a video\n        call"):"This call has been switched to video.\n        Do you wish to continue?")),e.createElement(_c,null,e.createElement(Sc,{className:c.button,onClick:o},"Accept"),e.createElement(Sc,{className:c.button,onClick:a},"Reject")))},df=(0,N.Z)((function(){return O({paperScrollPaper:{backgroundColor:"rgba(30,30,30,0.8)"},title:{paddingTop:10,paddingLeft:15,color:"#fff"},button:{color:"#1E79E7",textTransform:"capitalize"}})}));function hf(){return hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hf.apply(this,arguments)}var pf=e.forwardRef((function(t,n){return e.createElement(wr,hf({direction:"down",timeout:1e3,ref:n},t))})),ff=function(t){var n=t.isModalVisible,r=t.handleSessionEnd,i=t.handleLeave,o=mf();return e.createElement(ua,{open:n,"aria-labelledby":"draggable-dialog-title",classes:{paperScrollPaper:o.paperScrollPaper},fullWidth:!0,BackdropProps:{style:{backgroundColor:"rgba(0,0,0,0.8)"}},TransitionComponent:pf,container:document.getElementById("cc-container")},e.createElement(Ya,null,e.createElement(ts,{className:o.title},"Do you want to end presentation for everyone or just leave the session.")),e.createElement(_c,null,e.createElement(Sc,{className:o.button,onClick:r},"End"),e.createElement(Sc,{className:o.button,onClick:i},"Leave")))},mf=(0,N.Z)((function(){return O({paperScrollPaper:{backgroundColor:"rgba(30,30,30,0.8)"},title:{paddingTop:10,paddingLeft:15,color:"#fff"},button:{color:"#1E79E7",textTransform:"capitalize"}})})),vf=n(991),gf=n.n(vf);function yf(e){return yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(e)}function _f(e){return function(e){if(Array.isArray(e))return kf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Cf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bf(Object(n),!0).forEach((function(t){wf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wf(e,t,n){return(t=function(e){var t=function(e){if("object"!==yf(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==yf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===yf(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ef(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||Cf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cf(e,t){if(e){if("string"==typeof e)return kf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kf(e,t):void 0}}function kf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tf(t){var n=Ef((0,e.useState)(0),2),r=n[0],i=n[1],o=Ef((0,e.useState)([]),2),a=o[0],s=o[1],c=Ef((0,e.useState)(1),2),l=c[0],u=c[1],d=(0,e.useRef)(null),h=e.useCallback((function(){var e=window,n=e.innerWidth,r=e.innerHeight;t.showUserList&&function(){throw new TypeError('"width" is read-only')}();var i=parseInt((r-96)/150),o=parseInt((n-16)/150);return{width:n,height:r,numberOfRow:i>t.noOfUsersPerPage?t.noOfUsersPerPage:i||1,numberOfCol:o>t.noOfUsersPerPage?t.noOfUsersPerPage:o||1}}),[t.noOfUsersPerPage,t.showUserList]),p=Ef((0,e.useState)(h()),2),f=p[0],m=p[1],v=(0,e.useCallback)((function(){var e=h();f.height==e.height&&f.width==e.width||m(Sf({},e))}),[t]);(0,e.useEffect)((function(){setTimeout((function(){return i(0)}),1e3)}),[t.pinnedUserId]),(0,e.useEffect)((function(){return window.addEventListener("resize",v),function(){return window.removeEventListener("resize",v)}}),[v]),(0,e.useEffect)((function(){var e=h();m(Sf({},e))}),[t.noOfUsersPerPage,t.showUserList]),(0,e.useEffect)((function(){try{for(var e={constraints:{},defaultConstraints:{maxHeight:180},lastN:-1,onStageSources:[],selectedSources:[]},n=0;n<t.users.length;n++){var i,o,a,s=null===(i=t.users[n].videoTrack)||void 0===i||null===(o=(a=i).getSourceName)||void 0===o?void 0:o.call(a);s&&(e.constraints[s]={maxHeight:0})}if(t.pinnedUserId&&0==r){var c,l,u=t.users.find((function(e){return e.id===t.pinnedUserId})),h=null==u||null===(c=u.videoTrack)||void 0===c||null===(l=c.getSourceName)||void 0===l?void 0:l.call(c);h&&(e.constraints[h]={maxHeight:720},e.onStageSources.push(h)),window.room.setReceiverConstraints(e)}else{var p=r+(t.pinnedUserId?0:1);if(d.current[p]){for(var f=_f(d.current[p]),m=0;m<f.length;m++){var v,g,y,_,b=null===(v=f[m])||void 0===v||null===(g=v.videoTrack)||void 0===g||null===(y=(_=g).getSourceName)||void 0===y?void 0:y.call(_);b&&(e.selectedSources.push(b),e.constraints[b]={maxHeight:360})}if(t.pinnedUserId){var S=t.users.find((function(e){return e.id===t.pinnedUserId}));if(S){var w,E,C=null==S||null===(w=S.videoTrack)||void 0===w||null===(E=w.getSourceName)||void 0===E?void 0:E.call(w);C&&(e.constraints[C]={maxHeight:720},e.onStageSources.push(C))}}window.room.setReceiverConstraints(e)}}}catch(e){}}),[r,t.pinnedUserId,t.screenSharersID,d.current]),(0,e.useEffect)((function(){var e=setInterval((function(){var e;null!==(e=t.dominantSpeakerList)&&void 0!==e&&e.length&&s(_f(t.dominantSpeakerList))}),1e4);return function(){clearInterval(e)}}),[t.dominantSpeakerList]);var g=function(n,r){var i,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.createElement("div",{key:n.id,style:r,className:" grid-box ".concat(t.dominantSpeakerId===n.id?"show-border":""," ")},e.createElement(op,{hideVideo:!o,hideName:!0,mainVideo:a,size:"fullscreen"===t.avatarMode?"fill":"square"===t.avatarMode?"square":"medium",withAudio:!1,user:n,cover:!(!a||null!==(i=n.name)&&void 0!==i&&i.includes(gt.SCREEN_SHARE_POSTFIX))&&t.fitVideo}),e.createElement(fp,{connectionQuality:t.connectionQuality&&t.connectionQuality[n.id],noisyMics:t.noisyMics,muteUser:t.muteUser,user:n,pinnedUserId:t.pinnedUserId,pinUser:t.pinUser,localizedObject:t.localizedObject,unPinUser:t.unPinUser,toggleFitVideo:t.toggleFitVideo,fitVideo:t.fitVideo,mainVideo:a}),t.pinnedUserId==n.id?null:e.createElement("div",{onClick:function(){return t.pinUser(n)},className:"rounded-full pin-option"},e.createElement(Gd,{alt:"Pin",className:"pin-image"})))},y=function(n,i){var o,a,s=(a=1,(o=n.length)>2&&o<=6?a=2:o>6&&o<=12?a=3:o>12&&o<=20?a=4:o>20&&o<=30?a=5:o>30&&o<=42?a=6:o>42&&o<=49&&(a=7),a),c=Math.ceil(n.length/s);s>t.noOfUsersPerPage&&(s=t.noOfUsersPerPage),c>t.noOfUsersPerPage&&(c=t.noOfUsersPerPage),s>f.numberOfRow&&(s=f.numberOfRow),c>f.numberOfCol&&(c=f.numberOfCol),s*c<n.length&&(s=f.numberOfRow,c=f.numberOfCol);for(var l=[],u=0;u<s;u++){for(var d=[],h=0;h<c;h++){var p=u*c+h;n[p]&&d.push(g(n[p],{width:100/s+"%",maxWidth:"40%",minWidth:"150px"},r===i))}l.push(e.createElement("div",{className:"grid-row",style:{height:100/s-1+"%",maxHeight:"50%",minHeight:"150px"}},d))}return e.createElement("div",{key:"page-"+i,className:"tile-main-container"},e.createElement("div",{style:{paddingBottom:20,paddingLeft:"5%",paddingRight:"5%"},className:"tile-list-wrapper"},l))};return e.createElement("div",{className:"paginated-container","data-testid":"cc-tile-container"},function(){for(var n=[],r=1;r<t.users.length;r++)t.users[r].audioTrack&&!t.users[r].isAudioMuted&&n.push(e.createElement(rp,{key:t.users[r].id+"_audio",name:t.users[r].name,audioTrack:t.users[r].audioTrack}));return n}(),e.createElement(gf(),{selected:r,bullets:l>1,mobileTouch:!1,fillParent:!0,infinite:!1,onTransitionRequest:function(e){i(e.nextIndex)}},function(){try{var n=[],o=t.users,s=[],c={};if(t.pinnedUserId){c[0]=t.pinnedUserId;var h=null;if(a.length){var p=Sf({},o[0]);p.id==t.pinnedUserId&&(h=p);var m=_f(o);m.shift();var v=[],_=[];m.forEach((function(e){var n=a.findIndex((function(t){return t==e.id}));t.pinnedUserId==e.id?h=e:n>=0?v[n]=e:_.push(e)})),s=[p].concat(v,_)}else s=_f(o).filter((function(e){return e.id!=t.pinnedUserId||(h=e,!1)}));if(h){var b,S,w=null===(b=t.screenSharersID.find((function(e){return e.screenShareId===h.id})))||void 0===b?void 0:b.userId,E=o[o.findIndex((function(e){return e.id===w}))];n.push(e.createElement("div",{key:"pinned",className:"paginated-pinned-view ".concat(t.pinnedUserId==t.myScreenShareID?"paginated-pinned-view-text":"")},t.pinnedUserId==t.myScreenShareID?e.createElement("p",{style:{color:"#ffff"}},"You are currently sharing your screen."):g(h,{borderWidth:0},!0,!0),"presenter"!==t.screenShareMode&&_m(null===(S=h)||void 0===S?void 0:S.videoTrack)&&E?e.createElement(yp,{user:E,boundaryClass:"paginated-pinned-view",avatarMode:!1}):null))}else n.push(null)}else if(a.length){var C=Sf({},o[0]),k=_f(o);k.shift();var T=[],x=[];k.forEach((function(e){var t=a.findIndex((function(t){return t==e.id}));t>=0?T[t]=e:x.push(e)})),s=[C].concat(T,x)}else s=_f(o);for(var A=(s=s.filter((function(e){return e}))).length,R=f.numberOfCol&&f.numberOfRow?f.numberOfCol*f.numberOfRow:9,I=0;I<A/R;I++){var O=_f(s).splice(I*R,R);c[I+1]=O.map((function(e){return e})).filter((function(e){return null==e?void 0:e.id})),n.push(y(O,I+(t.pinnedUserId?1:0)))}return n.length!=l&&(1==n.length&&i(0),r>n.length-1&&i(n.length-1),u(n.length)),d.current=c,n}catch(e){}}()))}n(485),n(4099),Tf.propTypes={avatarMode:Dn().string,unPinUser:Dn().func,pinUser:Dn().func,pinnedUserId:Dn().string,users:Dn().array,dominantSpeakerId:Dn().string,muteUser:Dn().func,localizedObject:Dn().object,myScreenShareID:Dn().string,localUserId:Dn().string,connectionQuality:Dn().object},Tf.defaultProps={unPinUser:function(){},pinUser:function(){},pinnedUserId:"",users:[],dominantSpeakerId:"",muteUser:function(){},localizedObject:{},room:{},myScreenShareID:"",avatarMode:"circle",localUserId:"",connectionQuality:{}};var xf=Tf;function Af(e){return Af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(e)}function Rf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=function(e){if("object"!==Af(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==Af(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Af(i)?i:String(i)),r)}var i}var If=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"audio"!==t.getType())throw new Error("AudioMixerEffect only supports audio JitsiLocalTracks; effect will not work!");this._mixAudio=t}var t,n;return t=e,(n=[{key:"isEnabled",value:function(e){return e.isAudioTrack()&&this._mixAudio.isAudioTrack()}},{key:"startEffect",value:function(e){return this._originalStream=e,this._originalTrack=e.getTracks()[0],this._audioMixer=JitsiMeetJS.createAudioMixer(),this._audioMixer.addMediaStream(this._mixAudio.getOriginalStream()),this._audioMixer.addMediaStream(this._originalStream),this._mixedMediaStream=this._audioMixer.start(),this._mixedMediaTrack=this._mixedMediaStream.getTracks()[0],this._mixedMediaStream}},{key:"stopEffect",value:function(){this._audioMixer.reset()}},{key:"setMuted",value:function(e){this._originalTrack.enabled=!e}},{key:"isMuted",value:function(){return!this._originalTrack.enabled}}])&&Rf(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Of(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(7275);var Pf=function(t){var n,r,i=t.onLeave,o=t.onStay,a=t.timeToLeaveInSec,s=void 0===a?60:a,c=t.localizedObject,l=(r=2,function(e){if(Array.isArray(e))return e}(n=e.useState(s))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(n,r)||function(e,t){if(e){if("string"==typeof e)return Of(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Of(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=l[0],d=l[1],h=u>0,p=Math.floor(u/60),f="".concat(p>0?"".concat(p,":"):"").concat((u%60).toString().padStart(2,"0")),m=Math.ceil(u/60);return e.useEffect((function(){var e=setInterval((function(){d((function(t){return t<=1&&(setTimeout((function(){i(ht)}),0),clearInterval(e)),t-1}))}),1e3);return function(){clearInterval(e)}}),[]),e.createElement("div",{className:"modal-overlay",style:h?{}:{backgroundColor:"#1c2226"}},e.createElement("div",{className:"modal"},h&&e.createElement("div",{className:"timer-circle"},e.createElement("span",{className:"timer-text"},f)),e.createElement("h2",{className:"modal-title"},h?c.ARE_YOU_STILL_THERE:c.MEETING_ENDED),h?e.createElement("p",{className:"modal-text"},m>1?c.SOLO_CALL_WARNING_MINUTES.replace("__MINUTES__",m):c.SOLO_CALL_WARNING_MINUTE.replace("__MINUTES__",m)):e.createElement("p",{className:"modal-text"},c.CALL_ENDED_MESSAGE),e.createElement("div",{className:"modal-buttons"},e.createElement("button",{className:"leave-button",onClick:function(){i(h?ut:dt)}},c.LEAVE_NOW),h&&e.createElement("button",{className:"stay-button",onClick:o},c.STAY_IN_CALL))))};function Mf(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Df(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Nf(e){return Nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(e)}function Lf(e){return function(e){if(Array.isArray(e))return jf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Df(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Df(e,t){if(e){if("string"==typeof e)return jf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jf(e,t):void 0}}function jf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ff(){Ff=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new k(i||[]);return r(a,"_invoke",{value:S(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function h(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(T([])));g&&g!==t&&n.call(g,o)&&(m=g);var y=f.prototype=h.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,o,a,s){var c=u(e[r],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==Nf(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},_(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Bf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bf(Object(n),!0).forEach((function(t){Jf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gf(r.key),r)}}function Vf(e,t){return Vf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vf(e,t)}function zf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qf(e){return qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qf(e)}function Jf(e,t,n){return(t=Gf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gf(e){var t=function(e){if("object"!==Nf(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==Nf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Nf(t)?t:String(t)}function Wf(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Qf(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Wf(o,r,i,a,s,"next",e)}function s(e){Wf(o,r,i,a,s,"throw",e)}a(void 0)}))}}var Zf,$f,Kf="Conference",Xf=null,Yf=null,em=!1,tm=0,nm="avatar-url",rm="user_object",im="CallingComponent",om="",am=[];function sm(e){return cm.apply(this,arguments)}function cm(){return(cm=Qf(Ff().mark((function e(t){var n,r,i,o;return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JitsiMeetJS.createLocalTracks(t);case 2:n=e.sent,r=Mf(n);try{for(r.s();!(i=r.n()).done;)o=i.value,am.push(o)}catch(e){r.e(e)}finally{r.f()}return window.allTracks=am,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lm,um,dm=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vf(e,t)}(d,t);var r,i,o,a,s,c,l,u=(c=d,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qf(c);if(l){var n=qf(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Nf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zf(e)}(this,e)});function d(t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),Jf(zf(r=u.call(this,t)),"toggleFitVideo",(function(){r.setState({fitVideo:!r.state.fitVideo})})),Jf(zf(r),"checkIsPWA",(function(){(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://"))&&(r.PWAListener=document.addEventListener("visibilitychange",Qf(Ff().mark((function e(){var t,n,i,o,a,s,c,l,u,d,h,p;return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"visible"===document.visibilityState&&(r.state.isAudioOnly||null===(t=r.state)||void 0===t||null===(n=t.users)||void 0===n||null===(i=n[0])||void 0===i||!i.videoTrack||null!==(o=r.state)&&void 0!==o&&null!==(a=o.users)&&void 0!==a&&null!==(s=a[0])&&void 0!==s&&s.isVideoMuted||bm({devices:[pt]}).then(function(){var e=Qf(Ff().mark((function e(t){var n;return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t[0],e.next=3,Yf.replaceTrack(r.state.users[0].videoTrack,n);case 3:return e.next=5,r.state.users[0].videoTrack.dispose();case 5:r.setState({users:r.state.users.map((function(e,t){return 0==t?Uf(Uf({},e),{},{videoTrack:n,isVideoMuted:!1}):e}))});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){})),null===(c=r.state)||void 0===c||null===(l=c.users)||void 0===l||null===(u=l[0])||void 0===u||!u.audioTrack||null!==(d=r.state)&&void 0!==d&&null!==(h=d.users)&&void 0!==h&&null!==(p=h[0])&&void 0!==p&&p.isAudioMuted||bm({devices:["audio"]}).then(function(){var e=Qf(Ff().mark((function e(t){return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yf.replaceTrack(r.state.users[0].audioTrack,t[0]);case 2:return e.next=4,r.state.users[0].audioTrack.dispose();case 4:r.setState({users:r.state.users.map((function(e,n){return 0==n?Uf(Uf({},e),{},{audioTrack:t[0],isAudioMuted:!1}):e}))});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){})));case 1:case"end":return e.stop()}}),e)})))))})),Jf(zf(r),"storeImagesInLocal",(function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(e,t){Ql(e,(function(e){Zl(r.db,e,"custom")}))}))})),Jf(zf(r),"checkBrowser",(function(){try{if(-1!==navigator.userAgent.indexOf("like Mac")){var e=window.navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i),i=t&&n&&!e.match(/CriOS/i)&&!e.match(/OPiOS/i);t&&!i&&(At.log(im,"[checkBrowser]",{iOS:t,webkit:n,iOSSafari:i}),r.props.enqueueSnackbar(r.localizedObject.IOS_BROWSER_WARNING,{variant:"error",autoHideDuration:2e3,anchorOrigin:{vertical:"bottom",horizontal:"left"}}))}}catch(e){At.log(im,"[checkBrowser]",e)}})),Jf(zf(r),"getOrientation",(function(){try{var e=window.innerWidth>window.innerHeight?"Landscape":"Portrait";r.setState({orientation:e})}catch(e){At.log(im,"[getOrientation]",e)}})),Jf(zf(r),"dominantSpeakers",[]),Jf(zf(r),"unload",function(){var e=Qf(Ff().mark((function e(t){return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.left){e.next=18;break}return r.left=!0,r.showOnLeftMsg=!1,e.prev=3,r.state.isScreenShareOn&&r.stopScreenShare(),e.next=7,Yf.leave().then(Qf(Ff().mark((function e(){return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.disposeLocalTracks();case 2:Xf.disconnect(),Kf="Conference",Xf=null,Yf=null,em=!1,tm=0,Zf=void 0,$f=void 0,r.props.onCallEnded();case 11:case"end":return e.stop()}}),e)}))));case 7:return r.disposeLocalTracks(),r.deleteAllTracks(),JitsiMeetJS.mediaDevices.removeEventListener(JitsiMeetJS.events.mediaDevices.DEVICE_LIST_CHANGED,r.onDeviceListChange),(t||window.event).returnValue=null,e.abrupt("return",null);case 14:return e.prev=14,e.t0=e.catch(3),At.log(im,"[unload]",e.t0),e.abrupt("return",null);case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}()),Jf(zf(r),"init",(function(e){try{Kf=e,JitsiMeetJS.init(nt),JitsiMeetJS.setLogLevel(JitsiMeetJS.logLevels.ERROR)}catch(e){At.log(im,"[init]",e)}})),Jf(zf(r),"muteNoisyMic",(function(){var e=r.state.users;e[0].audioTrack&&(e[0].audioTrack.mute(),e[0].isAudioMuted=!0,r.props.triggerEvent&&r.props.triggerEvent(ct,{muted:r.removeAudioVideoTrackFromUser(e[0]),mutedBy:r.removeAudioVideoTrackFromUser(e[0])}),r.setState({users:e}),!0===r.state.noisyMics[e[0].id]&&Yf.sendCommandOnce(ze,{value:e[0].id}))})),Jf(zf(r),"unMuteMic",(function(){var e=r.state.users;e[0].audioTrack&&(e[0].audioTrack.unmute(),e[0].isAudioMuted=!1,r.setState({users:e}),r.props.triggerEvent&&r.props.triggerEvent(lt,{muted:r.removeAudioVideoTrackFromUser(e[0]),mutedBy:r.removeAudioVideoTrackFromUser(e[0])}))})),Jf(zf(r),"noisyMicAction",(function(t){return e.createElement(e.Fragment,null,e.createElement("button",{style:{paddingRight:10,outline:"none",backgroundColor:"#fff",color:"#000",fontSize:11,padding:"8px 10px",borderRadius:5},onClick:function(){r.muteNoisyMic(),r.props.closeSnackbar(t)}},"Mute","     "))})),Jf(zf(r),"talkWhileMuteAction",(function(t){return e.createElement(e.Fragment,null,e.createElement("button",{style:{paddingRight:5,outline:"none",backgroundColor:"#fff",color:"#000",fontSize:11,padding:"8px 10px",borderRadius:5},onClick:function(){r.unMuteMic(),r.props.closeSnackbar(t)}},"Unmute","     "))})),Jf(zf(r),"onConnectionSuccess",(function(){try{var e;r.state.connectionError&&r.setState({connectionError:!1,connectionErrorType:""}),Yf=Xf.initJitsiConference(Kf,Uf(Uf({},rt),{},{createVADProcessor:xn})),window.room=Yf,At.log(im,"onConnectionSuccess Called......",Yf),r.getDevices(!1);var t=Yf.myUserId()||"",i=Lf(r.state.users),o=i[0];i[0]=Uf(Uf({},o),{},{id:t}),r.setState({users:i,dominantSpeakerId:Yf.lastDominantSpeaker||t}),Yf.on(JitsiMeetJS.events.conference.TRACK_ADDED,r.onRemoteTrack),Yf.on(JitsiMeetJS.events.conference.NOISY_MIC,r.onNoisyMic),Yf.on(JitsiMeetJS.events.conference.TALK_WHILE_MUTED,r.onTalkWhileMuted),Yf.on(JitsiMeetJS.events.conference.TRACK_REMOVED,r.onRemoteTrackRemoved),Yf.on(JitsiMeetJS.events.conference.CONFERENCE_JOINED,r.onConferenceJoined),Yf.on(JitsiMeetJS.events.conference.CONFERENCE_FAILED,r.onConferenceFailed),Yf.on(JitsiMeetJS.events.conference.USER_JOINED,r.onUserJoined),Yf.on(JitsiMeetJS.events.conference.USER_LEFT,r.onUserLeft),Yf.on(JitsiMeetJS.events.conference.TRACK_MUTE_CHANGED,r.onTrackMuted),Yf.on(JitsiMeetJS.events.conference.PARTICIPANT_KICKED,(function(){})),Yf.on(JitsiMeetJS.events.conference.DOMINANT_SPEAKER_CHANGED,r.onDominantSpeakerChanged),Yf.on(JitsiMeetJS.events.connectionQuality.REMOTE_STATS_UPDATED,r.onRemoteStatsUpdated),Yf.on(JitsiMeetJS.events.connectionQuality.LOCAL_STATS_UPDATED,r.onLocalStatsUpdated),Yf.on(JitsiMeetJS.events.conference.LAST_N_ENDPOINTS_CHANGED,r.onLastNChanged),Yf.on(JitsiMeetJS.events.conference.CONNECTION_INTERRUPTED,r.onConnectionInterrupted),Yf.on(JitsiMeetJS.events.conference.CONNECTION_RESTORED,r.onConnectionRestored),Yf.on(JitsiMeetJS.events.conference.PARTICIPANT_CONN_STATUS_CHANGED,r.onParticipantStatusChange),JitsiMeetJS.mediaDevices.addEventListener(JitsiMeetJS.events.mediaDevices.DEVICE_LIST_CHANGED,r.onDeviceListChange),Yf.addCommandListener(Ve,(function(e){var t=e.value;r.setState({noisyMics:Uf(Uf({},r.state.noisyMics),{},Jf({},t,!0))},(function(){setTimeout((function(){r.setState({noisyMics:Uf(Uf({},r.state.noisyMics),{},Jf({},t,!1))})}),15e3)}))})),Yf.addCommandListener(ze,(function(e){var t=e.value;r.setState({noisyMics:Uf(Uf({},r.state.noisyMics),{},Jf({},t,!1))})})),Yf.addCommandListener(qe,(function(e){var t=e.value,n=JSON.parse(t);r.setState({pinnedUserId:n.screenShareId}),r.screenShareUserID=n.userId,r.screenSharersID=[].concat(Lf(r.screenSharersID),[n])})),Yf.addCommandListener(Qe,(function(e){var t=e.attributes;!1===r.state.isRecording&&(r.setState({recorder:t,recordId:t.recordId,isRecording:!0}),r.recordingStartedBy={uid:t.uid,name:t.name})})),Yf.addCommandListener(Ke,(function(e){var t=e.attributes;r.setState({tryingToStartRecording:!0,recorder:t})})),Yf.addCommandListener(et,(function(e){e.attributes,r.setState({tryingToStartRecording:!1,recorder:null})})),Yf.addCommandListener($e,(function(e){var t=e.attributes;if(r.showUserJoinMsg){var n={},i={};r.state.users.map((function(e){e.id==t.mutedParticipantId?i=e:e.id==t.participantMutedBy&&(n=e)})),!1!==Ru.isPresenter&&r.props.enqueueSnackbar(" ".concat(kt(n.name)," ").concat(r.localizedObject.MUTED," ").concat(kt(i.name)),{variant:"info",autoHideDuration:2e3,anchorOrigin:{vertical:"bottom",horizontal:"left"}}),r.props.triggerEvent&&r.props.triggerEvent(ct,{muted:r.removeAudioVideoTrackFromUser(i),mutedBy:r.removeAudioVideoTrackFromUser(n)})}})),Yf.addCommandListener(Ze,(function(e){e.attributes,r.setState({recorder:{},recordId:null,isRecording:!1})})),Yf.addCommandListener(Je,(function(e){var t=e.value;t===r.state.pinnedUserId&&r.setState({pinnedUserId:null}),r.screenShareUserID=void 0,r.screenSharersID=r.screenSharersID.filter((function(e){return e.userId!==t}))})),Yf.setDisplayName(r.state.myUserName),Yf.sendCommand("uid",{value:r.props.uid}),r.props.avatar&&Yf.sendCommand(nm,{value:r.props.avatar}),Yf.addCommandListener(nm,(function(e,t){At.log(im,"Avatar data received : ",e);var n=r.state.users.map((function(n){return n.id===t?Uf(Uf({},n),{},{avatar:e.value}):n}));r.setState({users:n})})),Yf.on(JitsiMeetJS.events.conference.SUBJECT_CHANGED,r.onRoomSubjectChange),Yf.addCommandListener(Xe,(function(e,t){var n=e.attributes.initiator&&JSON.parse(e.attributes.initiator);t===r.localUser.id||r.switchedToVideoCall||r.setState({toVideoRequestModal:!0,toVideoRequestInitiator:n})})),Yf.addCommandListener(Ye,(function(e,t){if(!r.switchedToVideoCall){var n=e.attributes.responder&&JSON.parse(e.attributes.responder);"true"==e.attributes.response?(r.switchToVideoCall(!0,n),r.switchedToVideoCall=!0,r.toVideoRequestResponder=n,r.setState({requestingForVideoCall:!1},(function(){}))):(r.setState({requestingForVideoCall:!1}),!1!==Ru.isPresenter&&r.props.enqueueSnackbar(" ".concat(r.localizedObject.REQUESTING_TO_SWITCH_VIDEO_CALL_REJECTED),{variant:"error",autoHideDuration:2e3,anchorOrigin:{vertical:"bottom",horizontal:"left"}}))}}));var a={start_recording_on_call_start:r.props.startRecordingOnCallStart,is_video_muted:r.props.startVideoMuted,is_audio_muted:r.props.startAudioMuted,session_id:r.props.sessionID,is_audio_only:r.props.isAudioOnly,mode:r.props.mode,uid:i[0].uid,platform:"web",sdk:"react",sdk_version:n(4147).i8,app_id:r.props.appID,meeting_id:Yf.xmpp.getJid()};r.props.urlVersion>="5"&&(a.call_version=n(4147).i8);var s=new URLSearchParams(window.location.search);a.param_v=null!==(e=s.get("v"))&&void 0!==e?e:0,Yf.sendCommand("initial_config",{attributes:a}),Yf.sendCommand(rm,{attributes:{uid:r.props.uid,avatar:r.props.avatar||o.avatar,name:r.state.myUserName,joinnedAt:Date.now(),isPresenter:Ru.isPresenter}}),Yf.addCommandListener(rm,(function(e,t){At.log(im,"USER_OBJECT received data : ",e);var n=e.attributes.isPresenter;if("SCREEN_SHARE"===e.attributes.uid)return!1;var i=r.state.users.map((function(i){return i.id===t?(i.uid||r.props.triggerEvent&&r.props.triggerEvent("onUserJoined",e.attributes),Uf(Uf({},i),{},{uid:e.attributes.uid,avatar:e.attributes.avatar,joinedAt:e.attributes.joinnedAt,isPresenter:"string"==typeof n?"true"===n:void 0})):i})),o=r.state.exportUserList;if(!r.state.exportUserList.find((function(e){return e.id===t}))){var a={id:t,name:e.attributes.name,avatar:e.attributes.avatar,uid:e.attributes.uid};o=[].concat(Lf(o),[a]),r.props.triggerEvent&&r.props.triggerEvent(it,o)}r.setState({users:i,exportUserList:o},(function(){At.log(im,"Export userList = ",r.state.exportUserList)}))})),Yf.addCommandListener(tt,(function(e){r.endCall()})),Yf.join(),Xf.removeEventListener(JitsiMeetJS.events.connection.CONNECTION_ESTABLISHED,r.onConnectionSuccess)}catch(e){At.log(im,"[onConnectionSuccess]",e)}})),Jf(zf(r),"onCallConvertedToVideo",(function(e,t){r.switchedToVideoCall||(r.toVideoRequestResponder=t,r.setState({toVideoRequestInitiator:e,toVideoRequestType:"other",toVideoRequestModal:!0}))})),Jf(zf(r),"onLocalStatsUpdated",(function(e){try{r.stats.connectionQuality||(r.stats.connectionQuality={}),r.stats.connectionQuality[r.localUser.id]=e.connectionQuality,JSON.stringify(r.state.stats)!=JSON.stringify(r.stats)&&(At.log(im,"onLocalStatsUpdated updated : ",e),r.setState({connectionQuality:Uf({},r.stats.connectionQuality)}))}catch(e){At.log(im,"[onLocalStatsUpdated]",e)}})),Jf(zf(r),"onRemoteStatsUpdated",(function(e,t){try{r.stats.connectionQuality||(r.stats.connectionQuality={}),r.stats.connectionQuality[e]=t.connectionQuality,JSON.stringify(r.state.connectionQuality)!=JSON.stringify(r.stats.connectionQuality)&&(At.log(im,"onRemoteStatsUpdated updated : ",t),r.setState({connectionQuality:Uf({},r.stats.connectionQuality)}))}catch(e){At.log(im,"[onRemoteStatsUpdated]",e)}})),Jf(zf(r),"onConferenceFailed",(function(e){At.log(im,"onConferenceFailed Called......",e),$f()})),Jf(zf(r),"onLastNChanged",(function(e,t){try{At.log(im,"LastN LeavingIDs...  ",e),At.log(im,"LastN enteringIds...  ",t);var n,i=[];if(n=Array.from(new Set([].concat(Lf(t),Lf(r.LastNId)))),null!=e&&e.length)for(var o=0;o<n.length;o++)e.includes(n[o])||i.push(n[o]);else i=n;r.state.LastNId?i.toString()!=r.LastNId.toString()&&(r.LastNId=i,r.setState({LastNId:r.LastNId})):(r.LastNId=i,r.setState({LastNId:r.LastNId}))}catch(e){At.log(im,"[onLastNChanged]",e)}})),Jf(zf(r),"onDominantSpeakerChanged",(function(e){try{if(At.log(im,"onDominantSpeakerChanged id ...  ",e),!e)return;if(r.state.users[0].id!==e){var t=[e].concat(Lf(r.state.dominantSpeakerList)),n=new Set(t);r.setState({dominantSpeakerId:e,dominantSpeakerList:Array.from(n)})}}catch(e){At.log(im,"[onDominantSpeakerChanged]",e)}})),Jf(zf(r),"onUserJoined",(function(e,t){try{var n;if(At.log(im,"onUserJoined",t),"Unnamed"===(n=t.getDisplayName()?t.getDisplayName():"Unnamed")&&t._statsID.includes("jibri"))return!1!==Ru.isPresenter&&(r.props.enqueueSnackbar(r.localizedObject.CALL_RECORDING_STARTED_MSG,{variant:"info",autoHideDuration:2e3,anchorOrigin:{vertical:"bottom",horizontal:"left"}}),r.props.triggerEvent&&r.props.triggerEvent(st,{recordingStarted:!0,user:r.recordingStartedBy})),!1;var i={id:t.getId(),name:n,avatar:void 0,status:"active",isAudioMuted:void 0,isVideoMuted:void 0,videoTrack:void 0,audioTrack:void 0};i.name&&i.name.includes(gt.SCREEN_SHARE_POSTFIX)&&r.setState({isAnyScreenShareUser:[].concat(Lf(r.state.isAnyScreenShareUser),[i])}),Ru.mode!==_t&&r.showUserJoinMsg&&!1!==Ru.isPresenter&&r.props.enqueueSnackbar("".concat(kt(n)," ").concat(r.localizedObject.USER_JOINED_CALL_MSG),{variant:"info",autoHideDuration:2e3,anchorOrigin:{vertical:"bottom",horizontal:"left"}}),r.setState({users:[].concat(Lf(r.state.users),[i])}),r.state.isRecording&&r.state.recorder.id===r.state.users[0].id&&Yf.sendCommandOnce(Qe,{attributes:Uf({recordId:r.state.recordId},r.state.recorder)}),r.state.tryingToStartRecording&&Yf.sendCommandOnce(Ke,{attributes:Uf({},r.state.recorder)})}catch(e){At.log(im,"[onUserJoined]",e)}})),Jf(zf(r),"onUserLeft",(function(e,t){try{if(At.log(im,"[onUserLeft]",t._statsID,t._statsID.includes("jibri")),("Unnamed"===t.getDisplayName()||!t.getDisplayName())&&t._statsID&&t._statsID.includes("jibri"))return!1!==Ru.isPresenter&&(r.props.enqueueSnackbar(r.localizedObject.CALL_RECORDING_ENDED_MSG,{variant:"info",autoHideDuration:2e3,anchorOrigin:{vertical:"bottom",horizontal:"left"}}),r.setState({recorder:{},recordId:null,isRecording:!1}),r.props.triggerEvent&&r.props.triggerEvent(st,{recordingStarted:!1})),!1;r.state.pinnedUserId&&t._id===r.state.pinnedUserId&&r.setState({pinnedUserId:""});var n=null;r.state.users.map((function(e){if((null==n||n.joinedAt>e.joinedAt)&&t._id!==e.id&&"active"===e.status&&(n=e),t._id===e.id){if(r.state.tryingToStartRecording&&Yf.sendCommandOnce(et,{}),Ru.mode!==_t&&r.showOnLeftMsg){if(e.name&&e.name.includes(gt.SCREEN_SHARE_POSTFIX)){var i=Lf(r.state.isAnyScreenShareUser).filter((function(t){return t.id!=e.id}));r.setState({isAnyScreenShareUser:i})}r.usersLeftNotiHoldTime&&clearTimeout(r.usersLeftNotiHoldTime),r.usersLeftNotiHoldTime=setTimeout((function(){for(var t=0;t<r.usersLeft.length;t+=4){var n=r.usersLeft.slice(t,t+4),i=n.length<=1?"".concat(kt(e.name)," ").concat(r.localizedObject.USER_LEFT_CALL_MSG):r.localizedObject.USERS_LEFT_CALL_MSG.replace("__USERS__",n.slice(0,-1).join(", ")).replace("__USER__",n[n.length-1]);!1!==Ru.isPresenter&&r.props.enqueueSnackbar(i,{variant:"info",autoHideDuration:Math.min(500+90*i.length,3e3),anchorOrigin:{vertical:"bottom",horizontal:"left"}})}r.usersLeftNotiHoldTime=null,r.usersLeft=[]}),300)}r.usersLeft.push(kt(e.name)),r.props.triggerEvent&&r.props.triggerEvent("onUserLeft",{uid:e.uid,name:e.name,avatar:e.avatar})}}));var i=r.state.users.filter((function(e){return e.id!==t._id}));r.state.recorder&&t._id===r.state.recorder.id&&r.setState({recorder:n});var o=r.state.exportUserList.filter((function(e){return e.id!==t._id}));r.props.triggerEvent&&r.props.triggerEvent(it,o),i.length<=1&&r.props.triggerEvent("hangup",{}),r.setState({exportUserList:o,users:i})}catch(e){At.log(im,"[onUserLeft]",e)}})),Jf(zf(r),"onTrackMuted",(function(e){try{At.log(im,"onTrackMuted ...... ",e),At.log(im,"onTrackMuted isMuted ...... ",e.isMuted());var t=e.ownerEndpointId;e.isLocal()&&(t=r.state.users[0].id);var n=r.state.users.map((function(n){return n.id===t?e.getType()===pt?Uf(Uf({},n),{},{isVideoMuted:e.isMuted()}):Uf(Uf({},n),{},{isAudioMuted:e.isMuted()}):n}));r.setState({users:n})}catch(e){At.log(im,"[onTrackMuted]",e)}})),Jf(zf(r),"onUserKicked",(function(e,t){try{var n=Yf.getParticipantById(e);Yf.kickParticipant(e,"reason"),At.log(im,"kickParticipant ......sfddsfdssdff ",n)}catch(e){}})),Jf(zf(r),"onRemoteTrack",(function(e){try{if(e.isLocal())return;At.log(im,"onRemoteTrack ...... ",e);var t=e.ownerEndpointId;_m(e)?r.setState({pinnedUserId:e.ownerEndpointId}):Yf.lastDominantSpeaker===t&&r.setState({dominantSpeakerId:e.ownerEndpointId});var n=r.state.users.map((function(n){return n.id===t?e.type===pt?_m(e)?Uf(Uf({},n),{},{screenShareUserID:r.screenShareUserID,videoTrack:e,isVideoMuted:e.muted}):Uf(Uf({},n),{},{videoTrack:e,isVideoMuted:e.muted}):Uf(Uf({},n),{},{audioTrack:e,isAudioMuted:e.muted}):n}));r.setState({users:n})}catch(e){At.log(im,"[onRemoteTrack]",e)}})),Jf(zf(r),"onNoisyMic",(function(e){var t=Yf.myUserId()||"";Yf.sendCommandOnce(Ve,{value:t}),!1!==Ru.isPresenter&&r.props.enqueueSnackbar(r.localizedObject.NOISY_MIC,{action:r.noisyMicAction,variant:"warning",autoHideDuration:5e3,anchorOrigin:{vertical:"bottom",horizontal:"left"}})})),Jf(zf(r),"onTalkWhileMuted",(function(e){!1!==Ru.isPresenter&&r.props.enqueueSnackbar(r.localizedObject.TALK_WHILE_MUTED,{action:r.talkWhileMuteAction,variant:"warning",autoHideDuration:5e3,anchorOrigin:{vertical:"bottom",horizontal:"left"}})})),Jf(zf(r),"onConnectionInterrupted",(function(){em=!0,r.setState({connectionLost:!0})})),Jf(zf(r),"onConnectionRestored",(function(){em=!0,r.setState({connectionLost:!1})})),Jf(zf(r),"onParticipantStatusChange",(function(e,t){At.log(im,"PARTICIPANT_CONN_STATUS_CHANGED",e,t);var n=r.state.users.map((function(n){return n.id===e?Uf(Uf({},n),{},{status:t}):n}));r.setState({users:n})})),Jf(zf(r),"onDeviceListChange",function(){var e=Qf(Ff().mark((function e(t){var n,i;return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.state.users[0].videoTrack&&r.state.users[0].videoTrack.deviceId,r.state.users[0].audioTrack&&r.state.users[0].audioTrack.deviceId,i=!1,null==t||!t.length){e.next=13;break}if(t.map((function(e){e.deviceId===n&&(i=!0),e.deviceId})),!r.state.noCamera&&i||r.state.isAudioOnly){e.next=13;break}if(i||r.state.noCamera){e.next=11;break}return e.next=11,r.disposeLocalVideoTrack();case 11:bm({devices:["video"],facingMode:"user"}).then((function(e){r.onLocalTracks(e)})).catch((function(e){At.log(im,"Error creating Video local media : ",e),r.setState({noCamera:!0,showVideoPauseButton:!1})}));case 13:r.getDevices();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Jf(zf(r),"onRoomSubjectChange",(function(e){var t=e?JSON.parse(e):{};if(null!=t&&t.converted){var n=null==t?void 0:t.converted;r.onCallConvertedToVideo(n.initiator,n.responder)}})),Jf(zf(r),"onRemoteTrackRemoved",(function(e){try{At.log(im,"onRemoteTrackRemoved ...... ",e);var t=r.state.users.map((function(t){return t.id===e.ownerEndpointId?e.type===pt?Uf(Uf({},t),{},{videoTrack:void 0}):Uf(Uf({},t),{},{audioTrack:void 0}):t}));r.setState({users:t})}catch(e){At.log(im,"[onRemoteTrackRemoved]",e)}})),Jf(zf(r),"onConferenceJoined",Qf(Ff().mark((function e(){var t,n,i,o;return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==em){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,At.log("onConferenceJoined called ",r.state.localTracks),em=!0,r.props.startRecordingOnCallStart&&r.startRecording(),setTimeout((function(){return r.showUserJoinMsg=!0}),6e3),n=zf(r),(i=n.localUser).audioTrack&&Yf.addTrack(i.audioTrack),!i.videoTrack){e.next=12;break}return e.next=12,Yf.addTrack(i.videoTrack);case 12:o=function(){Yf.sendCommandOnce("ON_CONFERENCE_JOINED",{attributes:{startRecordingOnCallStart:r.props.startRecordingOnCallStart,username:r.props.username||"Unnamed",avatar:r.props.avatar,isVideoMuted:r.props.startVideoMuted,isAudioMuted:r.props.startAudioMuted,isLegacyServer:!1,sessionID:r.props.sessionID,isAudioOnly:r.props.isAudioOnly,mode:r.props.mode,uiVersion:2,appID:r.props.appID,meeting_id:Yf.xmpp.getJid()}})},"function"==typeof(null===(t=Yf.xmpp)||void 0===t?void 0:t.getJid)?o():setTimeout(o,3e3),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),At.log(im,"[onConferenceJoined]",e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,16]])})))),Jf(zf(r),"createLocalTracks",(function(){try{var e=!1;r.state.isAudioOnly||r.state.isBroadcast?(At.log(im,"createLocalTracks Audio Only",""),bm({devices:["audio"]}).then(r.onLocalTracks).catch((function(e){At.log(im,"Error creating local media : ",e)}))):"SINGLE"===r.state.mode?(At.log(im,"Single Mode local track create",""),bm({devices:["audio","video"],facingMode:"user",resolution:1080,constraints:{video:{aspectRatio:16/9,height:{ideal:720,max:720,min:405},width:{ideal:1280,max:1280,min:720}}}}).then(r.onLocalTracks).catch((function(e){At.log(im,"[createLocalTracks Video & Audio]","erroraudio",e),bm({devices:["audio"],facingMode:"user"}).then(r.onLocalTracks)}))):(At.log(im,"createLocalTracks Video & Audio",""),bm({devices:["audio","video"]}).then(r.onLocalTracks).catch((function(t){bm({devices:["audio"],facingMode:"user"}).then((function(e){r.onLocalTracks(e),r.props.enqueueSnackbar(r.localizedObject.CAMERA_ERROR_MSG,{variant:"error"})})).catch((function(t){At.log(im,"Error creating Audio local media : ",t),r.setState({noMic:!0,showAudioMuteButton:!1}),e=!0,bm({devices:["video"],facingMode:"user"}).then((function(e){r.onLocalTracks(e),r.props.enqueueSnackbar(r.localizedObject.MIC_ERROR_MSG,{variant:"error"})})).catch((function(t){e&&r.props.enqueueSnackbar(r.localizedObject.CAMERA_MIC_ERROR_MSG,{variant:"error"}),At.log(im,"Error creating Video local media : ",t),r.setState({noCamera:!0,showVideoPauseButton:!1})}))}))})))}catch(e){At.log(im,"[createLocalTracks]",e)}})),Jf(zf(r),"onLocalTracks",(function(e,t){At.log(im,"[onLocalTracks]",e,t);try{t||Xf||r.makeConnection(),e.forEach(function(){var n=Qf(Ff().mark((function n(i,o){var a,s,c,l;return Ff().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e[o].getType()===pt&&(localStorage.setItem("lastVideoDeviceId",e[o].deviceId),a=Lf(r.state.users),(s=a[0]).isVideoMuted&&!t&&e[o].mute(),""!==r.props.EnforceBackgroundImage&&"string"==typeof r.props.EnforceBackgroundImage?Gl({track:e[o],option:{type:"img",url:r.props.EnforceBackgroundImage}}):1!==r.props.EnforceBackgroundBlur&&2!==r.props.EnforceBackgroundBlur||Gl({track:e[o],option:{type:"blur",blurValue:1===r.props.EnforceBackgroundBlur?6:15}}),a[0]=Uf(Uf({},s),{},{videoTrack:e[o]}),r.setState({users:a,noCamera:!1})),e[o].getType()===ft&&(c=Lf(r.state.users),(l=c[0]).isAudioMuted&&e[o].mute(),c[0]=Uf(Uf({},l),{},{audioTrack:e[o]}),r.setState({users:c,noMic:!1})),!em){n.next=20;break}if(e[o].getType()!==ft){n.next=13;break}if(!Yf.getLocalAudioTrack()){n.next=9;break}return n.next=7,Yf.replaceTrack(Yf.getLocalAudioTrack(),e[o]);case 7:n.next=11;break;case 9:return n.next=11,Yf.addTrack(e[o]);case 11:case 16:n.next=20;break;case 13:if(!Yf.getLocalVideoTrack()){n.next=18;break}return n.next=16,Yf.replaceTrack(Yf.getLocalVideoTrack(),e[o]);case 18:return n.next=20,Yf.addTrack(e[o]);case 20:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()),r.state.isBroadcast&&zf(r).localUser.audioTrack.mute()}catch(e){At.log(im,"[onLocalTracks]",e)}})),Jf(zf(r),"switchToVideoCall",Qf(Ff().mark((function e(){var t,n,i,o=arguments;return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=o.length>0&&void 0!==o[0]&&o[0],n=o.length>1&&void 0!==o[1]?o[1]:{},r.setState({isAudioOnly:!1}),t&&(i={initiator:Uf({},r.state.toVideoRequestInitiator),responder:Uf({},n),response:!0},Yf.setSubject(JSON.stringify({converted:i}))),sm({devices:["video"],facingMode:"user"}).then((function(e){r.onLocalTracks(e)})).catch((function(e){At.log(im,"Error creating Video local media : ",e),r.setState({noCamera:!0,showVideoPauseButton:!1})})),r.props.triggerEvent&&r.props.triggerEvent("onCallSwitchedToVideo",{sessionId:r.props.sessionID,initiator:r.state.toVideoRequestInitiator,responder:n});case 7:case"end":return e.stop()}}),e)})))),Jf(zf(r),"sendRequestforVideoCall",(function(e){r.setState({toVideoRequestInitiator:Uf(Uf({},e),{},{audioTrack:null,videoTrack:null,stats:null})}),Yf.sendCommandOnce(Xe,{attributes:{initiator:JSON.stringify(Uf(Uf({},e),{},{audioTrack:null,videoTrack:null,stats:null}))}})})),Jf(zf(r),"sendVideoRequestResponse",(function(e){"initial"==r.state.toVideoRequestType?Yf.sendCommandOnce(Ye,{attributes:{responder:JSON.stringify(Uf(Uf({},r.state.users[0]),{},{audioTrack:null,videoTrack:null,stats:null})),response:e}}):e?r.switchToVideoCall():r.onEndCallButtonCLicked(),r.setState({toVideoRequestModal:!1})})),Jf(zf(r),"handleUnMutingVideoForFirstTime",(function(){if(r.props.startVideoMuted&&r.unMutingVideoForFirstTime){var e=r.state.users;r.unMutingVideoForFirstTime=!1,Yf.replaceTrack(e[0].videoTrack,e[0].videoTrack)}})),Jf(zf(r),"toggleVideoButton",function(){var e=Qf(Ff().mark((function e(t){var n;return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||r.state.isAudioOnly&&!r.switchedToVideoCall){e.next=2;break}return e.abrupt("return");case 2:if(n=r.state.users,!r.state.isAudioOnly||r.switchedToVideoCall){e.next=7;break}return r.sendRequestforVideoCall(n[0]),r.setState({requestingForVideoCall:!0}),e.abrupt("return");case 7:if(!r.presenterTrack){e.next=26;break}if(r.state.isPresenterTrackMuted){e.next=14;break}r.desktopVideoTrack.setEffect(void 0),r.presenterTrack.dispose(),r.setState({isPresenterTrackMuted:!0}),e.next=25;break;case 14:return r.setState({isPresenterTrackMuted:!1}),e.t0=r.desktopVideoTrack,e.t1=Nn,e.next=19,r.createLocalPresenterTrack();case 19:return e.t2=e.sent,e.next=22,(0,e.t1)(e.t2);case 22:return e.t3=e.sent,e.next=25,e.t0.setEffect.call(e.t0,e.t3);case 25:return e.abrupt("return");case 26:n[0].videoTrack&&(n[0].isVideoMuted?(n[0].videoTrack.unmute(),n[0].isVideoMuted=!1):(n[0].videoTrack.mute(),n[0].isVideoMuted=!0),r.setState({users:n}),r.handleUnMutingVideoForFirstTime());case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Jf(zf(r),"toggleAudioButton",(function(){var e=r.state.users;e[0].audioTrack&&(e[0].isAudioMuted?(e[0].audioTrack.unmute(),e[0].isAudioMuted=!1,r.props.triggerEvent&&r.props.triggerEvent(lt,{muted:r.removeAudioVideoTrackFromUser(e[0]),mutedBy:r.removeAudioVideoTrackFromUser(e[0])})):(e[0].audioTrack.mute(),e[0].isAudioMuted=!0,r.props.triggerEvent&&r.props.triggerEvent(ct,{muted:r.removeAudioVideoTrackFromUser(e[0]),mutedBy:r.removeAudioVideoTrackFromUser(e[0])})),r.setState({users:e}),!0===r.state.noisyMics[e[0].id]&&Yf.sendCommandOnce(ze,{value:e[0].id}))})),Jf(zf(r),"endCall",Qf(Ff().mark((function e(){return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({endCallDialogVisible:!1}),e.next=3,r.unload();case 3:case"end":return e.stop()}}),e)})))),Jf(zf(r),"endCallDueToTimeout",function(){var e=Qf(Ff().mark((function e(t){return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t===ht?(Yf.sendCommandOnce("call-ending-due-to-timeout",{attributes:{uid:r.props.uid,idleTimeoutPeriod:r.props.idleTimeoutPeriod}}),r.props.triggerEvent("onSessionTimeout",{})):t===ut&&r.props.triggerEvent(ot,{}),r.onEndCallButtonCLicked();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Jf(zf(r),"onEndCallButtonCLicked",(function(){r.localUserEndsCall=!0,!0!==Ru.isPresenter||!1!==r.state.endCallDialogVisible?r.endCall():r.setState({endCallDialogVisible:!0})})),Jf(zf(r),"endSessionForAll",(function(){Yf.sendCommand(tt,{value:r.state.users[0].id}),r.endCall()})),Jf(zf(r),"disposeLocalVideoTrack",Qf(Ff().mark((function e(){var t,n;return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=Lf(r.state.users),!(n=t[0]).videoTrack){e.next=8;break}return e.next=6,n.videoTrack.mute();case 6:return e.next=8,n.videoTrack.dispose();case 8:t[0]=Uf(Uf({},n),{},{videoTrack:void 0}),r.setState({users:t}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),At.log(im,"[disposeLocalVideoTrack]",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))),Jf(zf(r),"disposeLocalAudioTrack",Qf(Ff().mark((function e(){var t,n;return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=Lf(r.state.users),n=t[0],!Yf.getLocalAudioTrack()){e.next=6;break}return e.next=6,Yf.getLocalAudioTrack().dispose();case 6:t[0]=Uf(Uf({},n),{},{audioTrack:void 0}),r.setState({users:t}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),At.log(im,"[disposeLocalAudioTrack]",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))),Jf(zf(r),"createScreenShareTrack",Qf(Ff().mark((function e(){return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("presenter"!==r.props.screenShareMode){e.next=3;break}return r.createDesktopTrack(),e.abrupt("return");case 3:r.ScreenShareRef.start();case 4:case"end":return e.stop()}}),e)})))),Jf(zf(r),"createLocalPresenterTrack",function(){var e=Qf(Ff().mark((function e(t){var n,i,o,a,s,c,l,u,d=arguments;return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>1&&void 0!==d[1]?d[1]:400,i=d.length>2?d[2]:void 0,o=[180,270,360,540,720].find((function(e){return n/5<e})),a={video:{aspectRatio:4/3,height:{ideal:o}}},e.next=8,localStorage.getItem("lastVideoDeviceId");case 8:return i=e.sent,s={constraints:a,devices:["video"]},e.next=13,sm(i?Uf(Uf({},s),{},{cameraDeviceId:i}):s);case 13:return c=e.sent,p=1,l=function(e){if(Array.isArray(e))return e}(h=c)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(h,p)||Df(h,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),(u=l[0]).type="presenter",u.isVideoMuted=!1,r.presenterTrack=u,t&&u.dispose(),e.abrupt("return",u.stream);case 21:case"end":return e.stop()}var h,p}),e)})));return function(t){return e.apply(this,arguments)}}()),Jf(zf(r),"createDesktopTrack",(function(){sm({devices:["desktop"],desktopSharingSources:["screen","window"],resolution:1080,constraints:{video:{aspectRatio:16/9,height:{ideal:720,max:720,min:720},width:{ideal:1280,max:1280,min:1280}}}}).then(function(){var e=Qf(Ff().mark((function e(t){var n;return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.desktopAudioTrack=t.find((function(e){return"audio"===e.getType()})),r.desktopVideoTrack=t.find((function(e){return"video"===e.getType()})),"presenter"===r.props.screenShareMode&&(r.desktopVideoTrack.track.onended=function(){r.stopScreenShare()}),!(n=r.state.users[0].isVideoMuted)){e.next=15;break}return e.next=7,r.state.users[0].videoTrack.unmute();case 7:return e.next=9,Yf.replaceTrack(r.state.users[0].videoTrack,r.desktopVideoTrack);case 9:return e.next=11,r.state.users[0].videoTrack.dispose();case 11:return e.next=13,r.createLocalPresenterTrack(!0);case 13:e.next=29;break;case 15:return e.next=17,Yf.replaceTrack(r.state.users[0].videoTrack,r.desktopVideoTrack);case 17:return e.next=19,r.state.users[0].videoTrack.dispose();case 19:return e.t0=r.desktopVideoTrack,e.t1=Nn,e.next=23,r.createLocalPresenterTrack();case 23:return e.t2=e.sent,e.next=26,(0,e.t1)(e.t2);case 26:return e.t3=e.sent,e.next=29,e.t0.setEffect.call(e.t0,e.t3);case 29:if(!r.desktopAudioTrack){e.next=33;break}return r._mixerEffect=new If(r.desktopAudioTrack),e.next=33,r.state.users[0].audioTrack.setEffect(r._mixerEffect);case 33:Yf.sendCommand(qe,{value:r.state.users[0].id}),r.setState({users:r.state.users.map((function(e,t){return 0==t?Uf(Uf({},e),{},{videoTrack:r.desktopVideoTrack}):e})),isScreenShareOn:!0,isPresenterTrackMuted:n}),r.screenShareUserID=r.state.users[0].id,r.myScreenShareID=r.state.users[0].id,r.props.triggerEvent&&r.props.triggerEvent(Ge,{});case 38:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){}))})),Jf(zf(r),"stopScreenShare",Qf(Ff().mark((function e(){return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.setState({isScreenShareOn:!1}),"presenter"!==r.props.screenShareMode){e.next=5;break}return bm({devices:["video"],facingMode:"user"}).then(function(){var e=Qf(Ff().mark((function e(t){return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yf.replaceTrack(r.desktopVideoTrack,t[0]);case 2:r.state.isPresenterTrackMuted&&(t[0].mute(),t[0].isVideoMuted=!0),r.desktopVideoTrack.dispose(),r.presenterTrack&&(r.presenterTrack.dispose(),r.presenterTrack=null),r.setState({users:r.state.users.map((function(e,n){return 0==n?Uf(Uf({},e),{},{videoTrack:t[0]}):e})),isScreenShareOn:!1,screenShareLoader:!1}),r.myScreenShareID=null,Yf.sendCommandOnce(Je,{value:r.screenShareUserID}),r.props.triggerEvent&&r.props.triggerEvent(We,{});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){At.log(im,"Error creating Video local media : ",e)})),e.abrupt("return");case 5:r.ScreenShareRef.stop();case 6:case"end":return e.stop()}}),e)})))),Jf(zf(r),"onScreenShareClicked",(function(){r.state.isScreenShareOn?r.stopScreenShare():r.createScreenShareTrack()})),Jf(zf(r),"onUserItemClicked",(function(e){r.setState({dominantSpeakerId:e.id})})),Jf(zf(r),"removeAudioVideoTrackFromUser",(function(e){var t=Uf({},e);return delete t.audioTrack,delete t.videoTrack,t})),Jf(zf(r),"muteParticipant",(function(e){try{Yf.muteParticipant(e.id),Yf.sendCommandOnce($e,{attributes:{mutedParticipantId:e.id,participantMutedBy:r.state.users[0].id}})}catch(e){At.log(im,"[muteParticipant]",e)}})),Jf(zf(r),"kickParticipant",(function(e){try{var t=Yf.getParticipantById(e);Yf.kickParticipant(e,"reason"),At.log(im,"kickParticipant ......sfddsfdssdff ",t),At.log(im,"[kickParticipant]",e),Yf.kickParticipant(e)}catch(e){At.log(im,"[kickParticipant]",e)}})),Jf(zf(r),"pinUser",(function(e){r.setState({pinnedUserId:e.id})})),Jf(zf(r),"unPinUser",(function(){r.setState({pinnedUserId:null})})),Jf(zf(r),"getDevices",Qf(Ff().mark((function e(){var t,n=arguments;return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!(n.length>0&&void 0!==n[0])||n[0],JitsiMeetJS.mediaDevices.enumerateDevices((function(e){var n,i,o,a,s=[],c=[],l=[],u={},d=null===(n=r.state)||void 0===n||null===(i=n.users[0])||void 0===i||null===(o=i.videoTrack)||void 0===o?void 0:o.deviceId;r.audioInputDevicesSet.forEach((function(t){e.find((function(e){return e.deviceId===t}))||r.audioInputDevicesSet.delete(t)}));var h=e.filter((function(e){return e.kind===mt}));h.reverse().forEach((function(e){r.audioInputDevicesSet.add(e.deviceId)}));var p=[];h.forEach((function(e){"default"===e.deviceId&&(p=h.filter((function(t){return e.groupId===t.groupId&&"default"!==t.deviceId})))})),0!==(null===(a=p)||void 0===a?void 0:a.length)&&(localStorage.getItem("lastAudioDeviceId")||localStorage.setItem("lastAudioDeviceId",p[0].deviceId)),e.sort((function(e,t){return t.deviceId.length-e.deviceId.length})).reverse();var f=e.filter((function(e){return"default"===e.deviceId&&Xt.isMob()?(u[e.kind]=e,!0):"default"!==e.deviceId||(u[e.kind]=e,!1)}));if(f.map((function(e){var n=Uf({},JSON.parse(JSON.stringify(e)));if(!n.label)return!1;if(n.kind===mt&&r.inputDeviceChangeSupported)u[mt]&&n.groupId===u[mt].groupId||"default"===n.deviceId&&Xt.isMob()?(t?r.changeAudioSourceClicked(n.deviceId,f):r.setState({activeInputDevices:lastAudioDeviceId||n.deviceId}),n.active=!0):n.active=!1,s.push(n);else if("videoinput"===n.kind)n.active=d===n.deviceId,l.push(n);else if(u[vt]&&r.speakerChangeSupported){if(n.groupId===u[vt].groupId){var i=localStorage.getItem("lastAudioOutputDevice");t?r.changeAudioOutputDeviceClicked(i||n.deviceId,f):r.setState({activeOutputDevices:i||n.deviceId}),i||localStorage.setItem("lastAudioOutputDevice",n.deviceId),n.active=!0}else n.active=!1;c.push(n)}})),!u[mt]){var m=e.filter((function(e){return e.kind===mt}));if(1===m.length)r.setState({activeInputDevices:m[0].deviceId});else if(m.length>1){var v=Array.from(r.audioInputDevicesSet);r.setState({activeInputDevices:v[v.length-1]})}}r.setState({audioDevices:s,videoDevices:l,audioOutPutDevices:c});var g={videoInputDevices:l,audioInputDevices:s,audioOutputDevices:c};t?r.props.triggerEvent&&r.props.triggerEvent(at,g):r.props.triggerEvent&&r.props.triggerEvent("initialDeviceList",g)}));case 2:case"end":return e.stop()}}),e)})))),Jf(zf(r),"changeAudioSourceClicked",St()(function(){var e=Qf(Ff().mark((function e(t){var n,i,o,a,s=arguments;return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:null,!1!==Ru.isPresenter){e.next=3;break}return e.abrupt("return");case 3:if(i=n||r.state.audioDevices,o=!0,a=null==i?void 0:i.map((function(e){return e.deviceId===t?(o=!1,e.active=!0):e.active=!1,e})),!o){e.next=8;break}return e.abrupt("return",!1);case 8:return localStorage.setItem("lastAudioDeviceId",t),e.next=12,r.disposeLocalAudioTrack();case 12:sm({devices:[ft],micDeviceId:t}).then((function(e){r.onLocalTracks(e,!0),r.triggerOnDeviceChange({audioInputDevices:a}),r.setState({activeInputDevices:t})})).catch((function(e){sm({devices:[ft]}).then((function(e){return r.onLocalTracks(e,!0)}))}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),1e3)),Jf(zf(r),"changeVideoSourceClicked",function(){var e=Qf(Ff().mark((function e(t){var n;return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!0,r.state.videoDevices.map((function(e){e.deviceId===t&&(n=!1)})),!n){e.next=4;break}return e.abrupt("return",!1);case 4:if(localStorage.setItem("lastVideoDeviceId",t),!r.presenterTrack){e.next=21;break}return e.next=9,r.presenterTrack.dispose();case 9:return e.t0=r.desktopVideoTrack,e.t1=Nn,e.next=13,r.createLocalPresenterTrack(!1,400,t);case 13:return e.t2=e.sent,e.next=16,(0,e.t1)(e.t2);case 16:return e.t3=e.sent,e.next=19,e.t0.setEffect.call(e.t0,e.t3);case 19:return r.getDevices(),e.abrupt("return");case 21:return e.next=23,r.disposeLocalVideoTrack();case 23:sm({devices:[pt],cameraDeviceId:t}).then((function(e){r.onLocalTracks(e),r.setState({appliedBg:0,selectedBg:0,addedBackgroundImage:null}),r.getDevices()})).catch((function(e){At.log(im,"changeVideoSourceClicked","error",e),sm({devices:[pt]}).then((function(e){return r.onLocalTracks(e)}))}));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Jf(zf(r),"toggleCamera",Qf(Ff().mark((function e(){var t;return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Yf.getLocalVideoTrack().getCameraFacingMode(),e.next=3,r.disposeLocalVideoTrack();case 3:sm({devices:[pt],facingMode:"user"===t?"environment":"user"}).then((function(e){r.onLocalTracks(e),r.setState({appliedBg:0,selectedBg:0,addedBackgroundImage:null}),r.getDevices()})).catch((function(e){At.log(im,"toggleCamera called","error",e),sm({devices:[pt]}).then((function(e){return r.onLocalTracks(e)}))}));case 4:case"end":return e.stop()}}),e)})))),Jf(zf(r),"changeAudioOutputDeviceClicked",(function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||r.state.audioOutPutDevices,n=!0,i=null==t?void 0:t.map((function(t){return t.deviceId===e?(n=!1,t.active=!0):t.active=!1,t}));if(n)return!1;try{JitsiMeetJS.mediaDevices.setAudioOutputDevice(e),localStorage.setItem("lastAudioOutputDevice",e),r.setState({activeOutputDevices:e},(function(){})),r.triggerOnDeviceChange({audioOutputDevices:i})}catch(e){At.log(im,"[changeAudioOutputDeviceClicked]",e)}})),Jf(zf(r),"changeMode",(function(e){var t;if("GRID"===e&&(null===(t=r.state.users)||void 0===t?void 0:t.length)>16)return!1;r.setState({mode:e,isGridMode:"GRID"===e},(function(){r.initProps(),r.props.triggerEvent&&r.props.triggerEvent("onModeChanged",r.state.mode)}))})),Jf(zf(r),"triggerOnDeviceChange",(function(e){var t=Uf({videoInputDevices:r.state.videoDevices,audioInputDevices:r.state.audioDevices,audioOutputDevices:r.state.audioOutPutDevices},e);r.props.triggerEvent&&r.props.triggerEvent(at,t)})),Jf(zf(r),"startStreaming",(function(e){if(e.preventDefault(),!r.state.streamingKey)return!1;Yf.startRecording({mode:"stream",streamId:r.state.streamingKey}).then((function(e){At.log(im,"[startStreaming]","sessionidrecord",e),om=e._sessionID,r.setState({isStreaming:!0})}))})),Jf(zf(r),"startRecording",(function(){try{r.state.isRecording||Yf.startRecording({mode:"file"}).then((function(e){r.setState({tryingToStartRecording:!1}),At.log(im,"[startRecording]","success",e),om=e._sessionID,r.setState({isRecording:!0,recordId:om,recorder:r.state.users[0]},(function(){Yf.sendCommandOnce(Qe,{attributes:Uf({recordId:om},r.state.recorder)}),r.recordingStartedBy={name:r.state.users[0].name,uid:r.state.users[0].uid}}))})).catch((function(e){At.log(im,"[startRecording]",e,"trying to reconnect. try number:",r.recordingRetry),r.recordingRetryTimer=setTimeout((function(){r.startRecording()}),5e3*r.recordingRetry),r.setState({tryingToStartRecording:!0}),1===r.recordingRetry&&r.setState({recorder:r.state.users[0]},(function(){Yf.sendCommandOnce(Ke,{attributes:Uf({},r.state.users[0])})})),r.recordingRetry++}))}catch(e){At.log(im,"[startRecording]",e)}})),Jf(zf(r),"stopRecording",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.state.tryingToStartRecording)return r.state.recorder.id===r.state.users[0].id||e?(clearTimeout(r.recordingRetryTimer),r.recordingRetry=1,r.setState({tryingToStartRecording:!1}),void Yf.sendCommandOnce(et,{})):void(!1!==Ru.isPresenter&&r.props.enqueueSnackbar(r.localizedObject.STOP_RECORDING_ERROR,{variant:"error"}));At.log(im,"stopRecording recording id = ",r.state.recordId,"rtcorder",r.state.recorder),r.state.isRecording&&r.state.recorder&&(r.state.recorder.id===r.state.users[0].id||e?(Yf.sendCommand(Ze,{attributes:r.removeAudioVideoTrackFromUser(r.state.users[0])}),Yf.stopRecording(r.state.recordId),r.setState({isRecording:!1,isStreaming:!1,streamingKey:"",recordId:"",recorder:{}})):!1!==Ru.isPresenter&&r.props.enqueueSnackbar(r.localizedObject.STOP_RECORDING_ERROR,{variant:"error"}))})),Jf(zf(r),"recordingClicked",(function(){r.state.isRecording||r.state.tryingToStartRecording?r.stopRecording():r.startRecording()})),Jf(zf(r),"peopleClicked",(function(){r.setState({showUserList:!r.state.showUserList})})),Jf(zf(r),"renderVideoView",(function(){var t,n,i,o,a,s,c=r.state,l=c.users,u=c.dominantSpeakerId,d=c.pinnedUserId,h=l.length>1?l[1]:l[0];switch(u&&!d&&u!==l[0].id&&(h=l.find((function(e){return e.id===u}))),d&&(h=l.find((function(e){return e.id===d}))),r.state.mode){case"DEFAULT":case"SIDEBAR":if(null!==(t=h)&&void 0!==t&&t.id){var p,f,m={};window.dummyMainUser=h;var v=null===(p=h.videoTrack)||void 0===p||null===(f=p.getSourceName)||void 0===f?void 0:f.call(p);v&&(m[v]={maxHeight:720},Yf.setReceiverConstraints({lastN:r.getLastN(),onStageSources:[v],defaultConstraints:{maxHeight:180},constraints:m}))}return e.createElement(Mp,{noisyMics:r.state.noisyMics,stats:r.stats,lastNId:r.state.LastNId,connectionQuality:r.state.connectionQuality,avatarMode:r.state.avatarMode,users:r.state.users,dominantSpeakerId:r.state.dominantSpeakerId,pinnedUserId:r.state.pinnedUserId,myScreenShareID:r.myScreenShareID,room:Yf,pinUser:r.pinUser,muteUser:r.muteParticipant,unPinUser:r.unPinUser,peopleClicked:r.peopleClicked,localizedObject:r.localizedObject,mainUser:h||r.state.users[0],localUserId:r.state.users[0].id,fitVideo:r.state.fitVideo,toggleFitVideo:r.toggleFitVideo});case _t:if(null!==(n=h)&&void 0!==n&&n.id){var g,y,_={},b=null===(g=h.videoTrack)||void 0===g||null===(y=g.getSourceName)||void 0===y?void 0:y.call(g);b&&(_[b]={maxHeight:720},Yf.setReceiverConstraints({lastN:r.getLastN(),onStageSources:[b],defaultConstraints:{maxHeight:180},constraints:_}))}var S=-1;return null!==(i=h)&&void 0!==i&&i.screenShareUserID&&(S=r.state.users.findIndex((function(e){return e.id===h.screenShareUserID}))),e.createElement(e.Fragment,null,e.createElement(Up,{noisyMics:r.state.noisyMics,stats:r.stats,lastNId:r.state.LastNId,connectionQuality:r.state.connectionQuality,avatarMode:r.state.avatarMode,users:r.state.users,dominantSpeakerId:r.state.dominantSpeakerId,pinnedUserId:r.state.pinnedUserId,myScreenShareID:r.myScreenShareID,pinUser:r.pinUser,muteUser:r.muteParticipant,unPinUser:r.unPinUser,peopleClicked:r.peopleClicked,localizedObject:r.localizedObject,mainUser:h||r.state.users[0],fitVideo:r.state.fitVideo,toggleFitVideo:r.toggleFitVideo,screenSharedUserIndex:S}),S>-1&&e.createElement(yp,{user:r.state.users[S],boundaryClass:"side-bar-main-user-container",avatarMode:r.state.avatarMode}));case"SPOTLIGHT":if(null!==(o=h)&&void 0!==o&&o.id){var w,E,C={constraints:{},defaultConstraints:{maxHeight:180},lastN:r.getLastN(),onStageSources:[],selectedSources:[]},k=null===(w=h.videoTrack)||void 0===w||null===(E=w.getSourceName)||void 0===E?void 0:E.call(w);if(k&&(C.onStageSources.push(k),C.constraints[k]={maxHeight:720}),r.screenShareUserID){var T,x,A=r.state.users.find((function(e){return e.id===r.screenShareUserID})),R=null==A||null===(T=A.videoTrack)||void 0===T||null===(x=T.getSourceName)||void 0===x?void 0:x.call(T);R&&(C.constraints[R]={maxHeight:180})}Yf.setReceiverConstraints(C)}var I=r.state.users.findIndex((function(e){return e.id===r.screenShareUserID}));return e.createElement(e.Fragment,null,e.createElement(vp,{noisyMics:r.state.noisyMics,stats:r.stats,connectionQuality:r.state.connectionQuality,avatarMode:r.state.avatarMode,users:r.state.users,mainUser:h||r.state.users[0],dominantSpeakerId:r.state.dominantSpeakerId,pinnedUserId:r.state.pinnedUserId,myScreenShareID:r.myScreenShareID,screenShareUserID:r.screenShareUserID,room:Yf,unPinUser:r.unPinUser,pinUser:r.pinUser,muteUser:r.muteParticipant,fitVideo:r.state.fitVideo,toggleFitVideo:r.toggleFitVideo}),e.createElement(yp,{user:r.state.users[_m(null===(a=h)||void 0===a?void 0:a.videoTrack)&&r.screenShareUserID&&"presenter"!==r.props.screenShareMode?-1==I?0:I:0],avatarMode:r.state.avatarMode}));case"TILE":return e.createElement(xf,{selected:r.state.selected||0,setSelected:function(e){r.setState({selected:e})},lastN:r.state.LastNId,noisyMics:r.state.noisyMics,connectionQuality:r.state.connectionQuality,avatarMode:r.state.avatarMode,localizedObject:r.localizedObject,users:r.state.users,dominantSpeakerId:r.state.dominantSpeakerId,dominantSpeakerList:r.state.dominantSpeakerList,pinnedUserId:r.state.pinnedUserId,screenShareUserID:r.screenShareUserID,screenShareMode:r.props.screenShareMode,pinUser:r.pinUser,muteUser:r.muteParticipant,unPinUser:r.unPinUser,myScreenShareID:r.myScreenShareID,localUserId:r.state.users[0].id,noOfUsersPerPage:r.state.noOfUsersPerPage||3,screenSharersID:r.screenSharersID,fitVideo:r.state.fitVideo,toggleFitVideo:r.toggleFitVideo});default:if(null!==(s=h)&&void 0!==s&&s.id){var O,P,M={},N=null===(O=h.videoTrack)||void 0===O||null===(P=O.getSourceName)||void 0===P?void 0:P.call(O);N&&(M[N]={maxHeight:720},Yf.setReceiverConstraints({lastN:r.getLastN(),onStageSources:[N],defaultConstraints:{maxHeight:180},constraints:M}))}return e.createElement(Mp,{stats:r.stats,lastNId:r.state.LastNId,connectionQuality:r.state.connectionQuality,avatarMode:r.state.avatarMode,users:r.state.users,dominantSpeakerId:r.state.dominantSpeakerId,pinnedUserId:r.state.pinnedUserId,screenShareUserID:r.screenShareUserID,room:Yf,myScreenShareID:r.myScreenShareID,pinUser:r.pinUser,muteUser:r.muteParticipant,unPinUser:r.unPinUser,peopleClicked:r.peopleClicked,localizedObject:r.localizedObject,mainUser:h||r.state.users[0],localUserId:r.state.users[0].id,fitVideo:r.state.fitVideo,toggleFitVideo:r.toggleFitVideo})}})),Jf(zf(r),"setNoOfUser",(function(e){r.setState({noOfUsersInTile:e})})),Jf(zf(r),"screenShareComponent",(function(){return e.createElement(yn,{ref:function(e){return r.ScreenShareRef=e},user:r.state.users[0],sessionID:r.props.sessionID,domain:r.props.domain,MUC:"conference."+r.props.domain,focus:"focus."+r.props.domain,bosh:"https://xmpp."+r.props.domain+"/http-bind",boshLegacy:"https://"+r.props.domain+"/http-bind",webSocket:"wss://xmpp."+r.props.domain+"/xmpp-websocket",onTrackCreated:function(){r.setState({isScreenShareOn:!0,screenShareLoader:!0})},onError:function(){r.setState({isScreenShareOn:!1,screenShareLoader:!1})},onSuccess:function(e){r.screenShareUserID=e,r.myScreenShareID=e,r.userIdScreenShare=e,r.setState({isScreenShareOn:!0,screenShareLoader:!1}),r.props.triggerEvent&&r.props.triggerEvent(Ge,{})},onStopped:function(){r.myScreenShareID=null,Yf.sendCommand(Je,{value:r.userIdScreenShare}),r.setState({isScreenShareOn:!1,screenShareLoader:!1}),r.props.triggerEvent&&r.props.triggerEvent(We,{})}})})),Jf(zf(r),"onBackgroundEffectSelected",function(){var e=Qf(Ff().mark((function e(t){return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bm({devices:[pt]}).then(function(){var e=Qf(Ff().mark((function e(n){var i,o;return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gl({track:n[0],option:t});case 2:return o=e.sent,null!==(i=r.state.users[0])&&void 0!==i&&i.videoTrack&&!r.state.users[0].isVideoMuted||null==o||o.mute(),e.next=6,Yf.replaceTrack(r.state.users[0].videoTrack,o);case 6:return e.next=8,r.state.users[0].videoTrack.dispose();case 8:Lf(r.state.users)[0].isVideoMuted&&(null==o||o.mute()),r.setState({users:r.state.users.map((function(e,t){return 0==t?Uf(Uf({},e),{},{videoTrack:o}):e})),selectedBg:t.selectedIndex,appliedBg:t.selectedIndex});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Jf(zf(r),"setSelectedBg",(function(e){r.setState({selectedBg:e})})),Jf(zf(r),"setIsBackgroundModalVisible",(function(e){r.setState({isBackgroundModelVisible:e})})),Jf(zf(r),"setBackgroundBlur",(function(e){Gl({track:r.localUser.videoTrack,option:{type:"blur",blurValue:e}}),0==e||!e||"string"!=typeof e&&"number"!=typeof e?r.setState({appliedBg:0,selectedBg:0,addedBackgroundBlur:null}):r.setState({addedBackgroundImage:null,addedBackgroundBlur:e,appliedBg:""!==r.props.EnforceBackgroundImage&&"string"==typeof r.props.EnforceBackgroundImage&&r.props.ShowDefaultImages&&0!==r.props.SetImages.length?$l.length+r.props.SetImages.length+4:""!==r.props.EnforceBackgroundImage&&"string"==typeof r.props.EnforceBackgroundImage&&r.props.ShowDefaultImages?$l.length+4:r.props.ShowDefaultImages&&0!==r.props.SetImages.length?$l.length+r.props.SetImages.length+3:r.props.ShowDefaultImages?$l.length+3:""!==r.props.EnforceBackgroundImage&&"string"==typeof r.props.EnforceBackgroundImage?4:r.props.SetImages.length+3,selectedBg:""!==r.props.EnforceBackgroundImage&&"string"==typeof r.props.EnforceBackgroundImage&&r.props.ShowDefaultImages&&0!==r.props.SetImages.length?$l.length+r.props.SetImages.length+4:""!==r.props.EnforceBackgroundImage&&"string"==typeof r.props.EnforceBackgroundImage&&r.props.ShowDefaultImages?$l.length+4:r.props.ShowDefaultImages&&0!==r.props.SetImages.length?$l.length+r.props.SetImages.length+3:r.props.ShowDefaultImages?$l.length+3:""!==r.props.EnforceBackgroundImage&&"string"==typeof r.props.EnforceBackgroundImage?4:r.props.SetImages.length+3})})),Jf(zf(r),"validURL",(function(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)})),Jf(zf(r),"setBackgroundImage",(function(e){try{"string"==typeof e&&""!==e&&r.validURL(e)?(Gl({track:r.localUser.videoTrack,option:{type:"img",url:e}}),r.setState({addedBackgroundBlur:null,addedBackgroundImage:e,appliedBg:""!==r.props.EnforceBackgroundImage&&"string"==typeof r.props.EnforceBackgroundImage&&r.props.ShowDefaultImages&&0!==r.props.SetImages.length?$l.length+r.props.SetImages.length+4:""!==r.props.EnforceBackgroundImage&&"string"==typeof r.props.EnforceBackgroundImage&&r.props.ShowDefaultImages?$l.length+4:r.props.ShowDefaultImages&&0!==r.props.SetImages.length?$l.length+r.props.SetImages.length+3:r.props.ShowDefaultImages?$l.length+3:""!==r.props.EnforceBackgroundImage&&"string"==typeof r.props.EnforceBackgroundImage?4:r.props.SetImages.length+3,selectedBg:""!==r.props.EnforceBackgroundImage&&"string"==typeof r.props.EnforceBackgroundImage&&r.props.ShowDefaultImages&&0!==r.props.SetImages.length?$l.length+r.props.SetImages.length+4:""!==r.props.EnforceBackgroundImage&&"string"==typeof r.props.EnforceBackgroundImage&&r.props.ShowDefaultImages?$l.length+4:r.props.ShowDefaultImages&&0!==r.props.SetImages.length?$l.length+r.props.SetImages.length+3:r.props.ShowDefaultImages?$l.length+3:""!==r.props.EnforceBackgroundImage&&"string"==typeof r.props.EnforceBackgroundImage?4:r.props.SetImages.length+3})):"object"===Nf(e)?Wl(e).then((function(e){Gl({track:r.localUser.videoTrack,option:{type:"img",url:e}}),r.setState({addedBackgroundBlur:null,addedBackgroundImage:e,appliedBg:""!==r.props.EnforceBackgroundImage&&"string"==typeof r.props.EnforceBackgroundImage&&r.props.ShowDefaultImages||r.props.ShowDefaultImages?$l.length+r.props.SetImages.length+3:r.props.SetImages.length+3,selectedBg:""!==r.props.EnforceBackgroundImage&&"string"==typeof r.props.EnforceBackgroundImage&&r.props.ShowDefaultImages||r.props.ShowDefaultImages?$l.length+r.props.SetImages.length+3:r.props.SetImages.length+3})})):(Gl({track:r.localUser.videoTrack,option:{}}),r.setState({appliedBg:0,selectedBg:0,addedBackgroundImage:null}))}catch(e){}})),r.LastNId=[],r.stats={},r.showOnLeftMsg=!0,r.localUserEndsCall=!1,r.showUserJoinMsg=!1,r.usersLeftNotiHoldTime=null,r.usersLeft=[],r.localizedObject=r.props.localizedObject||gt;var i={name:r.props.username||"Unnamed",avatar:r.props.avatar,status:"active",isVideoMuted:r.props.startVideoMuted,isAudioMuted:r.props.startAudioMuted,showVideo:!0,isLocalUser:!0};return r.recordingRetry=1,r.removeInterruptedUsersTimeoutId=null,r.deviceChangeCalled=!1,r.updateLastN=!0,r.switchedToVideoCall=!1,r.unMutingVideoForFirstTime=!0,r.inputDeviceChangeSupported=JitsiMeetJS.mediaDevices.isDeviceChangeAvailable("input"),r.speakerChangeSupported=JitsiMeetJS.mediaDevices.isDeviceChangeAvailable("output"),r.audioInputDevicesSet=new Set([]),r.showCallTimeoutModalTimer=null,r.observeVideoElementsInterval=null,r.state={connectionError:!1,connectionErrorType:"",noisyMics:{},mySessionId:r.props.sessionID,myUserName:r.props.username,isBroadcast:r.props.isBroadcast,isGridMode:"GRID"===r.props.mode,isBroadcaster:r.props.isBroadcaster,isAudioOnly:r.props.isAudioOnly,showSwitchToVideoCallButton:r.props.showSwitchToVideoCallButton,mode:r.props.mode,showLocalMedia:!1,status:"active",myAvatar:r.props.avatar||i.avatar,remoteTracks:[],users:[i],exportUserList:[],dominantSpeakerId:null,isScreenShareOn:!1,isChatEnabled:!1,showthumbList:!0,showLocalStream:!0,renderSingleMain:!1,pinnedUserId:null,showEndCallButton:r.props.showEndCallButton,showVideoPauseButton:r.props.showPauseVideoButton,showAudioMuteButton:r.props.showMuteAudioButton,showScreenShareButton:r.props.showScreenShareButton,defaultLayout:r.props.defaultLayout,avatarMode:r.props.avatarMode,noMic:!1,noCamera:!1,isReconecting:!1,orientation:"Portrait",resolutions:{},isRecording:!1,isMob:Xt.isMob(),showUserList:!1,noOfUsersInTile:2,virtualBackground:{},selectedBg:0,appliedBg:0,isBackgroundModelVisible:!1,toVideoRequestModal:!1,toVideoRequestType:"initial",isAnyScreenShareUser:[],connectionLost:!1,noNetwork:!1,dominantSpeakerList:[],fitVideo:"cover"===yt.fit,endCallDialogVisible:!1},r.recordingStartedBy={uid:"",name:""},r.toVideoRequestResponder={},r.reconnect=r.reconnect.bind(zf(r)),r.screenShareUserID=void 0,r.screenSharersID=[],$f=r.reconnect,r.db=new class{constructor(e){this.dbName=e,this.lf={},this.collectionName=null,this.orderByProperty=null,this.orderByDirection=null,this.limitBy=null,this.docSelectionCriteria=null,this.deleteCollectionQueue={queue:[],running:!1},this.config={debug:!0},this.userErrors=[],this.collection=zp.bind(this),this.doc=qp.bind(this),this.orderBy=Jp.bind(this),this.limit=Gp.bind(this),this.get=Xp.bind(this),this.add=nf.bind(this),this.update=of.bind(this),this.set=af.bind(this),this.delete=sf.bind(this)}}("db"),r}return r=d,i=[{key:"componentDidMount",value:function(){var e=this;window.onresize=function(){e.getOrientation()},this.checkBrowser(),this.checkIsPWA(),navigator&&navigator.mediaDevices&&(navigator.mediaDevices.ondevicechange=function(t){e.state.noCamera&&e.state.noMic&&!e.deviceChangeCalled&&!Xf&&(e.deviceChangeCalled=!0,e.createLocalTracks())}),this.initProps(),this.createLocalTracks(),this.init(this.state.mySessionId),JitsiMeetJS.setLogLevel(JitsiMeetJS.logLevels.ERROR),1!==this.props.EnforceBackgroundBlur&&2!==this.props.EnforceBackgroundBlur||""!=this.props.EnforceBackgroundImage&&"string"==typeof this.props.EnforceBackgroundImage||this.setState({appliedBg:this.props.EnforceBackgroundBlur,selectedBg:this.props.EnforceBackgroundBlur}),this.props.ShowDefaultImages?""!==this.props.EnforceBackgroundImage&&"string"==typeof this.props.EnforceBackgroundImage?this.setState({appliedBg:this.props.ShowDefaultImages?$l.length+this.props.SetImages.length+3:this.props.SetImages.length+3,selectedBg:this.props.ShowDefaultImages?$l.length+this.props.SetImages.length+3:this.props.SetImages.length+3}):this.storeImagesInLocal():""!==this.props.EnforceBackgroundImage&&"string"==typeof this.props.EnforceBackgroundImage&&this.setState({appliedBg:this.props.ShowDefaultImages?$l.length+this.props.SetImages.length+3:this.props.SetImages.length+3,selectedBg:this.props.ShowDefaultImages?$l.length+this.props.SetImages.length+3:this.props.SetImages.length+3}),window.addEventListener("online",(function(){return e.setState({noNetwork:!1})})),window.addEventListener("offline",(function(){return e.setState({noNetwork:!0})})),this.observeVideoElementsInterval=setInterval((function(){}),2e3)}},{key:"startCallTimeoutTimer",value:function(){var e=this;this.showCallTimeoutModalTimer||(this.showCallTimeoutModalTimer=setTimeout((function(){e.props.setShowCallTimeoutModal(!0),e.showCallTimeoutModalTimer=null}),1e3*this.props.idleTimeoutPeriod-6e4))}},{key:"endCallTimeoutTimer",value:function(){this.showCallTimeoutModalTimer&&(clearTimeout(this.showCallTimeoutModalTimer),this.showCallTimeoutModalTimer=null)}},{key:"componentDidUpdate",value:function(e,t){window.uu=this.state.users,t.pinnedUserId!==this.state.pinnedUserId&&this.observeVideoElements(),this.state.users.length>1?this.endCallTimeoutTimer():this.startCallTimeoutTimer()}},{key:"observeVideoElements",value:(s=Qf(Ff().mark((function e(){var t,n,r;return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(e){return e<=220?180:e<=400?360:e<=2160?720:180},n=Array.from(document.getElementsByTagName("video")).filter((function(e){var t;return null===(t=e.attributes["cc-source-name"])||void 0===t?void 0:t.value})),r={constraints:{},defaultConstraints:{maxHeight:180},lastN:-1,onStageSources:[],selectedSources:[]},n.forEach((function(e){var n,i=e.attributes["cc-source-name"].value,o="true"===(null===(n=e.attributes["cc-main-video"])||void 0===n?void 0:n.value);if(i){var a,s,c=e.clientHeight<e.clientWidth?e.clientHeight:e.clientWidth;r.constraints[i]={maxHeight:Math.max(t(c),(null===(a=r.constraints)||void 0===a||null===(s=a[i])||void 0===s?void 0:s.maxHeight)||0)},o?r.onStageSources.push(i):r.selectedSources.push(i)}})),Yf&&Yf.setReceiverConstraints(r);case 6:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)})},{key:"initProps",value:function(){try{this.state.isAudioOnly&&!this.state.showSwitchToVideoCallButton&&this.setState({showVideoPauseButton:!1}),"SINGLE"!==this.state.mode||Xt.isMob()?"SPOTLIGHT"!==this.state.mode||Xt.isMob()?this.state.isBroadcast?this.setState({showthumbList:!1,showUserList:!1,showAudioMuteButton:!1,showVideoPauseButton:!1,showEndCallButton:!0,showScreenShareButton:!1}):this.setState({showthumbList:!0,showUserList:!1,showLocalStream:!1,renderSingleMain:!1}):this.setState({showthumbList:!1,showUserList:!1,showLocalStream:!0,renderSingleMain:!1}):this.setState({showthumbList:!1,showUserList:!1,showLocalStream:!0,renderSingleMain:!0})}catch(e){At.log(im,"[initProps]",e)}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.removeInterruptedUsersTimeoutId),this.observeVideoElementsInterval&&(clearInterval(this.observeVideoElementsInterval),this.observeVideoElementsInterval=null),this.db.delete()}},{key:"localUser",get:function(){return this.state.users[0]}},{key:"deleteAllTracks",value:function(){var e,t,n=Mf(am.concat(null!==(e=window.tracksInternal)&&void 0!==e?e:[]));try{for(n.s();!(t=n.n()).done;){var r=t.value;!1===r.disposed&&r.dispose()}}catch(e){n.e(e)}finally{n.f()}am=[],window.tracksInternal=[]}},{key:"makeConnection",value:function(){try{var e={hosts:{domain:this.getDomain(),muc:this.getMUC(),focus:this.getFocus()},serviceUrl:this.getWebSocket(),bosh:this.getBosh()};e=Uf(Uf({},e),{},{flags:{receiveMultipleVideoStreams:!0,sendMultipleVideoStreams:!0,sourceNameSignaling:!0,ssrcRewritingEnabled:!0},enableNoAudioDetection:!0,enableNoisyMicDetection:!0,channelLastN:-1,enableWelcomePage:!0,p2p:{enabled:!0},mouseMoveCallbackInterval:1e3,audioQuality:{stereo:!1},bridgeChannel:{preferSctp:!0},constraints:{video:{height:{ideal:720,max:720,min:180},width:{ideal:1280,max:1280,min:320}}},hiddenDomain:"hidden.".concat(this.getDomain()),resolution:720}),At.log(im,"Make connection options = ",e),At.log(im,"Connection object = ",Xf),At.log(im,"Connection user object = ",this.props.user),(Xf=this.props.user&&this.props.user.jwt?new JitsiMeetJS.JitsiConnection(null,this.props.user.jwt,e):new JitsiMeetJS.JitsiConnection(null,null,e)).connect(),this.addEventListener()}catch(e){At.log(im,"[makeConnection]",e)}}},{key:"getDomain",value:function(){var e=this.props.domain;return At.log(im,"RTC Domain = ",e),e}},{key:"getMUC",value:function(){var e="conference."+this.props.domain;return At.log(im,"RTC MUC = ",e),e}},{key:"getFocus",value:function(){var e="focus."+this.props.domain;return At.log(im,"RTC Focus = ",e),e}},{key:"getBosh",value:function(){var e="https://xmpp."+this.props.domain+"/http-bind";return At.log(im,"RTC Bosh = ",e),e}},{key:"getBoshLegacy",value:function(){var e="https://"+this.props.domain+"/http-bind";return At.log(im,"RTC Bosh = ",e),e}},{key:"getWebSocket",value:function(){var e="wss://xmpp."+this.props.domain+"/xmpp-websocket";return At.log(im,"RTC websocket = ",e),e}},{key:"addEventListener",value:function(){try{Xf.addEventListener(JitsiMeetJS.events.connection.CONNECTION_ESTABLISHED,this.onConnectionSuccess),Xf.addEventListener(JitsiMeetJS.events.connection.CONNECTION_FAILED,this.onConnectionFailed),Xf.addEventListener(JitsiMeetJS.events.connection.CONNECTION_DISCONNECTED,this.onDisconnect)}catch(e){At.log(im,"[addEventListener]",e)}}},{key:"onConnectionFailed",value:function(e){At.log(im,"onConnectionFailed Called......",e),$f()}},{key:"reconnect",value:function(){try{At.log(im,"Reconnect called ...",this.state.users,this.state.connectionError),this.state.connectionError||(em=!1,this.setState({connectionError:!0,connectionErrorType:"jwt"})),Zf=setInterval((function(){tm<10?(At.log(im,"Reconnect attempt ",tm),tm+=1,navigator.onLine&&(At.log(im,"Connection object = ",Xf),Xf.connect(),tm=0,clearInterval(Zf))):clearInterval(Zf)}),5e3)}catch(e){At.log(im,"[reconnect]",e)}}},{key:"onDisconnect",value:function(){At.log(im,"onDisconnect Called......")}},{key:"pauseVideo",value:function(){var e=this.localUser;e.videoTrack&&e.videoTrack.mute()}},{key:"unPauseVideo",value:function(){var e=this.localUser;e.videoTrack&&e.videoTrack.unmute(),this.handleUnMutingVideoForFirstTime()}},{key:"muteAudio",value:function(){var e=this.localUser;e.audioTrack&&e.audioTrack.mute()}},{key:"unMuteAudio",value:function(){var e=this.localUser;e.audioTrack&&e.audioTrack.unmute()}},{key:"removeLocalTracks",value:(a=Qf(Ff().mark((function e(){var t,n;return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Lf(this.state.users),n=t[0],e.next=5,Yf.removeTrack(n.audioTrack);case 5:return e.next=7,Yf.removeTrack(n.videoTrack);case 7:return e.abrupt("return");case 10:e.prev=10,e.t0=e.catch(0),At.log(im,"[disposeLocalTracks]",e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return a.apply(this,arguments)})},{key:"disposeLocalTracks",value:(o=Qf(Ff().mark((function e(){var t,n;return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=Lf(this.state.users),!(n=t[0]).audioTrack){e.next=6;break}return e.next=6,n.audioTrack.dispose();case 6:if(!n.videoTrack){e.next=9;break}return e.next=9,n.videoTrack.dispose();case 9:return e.abrupt("return",null);case 12:e.prev=12,e.t0=e.catch(0),At.log(im,"[disposeLocalTracks]",e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(){return o.apply(this,arguments)})},{key:"renderError",value:function(){var t=this;return this.state.errorMsg?e.createElement(wp,{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},message:this.state.errorMsg,open:!0,onClose:function(){t.setState({errorMsg:""})},action:e.createElement(dr,{component:"span",onClick:function(){t.setState({errorMsg:""})},color:"inherit",size:"small"},e.createElement(_n.Z,null)),autoHideDuration:6e3,key:"top right"}):null}},{key:"getLastN",value:function(){return"SIDEBAR"!=this.state.mode&&this.state.mode&&"default"!=this.state.mode.toLowerCase()?"TILE"==this.state.mode?this.state.pinnedUserId?5:this.state.users.length>35?10:this.state.users.length>25?15:20:-1:5}},{key:"render",value:function(){var t,n=this;return e.createElement("div",{className:"cc-main-container custom-main-container"},em?e.createElement(e.Fragment,null,this.state.isRecording?e.createElement("div",{className:"recording-text-container"},e.createElement(Yt.Z,{className:"main-container-recording-icon"}),e.createElement(pa,{className:"main-container-recording-text",variant:"h5"},this.localizedObject.RECORDING_TEXT)):this.state.tryingToStartRecording?e.createElement("div",{className:"recording-text-container"},e.createElement(pa,{className:"main-container-recording-text",variant:"h5"},this.localizedObject.TRYING_TO_START_RECORDING_TEXT)):this.state.requestingForVideoCall?e.createElement("div",{className:"recording-text-container"},e.createElement(pa,{className:"main-container-recording-text",variant:"h5"},this.localizedObject.REQUESTING_TO_SWITCH_VIDEO_CALL)):null,e.createElement("div",{className:"mainVideoContainer"},this.screenShareComponent(),e.createElement("div",{className:"layout"},this.renderVideoView()),this.state.showUserList?e.createElement(Xh,{noisyMics:this.state.noisyMics,connectionQuality:this.state.connectionQuality,isAudioOnly:this.state.isAudioOnly,localizedObject:this.localizedObject,kickUser:this.kickParticipant,muteUser:this.muteParticipant,pinnedUserId:this.state.pinnedUserId,pinUser:this.pinUser,unPinUser:this.unPinUser,users:this.state.users,close:this.peopleClicked,recorderId:this.state.recorder&&this.state.recorder.id?this.state.recorder.id:"id"}):null),e.createElement(Lu,{showButtons:this.state.defaultLayout,showAudioMuteButton:this.props.showMuteAudioButton,toggleAudioButton:this.toggleAudioButton,user:this.state.users[0],presenterTrack:this.presenterTrack,isPresenterTrackMuted:this.state.isPresenterTrackMuted,showVideoPauseButton:this.state.showVideoPauseButton,showEndCallButton:this.state.showEndCallButton,toggleVideoButton:this.toggleVideoButton,showScreenShareButton:this.state.showScreenShareButton&&!this.state.isMob,onScreenShareClicked:this.onScreenShareClicked,isScreenShareOn:this.state.isScreenShareOn,isRecording:this.state.isRecording||this.state.tryingToStartRecording,ShowVirtualBackgroundSetting:this.props.ShowVirtualBackgroundSetting,showRecordingButton:this.props.showRecordingButton,recordingClicked:this.recordingClicked,onEndCallButtonCLicked:function(){n.props.triggerEvent(ot,{}),n.onEndCallButtonCLicked()},showFullScreen:!this.state.isMob,showChangeModeButton:"SINGLE"!==this.state.mode&&!this.state.isMob&&this.props.showSwitchModeButton,mode:this.state.mode,changeMode:this.changeMode,activeInputDevices:this.state.activeInputDevices,activeOutputDevices:this.state.activeOutputDevices,changeAudioSourceClicked:this.changeAudioSourceClicked,changeVideoSourceClicked:this.changeVideoSourceClicked,changeAudioOutputDeviceClicked:this.changeAudioOutputDeviceClicked,audioOutPutDevices:this.state.audioOutPutDevices,audioDevices:this.state.audioDevices,videoDevices:this.state.videoDevices,peopleClicked:this.peopleClicked,noOfUsersInTile:this.state.noOfUsersInTile,setNoOfUsersInTile:this.setNoOfUser,usersLength:this.state.users.length,localizedObject:this.localizedObject,onBackgroundEffectSelected:this.onBackgroundEffectSelected,selectedBg:this.state.selectedBg,appliedBg:this.state.appliedBg,setSelectedBg:this.setSelectedBg,SetImages:this.props.SetImages,localVideoTrack:this.localUser.videoTrack,db:this.db,AllowUserImages:this.props.AllowUserImages,AllowBackgroundBlur:this.props.AllowBackgroundBlur,ShowDefaultImages:this.props.ShowDefaultImages,isBackgroundModelVisible:this.state.isBackgroundModelVisible,setIsBackgroundModalVisible:this.setIsBackgroundModalVisible,EnforceBackgroundImage:this.props.EnforceBackgroundImage,EnforceBackgroundBlur:this.props.EnforceBackgroundBlur,isAudioOnly:this.state.isAudioOnly,isAnyScreenShareUser:this.state.isAnyScreenShareUser,addedBackgroundImage:this.state.addedBackgroundImage,addedBackgroundBlur:this.state.addedBackgroundBlur,setNoOfUsersPerPage:function(e){n.setState({noOfUsersPerPage:e})},noOfUsersPerPage:this.state.noOfUsersPerPage||2}),this.props.appID?e.createElement(zu,{user:this.props.user,appID:this.props.appID,isAudioOnly:this.state.isAudioOnly,sessionID:this.props.sessionID,analyticsSettings:this.props.analyticsSettings}):null):e.createElement("div",{className:"loading-container"},!this.state.connectionError&&e.createElement(kp,null),e.createElement(pa,{variant:"h4",className:"loading-text"},this.state.connectionError?this.localizedObject.CONNECTION_ERROR_TEXT:this.localizedObject.JOINING_TEXT)),(this.state.connectionLost||this.state.noNetwork)&&e.createElement("div",{className:"reconnect-loading"},e.createElement(kp,null),e.createElement(pa,{variant:"h4",className:"loading-text"},this.state.noNetwork?this.localizedObject.NO_NETWORK_TEXT:this.localizedObject.RECONNECTING_TEXT)),e.createElement(uf,{isModalVisible:this.state.toVideoRequestModal,name:null===(t=this.state.toVideoRequestInitiator)||void 0===t?void 0:t.name,onClose:function(){n.setState({toVideoRequestModal:!1})},toVideoRequestType:this.state.toVideoRequestType,handleAccept:function(){return n.sendVideoRequestResponse(!0)},handleReject:function(){return n.sendVideoRequestResponse(!1)}}),e.createElement(ff,{isModalVisible:this.state.endCallDialogVisible,handleLeave:function(){return n.endCall()},handleSessionEnd:function(){return n.endSessionForAll()}}))}}],i&&Hf(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),d}(e.PureComponent),hm=(lm=dm,um=e.forwardRef((function(t,n){return e.createElement(Z.Consumer,null,(function(r){return e.createElement(lm,W({},t,{ref:n,enqueueSnackbar:r.enqueueSnackbar,closeSnackbar:r.closeSnackbar}))}))})),J()(um,lm),um);function pm(e){return pm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(e)}function fm(){fm=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new k(i||[]);return r(a,"_invoke",{value:S(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function h(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(T([])));g&&g!==t&&n.call(g,o)&&(m=g);var y=f.prototype=h.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,o,a,s){var c=u(e[r],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==pm(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},_(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function mm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mm(Object(n),!0).forEach((function(t){gm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gm(e,t,n){return(t=function(e){var t=function(e){if("object"!==pm(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==pm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===pm(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ym(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var _m=function(e){return!(!e||"desktop"!==e.videoType)},bm=function(){var e,t=(e=fm().mark((function e(t){var n,r,i,o;return fm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("lastVideoDeviceId"),r=localStorage.getItem("lastAudioDeviceId"),i=n&&r?vm(vm({},t),{},{cameraDeviceId:n,micDeviceId:r}):n?vm(vm({},t),{},{cameraDeviceId:n}):r?vm(vm({},t),{},{micDeviceId:r}):t,e.next=6,sm(i);case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ym(o,r,i,a,s,"next",e)}function s(e){ym(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),Sm=!1;function wm(){return wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wm.apply(this,arguments)}function Em(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Cm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var km=e.forwardRef((function(n,r){var i=Em(e.useState(!1),2),o=i[0],a=i[1],s=Em(e.useState(!0),2),c=s[0],l=s[1],u=(0,e.useRef)("");function d(){u.current===ut||u.current===dt||""===u.current?t.unmountComponentAtNode(Ru.htmlElement):u.current===ht&&l(!1)}return e.createElement(e.Fragment,null,c&&e.createElement(hm,wm({},n,{ref:r,onCallEnded:d,setShowCallTimeoutModal:a})),o&&e.createElement(Pf,{localizedObject:n.localizedObject,onLeave:function(e){u.current=e,u.current===ut||u.current===ht?r.current.endCallDueToTimeout(e):u.current===dt&&(n.triggerEvent(ot,{}),d())},onStay:function(){a(!1)}}))}));km.displayName="CallingComponentWrapper";var Tm=km;function xm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Am(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xm(Object(n),!0).forEach((function(t){Rm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rm(e,t,n){return(t=Pm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Im(e){return Im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(e)}function Om(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pm(r.key),r)}}function Pm(e){var t=function(e){if("object"!==Im(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==Im(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Im(t)?t:String(t)}function Mm(e,t){return Mm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mm(e,t)}function Nm(e){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nm(e)}var Lm,Dm,jm,Fm,Bm,Um,Hm,Vm,zm,qm,Jm,Gm,Wm,Qm,Zm=window.location.search,$m=new URLSearchParams(Zm),Km=!0,Xm=!0,Ym=!0,ev=!0,tv=!1,nv=!0,rv=!0,iv=!0,ov=gt,av=!0,sv=180,cv=!1,lv=!0,uv=!0,dv=!0,hv=[],pv=!0,fv=0,mv="",vv="circle",gv="default",yv=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mm(e,t)}(s,t);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Nm(i);if(o){var n=Nm(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Im(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=a.call(this,t)).state={isFullScreen:!1,loadCallScreen:!1},n.callingComponentRef=e.createRef(),n}return n=s,r=[{key:"getCallingComponentRef",value:function(){return this.callingComponentRef}},{key:"componentDidMount",value:function(){if(Sm){var e,t,n;Bm=null!==(e=$m.get("sessionID"))&&void 0!==e?e:"test",Um=null!==(t=$m.get("username"))&&void 0!==t?t:"test",Vm=null!==(n=$m.get("mode"))&&void 0!==n?n:"TILE",Ru.mode=Vm;var r=$m.get("isPresenter");Ru.isPresenter="true"===r||"false"!==r&&void 0,Ru.htmlElement=this.props.htmlElement,Fm="eu",qm="rtc-eu.cometchat.io",zm="uid",Dm=!0,jm=!0,this.setState({loadCallScreen:!0})}else this.addSettingListener()}},{key:"addSettingListener",value:function(){var e,t,n,r,i,o,a,s,c,l,u,d,h,p,f,m,v,g,y,_,b,S,w,E,C,k,T,x,A,R,I=this.props.callsettings;gv=I.screenShareMode||"default",Km=I.ShowEndCallButton,av=I.ShowRecordingButton,sv=I.idleTimeoutPeriod,cv=I.StartRecordingOnCallStart,Xm=I.ShowMuteAudioButton,Ym=I.ShowPauseVideoButton,nv=I.ShowScreenShareButton,iv=I.ShowSwitchToVideoCallButton,ev=I.defaultLayout,Bm=I.sessionID,Fm=I.region.toLowerCase(),tv=I.isAudioOnly,Um=I.user.name,Hm=I.user.avatar,Vm=I.mode,Ru.mode=Vm,Ru.isPresenter=I.isPresenter,Ru.htmlElement=this.props.htmlElement,zm=I.user.uid,"object"===Im(I.localizedObject)&&(ov=Am(Am({},gt),I.localizedObject)),Dm=I.StartAudioMuted,jm=I.StartVideoMuted,Wm=I.customCSS,Gm=I.user,Qm=I.appId,Jm=I.analyticsSettings,rv=I.ShowSwitchModeButton,lv=I.ShowVirtualBackgroundSetting,uv=Boolean(null===(e=I.VirtualBackground)||void 0===e?void 0:e.AllowBackgroundBlur),dv=Boolean(null===(t=I.VirtualBackground)||void 0===t?void 0:t.AllowUserImages),pv=Boolean(null===(n=I.VirtualBackground)||void 0===n?void 0:n.ShowDefaultImages),hv=null!==(r=I.VirtualBackground)&&void 0!==r&&r.SetImages?null===(i=I.VirtualBackground)||void 0===i?void 0:i.SetImages:[],fv=null!==(o=I.VirtualBackground)&&void 0!==o&&o.EnforceBackgroundBlur?null===(a=I.VirtualBackground)||void 0===a?void 0:a.EnforceBackgroundBlur:0,mv=null!==(s=I.VirtualBackground)&&void 0!==s&&s.EnforceBackgroundImage?null===(c=I.VirtualBackground)||void 0===c?void 0:c.EnforceBackgroundImage:"",vv=I.AvatarMode?I.AvatarMode:"circle","MainVideoContainerSetting"in I&&("string"==typeof(null===(l=I.MainVideoContainerSetting)||void 0===l?void 0:l.videoFit)&&(yt.fit=I.MainVideoContainerSetting.videoFit),"boolean"==typeof(null===(u=I.MainVideoContainerSetting)||void 0===u||null===(d=u.zoomButton)||void 0===d?void 0:d.visibility)?yt.fitButton.visible=I.MainVideoContainerSetting.zoomButton.visibility:"boolean"==typeof(null===(h=I.MainVideoContainerSetting)||void 0===h||null===(p=h.zoomButton)||void 0===p?void 0:p.visible)&&(yt.fitButton.visible=I.MainVideoContainerSetting.zoomButton.visible),"string"==typeof(null===(f=I.MainVideoContainerSetting)||void 0===f||null===(m=f.zoomButton)||void 0===m?void 0:m.position)&&(yt.fitButton.position=I.MainVideoContainerSetting.zoomButton.position),"boolean"==typeof(null===(v=I.MainVideoContainerSetting)||void 0===v||null===(g=v.nameLabel)||void 0===g?void 0:g.visibility)?yt.nameLabel.visible=I.MainVideoContainerSetting.nameLabel.visibility:"boolean"==typeof(null===(y=I.MainVideoContainerSetting)||void 0===y||null===(_=y.nameLabel)||void 0===_?void 0:_.visible)&&(yt.nameLabel.visible=I.MainVideoContainerSetting.nameLabel.visible),"string"==typeof(null===(b=I.MainVideoContainerSetting)||void 0===b||null===(S=b.nameLabel)||void 0===S?void 0:S.position)&&(yt.nameLabel.position=I.MainVideoContainerSetting.nameLabel.position),"string"==typeof(null===(w=I.MainVideoContainerSetting)||void 0===w||null===(E=w.nameLabel)||void 0===E?void 0:E.color)&&(yt.nameLabel.background=I.MainVideoContainerSetting.nameLabel.color),"boolean"==typeof(null===(C=I.MainVideoContainerSetting)||void 0===C||null===(k=C.network)||void 0===k?void 0:k.visibility)?yt.network.visible=I.MainVideoContainerSetting.network.visibility:"boolean"==typeof(null===(T=I.MainVideoContainerSetting)||void 0===T||null===(x=T.network)||void 0===x?void 0:x.visible)&&(yt.network.visible=I.MainVideoContainerSetting.network.visible),"string"==typeof(null===(A=I.MainVideoContainerSetting)||void 0===A||null===(R=A.network)||void 0===R?void 0:R.position)&&(yt.network.position=I.MainVideoContainerSetting.network.position)),qm=2==$m.get("v")?"rtc-"+Fm+".cometchat.io":I.domain,this.setState({loadCallScreen:!0});var O=document.createElement("style");document.head.appendChild(O),O.innerHTML=Wm}},{key:"render",value:function(){var t=this;Lm=1===$m.get("broadcast");var n={palette:{primaryIconColor:{main:"#1E79E7"},secondaryIconColor:{main:"#808080"},fontHeadingColor:{main:"#292A2c"},fontTitleColor:{main:"#292A2c"},fontSubTitleColor:{main:"#808080"},fontTextColor:{main:"#808080"},buttonBackgroundColor:{main:"#35383b"},error:{main:"#d93438"},primary:{main:"#1E79E7"}},typography:{fontFamily:"Inter",h3:{fontFamily:"Inter",fontSize:"2em",fontWeight:900},h4:{fontFamily:"Inter",fontSize:"1.5em",fontWeight:700},h5:{fontFamily:"Inter",fontSize:"1em",fontWeight:400},h6:{fontFamily:"Inter",fontSize:"0.7em",fontWeight:400}},spacing:function(e){return"".concat(1*e,"vh")},margin:function(e){return"".concat(4*e,"px")}},r=(0,Le.Z)(n);return He.setTheme(n),e.createElement("div",{className:"ccccn",id:"cc-container"},e.createElement(Ne.Z,{theme:r},e.createElement("div",{className:"cc-App"},e.createElement(Me,{autoHideDuration:6e3,maxSnack:3,dense:!0,anchorOrigin:{vertical:"top",horizontal:"right"},TransitionComponent:R,classes:{containerRoot:"cc-snackbar-root-override"}},this.state.loadCallScreen?e.createElement("div",{className:"cc-App-header",id:"fullscreen",onDoubleClick:function(e){"BODY"!==e.target.tagName&&"DIV"!==e.target.tagName||t.setState({isFullScreen:!t.state.isFullScreen})}},e.createElement(Tm,{ref:this.callingComponentRef,triggerEvent:this.props.triggerEvent,urlVersion:$m.get("v"),screenShareMode:gv,sessionID:Bm,username:Um,avatar:Hm,region:Fm,isBroadcast:Lm,isBroadcaster:void 0,mode:Vm,uid:zm,domain:qm,isAudioOnly:tv,showEndCallButton:Km,showMuteAudioButton:Xm,showPauseVideoButton:Ym,showScreenShareButton:nv,defaultLayout:ev,localizedObject:ov,startAudioMuted:Dm,startVideoMuted:jm,user:Gm,appID:Qm,analyticsSettings:Jm,showSwitchModeButton:rv,SetImages:hv,showRecordingButton:av,idleTimeoutPeriod:"number"==typeof sv?Math.max(sv,120):180,startRecordingOnCallStart:cv,AllowBackgroundBlur:uv,AllowUserImages:dv,ShowDefaultImages:pv,EnforceBackgroundImage:mv,EnforceBackgroundBlur:fv,ShowVirtualBackgroundSetting:lv,showSwitchToVideoCallButton:iv,avatarMode:vv})):null))))}}],r&&Om(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component),_v=yv;function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bv.apply(this,arguments)}n(7260),n(6206),n(1515),n(6847);var Sv=document.createElement("script");Sv.src="https://cdn.cometchat.io/calls/v3/tflite.js";var wv=document.createElement("script");wv.src="https://cdn.cometchat.io/calls/v3/tflite-simd.js";var Ev=document.createElement("script");function Cv(e){return Boolean(document.querySelector('script[src="'+e+'"]'))}Ev.src="https://cdn.cometchat.io/calls/v3/rnnoise.js",setTimeout((function(){Cv(Sv.src)||document.body.appendChild(Sv),Cv(wv.src)||document.body.appendChild(wv),Cv(Ev.src)||document.body.appendChild(Ev)}),3e3);var kv=e.createRef(),Tv=function(n){t.render(e.createElement(_v,bv({ref:kv},n)),n.htmlElement)},xv=function(){return kv},Av=Tv}(),r}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{CallGroup:()=>M,CallLog:()=>j,CallLogRequestBuilder:()=>H,CallUser:()=>N,CometChatCalls:()=>le,Participant:()=>L,Recording:()=>D});var e={DEFAULT:"DEFAULT",SPOTLIGHT:"SPOTLIGHT",GRID:"TILE"},t="user",i={CALL_DATA:"data",CALL_ID:"id",CALL_SESSION_ID:"sessionid",CALL_RECEIVER:"receiver",CALL_INITIATOR:"initiator",CALL_SENDER:"sender",CALL_RECEIVER_TYPE:"receiverType",CALL_STATUS:"status",CALL_TYPE:"type",CALL_INITIATED_AT:"initiatedAt",CALL_JOINED_AT:"joinedAt",CALL_LEFT_AT:"leftAt",CALL_METADATA:"metadata",CALL_ENTITIES:"entities",CALL_ENTITY_TYPE:"entityType",CALL_ENTITY:"entity",CALL_ENTITY_USER:"user",CALL_ENTITY_GROUP:"group"},o={position:"bottom-right",visible:!0},a={position:"bottom-left",visible:!0,color:"rgba(27, 27, 27, 0.4)"},s={position:"bottom-right",visible:!0},c={KEYS:{POSITION:"position",VISIBILITY:"visible",LEGACY_VISIBILITY:"visibility",COLOR:"color"}},l={us:"us",eu:"eu",in:"in",US:"us",EU:"eu",IN:"in"},u={code:"INVALID_ARGUMENT_EXCEPTION"},d={code:"UNKNOWN_API_ERROR",message:"There is an unknown issue with the API request. Please check your internet connection and verify the api call."},h={code:"INVALID_CALL_APP_SETTINGS",message_instance:"appSettings must be an instance of CallAppSettings class",message_app_id:"Invalid app id, please check your appSettings",message_region:"Invalid region, please check your appSettings",message_host:"Invalid host, please check your appSettings"},p={code:"INVALID_CALL_SETTINGS",message_instance:"callSettings must be an instance of CallSettings class"},f={code:"INVALID_PRESENTER_SETTINGS",message_instance:"presenterSettings must be an instance of PresenterSettings class"},m={code:"INVALID_ARGUMENT_EXCEPTION",message:"callToken must be valid please verify."},v={code:"ERROR_PRESENTER_MODE",message:"Presenter mode is disabled. To use presenter mode, please enable it from the CometChat Apps Dashboard"},g=function(e){z(e.onUserJoined)||(this.onUserJoined=e.onUserJoined),z(e.onUserLeft)||(this.onUserLeft=e.onUserLeft),z(e.onUserListUpdated)||(this.onUserListUpdated=e.onUserListUpdated),z(e.onMediaDeviceListUpdated)||(this.onMediaDeviceListUpdated=e.onMediaDeviceListUpdated),z(e.onRecordingStarted)||(this.onRecordingStarted=e.onRecordingStarted),z(e.onRecordingStopped)||(this.onRecordingStopped=e.onRecordingStopped),z(e.onScreenShareStarted)||(this.onScreenShareStarted=e.onScreenShareStarted),z(e.onScreenShareStopped)||(this.onScreenShareStopped=e.onScreenShareStopped),z(e.onUserMuted)||(this.onUserMuted=e.onUserMuted),z(e.onUserUnMuted)||(this.onUserUnMuted=e.onUserUnMuted),z(e.onCallSwitchedToVideo)||(this.onCallSwitchedToVideo=e.onCallSwitchedToVideo),z(e.onCallEnded)||(this.onCallEnded=e.onCallEnded),z(e.onSessionTimeout)||(this.onSessionTimeout=e.onSessionTimeout),z(e.onError)||(this.onError=e.onError),z(e.onCallEndButtonPressed)||(this.onCallEndButtonPressed=e.onCallEndButtonPressed)},y=function(){return y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},y.apply(this,arguments)},_=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},b=function(){function e(){}return e.addCallEventListener=function(t,n){try{e.callHandlers=null==e?void 0:e.callHandlers.filter((function(e){return e._name!=t})),e.callHandlers=_(_([],e.callHandlers,!0),[y({_name:t},new g(n))],!1)}catch(e){}},e.removeCallEventListener=function(t){try{e.callHandlers=null==e?void 0:e.callHandlers.filter((function(e){return e._name!==t}))}catch(e){}},e.callHandlers=[],e}(),S=function(){function e(e){this.appId=e.appId,this.region=e.region,this.host=e.host}return e.prototype.setAppId=function(e){return this.appId=e,this},e.prototype.setRegion=function(e){return this.region=e,this},e.prototype.setHost=function(e){return this.host=e,this},e.prototype.getAppId=function(){return this.appId},e.prototype.getRegion=function(){return this.region},e.prototype.getHost=function(){return this.host},e}(),w=function(){function e(){}return e.prototype.setAppId=function(e){return this.appId=e,this},e.prototype.setRegion=function(e){return this.region=e,this},e.prototype.setHost=function(e){return this.host=e,this},e.prototype.build=function(){return new S(this)},e}(),E=(function(){function e(e){this.avatar="",z(e)||(this.uid=e.toString())}e.prototype.setUID=function(e){this.uid=e?e.toString():""},e.prototype.getUID=function(){return this.uid.toString()},e.prototype.setName=function(e){this.name=e?e.toString():""},e.prototype.getName=function(){return this.name.toString()},e.prototype.setAvatar=function(e){this.avatar=e?e.toString():""},e.prototype.getAvatar=function(){return this.avatar.toString()},e.prototype.setJWT=function(e){this.jwt=e?e.toString():""},e.prototype.getJWT=function(){return this.jwt.toString()},e.prototype.setResource=function(e){this.resource=e?e.toString():""},e.prototype.getResource=function(){return this.resource.toString()}}(),function(e){"code"in e&&(this.code=e.code),"name"in e&&(this.name=e.name),"message"in e&&(this.message=e.message),"details"in e&&(this.details=e.details)}),C="call_tokens",k="calls",T="__APP_ID__",x="__REGION__",A="https://".concat(T,".call-").concat(x,".cometchat.io/v3.0/"),R=function(e){return new Promise((function(t){var n=new Headers;if(n.append("Accept","application/json"),"object"==typeof e.headers)for(var r in e.headers)n.append(r,e.headers[r]);var i={method:"GET",headers:n};fetch(e.url,i).then((function(e){return e.json()})).then((function(e){t({error:null,data:e})})).catch((function(e){t({error:e,data:null})}))}))};var I=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},O=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},P=function(){function e(){}return e.setAppSettings=function(e){this.appSettings=e},e.generateToken=function(e,t,n){return I(this,void 0,void 0,(function(){var r;return O(this,(function(i){return r=A.replace(T,n.getAppId()).replace(x,n.getRegion()),n.getHost()&&(r=n.getHost()),[2,(o={url:"".concat(r).concat(C),headers:{authToken:e},data:{sessionId:t}},new Promise((function(e){var t=new Headers;if(t.append("content-Type","application/json"),t.append("Accept","application/json"),"object"==typeof o.headers)for(var n in o.headers)t.append(n,o.headers[n]);var r={method:"POST",headers:t,body:JSON.stringify(o.data)};fetch(o.url,r).then((function(e){return e.json()})).then((function(t){e({error:null,data:t})})).catch((function(t){e({error:t,data:null})}))})))];var o}))}))},e.verifyToken=function(e,t){return I(this,void 0,void 0,(function(){var n;return O(this,(function(r){return n=A.replace(T,t.getAppId()).replace(x,t.getRegion()),t.getHost()&&(n=t.getHost()),[2,R({url:"".concat(n).concat(C),headers:{callToken:e}})]}))}))},e.getCallLogList=function(e,t){return I(this,void 0,void 0,(function(){var n,r,i;return O(this,(function(o){return n=A.replace(T,this.appSettings.getAppId()).replace(x,this.appSettings.getRegion()),this.appSettings.getHost()&&(n=this.appSettings.getHost()),r=function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}(e),i="".concat(n).concat(k,"?").concat(r),[2,R({url:i,headers:{authToken:t}})]}))}))},e.getCallDetails=function(e,t){return I(this,void 0,void 0,(function(){var n;return O(this,(function(r){return n=A.replace(T,this.appSettings.getAppId()).replace(x,this.appSettings.getRegion()),this.appSettings.getHost()&&(n=this.appSettings.getHost()),[2,R({url:"".concat(n).concat(k,"/").concat(e),headers:{authToken:t}})]}))}))},e}(),M=function(){function e(e){Object.assign(this,e)}return e.prototype.getGuid=function(){return this.guid},e.prototype.setGuid=function(e){this.guid=e},e.prototype.getName=function(){return this.name},e.prototype.setName=function(e){this.name=e},e.prototype.getIcon=function(){return this.icon},e.prototype.setIcon=function(e){this.icon=e},e.prototype.toString=function(){return"CallGroup{ guid='".concat(this.guid,"', name='").concat(this.name,"', icon='").concat(this.icon,"' }")},e.getGroupFromJson=function(t){return new e(t)},e}(),N=function(){function e(e){Object.assign(this,e)}return e.prototype.getUid=function(){return this.uid},e.prototype.setUid=function(e){this.uid=e},e.prototype.getName=function(){return this.name},e.prototype.setName=function(e){this.name=e},e.prototype.getAvatar=function(){return this.avatar},e.prototype.setAvatar=function(e){this.avatar=e},e.prototype.toString=function(){return"CallUser{ uid='".concat(this.uid,"', name='").concat(this.name,"', avatar='").concat(this.avatar,"' }")},e.getUserFromJson=function(t){return new e(t)},e}(),L=function(){function e(e){Object.assign(this,e)}return e.prototype.getUid=function(){return this.uid},e.prototype.setUid=function(e){this.uid=e},e.prototype.getName=function(){return this.name},e.prototype.setName=function(e){this.name=e},e.prototype.getAvatar=function(){return this.avatar},e.prototype.setAvatar=function(e){this.avatar=e},e.prototype.getTotalAudioMinutes=function(){return this.totalAudioMinutes},e.prototype.setTotalAudioMinutes=function(e){this.totalAudioMinutes=e},e.prototype.getTotalVideoMinutes=function(){return this.totalVideoMinutes},e.prototype.setTotalVideoMinutes=function(e){this.totalVideoMinutes=e},e.prototype.getTotalDurationInMinutes=function(){return this.totalDurationInMinutes},e.prototype.setTotalDurationInMinutes=function(e){this.totalDurationInMinutes=e},e.prototype.getDeviceID=function(){return this.deviceID},e.prototype.setDeviceID=function(e){this.deviceID=e},e.prototype.getHasJoined=function(){return this.hasJoined},e.prototype.setHasJoined=function(e){this.hasJoined=e},e.prototype.getJoinedAt=function(){return this.joinedAt},e.prototype.setJoinedAt=function(e){this.joinedAt=e},e.prototype.getLeftAt=function(){return this.leftAt},e.prototype.setLeftAt=function(e){this.leftAt=e},e.prototype.getMid=function(){return this.mid},e.prototype.setMid=function(e){this.mid=e},e.prototype.getState=function(){return this.state},e.prototype.setState=function(e){this.state=e},e.getParticipantFromJson=function(t){return new e(t)},e}(),D=function(){function e(e){Object.assign(this,e)}return e.prototype.getRid=function(){return this.rid},e.prototype.setRid=function(e){this.rid=e},e.prototype.getRecordingURL=function(){return this.recording_url},e.prototype.setRecordingURL=function(e){this.recording_url=e},e.prototype.getStartTime=function(){return this.startTime},e.prototype.setStartTime=function(e){this.startTime=e},e.prototype.getEndTime=function(){return this.endTime},e.prototype.setEndTime=function(e){this.endTime=e},e.prototype.getDuration=function(){return this.duration},e.prototype.setDuration=function(e){this.duration=e},e.getRecordingFromJson=function(t){return new e(t)},e}(),j=function(){function e(e){Object.assign(this,e)}return e.prototype.getSessionID=function(){return this.sessionId},e.prototype.setSessionID=function(e){this.sessionId=e},e.prototype.getTotalAudioMinutes=function(){return this.totalAudioMinutes},e.prototype.setTotalAudioMinutes=function(e){this.totalAudioMinutes=e},e.prototype.getTotalVideoMinutes=function(){return this.totalVideoMinutes},e.prototype.setTotalVideoMinutes=function(e){this.totalVideoMinutes=e},e.prototype.getTotalDuration=function(){return this.totalDuration},e.prototype.setTotalDuration=function(e){this.totalDuration=e},e.prototype.getHasRecording=function(){return this.hasRecording},e.prototype.setHasRecording=function(e){this.hasRecording=e},e.prototype.getInitiatedAt=function(){return this.initiatedAt},e.prototype.setInitiatedAt=function(e){this.initiatedAt=e},e.prototype.getCallCategory=function(){return this.callCategory},e.prototype.setCallCategory=function(e){this.callCategory=e},e.prototype.getInitiator=function(){return this.initiator},e.prototype.setInitiator=function(e){this.initiator=e},e.prototype.getReceiver=function(){return this.receiver},e.prototype.setReceiver=function(e){this.receiver=e},e.prototype.getReceiverType=function(){return this.receiverType},e.prototype.setReceiverType=function(e){this.receiverType=e},e.prototype.getStatus=function(){return this.status},e.prototype.setStatus=function(e){this.status=e},e.prototype.getTotalDurationInMinutes=function(){return this.totalDurationInMinutes},e.prototype.setTotalDurationInMinutes=function(e){this.totalDurationInMinutes=e},e.prototype.getTotalParticipants=function(){return this.totalParticipants},e.prototype.setTotalParticipants=function(e){this.totalParticipants=e},e.prototype.getType=function(){return this.type},e.prototype.setType=function(e){this.type=e},e.prototype.getMid=function(){return this.mid},e.prototype.setMid=function(e){this.mid=e},e.prototype.getEndedAt=function(){return this.endedAt},e.prototype.setEndedAt=function(e){this.endedAt=e},e.prototype.getParticipants=function(){return this.participants},e.prototype.setParticipants=function(e){this.participants=e},e.prototype.getRecordings=function(){return this.recordings},e.prototype.setRecordings=function(e){this.recordings=e},e.callLogFromJson=function(n){var r=new e(n);if(n.participants&&(r.participants=n.participants.map((function(e){return L.getParticipantFromJson(e)}))),n.recordings&&(r.recordings=n.recordings.map((function(e){return D.getRecordingFromJson(e)}))),n.initiator&&n[i.CALL_DATA]&&n[i.CALL_DATA][i.CALL_ENTITIES]&&n[i.CALL_DATA][i.CALL_ENTITIES][i.CALL_INITIATOR]&&n[i.CALL_DATA][i.CALL_ENTITIES][i.CALL_INITIATOR][i.CALL_ENTITY]){var o=n[i.CALL_DATA][i.CALL_ENTITIES][i.CALL_INITIATOR][i.CALL_ENTITY];r.initiator=N.getUserFromJson(o)}if(n.receiver&&n[i.CALL_DATA]&&n[i.CALL_DATA][i.CALL_ENTITIES]&&n[i.CALL_DATA][i.CALL_ENTITIES][i.CALL_RECEIVER]&&n[i.CALL_DATA][i.CALL_ENTITIES][i.CALL_RECEIVER][i.CALL_ENTITY]){var a=n[i.CALL_DATA][i.CALL_ENTITIES][i.CALL_RECEIVER][i.CALL_ENTITY];n.receiverType==t?r.receiver=N.getUserFromJson(a):r.receiver=M.getGroupFromJson(a)}return r},e}(),F=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},B=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},U=function(){function e(e){this.limit=30,this.totalPages=0,this.currentPage=0,this.inProgress=!1,this.updatedAt=0,this.onlyUpdates=0,this.timestamp=0,this.paginationMeta={},this.limit=e.limit,this.callType=e.callType,this.callStatus=e.callStatus,this.hasRecording=e.hasRecording,this.callCategory=e.callCategory,this.callDirection=e.callDirection,this.uid=e.uid,this.guid=e.guid,this.authToken=e.authToken}return e.prototype.fetchNext=function(){return this.makeAPICall(!0)},e.prototype.fetchPrevious=function(){return this.makeAPICall()},e.prototype.makeAPICall=function(e){var t=this;return new Promise((function(n,r){return F(t,void 0,void 0,(function(){var t,i,o,a;return B(this,(function(s){switch(s.label){case 0:if(s.trys.push([0,5,,6]),e?0!=this.totalPages&&this.totalPages==this.currentPage:1==this.currentPage)return this.inProgress=!1,n([]),[2];if(this.inProgress)return this.inProgress=!1,r(new E({code:"REQUEST_IN_PROGRESS",name:"REQUEST_IN_PROGRESS",message:"Request in progress.",details:{}})),[2];if(this.inProgress=!0,!this.authToken)return this.inProgress=!1,r(new E({code:"NOT_ENOUGH_PARAMETERS",message:"`Auth Token` is required to use the 'fetchNext()' method."})),[2];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,P.getCallLogList(this.getParams(e),this.authToken)];case 2:return t=s.sent(),(null===(a=null==t?void 0:t.data)||void 0===a?void 0:a.error)?(this.inProgress=!1,r(new E(t.data.error)),[2]):(i=this.getCallLogList(JSON.stringify(t.data)),n(i),this.inProgress=!1,[3,4]);case 3:return o=s.sent(),this.inProgress=!1,r(new E(o)),[3,4];case 4:return[3,6];case 5:return s.sent(),this.inProgress=!1,r(new E({code:"UNKNOWN ERROR",message:"Unknown error"})),[3,6];case 6:return[2]}}))}))}))},e.prototype.getParams=function(e){var t={};return t.page=e?this.currentPage+1:this.currentPage-1,t.perPage=this.limit,this.hasRecording&&(t.hasRecording=this.hasRecording),this.callStatus&&(t.status=this.callStatus),this.callType&&(t.type=this.callType),this.callCategory&&(t.mode=this.callCategory),this.callDirection&&(t.direction=this.callDirection),this.uid&&(t.uid=this.uid),this.guid&&(t.guid=this.guid),t},e.prototype.getCallLogList=function(e){var t=[],n=JSON.parse(e),r=n.meta;if(r.pagination){var i=r.pagination;i.total_pages&&(this.totalPages=i.total_pages,this.currentPage=i.current_page)}for(var o=n.data,a=0;a<o.length;a++){var s=o[a],c=j.callLogFromJson(s);t.push(c)}return t},e}(),H=function(){function e(){this.limit=30}return e.prototype.setLimit=function(e){return this.limit=e,this},e.prototype.setCallType=function(e){return this.callType=e,this},e.prototype.setCallStatus=function(e){return this.callStatus=e,this},e.prototype.setHasRecording=function(e){return this.hasRecording=e,this},e.prototype.setCallCategory=function(e){return this.callCategory=e,this},e.prototype.setCallDirection=function(e){return this.callDirection=e,this},e.prototype.setUid=function(e){return this.uid=e,this},e.prototype.setGuid=function(e){return this.guid=e,this},e.prototype.setAuthToken=function(e){return this.authToken=e,this},e.prototype.build=function(){return new U(this)},e}(),V=(b.addCallEventListener,b.removeCallEventListener,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))});function z(e){return null!=e&&("string"==typeof e&&(e=e.trim()),"object"==typeof e&&0===Object.keys(e).length&&(e=void 0)),["",0,"0",!1,null,"null",void 0,"undefined"].includes(e)}function q(e){return e&&"object"==typeof e&&!Array.isArray(e)}function J(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];if(!r.length)return e;var o=r.shift();if(q(e)&&q(o))for(var a in o)q(o[a])?(e[a]||Object.assign(e,((t={})[a]={},t)),J(e[a],o[a])):Object.assign(e,((n={})[a]=o[a],n));return J.apply(void 0,V([e],r,!1))}function G(e){return new Promise((function(t,n){var r=new E({code:h.code});if(!(e instanceof S))return r.message=h.message_instance,void n(r);var i=e.getAppId(),o=e.getRegion(),a=e.getHost();return"string"!=typeof i||0===i.length?(r.message=h.message_app_id,void n(r)):"string"==typeof o&&l[o]?null!=a&&"string"!=typeof a?(r.message=h.message_host,void n(r)):void t(!0):(r.message=h.message_region,void n(r))}))}function W(e,t){var n,r;try{var i=new E({code:"GENERIC_EXCEPTION"});if("string"==typeof t?(i.message=t,i.details=t):"toString"in t&&(i.message=t.toString(),i.details=t.toString()),e)return void e(i);throw i}catch(e){if((null===(r=null===(n=null==e?void 0:e.toString)||void 0===n?void 0:n.call(e))||void 0===r?void 0:r.length)>0)throw new E({code:"GENERIC_EXCEPTION",message:e.toString()});throw e}}var Q=function(){function e(e){this.defaultLayout=e.defaultLayout,this.isAudioOnly=e.isAudioOnly,this.mode=e.mode,this.ShowEndCallButton=e.ShowEndCallButton,this.ShowMuteAudioButton=e.ShowMuteAudioButton,this.ShowPauseVideoButton=e.ShowPauseVideoButton,this.ShowScreenShareButton=e.ShowScreenShareButton,this.ShowSwitchModeButton=e.ShowSwitchModeButton,this.StartAudioMuted=e.StartAudioMuted,this.StartVideoMuted=e.StartVideoMuted,this.localizedObject=e.localizedObject,this.analyticsSettings=e.analyticsSettings,this.customCSS=e.customCSS,this.ShowRecordingButton=e.ShowRecordingButton,this.idleTimeoutPeriod=e.idleTimeoutPeriod,this.StartRecordingOnCallStart=e.StartRecordingOnCallStart,this.callListener=e.callListener,this.ShowSwitchToVideoCallButton=e.ShowSwitchToVideoCallButton,this.VirtualBackground=e.virtualBackground,this.ShowVirtualBackgroundSetting=e.ShowVirtualBackgroundSetting,this.MainVideoContainerSetting=e.MainVideoContainerSetting}return e.prototype.getCallListener=function(){return this.callListener},e.prototype.isRecordingButtonEnabled=function(){return this.ShowRecordingButton},e.prototype.getIdleTimeoutPeriod=function(){return this.idleTimeoutPeriod},e.prototype.shouldStartRecordingOnCallStart=function(){return this.StartRecordingOnCallStart},e.prototype.getCustomCSS=function(){return this.customCSS},e.prototype.isAudioOnlyCall=function(){return this.isAudioOnly},e.prototype.isDefaultLayoutEnabled=function(){return this.defaultLayout},e.prototype.getMode=function(){return this.mode},e.prototype.getStartWithAudioMuted=function(){return this.StartAudioMuted},e.prototype.getStartWithVideoMuted=function(){return this.StartVideoMuted},e.prototype.isEndCallButtonEnabled=function(){return this.ShowEndCallButton},e.prototype.isMuteAudioButtonEnabled=function(){return this.ShowMuteAudioButton},e.prototype.isPauseVideoButtonEnabled=function(){return this.ShowPauseVideoButton},e.prototype.isScreenShareButtonEnabled=function(){return this.ShowScreenShareButton},e.prototype.isModeButtonEnabled=function(){return this.ShowSwitchModeButton},e.prototype.getLocalizedStringObject=function(){return this.localizedObject},e.prototype.getAnalyticsSettings=function(){return this.analyticsSettings},e.prototype.isAudioToVideoButtonEnabled=function(){return this.ShowSwitchToVideoCallButton},e.prototype.getVirtualBackground=function(){return this.VirtualBackground},e.prototype.isVirtualBackgroundSettingEnabled=function(){return this.ShowVirtualBackgroundSetting},e.prototype.getMainVideoContainerSetting=function(){return this.MainVideoContainerSetting},e.POSITION_TOP_LEFT="top-left",e.POSITION_TOP_RIGHT="top-right",e.POSITION_BOTTOM_LEFT="bottom-left",e.POSITION_BOTTOM_RIGHT="bottom-right",e.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right"},e.ASPECT_RATIO_DEFAULT="default",e.ASPECT_RATIO_CONTAIN="contain",e.ASPECT_RATIO_COVER="cover",e.ASPECT_RATIO={DEFAULT:"default",CONTAIN:"contain",COVER:"cover"},e}(),Z=function(){function t(){this.defaultLayout=!0,this.isAudioOnly=!1,this.mode=e.DEFAULT,this.ShowEndCallButton=!0,this.ShowMuteAudioButton=!0,this.ShowPauseVideoButton=!0,this.ShowScreenShareButton=!0,this.ShowSwitchModeButton=!0,this.StartAudioMuted=!1,this.StartVideoMuted=!1,this.localizedObject={},this.analyticsSettings={},this.ShowRecordingButton=!1,this.idleTimeoutPeriod=180,this.StartRecordingOnCallStart=!1,this.ShowSwitchToVideoCallButton=!0,this.virtualBackground=(new K).build(),this.ShowVirtualBackgroundSetting=!0,this.MainVideoContainerSetting=new X}return t.prototype.enableDefaultLayout=function(e){return this.defaultLayout=e,this},t.prototype.setIsAudioOnlyCall=function(e){return this.isAudioOnly=e,this},t.prototype.setMode=function(e){return this.mode=e,this},t.prototype.showEndCallButton=function(e){return this.ShowEndCallButton=e,this},t.prototype.showMuteAudioButton=function(e){return this.ShowMuteAudioButton=e,this},t.prototype.showPauseVideoButton=function(e){return this.ShowPauseVideoButton=e,this},t.prototype.showScreenShareButton=function(e){return this.ShowScreenShareButton=e,this},t.prototype.showModeButton=function(e){return this.ShowSwitchModeButton=e,this},t.prototype.setLocalizedStringObject=function(e){return this.localizedObject=e,this},t.prototype.setAnalyticsSettings=function(e){return this.analyticsSettings=e,this},t.prototype.startWithAudioMuted=function(e){return this.StartAudioMuted=e,this},t.prototype.startWithVideoMuted=function(e){return this.StartVideoMuted=e,this},t.prototype.showRecordingButton=function(e){return this.ShowRecordingButton=e,this},t.prototype.setIdleTimeoutPeriod=function(e){return this.idleTimeoutPeriod=e,this},t.prototype.startRecordingOnCallStart=function(e){return this.StartRecordingOnCallStart=e,this},t.prototype.showSwitchToVideoCallButton=function(e){return this.ShowSwitchToVideoCallButton=e,this},t.prototype.setVirtualBackground=function(e){return this.virtualBackground=e,this},t.prototype.showVirtualBackgroundSetting=function(e){return this.ShowVirtualBackgroundSetting=e,this},t.prototype.setMainVideoContainerSetting=function(e){return this.MainVideoContainerSetting=e,this},t.prototype.setCallListener=function(e){return this.callListener=e,this},t.prototype.build=function(){return new Q(this)},t}(),$=function(){function e(e){this.AllowBackgroundBlur=e.AllowBackgroundBlur,this.AllowUserImages=e.AllowUserImages,this.ShowDefaultImages=e.ShowDefaultImages,this.SetImages=e.SetImages,this.EnforceBackgroundBlur=e.EnforceBackgroundBlur,this.EnforceBackgroundImage=e.EnforceBackgroundImage}return e.prototype.shouldAllowBackgroundBlur=function(){return this.AllowBackgroundBlur},e.prototype.shouldAllowUserImages=function(){return this.AllowUserImages},e.prototype.shouldShowDefaultImages=function(){return this.ShowDefaultImages},e.prototype.getImages=function(){return this.SetImages},e.prototype.isBackgroundBlurEnforced=function(){return this.EnforceBackgroundBlur},e.prototype.getEnforcedBackgroundImage=function(){return this.EnforceBackgroundImage},e}(),K=function(){function e(){this.AllowBackgroundBlur=!0,this.AllowUserImages=!0,this.ShowDefaultImages=!0,this.SetImages=[],this.EnforceBackgroundBlur=0,this.EnforceBackgroundImage=""}return e.prototype.allowBackgroundBlur=function(e){return this.AllowBackgroundBlur=e,this},e.prototype.allowUserImages=function(e){return this.AllowUserImages=e,this},e.prototype.showDefaultImages=function(e){return this.ShowDefaultImages=e,this},e.prototype.setImages=function(e){return this.SetImages=e,this},e.prototype.enforceBackgroundBlur=function(e){return this.EnforceBackgroundBlur=e,this},e.prototype.enforceBackgroundImage=function(e){return this.EnforceBackgroundImage=e,this},e.prototype.build=function(){return new $(this)},e}(),X=function(){function e(){this.videoFit=Q.ASPECT_RATIO_CONTAIN,this.zoomButton=o,this.nameLabel=a,this.network=s}return e.prototype.setMainVideoAspectRatio=function(e){this.videoFit=e},e.prototype.setFullScreenButtonParams=function(e,t){z(e)||(this.zoomButton[c.KEYS.POSITION]=e),null!=t&&null!=t&&(this.zoomButton[c.KEYS.VISIBILITY]=t,this.zoomButton[c.KEYS.LEGACY_VISIBILITY]=t)},e.prototype.setNameLabelParams=function(e,t,n){z(e)||(this.nameLabel[c.KEYS.POSITION]=e),null!=t&&null!=t&&(this.nameLabel[c.KEYS.VISIBILITY]=t,this.nameLabel[c.KEYS.LEGACY_VISIBILITY]=t),z(n)||(this.nameLabel[c.KEYS.COLOR]=n)},e.prototype.setNetworkLabelParams=function(e,t){z(e)||(this.network[c.KEYS.POSITION]=e),null!=t&&null!=t&&(this.network[c.KEYS.VISIBILITY]=t,this.network[c.KEYS.LEGACY_VISIBILITY]=t)},e}(),Y=n(472),ee={screenShareMode:"default",ShowEndCallButton:!0,ShowRecordingButton:!1,idleTimeoutPeriod:180,StartRecordingOnCallStart:!1,ShowMuteAudioButton:!0,ShowPauseVideoButton:!0,ShowScreenShareButton:!0,ShowSwitchToVideoCallButton:!0,defaultLayout:!0,isAudioCall:!1,isAudioOnly:!1,mode:"DEFAULT",StartAudioMuted:!1,StartVideoMuted:!1,ShowSwitchModeButton:!0,ShowVirtualBackgroundSetting:!0,VirtualBackground:{AllowBackgroundBlur:!0,AllowUserImages:!0,ShowDefaultImages:!0,SetImages:[],EnforceBackgroundBlur:0,EnforceBackgroundImage:""},AvatarMode:"circle",MainVideoContainerSetting:{videoFit:"contain",zoomButton:{visible:!0,visibility:!0,position:"bottom-right"},nameLabel:{visible:!0,visibility:!0,position:"bottom-left",color:"rgba(27, 27, 27, 0.4)"},network:{visible:!0,visibility:!0,position:"bottom-right"}},customCSS:"",analyticsSettings:{ANALYTICS_VERSION:"v1",ANALYTICS_HOST:"rtc-staging.cometchat.io",ANALYTICS_PING_DISABLED:!1,ANALYTICS_USE_SSL:!0}},te=function(){function e(e){this.defaultLayout=e.defaultLayout,this.isAudioOnly=e.isAudioOnly,this.isPresenter=e.isPresenter,this.mode="PRESENTER",this.ShowEndCallButton=e.ShowEndCallButton,this.ShowMuteAudioButton=e.ShowMuteAudioButton,this.ShowPauseVideoButton=e.ShowPauseVideoButton,this.ShowScreenShareButton=e.ShowScreenShareButton,this.ShowSwitchModeButton=e.ShowSwitchModeButton,this.StartAudioMuted=e.StartAudioMuted,this.StartVideoMuted=e.StartVideoMuted,this.localizedObject=e.localizedObject,this.analyticsSettings=e.analyticsSettings,this.customCSS=e.customCSS,this.ShowRecordingButton=e.ShowRecordingButton,this.idleTimeoutPeriod=e.idleTimeoutPeriod,this.StartRecordingOnCallStart=e.StartRecordingOnCallStart,this.callListener=e.callListener,this.ShowSwitchToVideoCallButton=e.ShowSwitchToVideoCallButton,this.VirtualBackground=e.virtualBackground,this.ShowVirtualBackgroundSetting=e.ShowVirtualBackgroundSetting,this.MainVideoContainerSetting=e.MainVideoContainerSetting}return e.prototype.getCallListener=function(){return this.callListener},e.prototype.isRecordingButtonEnabled=function(){return this.ShowRecordingButton},e.prototype.getIdleTimeoutPeriod=function(){return this.idleTimeoutPeriod},e.prototype.shouldStartRecordingOnCallStart=function(){return this.StartRecordingOnCallStart},e.prototype.getCustomCSS=function(){return this.customCSS},e.prototype.isAudioOnlyCall=function(){return this.isAudioOnly},e.prototype.getIsPresenter=function(){return this.isPresenter},e.prototype.isDefaultLayoutEnabled=function(){return this.defaultLayout},e.prototype.getMode=function(){return this.mode},e.prototype.getStartWithAudioMuted=function(){return this.StartAudioMuted},e.prototype.getStartWithVideoMuted=function(){return this.StartVideoMuted},e.prototype.isEndCallButtonEnabled=function(){return this.ShowEndCallButton},e.prototype.isMuteAudioButtonEnabled=function(){return this.ShowMuteAudioButton},e.prototype.isPauseVideoButtonEnabled=function(){return this.ShowPauseVideoButton},e.prototype.isScreenShareButtonEnabled=function(){return this.ShowScreenShareButton},e.prototype.isModeButtonEnabled=function(){return this.ShowSwitchModeButton},e.prototype.getLocalizedStringObject=function(){return this.localizedObject},e.prototype.getAnalyticsSettings=function(){return this.analyticsSettings},e.prototype.isAudioToVideoButtonEnabled=function(){return this.ShowSwitchToVideoCallButton},e.prototype.getVirtualBackground=function(){return this.VirtualBackground},e.prototype.isVirtualBackgroundSettingEnabled=function(){return this.ShowVirtualBackgroundSetting},e.prototype.getMainVideoContainerSetting=function(){return this.MainVideoContainerSetting},e.POSITION_TOP_LEFT="top-left",e.POSITION_TOP_RIGHT="top-right",e.POSITION_BOTTOM_LEFT="bottom-left",e.POSITION_BOTTOM_RIGHT="bottom-right",e.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right"},e.ASPECT_RATIO_DEFAULT="default",e.ASPECT_RATIO_CONTAIN="contain",e.ASPECT_RATIO_COVER="cover",e.ASPECT_RATIO={DEFAULT:"default",CONTAIN:"contain",COVER:"cover"},e}(),ne=function(){function e(){this.defaultLayout=!0,this.isAudioOnly=!1,this.isPresenter=!1,this.ShowEndCallButton=!0,this.ShowMuteAudioButton=!0,this.ShowPauseVideoButton=!0,this.ShowScreenShareButton=!0,this.ShowSwitchModeButton=!0,this.StartAudioMuted=!1,this.StartVideoMuted=!1,this.localizedObject={},this.analyticsSettings={},this.ShowRecordingButton=!1,this.StartRecordingOnCallStart=!1,this.ShowSwitchToVideoCallButton=!0,this.virtualBackground=(new K).build(),this.ShowVirtualBackgroundSetting=!0,this.MainVideoContainerSetting=new X}return e.prototype.enableDefaultLayout=function(e){return this.defaultLayout=e,this},e.prototype.setIsAudioOnlyCall=function(e){return this.isAudioOnly=e,this},e.prototype.setIsPresenter=function(e){return this.isPresenter=e,this},e.prototype.showEndCallButton=function(e){return this.ShowEndCallButton=e,this},e.prototype.showMuteAudioButton=function(e){return this.ShowMuteAudioButton=e,this},e.prototype.showPauseVideoButton=function(e){return this.ShowPauseVideoButton=e,this},e.prototype.showScreenShareButton=function(e){return this.ShowScreenShareButton=e,this},e.prototype.showModeButton=function(e){return this.ShowSwitchModeButton=e,this},e.prototype.setLocalizedStringObject=function(e){return this.localizedObject=e,this},e.prototype.setAnalyticsSettings=function(e){return this.analyticsSettings=e,this},e.prototype.startWithAudioMuted=function(e){return this.StartAudioMuted=e,this},e.prototype.startWithVideoMuted=function(e){return this.StartVideoMuted=e,this},e.prototype.showRecordingButton=function(e){return this.ShowRecordingButton=e,this},e.prototype.setIdleTimeoutPeriod=function(e){return this.idleTimeoutPeriod=e,this},e.prototype.startRecordingOnCallStart=function(e){return this.StartRecordingOnCallStart=e,this},e.prototype.showSwitchToVideoCallButton=function(e){return this.ShowSwitchToVideoCallButton=e,this},e.prototype.setVirtualBackground=function(e){return this.virtualBackground=e,this},e.prototype.showVirtualBackgroundSetting=function(e){return this.ShowVirtualBackgroundSetting=e,this},e.prototype.setMainVideoContainerSetting=function(e){return this.MainVideoContainerSetting=e,this},e.prototype.setCallListener=function(e){return this.callListener=e,this},e.prototype.build=function(){return new te(this)},e}(),re=function(e,t){if(null!=e&&"boolean"!=typeof e)throw new E({code:p.code,message:"".concat(t," method must be provided a boolean value.")})},ie=function(e){var t=e.isDefaultLayoutEnabled();re(t,"enableDefaultLayout");var n=e.isAudioOnlyCall();re(n,"setIsAudioOnlyCall");var r=e.isEndCallButtonEnabled();re(r,"showEndCallButton");var i=e.isMuteAudioButtonEnabled();re(i,"showMuteAudioButton");var o=e.isPauseVideoButtonEnabled();re(o,"showPauseVideoButton");var a=e.isScreenShareButtonEnabled();re(a,"showScreenShareButton");var s=e.isModeButtonEnabled();re(s,"showModeButton");var c=e.getStartWithAudioMuted();re(c,"startWithAudioMuted");var l=e.getStartWithVideoMuted();re(l,"startWithVideoMuted");var u=e.isRecordingButtonEnabled();re(u,"showRecordingButton");var d=e.getIdleTimeoutPeriod();if("number"==typeof d&&d<120)throw new E({code:p.code,message:"Minimum value for idleTimeoutPeriod is 120 seconds."});var h=e.shouldStartRecordingOnCallStart();re(h,"startRecordingOnCallStart");var f=e.isAudioToVideoButtonEnabled();re(f,"showSwitchToVideoCallButton");var m=e.isVirtualBackgroundSettingEnabled();re(m,"showVirtualBackgroundSetting")};const oe=JSON.parse('{"UU":"@cometchat/calls-sdk-javascript","rE":"4.2.1"}');var ae=function(){return ae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ae.apply(this,arguments)},se=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},ce=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},le=function(){function t(){}return t.joinPresentation=function(e,n,r){return se(this,void 0,void 0,(function(){return ce(this,(function(i){return function(e){if(!(e instanceof te))throw new E({code:f.code,message:f.message_instance});ie(e)}(n),this.startSessionCore(e,n,r),t.isPresenterMode=!0,[2]}))}))},t.startSession=function(e,t,n){return se(this,void 0,void 0,(function(){return ce(this,(function(r){return function(e){if(!(e instanceof Q))throw new E({code:p.code,message:p.message_instance});ie(e)}(t),this.startSessionCore(e,t,n),[2]}))}))},t.startSessionCore=function(e,n,r){var i,o,a,s,c,l,u,h,p,f,y,_,S,w,C,k,T,x,A,R,I,O,M,N,L,D,j,F,B,U,H,V,z,q,J,G,W,Q,Z,$,K;return se(this,void 0,void 0,(function(){var X,Y,te,ne,re;return ce(this,(function(ie){switch(ie.label){case 0:try{if(!(oe=e,se=oe.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),ce=decodeURIComponent(window.atob(se).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")),JSON.parse(ce)).data.sessionId){if("function"==typeof(null===(i=null==n?void 0:n.getCallListener())||void 0===i?void 0:i.onError))return null===(o=null==n?void 0:n.getCallListener())||void 0===o||o.onError(new E({code:m.code,message:m.message})),[2];throw new E({code:m.code,message:m.message})}}catch(e){if("function"==typeof(null===(a=null==n?void 0:n.getCallListener())||void 0===a?void 0:a.onError))return null===(s=null==n?void 0:n.getCallListener())||void 0===s||s.onError(new E({code:m.code,message:m.message})),[2];throw new E({code:m.code,message:m.message})}return[4,P.verifyToken(e,this.appSettings)];case 1:if(X=ie.sent(),!(null===(c=null==X?void 0:X.data)||void 0===c?void 0:c.data)){if(null===(u=null===(l=null==X?void 0:X.data)||void 0===l?void 0:l.error)||void 0===u?void 0:u.message){if("function"==typeof(null===(h=null==n?void 0:n.getCallListener())||void 0===h?void 0:h.onError))return null===(p=null==n?void 0:n.getCallListener())||void 0===p||p.onError(new E({code:null===(y=null===(f=null==X?void 0:X.data)||void 0===f?void 0:f.error)||void 0===y?void 0:y.code,message:null===(S=null===(_=null==X?void 0:X.data)||void 0===_?void 0:_.error)||void 0===S?void 0:S.message})),[2];throw new E({code:null===(C=null===(w=null==X?void 0:X.data)||void 0===w?void 0:w.error)||void 0===C?void 0:C.code,message:null===(T=null===(k=null==X?void 0:X.data)||void 0===k?void 0:k.error)||void 0===T?void 0:T.message})}if("function"==typeof(null===(x=null==n?void 0:n.getCallListener())||void 0===x?void 0:x.onError))return null===(A=null==n?void 0:n.getCallListener())||void 0===A||A.onError(new E({code:d.code,message:d.message})),[2];throw new E({code:d.code,message:d.message})}if(Y=null===(O=null===(I=null===(R=null==X?void 0:X.data)||void 0===R?void 0:R.data)||void 0===I?void 0:I.payload)||void 0===O?void 0:O.data,te=null===(L=null===(N=null===(M=null==X?void 0:X.data)||void 0===M?void 0:M.data)||void 0===N?void 0:N.settings)||void 0===L?void 0:L.WEBRTC_HOST,"object"!=typeof(ne=ae(ae({},ee),{sessionID:null==Y?void 0:Y.sessionId,user:ae(ae({},null==Y?void 0:Y.user),{jwt:e}),region:null==Y?void 0:Y.region,domain:te,appId:null==Y?void 0:Y.appId})).analyticsSettings&&(ne.analyticsSettings={}),(null===(F=null===(j=null===(D=null==X?void 0:X.data)||void 0===D?void 0:D.data)||void 0===j?void 0:j.settings)||void 0===F?void 0:F.ANALYTICS_HOST)&&(ne.analyticsSettings.ANALYTICS_HOST=X.data.data.settings.ANALYTICS_HOST),(null===(H=null===(U=null===(B=null==X?void 0:X.data)||void 0===B?void 0:B.data)||void 0===U?void 0:U.settings)||void 0===H?void 0:H.ANALYTICS_VERSION)&&(ne.analyticsSettings.ANALYTICS_VERSION=X.data.data.settings.ANALYTICS_VERSION),t.isPresenterMode){if(!0!==(null===(q=null===(z=null===(V=null==X?void 0:X.data)||void 0===V?void 0:V.data)||void 0===z?void 0:z.settings)||void 0===q?void 0:q.PRESENTER_MODE_ENABLED)){if(re=new E({code:v.code,message:v.message}),null===(J=null==b?void 0:b.callHandlers)||void 0===J||J.map((function(e){var t;null===(t=null==e?void 0:e.onError)||void 0===t||t.call(e,re)})),"function"==typeof(null===(G=null==n?void 0:n.getCallListener())||void 0===G?void 0:G.onError))return null===(W=null==n?void 0:n.getCallListener())||void 0===W||W.onError(re),[2];throw new E({code:null===(Z=null===(Q=null==X?void 0:X.data)||void 0===Q?void 0:Q.error)||void 0===Z?void 0:Z.code,message:null===(K=null===($=null==X?void 0:X.data)||void 0===$?void 0:$.error)||void 0===K?void 0:K.message})}t.startTheSession({htmlElement:r,callSettings:n,callSettingsObj:ne})}else t.startTheSession({htmlElement:r,callSettings:n,callSettingsObj:ne});return n.getCallListener()instanceof g&&(this.callEventListener=n.getCallListener()),[2]}var oe,se,ce}))}))},t.startTheSession=function(e){var t=this,n=e.htmlElement,r=e.callSettings,i=e.callSettingsObj;(0,Y.startSession)({htmlElement:n,triggerEvent:function(e,n){var i,o,a,s,c,l,u,d,h,p,f,m,v,g,y,_,S,w,E,C,k,T,x,A,R,I,O,P,M,N,L,D,j,F,B,U,H,V,z,q,J,G,W,Q,Z,$,K,X,Y,ee,te,ne,re,ie,oe,ae,se,ce,le,ue,de,he,pe,fe,me,ve,ge;switch(e){case"onUserJoined":null===(i=null==b?void 0:b.callHandlers)||void 0===i||i.map((function(e){var t;null===(t=null==e?void 0:e.onUserJoined)||void 0===t||t.call(e,n)})),null===(a=null===(o=r.getCallListener())||void 0===o?void 0:o.onUserJoined)||void 0===a||a.call(o,n);break;case"onUserLeft":null===(s=null==b?void 0:b.callHandlers)||void 0===s||s.map((function(e){var t;null===(t=null==e?void 0:e.onUserLeft)||void 0===t||t.call(e,n)})),null===(l=null===(c=r.getCallListener())||void 0===c?void 0:c.onUserLeft)||void 0===l||l.call(c,n);break;case"onUserListChanged":null===(u=null==b?void 0:b.callHandlers)||void 0===u||u.map((function(e){var t;null===(t=null==e?void 0:e.onUserListUpdated)||void 0===t||t.call(e,n)})),null===(h=null===(d=r.getCallListener())||void 0===d?void 0:d.onUserListUpdated)||void 0===h||h.call(d,n);break;case"SCREEN_SHARE_STARTED":null===(p=null==b?void 0:b.callHandlers)||void 0===p||p.map((function(e){var t;null===(t=null==e?void 0:e.onScreenShareStarted)||void 0===t||t.call(e)})),null===(m=null===(f=r.getCallListener())||void 0===f?void 0:f.onScreenShareStarted)||void 0===m||m.call(f);break;case"SCREEN_SHARE_ENDED":null===(v=null==b?void 0:b.callHandlers)||void 0===v||v.map((function(e){var t;null===(t=null==e?void 0:e.onScreenShareStopped)||void 0===t||t.call(e)})),null===(y=null===(g=r.getCallListener())||void 0===g?void 0:g.onScreenShareStopped)||void 0===y||y.call(g);break;case"hangup":null===(_=null==b?void 0:b.callHandlers)||void 0===_||_.map((function(e){var t;null===(t=null==e?void 0:e.onCallEnded)||void 0===t||t.call(e)})),null===(w=null===(S=r.getCallListener())||void 0===S?void 0:S.onCallEnded)||void 0===w||w.call(S),b&&(b.callHandlers=[]);break;case"onSessionTimeout":null===(E=null==b?void 0:b.callHandlers)||void 0===E||E.map((function(e){var t;null===(t=null==e?void 0:e.onSessionTimeout)||void 0===t||t.call(e)})),null===(k=null===(C=r.getCallListener())||void 0===C?void 0:C.onSessionTimeout)||void 0===k||k.call(C),b&&(b.callHandlers=[]);break;case"onCallEndButtonPressed":null===(T=null==b?void 0:b.callHandlers)||void 0===T||T.map((function(e){var t;null===(t=null==e?void 0:e.onCallEndButtonPressed)||void 0===t||t.call(e)})),null===(A=null===(x=r.getCallListener())||void 0===x?void 0:x.onCallEndButtonPressed)||void 0===A||A.call(x),b&&(b.callHandlers=[]);break;case"initialDeviceList":case"onDeviceChange":t.deviceList=n,t.debounceDeviceChange&&clearTimeout(t.debounceDeviceChange),t.debounceDeviceChange=setTimeout((function(){var e,t,i;null===(e=null==b?void 0:b.callHandlers)||void 0===e||e.map((function(e){var t;null===(t=null==e?void 0:e.onMediaDeviceListUpdated)||void 0===t||t.call(e,n)})),null===(i=null===(t=r.getCallListener())||void 0===t?void 0:t.onMediaDeviceListUpdated)||void 0===i||i.call(t,n)}),500);break;case"onUserUnMuted":null===(R=null==b?void 0:b.callHandlers)||void 0===R||R.map((function(e){var t;null===(t=null==e?void 0:e.onUserUnMuted)||void 0===t||t.call(e,n)})),null===(O=null===(I=r.getCallListener())||void 0===I?void 0:I.onUserUnMuted)||void 0===O||O.call(I,n);break;case"onRecordingToggled":!0===n.recordingStarted?(null===(P=null==b?void 0:b.callHandlers)||void 0===P||P.map((function(e){var t;null===(t=null==e?void 0:e.onRecordingStarted)||void 0===t||t.call(e,n)})),null===(N=null===(M=r.getCallListener())||void 0===M?void 0:M.onRecordingStarted)||void 0===N||N.call(M,n)):!1===n.recordingStarted&&(null===(L=null==b?void 0:b.callHandlers)||void 0===L||L.map((function(e){var t;null===(t=null==e?void 0:e.onRecordingStopped)||void 0===t||t.call(e)})),null===(j=null===(D=r.getCallListener())||void 0===D?void 0:D.onRecordingStopped)||void 0===j||j.call(D));break;case"onUserMuted":null===(F=null==n?void 0:n.muted)||void 0===F||delete F.status,null===(B=null==n?void 0:n.muted)||void 0===B||delete B.showVideo,null===(U=null==n?void 0:n.muted)||void 0===U||delete U.isLocalUser,null===(H=null==n?void 0:n.muted)||void 0===H||delete H.audioTrack,null===(V=null==n?void 0:n.muted)||void 0===V||delete V.id,null===(z=null==n?void 0:n.muted)||void 0===z||delete z.videoTrack,null===(q=null==n?void 0:n.muted)||void 0===q||delete q.stats,null===(J=null==n?void 0:n.mutedBy)||void 0===J||delete J.status,null===(G=null==n?void 0:n.mutedBy)||void 0===G||delete G.showVideo,null===(W=null==n?void 0:n.mutedBy)||void 0===W||delete W.isLocalUser,null===(Q=null==n?void 0:n.mutedBy)||void 0===Q||delete Q.audioTrack,null===(Z=null==n?void 0:n.mutedBy)||void 0===Z||delete Z.id,null===($=null==n?void 0:n.mutedBy)||void 0===$||delete $.videoTrack,null===(K=null==n?void 0:n.mutedBy)||void 0===K||delete K.stats,null===(X=null==b?void 0:b.callHandlers)||void 0===X||X.map((function(e){var t;null===(t=null==e?void 0:e.onUserMuted)||void 0===t||t.call(e,n)})),null===(ee=null===(Y=r.getCallListener())||void 0===Y?void 0:Y.onUserMuted)||void 0===ee||ee.call(Y,n);break;case"onCallSwitchedToVideo":null===(te=null==n?void 0:n.initiator)||void 0===te||delete te.status,null===(ne=null==n?void 0:n.initiator)||void 0===ne||delete ne.showVideo,null===(re=null==n?void 0:n.initiator)||void 0===re||delete re.isLocalUser,null===(ie=null==n?void 0:n.initiator)||void 0===ie||delete ie.audioTrack,null===(oe=null==n?void 0:n.initiator)||void 0===oe||delete oe.id,null===(ae=null==n?void 0:n.initiator)||void 0===ae||delete ae.videoTrack,null===(se=null==n?void 0:n.initiator)||void 0===se||delete se.stats,null===(ce=null==n?void 0:n.responder)||void 0===ce||delete ce.status,null===(le=null==n?void 0:n.responder)||void 0===le||delete le.showVideo,null===(ue=null==n?void 0:n.responder)||void 0===ue||delete ue.isLocalUser,null===(de=null==n?void 0:n.responder)||void 0===de||delete de.audioTrack,null===(he=null==n?void 0:n.responder)||void 0===he||delete he.id,null===(pe=null==n?void 0:n.responder)||void 0===pe||delete pe.videoTrack,null===(fe=null==n?void 0:n.responder)||void 0===fe||delete fe.stats,null===(me=null==b?void 0:b.callHandlers)||void 0===me||me.map((function(e){var t;null===(t=null==e?void 0:e.onCallSwitchedToVideo)||void 0===t||t.call(e,n)})),null===(ge=null===(ve=r.getCallListener())||void 0===ve?void 0:ve.onCallSwitchedToVideo)||void 0===ge||ge.call(ve,n)}},callsettings:J(i,r)})},t.generateToken=function(e,t){var n,r,i,o,a,s,c;return se(this,void 0,void 0,(function(){var l;return ce(this,(function(h){switch(h.label){case 0:return[4,G(this.appSettings)];case 1:if(h.sent(),"string"!=typeof t)throw new E({code:u.code,message:"Argument authToken is missing or invalid, a valid authentication token as a string is required to proceed."});if("string"!=typeof e)throw new E({code:u.code,message:"Argument sessionID is missing or invalid, a valid session identifier as a string is required to proceed."});return[4,P.generateToken(t,e,this.appSettings)];case 2:if(l=h.sent(),!(null===(n=null==l?void 0:l.data)||void 0===n?void 0:n.data)){if(null===(i=null===(r=null==l?void 0:l.data)||void 0===r?void 0:r.error)||void 0===i?void 0:i.message)throw new E({code:null===(a=null===(o=null==l?void 0:l.data)||void 0===o?void 0:o.error)||void 0===a?void 0:a.code,message:null===(c=null===(s=null==l?void 0:l.data)||void 0===s?void 0:s.error)||void 0===c?void 0:c.message});throw new E({code:d.code,message:d.message})}return[2,l.data.data]}}))}))},t.init=function(e){return se(this,void 0,void 0,(function(){return ce(this,(function(t){switch(t.label){case 0:return[4,G(e)];case 1:return t.sent(),window.getCometChatCallSDKInfo=function(){return{name:oe.UU,version:oe.rE}},this.appSettings=e,P.setAppSettings(e),[2]}}))}))},t.getRef=function(){var e,t,n;return null===(n=null===(t=null===(e=(0,Y.getAppRef)())||void 0===e?void 0:e.current)||void 0===t?void 0:t.getCallingComponentRef())||void 0===n?void 0:n.current},t.pauseVideo=function(e){var t,n;void 0===e&&(e=!0);try{e?null===(t=this.getRef())||void 0===t||t.pauseVideo():null===(n=this.getRef())||void 0===n||n.unPauseVideo()}catch(e){W(this.callEventListener.onError,e)}},t.unPauseVideo=function(){this.resumeVideo()},t.resumeVideo=function(){var e;try{null===(e=this.getRef())||void 0===e||e.unPauseVideo()}catch(e){W(this.callEventListener.onError,e)}},t.setMode=function(e){var t;try{null===(t=this.getRef())||void 0===t||t.changeMode(e)}catch(e){W(this.callEventListener.onError,e)}},t.muteAudio=function(e){var t,n;void 0===e&&(e=!0);try{e?null===(t=this.getRef())||void 0===t||t.muteAudio():null===(n=this.getRef())||void 0===n||n.unMuteAudio()}catch(e){W(this.callEventListener.onError,e)}},t.unMuteAudio=function(){var e;try{null===(e=this.getRef())||void 0===e||e.unMuteAudio()}catch(e){W(this.callEventListener.onError,e)}},t.startScreenShare=function(){var e;try{null===(e=this.getRef())||void 0===e||e.createScreenShareTrack()}catch(e){W(this.callEventListener.onError,e)}},t.stopScreenShare=function(){var e;try{null===(e=this.getRef())||void 0===e||e.stopScreenShare()}catch(e){W(this.callEventListener.onError,e)}},t.endSession=function(){var e;try{null===(e=this.getRef())||void 0===e||e.onEndCallButtonCLicked()}catch(e){W(this.callEventListener.onError,e)}},t.switchCamera=function(){var e;try{null===(e=this.getRef())||void 0===e||e.toggleCamera()}catch(e){W(this.callEventListener.onError,e)}},t.startRecording=function(){var e;try{null===(e=this.getRef())||void 0===e||e.startRecording()}catch(e){W(this.callEventListener.onError,e)}},t.stopRecording=function(){var e;try{null===(e=this.getRef())||void 0===e||e.stopRecording()}catch(e){W(this.callEventListener.onError,e)}},t.switchToVideoCall=function(){var e;try{null===(e=this.getRef())||void 0===e||e.toggleVideoButton(!0)}catch(e){W(this.callEventListener.onError,e)}},t.openVirtualBackground=function(){var e;try{null===(e=this.getRef())||void 0===e||e.setIsBackgroundModalVisible(!0)}catch(e){W(this.callEventListener.onError,e)}},t.closeVirtualBackground=function(){var e;try{null===(e=this.getRef())||void 0===e||e.setIsBackgroundModalVisible(!1)}catch(e){W(this.callEventListener.onError,e)}},t.setBackgroundBlur=function(e){var t;try{null===(t=this.getRef())||void 0===t||t.setBackgroundBlur(e)}catch(e){W(this.callEventListener.onError,e)}},t.setBackgroundImage=function(e){var t;try{null===(t=this.getRef())||void 0===t||t.setBackgroundImage(e)}catch(e){W(this.callEventListener.onError,e)}},t.getAudioInputDevices=function(){try{return"audioInputDevices"in this.deviceList?this.deviceList.audioInputDevices.filter((function(e){return"audioinput"===e.kind})):[]}catch(e){W(this.callEventListener.onError,e)}},t.getAudioOutputDevices=function(){try{return"audioOutputDevices"in this.deviceList?this.deviceList.audioOutputDevices.filter((function(e){return"audiooutput"===e.kind})):[]}catch(e){W(this.callEventListener.onError,e)}},t.getVideoInputDevices=function(){try{return"videoInputDevices"in this.deviceList?this.deviceList.videoInputDevices.filter((function(e){return"videoinput"===e.kind})):[]}catch(e){W(this.callEventListener.onError,e)}},t.setAudioInputDevice=function(e){var t,n;try{if("string"==typeof e&&""!==e){var r=this.deviceList.audioInputDevices.find((function(t){return t.deviceId===e}));"deviceId"in r&&(null===(n=null===(t=this.getRef())||void 0===t?void 0:t.changeAudioSourceClicked)||void 0===n||n.call(t,r.deviceId))}}catch(e){W(this.callEventListener.onError,e)}},t.setAudioOutputDevice=function(e){var t,n;try{if("string"==typeof e&&""!==e){var r=this.deviceList.audioOutputDevices.find((function(t){return t.deviceId===e}));"deviceId"in r&&(null===(n=null===(t=this.getRef())||void 0===t?void 0:t.changeAudioOutputDeviceClicked)||void 0===n||n.call(t,r.deviceId))}}catch(e){W(this.callEventListener.onError,e)}},t.setVideoInputDevice=function(e){var t,n;try{if("string"==typeof e&&""!==e){var r=this.deviceList.videoInputDevices.find((function(t){return t.deviceId===e}));"deviceId"in r&&(null===(n=null===(t=this.getRef())||void 0===t?void 0:t.changeVideoSourceClicked)||void 0===n||n.call(t,r.deviceId))}}catch(e){W(this.callEventListener.onError,e)}},t.getCallDetails=function(e,t){var n=this;return new Promise((function(r,i){return se(n,void 0,void 0,(function(){var n,o,a,s,c;return ce(this,(function(l){switch(l.label){case 0:if(l.trys.push([0,5,,6]),this.inProgress)return i(new E({code:"REQUEST_IN_PROGRESS",name:"REQUEST_IN_PROGRESS",message:"Request in progress.",details:{}})),this.inProgress=!1,[2];if(this.inProgress=!0,!t)return this.inProgress=!1,i(new E({code:"NOT_ENOUGH_PARAMETERS",message:"`Auth Token` is required to use the 'fetchNext()' method."})),[2];if(!e)return this.inProgress=!1,i(new E({code:"NOT_ENOUGH_PARAMETERS",message:"`Session ID` is required to use the 'fetchNext()' method."})),[2];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,P.getCallDetails(e,t)];case 2:return n=l.sent(),(null===(s=null==n?void 0:n.data)||void 0===s?void 0:s.error)?(this.inProgress=!1,i(new E(n.data.error)),[2]):(o=((null===(c=null==n?void 0:n.data)||void 0===c?void 0:c.data)||[]).map((function(e){return j.callLogFromJson(e)})),r(o),this.inProgress=!1,[3,4]);case 3:return a=l.sent(),this.inProgress=!1,i(new E(a)),[3,4];case 4:return[3,6];case 5:return l.sent(),this.inProgress=!1,i(new E({code:"UNKNOWN ERROR",message:"Unknown error"})),[3,6];case 6:return[2]}}))}))}))},t.inProgress=!1,t.debounceDeviceChange=null,t.deviceList={audioInputDevices:[],audioOutputDevices:[],videoInputDevices:[]},t.CALL_MODE=e,t.MODE=e,t.addCallEventListener=b.addCallEventListener,t.removeCallEventListener=b.removeCallEventListener,t.OngoingCallListener=g,t.CallSettingsBuilder=Z,t.CallSettings=Q,t.PresenterSettingsBuilder=ne,t.PresenterSettings=te,t.CallAppSettingsBuilder=w,t.CallAppSettings=S,t.MainVideoContainerSetting=X,t.CallLogRequestBuilder=H,t.CallLog=j,t.CallUser=N,t.CallGroup=M,t.Participant=L,t.Recording=D,t.isPresenterMode=!1,t}()})(),r})()));